function C8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Gd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ck={exports:{}},z1={},fk={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),T8=Symbol.for("react.portal"),R8=Symbol.for("react.fragment"),P8=Symbol.for("react.strict_mode"),I8=Symbol.for("react.profiler"),B8=Symbol.for("react.provider"),D8=Symbol.for("react.context"),L8=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),F8=Symbol.for("react.memo"),O8=Symbol.for("react.lazy"),F3=Symbol.iterator;function N8(t){return t===null||typeof t!="object"?null:(t=F3&&t[F3]||t["@@iterator"],typeof t=="function"?t:null)}var dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hk=Object.assign,pk={};function Hd(t,e,n){this.props=t,this.context=e,this.refs=pk,this.updater=n||dk}Hd.prototype.isReactComponent={};Hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mk(){}mk.prototype=Hd.prototype;function $M(t,e,n){this.props=t,this.context=e,this.refs=pk,this.updater=n||dk}var JM=$M.prototype=new mk;JM.constructor=$M;hk(JM,Hd.prototype);JM.isPureReactComponent=!0;var O3=Array.isArray,gk=Object.prototype.hasOwnProperty,XM={current:null},vk={key:!0,ref:!0,__self:!0,__source:!0};function yk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gk.call(e,r)&&!vk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vm,type:t,key:s,ref:o,props:i,_owner:XM.current}}function U8(t,e){return{$$typeof:Vm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function KM(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vm}function z8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var N3=/\/+/g;function Y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z8(""+t.key):e.toString(36)}function Kv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vm:case T8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Y_(o,0):r,O3(i)?(n="",t!=null&&(n=t.replace(N3,"$&/")+"/"),Kv(i,e,n,"",function(u){return u})):i!=null&&(KM(i)&&(i=U8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N3,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",O3(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Y_(s,a);o+=Kv(s,e,n,l,i)}else if(l=N8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Y_(s,a++),o+=Kv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function S0(t,e,n){if(t==null)return t;var r=[],i=0;return Kv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function G8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ei={current:null},Yv={transition:null},H8={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:XM};qt.Children={map:S0,forEach:function(t,e,n){S0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return S0(t,function(){e++}),e},toArray:function(t){return S0(t,function(e){return e})||[]},only:function(t){if(!KM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=Hd;qt.Fragment=R8;qt.Profiler=I8;qt.PureComponent=$M;qt.StrictMode=P8;qt.Suspense=k8;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H8;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=XM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gk.call(e,l)&&!vk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vm,type:t.type,key:i,ref:s,props:r,_owner:o}};qt.createContext=function(t){return t={$$typeof:D8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B8,_context:t},t.Consumer=t};qt.createElement=yk;qt.createFactory=function(t){var e=yk.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:L8,render:t}};qt.isValidElement=KM;qt.lazy=function(t){return{$$typeof:O8,_payload:{_status:-1,_result:t},_init:G8}};qt.memo=function(t,e){return{$$typeof:F8,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=Yv.transition;Yv.transition={};try{t()}finally{Yv.transition=e}};qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qt.useCallback=function(t,e){return Ei.current.useCallback(t,e)};qt.useContext=function(t){return Ei.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return Ei.current.useDeferredValue(t)};qt.useEffect=function(t,e){return Ei.current.useEffect(t,e)};qt.useId=function(){return Ei.current.useId()};qt.useImperativeHandle=function(t,e,n){return Ei.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return Ei.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return Ei.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return Ei.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return Ei.current.useReducer(t,e,n)};qt.useRef=function(t){return Ei.current.useRef(t)};qt.useState=function(t){return Ei.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return Ei.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return Ei.current.useTransition()};qt.version="18.2.0";fk.exports=qt;var I=fk.exports;const ae=Gd(I),V8=C8({__proto__:null,default:ae},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8=I,j8=Symbol.for("react.element"),$8=Symbol.for("react.fragment"),J8=Object.prototype.hasOwnProperty,X8=W8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K8={key:!0,ref:!0,__self:!0,__source:!0};function xk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J8.call(e,r)&&!K8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j8,type:t,key:s,ref:o,props:i,_owner:X8.current}}z1.Fragment=$8;z1.jsx=xk;z1.jsxs=xk;ck.exports=z1;var De=ck.exports,_k={exports:{}},fs={},wk={exports:{}},Sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,j){var W=H.length;H.push(j);e:for(;0<W;){var G=W-1>>>1,z=H[G];if(0<i(z,j))H[G]=j,H[W]=z,W=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],W=H.pop();if(W!==j){H[0]=W;e:for(var G=0,z=H.length,X=z>>>1;G<X;){var ne=2*(G+1)-1,ee=H[ne],Y=ne+1,ue=H[Y];if(0>i(ee,W))Y<z&&0>i(ue,ee)?(H[G]=ue,H[Y]=W,G=Y):(H[G]=ee,H[ne]=W,G=ne);else if(Y<z&&0>i(ue,W))H[G]=ue,H[Y]=W,G=Y;else break e}}return j}function i(H,j){var W=H.sortIndex-j.sortIndex;return W!==0?W:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=H)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function A(H){if(v=!1,w(H),!g)if(n(l)!==null)g=!0,$(M);else{var j=n(u);j!==null&&ie(A,j.startTime-H)}}function M(H,j){g=!1,v&&(v=!1,x(E),E=-1),m=!0;var W=d;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||H&&!N());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var z=G(f.expirationTime<=j);j=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var ne=n(u);ne!==null&&ie(A,ne.startTime-j),X=!1}return X}finally{f=null,d=W,m=!1}}var C=!1,T=null,E=-1,P=5,B=-1;function N(){return!(t.unstable_now()-B<P)}function F(){if(T!==null){var H=t.unstable_now();B=H;var j=!0;try{j=T(!0,H)}finally{j?U():(C=!1,T=null)}}else C=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,J=O.port2;O.port1.onmessage=F,U=function(){J.postMessage(null)}}else U=function(){y(F,0)};function $(H){T=H,C||(C=!0,U())}function ie(H,j){E=y(function(){H(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var W=d;d=j;try{return H()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=d;d=H;try{return j()}finally{d=W}},t.unstable_scheduleCallback=function(H,j,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,H={id:c++,callback:j,priorityLevel:H,startTime:W,expirationTime:z,sortIndex:-1},W>G?(H.sortIndex=W,e(u,H),n(l)===null&&H===n(u)&&(v?(x(E),E=-1):v=!0,ie(A,W-G))):(H.sortIndex=z,e(l,H),g||m||(g=!0,$(M))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var j=d;return function(){var W=d;d=j;try{return H.apply(this,arguments)}finally{d=W}}}})(Sk);wk.exports=Sk;var Y8=wk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=I,os=Y8;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,Zp={};function Dc(t,e){gd(t,e),gd(t+"Capture",e)}function gd(t,e){for(Zp[t]=e,t=0;t<e.length;t++)bk.add(e[t])}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tA=Object.prototype.hasOwnProperty,Q8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U3={},z3={};function Z8(t){return tA.call(z3,t)?!0:tA.call(U3,t)?!1:Q8.test(t)?z3[t]=!0:(U3[t]=!0,!1)}function q8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eH(t,e,n,r){if(e===null||typeof e>"u"||q8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$r[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$r[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$r[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$r[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$r[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$r[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$r[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$r[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$r[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var YM=/[\-:]([a-z])/g;function QM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YM,QM);$r[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YM,QM);$r[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YM,QM);$r[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$r[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});$r.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$r[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZM(t,e,n,r){var i=$r.hasOwnProperty(e)?$r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eH(e,n,i,r)&&(n=null),r||i===null?Z8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Va=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A0=Symbol.for("react.element"),kf=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),qM=Symbol.for("react.strict_mode"),nA=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),iA=Symbol.for("react.suspense_list"),tE=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),Ck=Symbol.for("react.offscreen"),G3=Symbol.iterator;function Dh(t){return t===null||typeof t!="object"?null:(t=G3&&t[G3]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Object.assign,Q_;function mp(t){if(Q_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Q_=e&&e[1]||""}return`
`+Q_+t}var Z_=!1;function q_(t,e){if(!t||Z_)return"";Z_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Z_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mp(t):""}function tH(t){switch(t.tag){case 5:return mp(t.type);case 16:return mp("Lazy");case 13:return mp("Suspense");case 19:return mp("SuspenseList");case 0:case 2:case 15:return t=q_(t.type,!1),t;case 11:return t=q_(t.type.render,!1),t;case 1:return t=q_(t.type,!0),t;default:return""}}function sA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ff:return"Fragment";case kf:return"Portal";case nA:return"Profiler";case qM:return"StrictMode";case rA:return"Suspense";case iA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ek:return(t.displayName||"Context")+".Consumer";case Mk:return(t._context.displayName||"Context")+".Provider";case eE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tE:return e=t.displayName||null,e!==null?e:sA(t.type)||"Memo";case gl:e=t._payload,t=t._init;try{return sA(t(e))}catch{}}return null}function nH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sA(e);case 8:return e===qM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rH(t){var e=Tk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function b0(t){t._valueTracker||(t._valueTracker=rH(t))}function Rk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oA(t,e){var n=e.checked;return Qn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function H3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ul(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pk(t,e){e=e.checked,e!=null&&ZM(t,"checked",e,!1)}function aA(t,e){Pk(t,e);var n=Ul(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lA(t,e.type,n):e.hasOwnProperty("defaultValue")&&lA(t,e.type,Ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function V3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lA(t,e,n){(e!=="number"||Ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gp=Array.isArray;function rd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ul(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return Qn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(et(92));if(gp(n)){if(1<n.length)throw Error(et(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ul(n)}}function Ik(t,e){var n=Ul(e.value),r=Ul(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var M0,Dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(M0=M0||document.createElement("div"),M0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=M0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iH=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(t){iH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mp[e]=Mp[t]})});function Lk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mp.hasOwnProperty(t)&&Mp[t]?(""+e).trim():e+"px"}function kk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sH=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fA(t,e){if(e){if(sH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function dA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hA=null;function nE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pA=null,id=null,sd=null;function $3(t){if(t=$m(t)){if(typeof pA!="function")throw Error(et(280));var e=t.stateNode;e&&(e=j1(e),pA(t.stateNode,t.type,e))}}function Fk(t){id?sd?sd.push(t):sd=[t]:id=t}function Ok(){if(id){var t=id,e=sd;if(sd=id=null,$3(t),e)for(t=0;t<e.length;t++)$3(e[t])}}function Nk(t,e){return t(e)}function Uk(){}var ew=!1;function zk(t,e,n){if(ew)return t(e,n);ew=!0;try{return Nk(t,e,n)}finally{ew=!1,(id!==null||sd!==null)&&(Uk(),Ok())}}function em(t,e){var n=t.stateNode;if(n===null)return null;var r=j1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(et(231,e,typeof n));return n}var mA=!1;if(Ia)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){mA=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{mA=!1}function oH(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ep=!1,Py=null,Iy=!1,gA=null,aH={onError:function(t){Ep=!0,Py=t}};function lH(t,e,n,r,i,s,o,a,l){Ep=!1,Py=null,oH.apply(aH,arguments)}function uH(t,e,n,r,i,s,o,a,l){if(lH.apply(this,arguments),Ep){if(Ep){var u=Py;Ep=!1,Py=null}else throw Error(et(198));Iy||(Iy=!0,gA=u)}}function Lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J3(t){if(Lc(t)!==t)throw Error(et(188))}function cH(t){var e=t.alternate;if(!e){if(e=Lc(t),e===null)throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return J3(i),t;if(s===r)return J3(i),e;s=s.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?t:e}function Hk(t){return t=cH(t),t!==null?Vk(t):null}function Vk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vk(t);if(e!==null)return e;t=t.sibling}return null}var Wk=os.unstable_scheduleCallback,X3=os.unstable_cancelCallback,fH=os.unstable_shouldYield,dH=os.unstable_requestPaint,lr=os.unstable_now,hH=os.unstable_getCurrentPriorityLevel,rE=os.unstable_ImmediatePriority,jk=os.unstable_UserBlockingPriority,By=os.unstable_NormalPriority,pH=os.unstable_LowPriority,$k=os.unstable_IdlePriority,G1=null,Fo=null;function mH(t){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(G1,t,void 0,(t.current.flags&128)===128)}catch{}}var so=Math.clz32?Math.clz32:yH,gH=Math.log,vH=Math.LN2;function yH(t){return t>>>=0,t===0?32:31-(gH(t)/vH|0)|0}var E0=64,C0=4194304;function vp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vp(a):(s&=o,s!==0&&(r=vp(s)))}else o=n&~i,o!==0?r=vp(o):s!==0&&(r=vp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-so(e),i=1<<n,r|=t[n],e&=~i;return r}function xH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _H(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-so(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=xH(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function vA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jk(){var t=E0;return E0<<=1,!(E0&4194240)&&(E0=64),t}function tw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-so(e),t[e]=n}function wH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-so(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-so(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gn=0;function Xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kk,sE,Yk,Qk,Zk,yA=!1,T0=[],Cl=null,Tl=null,Rl=null,tm=new Map,nm=new Map,_l=[],SH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K3(t,e){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":tm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nm.delete(e.pointerId)}}function kh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$m(e),e!==null&&sE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AH(t,e,n,r,i){switch(e){case"focusin":return Cl=kh(Cl,t,e,n,r,i),!0;case"dragenter":return Tl=kh(Tl,t,e,n,r,i),!0;case"mouseover":return Rl=kh(Rl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return tm.set(s,kh(tm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nm.set(s,kh(nm.get(s)||null,t,e,n,r,i)),!0}return!1}function qk(t){var e=Vu(t.target);if(e!==null){var n=Lc(e);if(n!==null){if(e=n.tag,e===13){if(e=Gk(n),e!==null){t.blockedOn=e,Zk(t.priority,function(){Yk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hA=r,n.target.dispatchEvent(r),hA=null}else return e=$m(n),e!==null&&sE(e),t.blockedOn=n,!1;e.shift()}return!0}function Y3(t,e,n){Qv(t)&&n.delete(e)}function bH(){yA=!1,Cl!==null&&Qv(Cl)&&(Cl=null),Tl!==null&&Qv(Tl)&&(Tl=null),Rl!==null&&Qv(Rl)&&(Rl=null),tm.forEach(Y3),nm.forEach(Y3)}function Fh(t,e){t.blockedOn===e&&(t.blockedOn=null,yA||(yA=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,bH)))}function rm(t){function e(i){return Fh(i,t)}if(0<T0.length){Fh(T0[0],t);for(var n=1;n<T0.length;n++){var r=T0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cl!==null&&Fh(Cl,t),Tl!==null&&Fh(Tl,t),Rl!==null&&Fh(Rl,t),tm.forEach(e),nm.forEach(e),n=0;n<_l.length;n++)r=_l[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_l.length&&(n=_l[0],n.blockedOn===null);)qk(n),n.blockedOn===null&&_l.shift()}var od=Va.ReactCurrentBatchConfig,Ly=!0;function MH(t,e,n,r){var i=gn,s=od.transition;od.transition=null;try{gn=1,oE(t,e,n,r)}finally{gn=i,od.transition=s}}function EH(t,e,n,r){var i=gn,s=od.transition;od.transition=null;try{gn=4,oE(t,e,n,r)}finally{gn=i,od.transition=s}}function oE(t,e,n,r){if(Ly){var i=xA(t,e,n,r);if(i===null)fw(t,e,r,ky,n),K3(t,r);else if(AH(i,t,e,n,r))r.stopPropagation();else if(K3(t,r),e&4&&-1<SH.indexOf(t)){for(;i!==null;){var s=$m(i);if(s!==null&&Kk(s),s=xA(t,e,n,r),s===null&&fw(t,e,r,ky,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fw(t,e,r,null,n)}}var ky=null;function xA(t,e,n,r){if(ky=null,t=nE(r),t=Vu(t),t!==null)if(e=Lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ky=t,null}function eF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hH()){case rE:return 1;case jk:return 4;case By:case pH:return 16;case $k:return 536870912;default:return 16}default:return 16}}var Sl=null,aE=null,Zv=null;function tF(){if(Zv)return Zv;var t,e=aE,n=e.length,r,i="value"in Sl?Sl.value:Sl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zv=i.slice(t,1<r?1-r:void 0)}function qv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function R0(){return!0}function Q3(){return!1}function ds(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?R0:Q3,this.isPropagationStopped=Q3,this}return Qn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=R0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=R0)},persist:function(){},isPersistent:R0}),e}var Vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lE=ds(Vd),jm=Qn({},Vd,{view:0,detail:0}),CH=ds(jm),nw,rw,Oh,H1=Qn({},jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oh&&(Oh&&t.type==="mousemove"?(nw=t.screenX-Oh.screenX,rw=t.screenY-Oh.screenY):rw=nw=0,Oh=t),nw)},movementY:function(t){return"movementY"in t?t.movementY:rw}}),Z3=ds(H1),TH=Qn({},H1,{dataTransfer:0}),RH=ds(TH),PH=Qn({},jm,{relatedTarget:0}),iw=ds(PH),IH=Qn({},Vd,{animationName:0,elapsedTime:0,pseudoElement:0}),BH=ds(IH),DH=Qn({},Vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LH=ds(DH),kH=Qn({},Vd,{data:0}),q3=ds(kH),FH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NH[t])?!!e[t]:!1}function uE(){return UH}var zH=Qn({},jm,{key:function(t){if(t.key){var e=FH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uE,charCode:function(t){return t.type==="keypress"?qv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GH=ds(zH),HH=Qn({},H1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eR=ds(HH),VH=Qn({},jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uE}),WH=ds(VH),jH=Qn({},Vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),$H=ds(jH),JH=Qn({},H1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XH=ds(JH),KH=[9,13,27,32],cE=Ia&&"CompositionEvent"in window,Cp=null;Ia&&"documentMode"in document&&(Cp=document.documentMode);var YH=Ia&&"TextEvent"in window&&!Cp,nF=Ia&&(!cE||Cp&&8<Cp&&11>=Cp),tR=" ",nR=!1;function rF(t,e){switch(t){case"keyup":return KH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Of=!1;function QH(t,e){switch(t){case"compositionend":return iF(e);case"keypress":return e.which!==32?null:(nR=!0,tR);case"textInput":return t=e.data,t===tR&&nR?null:t;default:return null}}function ZH(t,e){if(Of)return t==="compositionend"||!cE&&rF(t,e)?(t=tF(),Zv=aE=Sl=null,Of=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nF&&e.locale!=="ko"?null:e.data;default:return null}}var qH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qH[t.type]:e==="textarea"}function sF(t,e,n,r){Fk(r),e=Fy(e,"onChange"),0<e.length&&(n=new lE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tp=null,im=null;function e9(t){gF(t,0)}function V1(t){var e=zf(t);if(Rk(e))return t}function t9(t,e){if(t==="change")return e}var oF=!1;if(Ia){var sw;if(Ia){var ow="oninput"in document;if(!ow){var iR=document.createElement("div");iR.setAttribute("oninput","return;"),ow=typeof iR.oninput=="function"}sw=ow}else sw=!1;oF=sw&&(!document.documentMode||9<document.documentMode)}function sR(){Tp&&(Tp.detachEvent("onpropertychange",aF),im=Tp=null)}function aF(t){if(t.propertyName==="value"&&V1(im)){var e=[];sF(e,im,t,nE(t)),zk(e9,e)}}function n9(t,e,n){t==="focusin"?(sR(),Tp=e,im=n,Tp.attachEvent("onpropertychange",aF)):t==="focusout"&&sR()}function r9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return V1(im)}function i9(t,e){if(t==="click")return V1(e)}function s9(t,e){if(t==="input"||t==="change")return V1(e)}function o9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:o9;function sm(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tA.call(e,i)||!fo(t[i],e[i]))return!1}return!0}function oR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aR(t,e){var n=oR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oR(n)}}function lF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uF(){for(var t=window,e=Ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ry(t.document)}return e}function fE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a9(t){var e=uF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lF(n.ownerDocument.documentElement,n)){if(r!==null&&fE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=aR(n,s);var o=aR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l9=Ia&&"documentMode"in document&&11>=document.documentMode,Nf=null,_A=null,Rp=null,wA=!1;function lR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wA||Nf==null||Nf!==Ry(r)||(r=Nf,"selectionStart"in r&&fE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rp&&sm(Rp,r)||(Rp=r,r=Fy(_A,"onSelect"),0<r.length&&(e=new lE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nf)))}function P0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uf={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionend:P0("Transition","TransitionEnd")},aw={},cF={};Ia&&(cF=document.createElement("div").style,"AnimationEvent"in window||(delete Uf.animationend.animation,delete Uf.animationiteration.animation,delete Uf.animationstart.animation),"TransitionEvent"in window||delete Uf.transitionend.transition);function W1(t){if(aw[t])return aw[t];if(!Uf[t])return t;var e=Uf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cF)return aw[t]=e[n];return t}var fF=W1("animationend"),dF=W1("animationiteration"),hF=W1("animationstart"),pF=W1("transitionend"),mF=new Map,uR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tu(t,e){mF.set(t,e),Dc(e,[t])}for(var lw=0;lw<uR.length;lw++){var uw=uR[lw],u9=uw.toLowerCase(),c9=uw[0].toUpperCase()+uw.slice(1);tu(u9,"on"+c9)}tu(fF,"onAnimationEnd");tu(dF,"onAnimationIteration");tu(hF,"onAnimationStart");tu("dblclick","onDoubleClick");tu("focusin","onFocus");tu("focusout","onBlur");tu(pF,"onTransitionEnd");gd("onMouseEnter",["mouseout","mouseover"]);gd("onMouseLeave",["mouseout","mouseover"]);gd("onPointerEnter",["pointerout","pointerover"]);gd("onPointerLeave",["pointerout","pointerover"]);Dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f9=new Set("cancel close invalid load scroll toggle".split(" ").concat(yp));function cR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uH(r,e,void 0,t),t.currentTarget=null}function gF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cR(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cR(i,a,u),s=l}}}if(Iy)throw t=gA,Iy=!1,gA=null,t}function Tn(t,e){var n=e[EA];n===void 0&&(n=e[EA]=new Set);var r=t+"__bubble";n.has(r)||(vF(e,t,2,!1),n.add(r))}function cw(t,e,n){var r=0;e&&(r|=4),vF(n,t,r,e)}var I0="_reactListening"+Math.random().toString(36).slice(2);function om(t){if(!t[I0]){t[I0]=!0,bk.forEach(function(n){n!=="selectionchange"&&(f9.has(n)||cw(n,!1,t),cw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[I0]||(e[I0]=!0,cw("selectionchange",!1,e))}}function vF(t,e,n,r){switch(eF(e)){case 1:var i=MH;break;case 4:i=EH;break;default:i=oE}n=i.bind(null,e,n,t),i=void 0,!mA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zk(function(){var u=s,c=nE(n),f=[];e:{var d=mF.get(t);if(d!==void 0){var m=lE,g=t;switch(t){case"keypress":if(qv(n)===0)break e;case"keydown":case"keyup":m=GH;break;case"focusin":g="focus",m=iw;break;case"focusout":g="blur",m=iw;break;case"beforeblur":case"afterblur":m=iw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Z3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WH;break;case fF:case dF:case hF:m=BH;break;case pF:m=$H;break;case"scroll":m=CH;break;case"wheel":m=XH;break;case"copy":case"cut":case"paste":m=LH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eR}var v=(e&4)!==0,y=!v&&t==="scroll",x=v?d!==null?d+"Capture":null:d;v=[];for(var _=u,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,x!==null&&(A=em(_,x),A!=null&&v.push(am(_,A,w)))),y)break;_=_.return}0<v.length&&(d=new m(d,g,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==hA&&(g=n.relatedTarget||n.fromElement)&&(Vu(g)||g[Ba]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Vu(g):null,g!==null&&(y=Lc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=Z3,A="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=eR,A="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?d:zf(m),w=g==null?d:zf(g),d=new v(A,_+"leave",m,n,c),d.target=y,d.relatedTarget=w,A=null,Vu(c)===u&&(v=new v(x,_+"enter",g,n,c),v.target=w,v.relatedTarget=y,A=v),y=A,m&&g)t:{for(v=m,x=g,_=0,w=v;w;w=sf(w))_++;for(w=0,A=x;A;A=sf(A))w++;for(;0<_-w;)v=sf(v),_--;for(;0<w-_;)x=sf(x),w--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=sf(v),x=sf(x)}v=null}else v=null;m!==null&&fR(f,d,m,v,!1),g!==null&&y!==null&&fR(f,y,g,v,!0)}}e:{if(d=u?zf(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=t9;else if(rR(d))if(oF)M=s9;else{M=r9;var C=n9}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=i9);if(M&&(M=M(t,u))){sF(f,M,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&lA(d,"number",d.value)}switch(C=u?zf(u):window,t){case"focusin":(rR(C)||C.contentEditable==="true")&&(Nf=C,_A=u,Rp=null);break;case"focusout":Rp=_A=Nf=null;break;case"mousedown":wA=!0;break;case"contextmenu":case"mouseup":case"dragend":wA=!1,lR(f,n,c);break;case"selectionchange":if(l9)break;case"keydown":case"keyup":lR(f,n,c)}var T;if(cE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Of?rF(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(nF&&n.locale!=="ko"&&(Of||E!=="onCompositionStart"?E==="onCompositionEnd"&&Of&&(T=tF()):(Sl=c,aE="value"in Sl?Sl.value:Sl.textContent,Of=!0)),C=Fy(u,E),0<C.length&&(E=new q3(E,t,null,n,c),f.push({event:E,listeners:C}),T?E.data=T:(T=iF(n),T!==null&&(E.data=T)))),(T=YH?QH(t,n):ZH(t,n))&&(u=Fy(u,"onBeforeInput"),0<u.length&&(c=new q3("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}gF(f,e)})}function am(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=em(t,n),s!=null&&r.unshift(am(t,s,i)),s=em(t,e),s!=null&&r.push(am(t,s,i))),t=t.return}return r}function sf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=em(n,s),l!=null&&o.unshift(am(n,l,a))):i||(l=em(n,s),l!=null&&o.push(am(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var d9=/\r\n?/g,h9=/\u0000|\uFFFD/g;function dR(t){return(typeof t=="string"?t:""+t).replace(d9,`
`).replace(h9,"")}function B0(t,e,n){if(e=dR(e),dR(t)!==e&&n)throw Error(et(425))}function Oy(){}var SA=null,AA=null;function bA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var MA=typeof setTimeout=="function"?setTimeout:void 0,p9=typeof clearTimeout=="function"?clearTimeout:void 0,hR=typeof Promise=="function"?Promise:void 0,m9=typeof queueMicrotask=="function"?queueMicrotask:typeof hR<"u"?function(t){return hR.resolve(null).then(t).catch(g9)}:MA;function g9(t){setTimeout(function(){throw t})}function dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rm(e)}function Pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wd=Math.random().toString(36).slice(2),ko="__reactFiber$"+Wd,lm="__reactProps$"+Wd,Ba="__reactContainer$"+Wd,EA="__reactEvents$"+Wd,v9="__reactListeners$"+Wd,y9="__reactHandles$"+Wd;function Vu(t){var e=t[ko];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ba]||n[ko]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pR(t);t!==null;){if(n=t[ko])return n;t=pR(t)}return e}t=n,n=t.parentNode}return null}function $m(t){return t=t[ko]||t[Ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function j1(t){return t[lm]||null}var CA=[],Gf=-1;function nu(t){return{current:t}}function Bn(t){0>Gf||(t.current=CA[Gf],CA[Gf]=null,Gf--)}function En(t,e){Gf++,CA[Gf]=t.current,t.current=e}var zl={},oi=nu(zl),Oi=nu(!1),yc=zl;function vd(t,e){var n=t.type.contextTypes;if(!n)return zl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ni(t){return t=t.childContextTypes,t!=null}function Ny(){Bn(Oi),Bn(oi)}function mR(t,e,n){if(oi.current!==zl)throw Error(et(168));En(oi,e),En(Oi,n)}function yF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(et(108,nH(t)||"Unknown",i));return Qn({},n,r)}function Uy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zl,yc=oi.current,En(oi,t),En(Oi,Oi.current),!0}function gR(t,e,n){var r=t.stateNode;if(!r)throw Error(et(169));n?(t=yF(t,e,yc),r.__reactInternalMemoizedMergedChildContext=t,Bn(Oi),Bn(oi),En(oi,t)):Bn(Oi),En(Oi,n)}var ma=null,$1=!1,hw=!1;function xF(t){ma===null?ma=[t]:ma.push(t)}function x9(t){$1=!0,xF(t)}function ru(){if(!hw&&ma!==null){hw=!0;var t=0,e=gn;try{var n=ma;for(gn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ma=null,$1=!1}catch(i){throw ma!==null&&(ma=ma.slice(t+1)),Wk(rE,ru),i}finally{gn=e,hw=!1}}return null}var Hf=[],Vf=0,zy=null,Gy=0,Ts=[],Rs=0,xc=null,_a=1,wa="";function ku(t,e){Hf[Vf++]=Gy,Hf[Vf++]=zy,zy=t,Gy=e}function _F(t,e,n){Ts[Rs++]=_a,Ts[Rs++]=wa,Ts[Rs++]=xc,xc=t;var r=_a;t=wa;var i=32-so(r)-1;r&=~(1<<i),n+=1;var s=32-so(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-so(e)+i|n<<i|r,wa=s+t}else _a=1<<s|n<<i|r,wa=t}function dE(t){t.return!==null&&(ku(t,1),_F(t,1,0))}function hE(t){for(;t===zy;)zy=Hf[--Vf],Hf[Vf]=null,Gy=Hf[--Vf],Hf[Vf]=null;for(;t===xc;)xc=Ts[--Rs],Ts[Rs]=null,wa=Ts[--Rs],Ts[Rs]=null,_a=Ts[--Rs],Ts[Rs]=null}var rs=null,ts=null,Nn=!1,eo=null;function wF(t,e){var n=Ls(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rs=t,ts=Pl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rs=t,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xc!==null?{id:_a,overflow:wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ls(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rs=t,ts=null,!0):!1;default:return!1}}function TA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RA(t){if(Nn){var e=ts;if(e){var n=e;if(!vR(t,e)){if(TA(t))throw Error(et(418));e=Pl(n.nextSibling);var r=rs;e&&vR(t,e)?wF(r,n):(t.flags=t.flags&-4097|2,Nn=!1,rs=t)}}else{if(TA(t))throw Error(et(418));t.flags=t.flags&-4097|2,Nn=!1,rs=t}}}function yR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rs=t}function D0(t){if(t!==rs)return!1;if(!Nn)return yR(t),Nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bA(t.type,t.memoizedProps)),e&&(e=ts)){if(TA(t))throw SF(),Error(et(418));for(;e;)wF(t,e),e=Pl(e.nextSibling)}if(yR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ts=Pl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ts=null}}else ts=rs?Pl(t.stateNode.nextSibling):null;return!0}function SF(){for(var t=ts;t;)t=Pl(t.nextSibling)}function yd(){ts=rs=null,Nn=!1}function pE(t){eo===null?eo=[t]:eo.push(t)}var _9=Va.ReactCurrentBatchConfig;function Zs(t,e){if(t&&t.defaultProps){e=Qn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hy=nu(null),Vy=null,Wf=null,mE=null;function gE(){mE=Wf=Vy=null}function vE(t){var e=Hy.current;Bn(Hy),t._currentValue=e}function PA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ad(t,e){Vy=t,mE=Wf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Li=!0),t.firstContext=null)}function Ns(t){var e=t._currentValue;if(mE!==t)if(t={context:t,memoizedValue:e,next:null},Wf===null){if(Vy===null)throw Error(et(308));Wf=t,Vy.dependencies={lanes:0,firstContext:t}}else Wf=Wf.next=t;return e}var Wu=null;function yE(t){Wu===null?Wu=[t]:Wu.push(t)}function AF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Da(t,r)}function Da(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vl=!1;function xE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Il(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Da(t,n)}return i=r.interleaved,i===null?(e.next=e,yE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Da(t,n)}function ey(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iE(t,n)}}function xR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wy(t,e,n,r){var i=t.updateQueue;vl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(m,f,d):g,d==null)break e;f=Qn({},f,d);break e;case 2:vl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wc|=o,t.lanes=o,t.memoizedState=f}}function _R(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(et(191,i));i.call(r)}}}var MF=new Ak.Component().refs;function IA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var J1={isMounted:function(t){return(t=t._reactInternals)?Lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mi(),i=Dl(t),s=Ea(r,i);s.payload=e,n!=null&&(s.callback=n),e=Il(t,s,i),e!==null&&(oo(e,t,i,r),ey(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mi(),i=Dl(t),s=Ea(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Il(t,s,i),e!==null&&(oo(e,t,i,r),ey(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mi(),r=Dl(t),i=Ea(n,r);i.tag=2,e!=null&&(i.callback=e),e=Il(t,i,r),e!==null&&(oo(e,t,r,n),ey(e,t,r))}};function wR(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sm(n,r)||!sm(i,s):!0}function EF(t,e,n){var r=!1,i=zl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ns(s):(i=Ni(e)?yc:oi.current,r=e.contextTypes,s=(r=r!=null)?vd(t,i):zl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function SR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&J1.enqueueReplaceState(e,e.state,null)}function BA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=MF,xE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ns(s):(s=Ni(e)?yc:oi.current,i.context=vd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(IA(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&J1.enqueueReplaceState(i,i.state,null),Wy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===MF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,t))}return t}function L0(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AR(t){var e=t._init;return e(t._payload)}function CF(t){function e(x,_){if(t){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ll(x,_),x.index=0,x.sibling=null,x}function s(x,_,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,w,A){return _===null||_.tag!==6?(_=_w(w,x.mode,A),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,A){var M=w.type;return M===Ff?c(x,_,w.props.children,A,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===gl&&AR(M)===_.type)?(A=i(_,w.props),A.ref=Nh(x,_,w),A.return=x,A):(A=oy(w.type,w.key,w.props,null,x.mode,A),A.ref=Nh(x,_,w),A.return=x,A)}function u(x,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=ww(w,x.mode,A),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function c(x,_,w,A,M){return _===null||_.tag!==7?(_=ic(w,x.mode,A,M),_.return=x,_):(_=i(_,w),_.return=x,_)}function f(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_w(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case A0:return w=oy(_.type,_.key,_.props,null,x.mode,w),w.ref=Nh(x,null,_),w.return=x,w;case kf:return _=ww(_,x.mode,w),_.return=x,_;case gl:var A=_._init;return f(x,A(_._payload),w)}if(gp(_)||Dh(_))return _=ic(_,x.mode,w,null),_.return=x,_;L0(x,_)}return null}function d(x,_,w,A){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(x,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A0:return w.key===M?l(x,_,w,A):null;case kf:return w.key===M?u(x,_,w,A):null;case gl:return M=w._init,d(x,_,M(w._payload),A)}if(gp(w)||Dh(w))return M!==null?null:c(x,_,w,A,null);L0(x,w)}return null}function m(x,_,w,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(w)||null,a(_,x,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case A0:return x=x.get(A.key===null?w:A.key)||null,l(_,x,A,M);case kf:return x=x.get(A.key===null?w:A.key)||null,u(_,x,A,M);case gl:var C=A._init;return m(x,_,w,C(A._payload),M)}if(gp(A)||Dh(A))return x=x.get(w)||null,c(_,x,A,M,null);L0(_,A)}return null}function g(x,_,w,A){for(var M=null,C=null,T=_,E=_=0,P=null;T!==null&&E<w.length;E++){T.index>E?(P=T,T=null):P=T.sibling;var B=d(x,T,w[E],A);if(B===null){T===null&&(T=P);break}t&&T&&B.alternate===null&&e(x,T),_=s(B,_,E),C===null?M=B:C.sibling=B,C=B,T=P}if(E===w.length)return n(x,T),Nn&&ku(x,E),M;if(T===null){for(;E<w.length;E++)T=f(x,w[E],A),T!==null&&(_=s(T,_,E),C===null?M=T:C.sibling=T,C=T);return Nn&&ku(x,E),M}for(T=r(x,T);E<w.length;E++)P=m(T,x,E,w[E],A),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),_=s(P,_,E),C===null?M=P:C.sibling=P,C=P);return t&&T.forEach(function(N){return e(x,N)}),Nn&&ku(x,E),M}function v(x,_,w,A){var M=Dh(w);if(typeof M!="function")throw Error(et(150));if(w=M.call(w),w==null)throw Error(et(151));for(var C=M=null,T=_,E=_=0,P=null,B=w.next();T!==null&&!B.done;E++,B=w.next()){T.index>E?(P=T,T=null):P=T.sibling;var N=d(x,T,B.value,A);if(N===null){T===null&&(T=P);break}t&&T&&N.alternate===null&&e(x,T),_=s(N,_,E),C===null?M=N:C.sibling=N,C=N,T=P}if(B.done)return n(x,T),Nn&&ku(x,E),M;if(T===null){for(;!B.done;E++,B=w.next())B=f(x,B.value,A),B!==null&&(_=s(B,_,E),C===null?M=B:C.sibling=B,C=B);return Nn&&ku(x,E),M}for(T=r(x,T);!B.done;E++,B=w.next())B=m(T,x,E,B.value,A),B!==null&&(t&&B.alternate!==null&&T.delete(B.key===null?E:B.key),_=s(B,_,E),C===null?M=B:C.sibling=B,C=B);return t&&T.forEach(function(F){return e(x,F)}),Nn&&ku(x,E),M}function y(x,_,w,A){if(typeof w=="object"&&w!==null&&w.type===Ff&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A0:e:{for(var M=w.key,C=_;C!==null;){if(C.key===M){if(M=w.type,M===Ff){if(C.tag===7){n(x,C.sibling),_=i(C,w.props.children),_.return=x,x=_;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===gl&&AR(M)===C.type){n(x,C.sibling),_=i(C,w.props),_.ref=Nh(x,C,w),_.return=x,x=_;break e}n(x,C);break}else e(x,C);C=C.sibling}w.type===Ff?(_=ic(w.props.children,x.mode,A,w.key),_.return=x,x=_):(A=oy(w.type,w.key,w.props,null,x.mode,A),A.ref=Nh(x,_,w),A.return=x,x=A)}return o(x);case kf:e:{for(C=w.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=ww(w,x.mode,A),_.return=x,x=_}return o(x);case gl:return C=w._init,y(x,_,C(w._payload),A)}if(gp(w))return g(x,_,w,A);if(Dh(w))return v(x,_,w,A);L0(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,w),_.return=x,x=_):(n(x,_),_=_w(w,x.mode,A),_.return=x,x=_),o(x)):n(x,_)}return y}var xd=CF(!0),TF=CF(!1),Jm={},Oo=nu(Jm),um=nu(Jm),cm=nu(Jm);function ju(t){if(t===Jm)throw Error(et(174));return t}function _E(t,e){switch(En(cm,e),En(um,t),En(Oo,Jm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cA(e,t)}Bn(Oo),En(Oo,e)}function _d(){Bn(Oo),Bn(um),Bn(cm)}function RF(t){ju(cm.current);var e=ju(Oo.current),n=cA(e,t.type);e!==n&&(En(um,t),En(Oo,n))}function wE(t){um.current===t&&(Bn(Oo),Bn(um))}var $n=nu(0);function jy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pw=[];function SE(){for(var t=0;t<pw.length;t++)pw[t]._workInProgressVersionPrimary=null;pw.length=0}var ty=Va.ReactCurrentDispatcher,mw=Va.ReactCurrentBatchConfig,_c=0,Yn=null,wr=null,Dr=null,$y=!1,Pp=!1,fm=0,w9=0;function Zr(){throw Error(et(321))}function AE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function bE(t,e,n,r,i,s){if(_c=s,Yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ty.current=t===null||t.memoizedState===null?M9:E9,t=n(r,i),Pp){s=0;do{if(Pp=!1,fm=0,25<=s)throw Error(et(301));s+=1,Dr=wr=null,e.updateQueue=null,ty.current=C9,t=n(r,i)}while(Pp)}if(ty.current=Jy,e=wr!==null&&wr.next!==null,_c=0,Dr=wr=Yn=null,$y=!1,e)throw Error(et(300));return t}function ME(){var t=fm!==0;return fm=0,t}function Io(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Yn.memoizedState=Dr=t:Dr=Dr.next=t,Dr}function Us(){if(wr===null){var t=Yn.alternate;t=t!==null?t.memoizedState:null}else t=wr.next;var e=Dr===null?Yn.memoizedState:Dr.next;if(e!==null)Dr=e,wr=t;else{if(t===null)throw Error(et(310));wr=t,t={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Dr===null?Yn.memoizedState=Dr=t:Dr=Dr.next=t}return Dr}function dm(t,e){return typeof e=="function"?e(t):e}function gw(t){var e=Us(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=wr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((_c&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Yn.lanes|=c,wc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,fo(r,e.memoizedState)||(Li=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yn.lanes|=s,wc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vw(t){var e=Us(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fo(s,e.memoizedState)||(Li=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PF(){}function IF(t,e){var n=Yn,r=Us(),i=e(),s=!fo(r.memoizedState,i);if(s&&(r.memoizedState=i,Li=!0),r=r.queue,EE(LF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dr!==null&&Dr.memoizedState.tag&1){if(n.flags|=2048,hm(9,DF.bind(null,n,r,i,e),void 0,null),Nr===null)throw Error(et(349));_c&30||BF(n,e,i)}return i}function BF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DF(t,e,n,r){e.value=n,e.getSnapshot=r,kF(e)&&FF(t)}function LF(t,e,n){return n(function(){kF(e)&&FF(t)})}function kF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function FF(t){var e=Da(t,1);e!==null&&oo(e,t,1,-1)}function bR(t){var e=Io();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:t},e.queue=t,t=t.dispatch=b9.bind(null,Yn,t),[e.memoizedState,t]}function hm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OF(){return Us().memoizedState}function ny(t,e,n,r){var i=Io();Yn.flags|=t,i.memoizedState=hm(1|e,n,void 0,r===void 0?null:r)}function X1(t,e,n,r){var i=Us();r=r===void 0?null:r;var s=void 0;if(wr!==null){var o=wr.memoizedState;if(s=o.destroy,r!==null&&AE(r,o.deps)){i.memoizedState=hm(e,n,s,r);return}}Yn.flags|=t,i.memoizedState=hm(1|e,n,s,r)}function MR(t,e){return ny(8390656,8,t,e)}function EE(t,e){return X1(2048,8,t,e)}function NF(t,e){return X1(4,2,t,e)}function UF(t,e){return X1(4,4,t,e)}function zF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GF(t,e,n){return n=n!=null?n.concat([t]):null,X1(4,4,zF.bind(null,e,t),n)}function CE(){}function HF(t,e){var n=Us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VF(t,e){var n=Us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WF(t,e,n){return _c&21?(fo(n,e)||(n=Jk(),Yn.lanes|=n,wc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Li=!0),t.memoizedState=n)}function S9(t,e){var n=gn;gn=n!==0&&4>n?n:4,t(!0);var r=mw.transition;mw.transition={};try{t(!1),e()}finally{gn=n,mw.transition=r}}function jF(){return Us().memoizedState}function A9(t,e,n){var r=Dl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$F(t))JF(e,n);else if(n=AF(t,e,n,r),n!==null){var i=Mi();oo(n,t,r,i),XF(n,e,r)}}function b9(t,e,n){var r=Dl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($F(t))JF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fo(a,o)){var l=e.interleaved;l===null?(i.next=i,yE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AF(t,e,i,r),n!==null&&(i=Mi(),oo(n,t,r,i),XF(n,e,r))}}function $F(t){var e=t.alternate;return t===Yn||e!==null&&e===Yn}function JF(t,e){Pp=$y=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iE(t,n)}}var Jy={readContext:Ns,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},M9={readContext:Ns,useCallback:function(t,e){return Io().memoizedState=[t,e===void 0?null:e],t},useContext:Ns,useEffect:MR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ny(4194308,4,zF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ny(4194308,4,t,e)},useInsertionEffect:function(t,e){return ny(4,2,t,e)},useMemo:function(t,e){var n=Io();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Io();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A9.bind(null,Yn,t),[r.memoizedState,t]},useRef:function(t){var e=Io();return t={current:t},e.memoizedState=t},useState:bR,useDebugValue:CE,useDeferredValue:function(t){return Io().memoizedState=t},useTransition:function(){var t=bR(!1),e=t[0];return t=S9.bind(null,t[1]),Io().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yn,i=Io();if(Nn){if(n===void 0)throw Error(et(407));n=n()}else{if(n=e(),Nr===null)throw Error(et(349));_c&30||BF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,MR(LF.bind(null,r,s,t),[t]),r.flags|=2048,hm(9,DF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Io(),e=Nr.identifierPrefix;if(Nn){var n=wa,r=_a;n=(r&~(1<<32-so(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E9={readContext:Ns,useCallback:HF,useContext:Ns,useEffect:EE,useImperativeHandle:GF,useInsertionEffect:NF,useLayoutEffect:UF,useMemo:VF,useReducer:gw,useRef:OF,useState:function(){return gw(dm)},useDebugValue:CE,useDeferredValue:function(t){var e=Us();return WF(e,wr.memoizedState,t)},useTransition:function(){var t=gw(dm)[0],e=Us().memoizedState;return[t,e]},useMutableSource:PF,useSyncExternalStore:IF,useId:jF,unstable_isNewReconciler:!1},C9={readContext:Ns,useCallback:HF,useContext:Ns,useEffect:EE,useImperativeHandle:GF,useInsertionEffect:NF,useLayoutEffect:UF,useMemo:VF,useReducer:vw,useRef:OF,useState:function(){return vw(dm)},useDebugValue:CE,useDeferredValue:function(t){var e=Us();return wr===null?e.memoizedState=t:WF(e,wr.memoizedState,t)},useTransition:function(){var t=vw(dm)[0],e=Us().memoizedState;return[t,e]},useMutableSource:PF,useSyncExternalStore:IF,useId:jF,unstable_isNewReconciler:!1};function wd(t,e){try{var n="",r=e;do n+=tH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function DA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T9=typeof WeakMap=="function"?WeakMap:Map;function KF(t,e,n){n=Ea(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ky||(Ky=!0,VA=r),DA(t,e)},n}function YF(t,e,n){n=Ea(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){DA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){DA(t,e),typeof r!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ER(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=H9.bind(null,t,e,n),e.then(t,t))}function CR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ea(-1,1),e.tag=2,Il(n,e,1))),n.lanes|=1),t)}var R9=Va.ReactCurrentOwner,Li=!1;function wi(t,e,n,r){e.child=t===null?TF(e,null,n,r):xd(e,t.child,n,r)}function RR(t,e,n,r,i){n=n.render;var s=e.ref;return ad(e,i),r=bE(t,e,n,r,s,i),n=ME(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(Nn&&n&&dE(e),e.flags|=1,wi(t,e,r,i),e.child)}function PR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QF(t,e,s,r,i)):(t=oy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sm,n(o,r)&&t.ref===e.ref)return La(t,e,i)}return e.flags|=1,t=Ll(s,r),t.ref=e.ref,t.return=e,e.child=t}function QF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sm(s,r)&&t.ref===e.ref)if(Li=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Li=!0);else return e.lanes=t.lanes,La(t,e,i)}return LA(t,e,n,r,i)}function ZF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},En($f,qi),qi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,En($f,qi),qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,En($f,qi),qi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,En($f,qi),qi|=r;return wi(t,e,i,n),e.child}function qF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function LA(t,e,n,r,i){var s=Ni(n)?yc:oi.current;return s=vd(e,s),ad(e,i),n=bE(t,e,n,r,s,i),r=ME(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,La(t,e,i)):(Nn&&r&&dE(e),e.flags|=1,wi(t,e,n,i),e.child)}function IR(t,e,n,r,i){if(Ni(n)){var s=!0;Uy(e)}else s=!1;if(ad(e,i),e.stateNode===null)ry(t,e),EF(e,n,r),BA(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ns(u):(u=Ni(n)?yc:oi.current,u=vd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&SR(e,o,r,u),vl=!1;var d=e.memoizedState;o.state=d,Wy(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Oi.current||vl?(typeof c=="function"&&(IA(e,n,c,r),l=e.memoizedState),(a=vl||wR(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bF(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zs(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ns(l):(l=Ni(n)?yc:oi.current,l=vd(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&SR(e,o,r,l),vl=!1,d=e.memoizedState,o.state=d,Wy(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||Oi.current||vl?(typeof m=="function"&&(IA(e,n,m,r),g=e.memoizedState),(u=vl||wR(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return kA(t,e,n,r,s,i)}function kA(t,e,n,r,i,s){qF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gR(e,n,!1),La(t,e,s);r=e.stateNode,R9.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xd(e,t.child,null,s),e.child=xd(e,null,a,s)):wi(t,e,a,s),e.memoizedState=r.state,i&&gR(e,n,!0),e.child}function eO(t){var e=t.stateNode;e.pendingContext?mR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mR(t,e.context,!1),_E(t,e.containerInfo)}function BR(t,e,n,r,i){return yd(),pE(i),e.flags|=256,wi(t,e,n,r),e.child}var FA={dehydrated:null,treeContext:null,retryLane:0};function OA(t){return{baseLanes:t,cachePool:null,transitions:null}}function tO(t,e,n){var r=e.pendingProps,i=$n.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),En($n,i&1),t===null)return RA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Q1(o,r,0,null),t=ic(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=OA(n),e.memoizedState=FA,t):TE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return P9(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ll(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ll(a,s):(s=ic(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?OA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=FA,r}return s=t.child,t=s.sibling,r=Ll(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TE(t,e){return e=Q1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function k0(t,e,n,r){return r!==null&&pE(r),xd(e,t.child,null,n),t=TE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P9(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yw(Error(et(422))),k0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Q1({mode:"visible",children:r.children},i,0,null),s=ic(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xd(e,t.child,null,o),e.child.memoizedState=OA(o),e.memoizedState=FA,s);if(!(e.mode&1))return k0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(et(419)),r=yw(s,r,void 0),k0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Li||a){if(r=Nr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Da(t,i),oo(r,t,i,-1))}return LE(),r=yw(Error(et(421))),k0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ts=Pl(i.nextSibling),rs=e,Nn=!0,eo=null,t!==null&&(Ts[Rs++]=_a,Ts[Rs++]=wa,Ts[Rs++]=xc,_a=t.id,wa=t.overflow,xc=e),e=TE(e,r.children),e.flags|=4096,e)}function DR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),PA(t.return,e,n)}function xw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nO(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wi(t,e,r.children,n),r=$n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DR(t,n,e);else if(t.tag===19)DR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(En($n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xw(e,!0,n,null,s);break;case"together":xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ry(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function La(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,n=Ll(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ll(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I9(t,e,n){switch(e.tag){case 3:eO(e),yd();break;case 5:RF(e);break;case 1:Ni(e.type)&&Uy(e);break;case 4:_E(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;En(Hy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(En($n,$n.current&1),e.flags|=128,null):n&e.child.childLanes?tO(t,e,n):(En($n,$n.current&1),t=La(t,e,n),t!==null?t.sibling:null);En($n,$n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En($n,$n.current),r)break;return null;case 22:case 23:return e.lanes=0,ZF(t,e,n)}return La(t,e,n)}var rO,NA,iO,sO;rO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};NA=function(){};iO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ju(Oo.current);var s=null;switch(n){case"input":i=oA(t,i),r=oA(t,r),s=[];break;case"select":i=Qn({},i,{value:void 0}),r=Qn({},r,{value:void 0}),s=[];break;case"textarea":i=uA(t,i),r=uA(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oy)}fA(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Tn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uh(t,e){if(!Nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B9(t,e,n){var r=e.pendingProps;switch(hE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Ni(e.type)&&Ny(),qr(e),null;case 3:return r=e.stateNode,_d(),Bn(Oi),Bn(oi),SE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(D0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eo!==null&&($A(eo),eo=null))),NA(t,e),qr(e),null;case 5:wE(e);var i=ju(cm.current);if(n=e.type,t!==null&&e.stateNode!=null)iO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(et(166));return qr(e),null}if(t=ju(Oo.current),D0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ko]=e,r[lm]=s,t=(e.mode&1)!==0,n){case"dialog":Tn("cancel",r),Tn("close",r);break;case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(i=0;i<yp.length;i++)Tn(yp[i],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"details":Tn("toggle",r);break;case"input":H3(r,s),Tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tn("invalid",r);break;case"textarea":W3(r,s),Tn("invalid",r)}fA(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&B0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&B0(r.textContent,a,t),i=["children",""+a]):Zp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tn("scroll",r)}switch(n){case"input":b0(r),V3(r,s,!0);break;case"textarea":b0(r),j3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Oy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ko]=e,t[lm]=r,rO(t,e,!1,!1),e.stateNode=t;e:{switch(o=dA(n,r),n){case"dialog":Tn("cancel",t),Tn("close",t),i=r;break;case"iframe":case"object":case"embed":Tn("load",t),i=r;break;case"video":case"audio":for(i=0;i<yp.length;i++)Tn(yp[i],t);i=r;break;case"source":Tn("error",t),i=r;break;case"img":case"image":case"link":Tn("error",t),Tn("load",t),i=r;break;case"details":Tn("toggle",t),i=r;break;case"input":H3(t,r),i=oA(t,r),Tn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qn({},r,{value:void 0}),Tn("invalid",t);break;case"textarea":W3(t,r),i=uA(t,r),Tn("invalid",t);break;default:i=r}fA(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qp(t,l):typeof l=="number"&&qp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tn("scroll",t):l!=null&&ZM(t,s,l,o))}switch(n){case"input":b0(t),V3(t,r,!1);break;case"textarea":b0(t),j3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ul(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rd(t,!!r.multiple,s,!1):r.defaultValue!=null&&rd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Oy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)sO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(n=ju(cm.current),ju(Oo.current),D0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ko]=e,(s=r.nodeValue!==n)&&(t=rs,t!==null))switch(t.tag){case 3:B0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&B0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ko]=e,e.stateNode=r}return qr(e),null;case 13:if(Bn($n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nn&&ts!==null&&e.mode&1&&!(e.flags&128))SF(),yd(),e.flags|=98560,s=!1;else if(s=D0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[ko]=e}else yd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else eo!==null&&($A(eo),eo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$n.current&1?Ar===0&&(Ar=3):LE())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return _d(),NA(t,e),t===null&&om(e.stateNode.containerInfo),qr(e),null;case 10:return vE(e.type._context),qr(e),null;case 17:return Ni(e.type)&&Ny(),qr(e),null;case 19:if(Bn($n),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uh(s,!1);else{if(Ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jy(t),o!==null){for(e.flags|=128,Uh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return En($n,$n.current&1|2),e.child}t=t.sibling}s.tail!==null&&lr()>Sd&&(e.flags|=128,r=!0,Uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=jy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nn)return qr(e),null}else 2*lr()-s.renderingStartTime>Sd&&n!==1073741824&&(e.flags|=128,r=!0,Uh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lr(),e.sibling=null,n=$n.current,En($n,r?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return DE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function D9(t,e){switch(hE(e),e.tag){case 1:return Ni(e.type)&&Ny(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _d(),Bn(Oi),Bn(oi),SE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wE(e),null;case 13:if(Bn($n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));yd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn($n),null;case 4:return _d(),null;case 10:return vE(e.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var F0=!1,ri=!1,L9=typeof WeakSet=="function"?WeakSet:Set,vt=null;function jf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){er(t,e,r)}else n.current=null}function UA(t,e,n){try{n()}catch(r){er(t,e,r)}}var LR=!1;function k9(t,e){if(SA=Ly,t=uF(),fE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AA={focusedElem:t,selectionRange:n},Ly=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){e=vt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zs(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(A){er(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}return g=LR,LR=!1,g}function Ip(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&UA(e,n,s)}i=i.next}while(i!==r)}}function K1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oO(t){var e=t.alternate;e!==null&&(t.alternate=null,oO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ko],delete e[lm],delete e[EA],delete e[v9],delete e[y9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aO(t){return t.tag===5||t.tag===3||t.tag===4}function kR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oy));else if(r!==4&&(t=t.child,t!==null))for(GA(t,e,n),t=t.sibling;t!==null;)GA(t,e,n),t=t.sibling}function HA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(HA(t,e,n),t=t.sibling;t!==null;)HA(t,e,n),t=t.sibling}var Wr=null,qs=!1;function il(t,e,n){for(n=n.child;n!==null;)lO(t,e,n),n=n.sibling}function lO(t,e,n){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(G1,n)}catch{}switch(n.tag){case 5:ri||jf(n,e);case 6:var r=Wr,i=qs;Wr=null,il(t,e,n),Wr=r,qs=i,Wr!==null&&(qs?(t=Wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wr.removeChild(n.stateNode));break;case 18:Wr!==null&&(qs?(t=Wr,n=n.stateNode,t.nodeType===8?dw(t.parentNode,n):t.nodeType===1&&dw(t,n),rm(t)):dw(Wr,n.stateNode));break;case 4:r=Wr,i=qs,Wr=n.stateNode.containerInfo,qs=!0,il(t,e,n),Wr=r,qs=i;break;case 0:case 11:case 14:case 15:if(!ri&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&UA(n,e,o),i=i.next}while(i!==r)}il(t,e,n);break;case 1:if(!ri&&(jf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){er(n,e,a)}il(t,e,n);break;case 21:il(t,e,n);break;case 22:n.mode&1?(ri=(r=ri)||n.memoizedState!==null,il(t,e,n),ri=r):il(t,e,n);break;default:il(t,e,n)}}function FR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L9),e.forEach(function(r){var i=W9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wr=a.stateNode,qs=!1;break e;case 3:Wr=a.stateNode.containerInfo,qs=!0;break e;case 4:Wr=a.stateNode.containerInfo,qs=!0;break e}a=a.return}if(Wr===null)throw Error(et(160));lO(s,o,i),Wr=null,qs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){er(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uO(e,t),e=e.sibling}function uO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Js(e,t),Ro(t),r&4){try{Ip(3,t,t.return),K1(3,t)}catch(v){er(t,t.return,v)}try{Ip(5,t,t.return)}catch(v){er(t,t.return,v)}}break;case 1:Js(e,t),Ro(t),r&512&&n!==null&&jf(n,n.return);break;case 5:if(Js(e,t),Ro(t),r&512&&n!==null&&jf(n,n.return),t.flags&32){var i=t.stateNode;try{qp(i,"")}catch(v){er(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pk(i,s),dA(a,o);var u=dA(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?kk(i,f):c==="dangerouslySetInnerHTML"?Dk(i,f):c==="children"?qp(i,f):ZM(i,c,f,u)}switch(a){case"input":aA(i,s);break;case"textarea":Ik(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?rd(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?rd(i,!!s.multiple,s.defaultValue,!0):rd(i,!!s.multiple,s.multiple?[]:"",!1))}i[lm]=s}catch(v){er(t,t.return,v)}}break;case 6:if(Js(e,t),Ro(t),r&4){if(t.stateNode===null)throw Error(et(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){er(t,t.return,v)}}break;case 3:if(Js(e,t),Ro(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rm(e.containerInfo)}catch(v){er(t,t.return,v)}break;case 4:Js(e,t),Ro(t);break;case 13:Js(e,t),Ro(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(IE=lr())),r&4&&FR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ri=(u=ri)||c,Js(e,t),ri=u):Js(e,t),Ro(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(vt=t,c=t.child;c!==null;){for(f=vt=c;vt!==null;){switch(d=vt,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ip(4,d,d.return);break;case 1:jf(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){er(r,n,v)}}break;case 5:jf(d,d.return);break;case 22:if(d.memoizedState!==null){NR(f);continue}}m!==null?(m.return=d,vt=m):NR(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lk("display",o))}catch(v){er(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){er(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Js(e,t),Ro(t),r&4&&FR(t);break;case 21:break;default:Js(e,t),Ro(t)}}function Ro(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aO(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qp(i,""),r.flags&=-33);var s=kR(t);HA(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kR(t);GA(t,a,o);break;default:throw Error(et(161))}}catch(l){er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F9(t,e,n){vt=t,cO(t)}function cO(t,e,n){for(var r=(t.mode&1)!==0;vt!==null;){var i=vt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||F0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ri;a=F0;var u=ri;if(F0=o,(ri=l)&&!u)for(vt=i;vt!==null;)o=vt,l=o.child,o.tag===22&&o.memoizedState!==null?UR(i):l!==null?(l.return=o,vt=l):UR(i);for(;s!==null;)vt=s,cO(s),s=s.sibling;vt=i,F0=a,ri=u}OR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,vt=s):OR(t)}}function OR(t){for(;vt!==null;){var e=vt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ri||K1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ri)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_R(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_R(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&rm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}ri||e.flags&512&&zA(e)}catch(d){er(e,e.return,d)}}if(e===t){vt=null;break}if(n=e.sibling,n!==null){n.return=e.return,vt=n;break}vt=e.return}}function NR(t){for(;vt!==null;){var e=vt;if(e===t){vt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,vt=n;break}vt=e.return}}function UR(t){for(;vt!==null;){var e=vt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{K1(4,e)}catch(l){er(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){er(e,i,l)}}var s=e.return;try{zA(e)}catch(l){er(e,s,l)}break;case 5:var o=e.return;try{zA(e)}catch(l){er(e,o,l)}}}catch(l){er(e,e.return,l)}if(e===t){vt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,vt=a;break}vt=e.return}}var O9=Math.ceil,Xy=Va.ReactCurrentDispatcher,RE=Va.ReactCurrentOwner,Os=Va.ReactCurrentBatchConfig,an=0,Nr=null,yr=null,jr=0,qi=0,$f=nu(0),Ar=0,pm=null,wc=0,Y1=0,PE=0,Bp=null,Di=null,IE=0,Sd=1/0,fa=null,Ky=!1,VA=null,Bl=null,O0=!1,Al=null,Yy=0,Dp=0,WA=null,iy=-1,sy=0;function Mi(){return an&6?lr():iy!==-1?iy:iy=lr()}function Dl(t){return t.mode&1?an&2&&jr!==0?jr&-jr:_9.transition!==null?(sy===0&&(sy=Jk()),sy):(t=gn,t!==0||(t=window.event,t=t===void 0?16:eF(t.type)),t):1}function oo(t,e,n,r){if(50<Dp)throw Dp=0,WA=null,Error(et(185));Wm(t,n,r),(!(an&2)||t!==Nr)&&(t===Nr&&(!(an&2)&&(Y1|=n),Ar===4&&wl(t,jr)),Ui(t,r),n===1&&an===0&&!(e.mode&1)&&(Sd=lr()+500,$1&&ru()))}function Ui(t,e){var n=t.callbackNode;_H(t,e);var r=Dy(t,t===Nr?jr:0);if(r===0)n!==null&&X3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&X3(n),e===1)t.tag===0?x9(zR.bind(null,t)):xF(zR.bind(null,t)),m9(function(){!(an&6)&&ru()}),n=null;else{switch(Xk(r)){case 1:n=rE;break;case 4:n=jk;break;case 16:n=By;break;case 536870912:n=$k;break;default:n=By}n=yO(n,fO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fO(t,e){if(iy=-1,sy=0,an&6)throw Error(et(327));var n=t.callbackNode;if(ld()&&t.callbackNode!==n)return null;var r=Dy(t,t===Nr?jr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qy(t,r);else{e=r;var i=an;an|=2;var s=hO();(Nr!==t||jr!==e)&&(fa=null,Sd=lr()+500,rc(t,e));do try{z9();break}catch(a){dO(t,a)}while(!0);gE(),Xy.current=s,an=i,yr!==null?e=0:(Nr=null,jr=0,e=Ar)}if(e!==0){if(e===2&&(i=vA(t),i!==0&&(r=i,e=jA(t,i))),e===1)throw n=pm,rc(t,0),wl(t,r),Ui(t,lr()),n;if(e===6)wl(t,r);else{if(i=t.current.alternate,!(r&30)&&!N9(i)&&(e=Qy(t,r),e===2&&(s=vA(t),s!==0&&(r=s,e=jA(t,s))),e===1))throw n=pm,rc(t,0),wl(t,r),Ui(t,lr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(et(345));case 2:Fu(t,Di,fa);break;case 3:if(wl(t,r),(r&130023424)===r&&(e=IE+500-lr(),10<e)){if(Dy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=MA(Fu.bind(null,t,Di,fa),e);break}Fu(t,Di,fa);break;case 4:if(wl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-so(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O9(r/1960))-r,10<r){t.timeoutHandle=MA(Fu.bind(null,t,Di,fa),r);break}Fu(t,Di,fa);break;case 5:Fu(t,Di,fa);break;default:throw Error(et(329))}}}return Ui(t,lr()),t.callbackNode===n?fO.bind(null,t):null}function jA(t,e){var n=Bp;return t.current.memoizedState.isDehydrated&&(rc(t,e).flags|=256),t=Qy(t,e),t!==2&&(e=Di,Di=n,e!==null&&$A(e)),t}function $A(t){Di===null?Di=t:Di.push.apply(Di,t)}function N9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e){for(e&=~PE,e&=~Y1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-so(e),r=1<<n;t[n]=-1,e&=~r}}function zR(t){if(an&6)throw Error(et(327));ld();var e=Dy(t,0);if(!(e&1))return Ui(t,lr()),null;var n=Qy(t,e);if(t.tag!==0&&n===2){var r=vA(t);r!==0&&(e=r,n=jA(t,r))}if(n===1)throw n=pm,rc(t,0),wl(t,e),Ui(t,lr()),n;if(n===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fu(t,Di,fa),Ui(t,lr()),null}function BE(t,e){var n=an;an|=1;try{return t(e)}finally{an=n,an===0&&(Sd=lr()+500,$1&&ru())}}function Sc(t){Al!==null&&Al.tag===0&&!(an&6)&&ld();var e=an;an|=1;var n=Os.transition,r=gn;try{if(Os.transition=null,gn=1,t)return t()}finally{gn=r,Os.transition=n,an=e,!(an&6)&&ru()}}function DE(){qi=$f.current,Bn($f)}function rc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p9(n)),yr!==null)for(n=yr.return;n!==null;){var r=n;switch(hE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ny();break;case 3:_d(),Bn(Oi),Bn(oi),SE();break;case 5:wE(r);break;case 4:_d();break;case 13:Bn($n);break;case 19:Bn($n);break;case 10:vE(r.type._context);break;case 22:case 23:DE()}n=n.return}if(Nr=t,yr=t=Ll(t.current,null),jr=qi=e,Ar=0,pm=null,PE=Y1=wc=0,Di=Bp=null,Wu!==null){for(e=0;e<Wu.length;e++)if(n=Wu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wu=null}return t}function dO(t,e){do{var n=yr;try{if(gE(),ty.current=Jy,$y){for(var r=Yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$y=!1}if(_c=0,Dr=wr=Yn=null,Pp=!1,fm=0,RE.current=null,n===null||n.return===null){Ar=1,pm=e,yr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=jr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=CR(o);if(m!==null){m.flags&=-257,TR(m,o,a,s,e),m.mode&1&&ER(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){ER(s,u,e),LE();break e}l=Error(et(426))}}else if(Nn&&a.mode&1){var y=CR(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TR(y,o,a,s,e),pE(wd(l,a));break e}}s=l=wd(l,a),Ar!==4&&(Ar=2),Bp===null?Bp=[s]:Bp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=KF(s,l,e);xR(s,x);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bl===null||!Bl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=YF(s,a,e);xR(s,A);break e}}s=s.return}while(s!==null)}mO(n)}catch(M){e=M,yr===n&&n!==null&&(yr=n=n.return);continue}break}while(!0)}function hO(){var t=Xy.current;return Xy.current=Jy,t===null?Jy:t}function LE(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Nr===null||!(wc&268435455)&&!(Y1&268435455)||wl(Nr,jr)}function Qy(t,e){var n=an;an|=2;var r=hO();(Nr!==t||jr!==e)&&(fa=null,rc(t,e));do try{U9();break}catch(i){dO(t,i)}while(!0);if(gE(),an=n,Xy.current=r,yr!==null)throw Error(et(261));return Nr=null,jr=0,Ar}function U9(){for(;yr!==null;)pO(yr)}function z9(){for(;yr!==null&&!fH();)pO(yr)}function pO(t){var e=vO(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?mO(t):yr=e,RE.current=null}function mO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=D9(n,e),n!==null){n.flags&=32767,yr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ar=6,yr=null;return}}else if(n=B9(n,e,qi),n!==null){yr=n;return}if(e=e.sibling,e!==null){yr=e;return}yr=e=t}while(e!==null);Ar===0&&(Ar=5)}function Fu(t,e,n){var r=gn,i=Os.transition;try{Os.transition=null,gn=1,G9(t,e,n,r)}finally{Os.transition=i,gn=r}return null}function G9(t,e,n,r){do ld();while(Al!==null);if(an&6)throw Error(et(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wH(t,s),t===Nr&&(yr=Nr=null,jr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||O0||(O0=!0,yO(By,function(){return ld(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Os.transition,Os.transition=null;var o=gn;gn=1;var a=an;an|=4,RE.current=null,k9(t,n),uO(n,t),a9(AA),Ly=!!SA,AA=SA=null,t.current=n,F9(n),dH(),an=a,gn=o,Os.transition=s}else t.current=n;if(O0&&(O0=!1,Al=t,Yy=i),s=t.pendingLanes,s===0&&(Bl=null),mH(n.stateNode),Ui(t,lr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ky)throw Ky=!1,t=VA,VA=null,t;return Yy&1&&t.tag!==0&&ld(),s=t.pendingLanes,s&1?t===WA?Dp++:(Dp=0,WA=t):Dp=0,ru(),null}function ld(){if(Al!==null){var t=Xk(Yy),e=Os.transition,n=gn;try{if(Os.transition=null,gn=16>t?16:t,Al===null)var r=!1;else{if(t=Al,Al=null,Yy=0,an&6)throw Error(et(331));var i=an;for(an|=4,vt=t.current;vt!==null;){var s=vt,o=s.child;if(vt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(vt=u;vt!==null;){var c=vt;switch(c.tag){case 0:case 11:case 15:Ip(8,c,s)}var f=c.child;if(f!==null)f.return=c,vt=f;else for(;vt!==null;){c=vt;var d=c.sibling,m=c.return;if(oO(c),c===u){vt=null;break}if(d!==null){d.return=m,vt=d;break}vt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ip(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,vt=x;break e}vt=s.return}}var _=t.current;for(vt=_;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=_;vt!==null;){if(a=vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:K1(9,a)}}catch(M){er(a,a.return,M)}if(a===o){vt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,vt=A;break e}vt=a.return}}if(an=i,ru(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(G1,t)}catch{}r=!0}return r}finally{gn=n,Os.transition=e}}return!1}function GR(t,e,n){e=wd(n,e),e=KF(t,e,1),t=Il(t,e,1),e=Mi(),t!==null&&(Wm(t,1,e),Ui(t,e))}function er(t,e,n){if(t.tag===3)GR(t,t,n);else for(;e!==null;){if(e.tag===3){GR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bl===null||!Bl.has(r))){t=wd(n,t),t=YF(e,t,1),e=Il(e,t,1),t=Mi(),e!==null&&(Wm(e,1,t),Ui(e,t));break}}e=e.return}}function H9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mi(),t.pingedLanes|=t.suspendedLanes&n,Nr===t&&(jr&n)===n&&(Ar===4||Ar===3&&(jr&130023424)===jr&&500>lr()-IE?rc(t,0):PE|=n),Ui(t,e)}function gO(t,e){e===0&&(t.mode&1?(e=C0,C0<<=1,!(C0&130023424)&&(C0=4194304)):e=1);var n=Mi();t=Da(t,e),t!==null&&(Wm(t,e,n),Ui(t,n))}function V9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gO(t,n)}function W9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(e),gO(t,n)}var vO;vO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oi.current)Li=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Li=!1,I9(t,e,n);Li=!!(t.flags&131072)}else Li=!1,Nn&&e.flags&1048576&&_F(e,Gy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ry(t,e),t=e.pendingProps;var i=vd(e,oi.current);ad(e,n),i=bE(null,e,r,t,i,n);var s=ME();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(s=!0,Uy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xE(e),i.updater=J1,e.stateNode=i,i._reactInternals=e,BA(e,r,t,n),e=kA(null,e,r,!0,s,n)):(e.tag=0,Nn&&s&&dE(e),wi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ry(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$9(r),t=Zs(r,t),i){case 0:e=LA(null,e,r,t,n);break e;case 1:e=IR(null,e,r,t,n);break e;case 11:e=RR(null,e,r,t,n);break e;case 14:e=PR(null,e,r,Zs(r.type,t),n);break e}throw Error(et(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),LA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),IR(t,e,r,i,n);case 3:e:{if(eO(e),t===null)throw Error(et(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bF(t,e),Wy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wd(Error(et(423)),e),e=BR(t,e,r,n,i);break e}else if(r!==i){i=wd(Error(et(424)),e),e=BR(t,e,r,n,i);break e}else for(ts=Pl(e.stateNode.containerInfo.firstChild),rs=e,Nn=!0,eo=null,n=TF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yd(),r===i){e=La(t,e,n);break e}wi(t,e,r,n)}e=e.child}return e;case 5:return RF(e),t===null&&RA(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bA(r,i)?o=null:s!==null&&bA(r,s)&&(e.flags|=32),qF(t,e),wi(t,e,o,n),e.child;case 6:return t===null&&RA(e),null;case 13:return tO(t,e,n);case 4:return _E(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xd(e,null,r,n):wi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),RR(t,e,r,i,n);case 7:return wi(t,e,e.pendingProps,n),e.child;case 8:return wi(t,e,e.pendingProps.children,n),e.child;case 12:return wi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,En(Hy,r._currentValue),r._currentValue=o,s!==null)if(fo(s.value,o)){if(s.children===i.children&&!Oi.current){e=La(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ea(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),PA(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),PA(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ad(e,n),i=Ns(i),r=r(i),e.flags|=1,wi(t,e,r,n),e.child;case 14:return r=e.type,i=Zs(r,e.pendingProps),i=Zs(r.type,i),PR(t,e,r,i,n);case 15:return QF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),ry(t,e),e.tag=1,Ni(r)?(t=!0,Uy(e)):t=!1,ad(e,n),EF(e,r,i),BA(e,r,i,n),kA(null,e,r,!0,t,n);case 19:return nO(t,e,n);case 22:return ZF(t,e,n)}throw Error(et(156,e.tag))};function yO(t,e){return Wk(t,e)}function j9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(t,e,n,r){return new j9(t,e,n,r)}function kE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $9(t){if(typeof t=="function")return kE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eE)return 11;if(t===tE)return 14}return 2}function Ll(t,e){var n=t.alternate;return n===null?(n=Ls(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oy(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ff:return ic(n.children,i,s,e);case qM:o=8,i|=8;break;case nA:return t=Ls(12,n,e,i|2),t.elementType=nA,t.lanes=s,t;case rA:return t=Ls(13,n,e,i),t.elementType=rA,t.lanes=s,t;case iA:return t=Ls(19,n,e,i),t.elementType=iA,t.lanes=s,t;case Ck:return Q1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mk:o=10;break e;case Ek:o=9;break e;case eE:o=11;break e;case tE:o=14;break e;case gl:o=16,r=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=Ls(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ic(t,e,n,r){return t=Ls(7,t,r,e),t.lanes=n,t}function Q1(t,e,n,r){return t=Ls(22,t,r,e),t.elementType=Ck,t.lanes=n,t.stateNode={isHidden:!1},t}function _w(t,e,n){return t=Ls(6,t,null,e),t.lanes=n,t}function ww(t,e,n){return e=Ls(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FE(t,e,n,r,i,s,o,a,l){return t=new J9(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ls(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xE(s),t}function X9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xO(t){if(!t)return zl;t=t._reactInternals;e:{if(Lc(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var n=t.type;if(Ni(n))return yF(t,n,e)}return e}function _O(t,e,n,r,i,s,o,a,l){return t=FE(n,r,!0,t,i,s,o,a,l),t.context=xO(null),n=t.current,r=Mi(),i=Dl(n),s=Ea(r,i),s.callback=e??null,Il(n,s,i),t.current.lanes=i,Wm(t,i,r),Ui(t,r),t}function Z1(t,e,n,r){var i=e.current,s=Mi(),o=Dl(i);return n=xO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ea(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Il(i,e,o),t!==null&&(oo(t,i,o,s),ey(t,i,o)),o}function Zy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function OE(t,e){HR(t,e),(t=t.alternate)&&HR(t,e)}var wO=typeof reportError=="function"?reportError:function(t){console.error(t)};function NE(t){this._internalRoot=t}q1.prototype.render=NE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));Z1(t,e,null,null)};q1.prototype.unmount=NE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sc(function(){Z1(null,t,null,null)}),e[Ba]=null}};function q1(t){this._internalRoot=t}q1.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_l.length&&e!==0&&e<_l[n].priority;n++);_l.splice(n,0,t),n===0&&qk(t)}};function UE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VR(){}function K9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zy(o);s.call(u)}}var o=_O(e,r,t,0,null,!1,!1,"",VR);return t._reactRootContainer=o,t[Ba]=o.current,om(t.nodeType===8?t.parentNode:t),Sc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zy(l);a.call(u)}}var l=FE(t,0,!1,null,null,!1,!1,"",VR);return t._reactRootContainer=l,t[Ba]=l.current,om(t.nodeType===8?t.parentNode:t),Sc(function(){Z1(e,l,n,r)}),l}function tx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zy(o);a.call(l)}}Z1(e,o,t,i)}else o=K9(n,e,t,i,r);return Zy(o)}Kk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vp(e.pendingLanes);n!==0&&(iE(e,n|1),Ui(e,lr()),!(an&6)&&(Sd=lr()+500,ru()))}break;case 13:Sc(function(){var r=Da(t,1);if(r!==null){var i=Mi();oo(r,t,1,i)}}),OE(t,1)}};sE=function(t){if(t.tag===13){var e=Da(t,134217728);if(e!==null){var n=Mi();oo(e,t,134217728,n)}OE(t,134217728)}};Yk=function(t){if(t.tag===13){var e=Dl(t),n=Da(t,e);if(n!==null){var r=Mi();oo(n,t,e,r)}OE(t,e)}};Qk=function(){return gn};Zk=function(t,e){var n=gn;try{return gn=t,e()}finally{gn=n}};pA=function(t,e,n){switch(e){case"input":if(aA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j1(r);if(!i)throw Error(et(90));Rk(r),aA(r,i)}}}break;case"textarea":Ik(t,n);break;case"select":e=n.value,e!=null&&rd(t,!!n.multiple,e,!1)}};Nk=BE;Uk=Sc;var Y9={usingClientEntryPoint:!1,Events:[$m,zf,j1,Fk,Ok,BE]},zh={findFiberByHostInstance:Vu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Q9={bundleType:zh.bundleType,version:zh.version,rendererPackageName:zh.rendererPackageName,rendererConfig:zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hk(t),t===null?null:t.stateNode},findFiberByHostInstance:zh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{G1=N0.inject(Q9),Fo=N0}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y9;fs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UE(e))throw Error(et(200));return X9(t,e,null,n)};fs.createRoot=function(t,e){if(!UE(t))throw Error(et(299));var n=!1,r="",i=wO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FE(t,1,!1,null,null,n,!1,r,i),t[Ba]=e.current,om(t.nodeType===8?t.parentNode:t),new NE(e)};fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=Hk(e),t=t===null?null:t.stateNode,t};fs.flushSync=function(t){return Sc(t)};fs.hydrate=function(t,e,n){if(!ex(e))throw Error(et(200));return tx(null,t,e,!0,n)};fs.hydrateRoot=function(t,e,n){if(!UE(t))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_O(e,null,t,1,n??null,i,!1,s,o),t[Ba]=e.current,om(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new q1(e)};fs.render=function(t,e,n){if(!ex(e))throw Error(et(200));return tx(null,t,e,!1,n)};fs.unmountComponentAtNode=function(t){if(!ex(t))throw Error(et(40));return t._reactRootContainer?(Sc(function(){tx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ba]=null})}),!0):!1};fs.unstable_batchedUpdates=BE;fs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ex(n))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return tx(t,e,n,!1,r)};fs.version="18.2.0-next-9e3b772b8-20220608";function SO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SO)}catch(t){console.error(t)}}SO(),_k.exports=fs;var nx=_k.exports;const AO=Gd(nx);var zE,WR=nx;zE=WR.createRoot,WR.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xm="149",Z9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},q9={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bO=0,JA=1,MO=2,eV=3,EO=0,rx=1,Lp=2,$u=3,Ho=0,zi=1,ns=2,tV=2,No=0,sc=1,qy=2,XA=3,KA=4,CO=5,zu=100,TO=101,RO=102,YA=103,QA=104,PO=200,IO=201,BO=202,DO=203,GE=204,HE=205,LO=206,kO=207,FO=208,OO=209,NO=210,UO=0,zO=1,GO=2,e1=3,HO=4,VO=5,WO=6,jO=7,Km=0,$O=1,JO=2,ao=0,XO=1,KO=2,YO=3,VE=4,QO=5,Gl=300,ka=301,Hl=302,Ad=303,mm=304,jd=306,Vl=1e3,Pn=1001,bd=1002,tr=1003,gm=1004,nV=1004,ud=1005,rV=1005,en=1006,ix=1007,iV=1007,Vo=1008,ZA=1008,zs=1009,WE=1010,jE=1011,$E=1012,JE=1013,Sa=1014,Fr=1015,Or=1016,ZO=1017,qO=1018,oc=1020,e4=1021,Sr=1023,t4=1024,n4=1025,kl=1026,Ac=1027,XE=1028,r4=1029,i4=1030,s4=1031,o4=1033,ay=33776,ly=33777,uy=33778,cy=33779,qA=35840,eb=35841,tb=35842,nb=35843,a4=36196,rb=37492,ib=37496,sb=37808,ob=37809,ab=37810,lb=37811,ub=37812,cb=37813,fb=37814,db=37815,hb=37816,pb=37817,mb=37818,gb=37819,vb=37820,yb=37821,fy=36492,l4=36283,xb=36284,_b=36285,wb=36286,u4=2200,c4=2201,f4=2202,Md=2300,bc=2301,dy=2302,Ju=2400,Xu=2401,vm=2402,sx=2500,KE=2501,d4=0,YE=1,t1=2,Wl=3e3,bn=3001,h4=3200,QE=3201,iu=0,p4=1,sV="",Es="srgb",Fa="srgb-linear",oV=0,hy=7680,aV=7681,lV=7682,uV=7683,cV=34055,fV=34056,dV=5386,hV=512,pV=513,mV=514,gV=515,vV=516,yV=517,xV=518,m4=519,ym=35044,_V=35048,wV=35040,SV=35045,AV=35049,bV=35041,MV=35046,EV=35050,CV=35042,TV="100",Sb="300 es",n1=1035;class Wa{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ei=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jR=1234567;const ac=Math.PI/180,xm=180/Math.PI;function is(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[t&255]+ei[t>>8&255]+ei[t>>16&255]+ei[t>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[n&63|128]+ei[n>>8&255]+"-"+ei[n>>16&255]+ei[n>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toLowerCase()}function ur(t,e,n){return Math.max(e,Math.min(n,t))}function ZE(t,e){return(t%e+e)%e}function RV(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function PV(t,e,n){return t!==e?(n-t)/(e-t):0}function kp(t,e,n){return(1-n)*t+n*e}function IV(t,e,n,r){return kp(t,e,1-Math.exp(-n*r))}function BV(t,e=1){return e-Math.abs(ZE(t,e*2)-e)}function DV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function LV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function kV(t,e){return t+Math.floor(Math.random()*(e-t+1))}function FV(t,e){return t+Math.random()*(e-t)}function OV(t){return t*(.5-Math.random())}function NV(t){t!==void 0&&(jR=t);let e=jR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function UV(t){return t*ac}function zV(t){return t*xm}function Ab(t){return(t&t-1)===0&&t!==0}function g4(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function r1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function GV(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*d,a*u);break;case"YZY":t.set(l*d,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*d,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Aa(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function _n(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var ro=Object.freeze({__proto__:null,DEG2RAD:ac,RAD2DEG:xm,ceilPowerOfTwo:g4,clamp:ur,damp:IV,degToRad:UV,denormalize:Aa,euclideanModulo:ZE,floorPowerOfTwo:r1,generateUUID:is,inverseLerp:PV,isPowerOfTwo:Ab,lerp:kp,mapLinear:RV,normalize:_n,pingpong:BV,radToDeg:zV,randFloat:FV,randFloatSpread:OV,randInt:kV,seededRandom:NV,setQuaternionFromProperEuler:GV,smootherstep:LV,smoothstep:DV});class je{constructor(e=0,n=0){je.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ii{constructor(){ii.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],m=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],w=i[4],A=i[7],M=i[2],C=i[5],T=i[8];return s[0]=o*v+a*_+l*M,s[3]=o*y+a*w+l*C,s[6]=o*x+a*A+l*T,s[1]=u*v+c*_+f*M,s[4]=u*y+c*w+f*C,s[7]=u*x+c*A+f*T,s[2]=d*v+m*_+g*M,s[5]=d*y+m*w+g*C,s[8]=d*x+m*A+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=a*l-c*s,m=u*s-o*l,g=n*f+r*d+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(c*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=m*v,e[7]=(r*l-u*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Sw.makeScale(e,n)),this}rotate(e){return this.premultiply(Sw.makeRotation(-e)),this}translate(e,n){return this.premultiply(Sw.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Sw=new ii;function v4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const HV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jf(t,e){return new HV[t](e)}function _m(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function lc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function py(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Aw={[Es]:{[Fa]:lc},[Fa]:{[Es]:py}},ti={legacyMode:!0,get workingColorSpace(){return Fa},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Aw[e]&&Aw[e][n]!==void 0){const r=Aw[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},y4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_r={r:0,g:0,b:0},Xs={h:0,s:0,l:0},U0={h:0,s:0,l:0};function bw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function z0(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}let ut=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Es){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ti.workingColorSpace){return this.r=e,this.g=n,this.b=r,ti.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ti.workingColorSpace){if(e=ZE(e,1),n=ur(n,0,1),r=ur(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=bw(o,s,e+1/3),this.g=bw(o,s,e),this.b=bw(o,s,e-1/3)}return ti.toWorkingColorSpace(this,i),this}setStyle(e,n=Es){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ti.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ti.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ti.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ti.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Es){const r=y4[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lc(e.r),this.g=lc(e.g),this.b=lc(e.b),this}copyLinearToSRGB(e){return this.r=py(e.r),this.g=py(e.g),this.b=py(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Es){return ti.fromWorkingColorSpace(z0(this,_r),e),ur(_r.r*255,0,255)<<16^ur(_r.g*255,0,255)<<8^ur(_r.b*255,0,255)<<0}getHexString(e=Es){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ti.workingColorSpace){ti.fromWorkingColorSpace(z0(this,_r),n);const r=_r.r,i=_r.g,s=_r.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=ti.workingColorSpace){return ti.fromWorkingColorSpace(z0(this,_r),n),e.r=_r.r,e.g=_r.g,e.b=_r.b,e}getStyle(e=Es){return ti.fromWorkingColorSpace(z0(this,_r),e),e!==Es?`color(${e} ${_r.r} ${_r.g} ${_r.b})`:`rgb(${_r.r*255|0},${_r.g*255|0},${_r.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(Xs),Xs.h+=e,Xs.s+=n,Xs.l+=r,this.setHSL(Xs.h,Xs.s,Xs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Xs),e.getHSL(U0);const r=kp(Xs.h,U0.h,n),i=kp(Xs.s,U0.s,n),s=kp(Xs.l,U0.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};ut.NAMES=y4;let of;class qE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{of===void 0&&(of=_m("canvas")),of.width=e.width,of.height=e.height;const r=of.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=of}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=_m("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=lc(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(lc(n[r]/255)*255):n[r]=lc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ku{constructor(e=null){this.isSource=!0,this.uuid=is(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Mw(i[o].image)):s.push(Mw(i[o]))}else s=Mw(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Mw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?qE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let VV=0;class cn extends Wa{constructor(e=cn.DEFAULT_IMAGE,n=cn.DEFAULT_MAPPING,r=Pn,i=Pn,s=en,o=Vo,a=Sr,l=zs,u=cn.DEFAULT_ANISOTROPY,c=Wl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:VV++}),this.uuid=is(),this.name="",this.source=new Ku(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new je(0,0),this.repeat=new je(1,1),this.center=new je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ii,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vl:e.x=e.x-Math.floor(e.x);break;case Pn:e.x=e.x<0?0:1;break;case bd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vl:e.y=e.y-Math.floor(e.y);break;case Pn:e.y=e.y<0?0:1;break;case bd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}cn.DEFAULT_IMAGE=null;cn.DEFAULT_MAPPING=Gl;cn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,r=0,i=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],m=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,A=(m+1)/2,M=(x+1)/2,C=(c+d)/4,T=(f+v)/4,E=(g+y)/4;return w>A&&w>M?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=C/r,s=T/r):A>M?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=C/i,s=E/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=T/s,i=E/s),this.set(r,i,s,n),this}let _=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-v)/_,this.z=(d-c)/_,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class as extends Wa{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new cn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:en,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ku(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ox extends cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=tr,this.minFilter=tr,this.wrapR=Pn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WV extends as{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ox(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class eC extends cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=tr,this.minFilter=tr,this.wrapR=Pn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jV extends as{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new eC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class $V extends as{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class si{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=m,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==d||u!==m||c!==g){let y=1-a;const x=l*d+u*m+c*g+f*v,_=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const M=Math.sqrt(w),C=Math.atan2(M,x*_);y=Math.sin(y*C)/M,a=Math.sin(a*C)/M}const A=a*_;if(l=l*y+d*A,u=u*y+m*A,c=c*y+g*A,f=f*y+v*A,y===1-a){const M=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=M,u*=M,c*=M,f*=M}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*m-u*d,e[n+1]=l*g+c*d+u*f-a*m,e[n+2]=u*g+c*m+a*d-l*f,e[n+3]=c*g-a*f-l*d-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),d=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"YXZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"ZXY":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"ZYX":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"YZX":this._x=d*c*f+u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f-d*m*g;break;case"XZY":this._x=d*c*f-u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+a+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ur(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,n=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion($R.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion($R.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,d=-s*n-o*r-a*i;return this.x=u*l+d*-s+c*-a-f*-o,this.y=c*l+d*-o+f*-s-u*-a,this.z=f*l+d*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ew.copy(this).projectOnVector(e),this.sub(Ew)}reflect(e){return this.sub(Ew.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ur(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ew=new Z,$R=new si;class vo{constructor(e=new Z(1/0,1/0,1/0),n=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=bu.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)bu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(bu)}else r.boundingBox===null&&r.computeBoundingBox(),Cw.copy(r.boundingBox),Cw.applyMatrix4(e.matrixWorld),this.union(Cw);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bu),bu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gh),G0.subVectors(this.max,Gh),af.subVectors(e.a,Gh),lf.subVectors(e.b,Gh),uf.subVectors(e.c,Gh),sl.subVectors(lf,af),ol.subVectors(uf,lf),Mu.subVectors(af,uf);let n=[0,-sl.z,sl.y,0,-ol.z,ol.y,0,-Mu.z,Mu.y,sl.z,0,-sl.x,ol.z,0,-ol.x,Mu.z,0,-Mu.x,-sl.y,sl.x,0,-ol.y,ol.x,0,-Mu.y,Mu.x,0];return!Tw(n,af,lf,uf,G0)||(n=[1,0,0,0,1,0,0,0,1],!Tw(n,af,lf,uf,G0))?!1:(H0.crossVectors(sl,ol),n=[H0.x,H0.y,H0.z],Tw(n,af,lf,uf,G0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return bu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(bu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ia[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ia[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ia[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ia[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ia[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ia[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ia[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ia[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ia),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ia=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],bu=new Z,Cw=new vo,af=new Z,lf=new Z,uf=new Z,sl=new Z,ol=new Z,Mu=new Z,Gh=new Z,G0=new Z,H0=new Z,Eu=new Z;function Tw(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Eu.fromArray(t,s);const a=i.x*Math.abs(Eu.x)+i.y*Math.abs(Eu.y)+i.z*Math.abs(Eu.z),l=e.dot(Eu),u=n.dot(Eu),c=r.dot(Eu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const JV=new vo,Hh=new Z,Rw=new Z;class $o{constructor(e=new Z,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):JV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hh.subVectors(e,this.center);const n=Hh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Hh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Rw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hh.copy(e.center).add(Rw)),this.expandByPoint(Hh.copy(e.center).sub(Rw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const sa=new Z,Pw=new Z,V0=new Z,al=new Z,Iw=new Z,W0=new Z,Bw=new Z;class Ym{constructor(e=new Z,n=new Z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=sa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(sa.copy(this.direction).multiplyScalar(n).add(this.origin),sa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Pw.copy(e).add(n).multiplyScalar(.5),V0.copy(n).sub(e).normalize(),al.copy(this.origin).sub(Pw);const s=e.distanceTo(n)*.5,o=-this.direction.dot(V0),a=al.dot(this.direction),l=-al.dot(V0),u=al.lengthSq(),c=Math.abs(1-o*o);let f,d,m,g;if(c>0)if(f=o*l-a,d=o*a-l,g=s*c,f>=0)if(d>=-g)if(d<=g){const v=1/c;f*=v,d*=v,m=f*(f+o*d+2*a)+d*(o*f+d+2*l)+u}else d=s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d=-s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+u):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(V0).multiplyScalar(d).add(Pw),m}intersectSphere(e,n){sa.subVectors(e.center,this.origin);const r=sa.dot(this.direction),i=sa.dot(sa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,sa)!==null}intersectTriangle(e,n,r,i,s){Iw.subVectors(n,e),W0.subVectors(r,e),Bw.crossVectors(Iw,W0);let o=this.direction.dot(Bw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;al.subVectors(this.origin,e);const l=a*this.direction.dot(W0.crossVectors(al,W0));if(l<0)return null;const u=a*this.direction.dot(Iw.cross(al));if(u<0||l+u>o)return null;const c=-a*al.dot(Bw);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Lt{constructor(){Lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,f,d,m,g,v,y){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=d,x[3]=m,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Lt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/cf.setFromMatrixColumn(e,0).length(),s=1/cf.setFromMatrixColumn(e,1).length(),o=1/cf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=d-v*u,n[9]=-a*l,n[2]=v-d*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d+v*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=v+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d-v*a,n[4]=-o*f,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=v-d*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=g*u-m,n[8]=d*u+v,n[1]=l*f,n[5]=v*u+d,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=v-d*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*f+g,n[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+v,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=a*c,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XV,e,KV)}lookAt(e,n,r){const i=this.elements;return Yi.subVectors(e,n),Yi.lengthSq()===0&&(Yi.z=1),Yi.normalize(),ll.crossVectors(r,Yi),ll.lengthSq()===0&&(Math.abs(r.z)===1?Yi.x+=1e-4:Yi.z+=1e-4,Yi.normalize(),ll.crossVectors(r,Yi)),ll.normalize(),j0.crossVectors(Yi,ll),i[0]=ll.x,i[4]=j0.x,i[8]=Yi.x,i[1]=ll.y,i[5]=j0.y,i[9]=Yi.y,i[2]=ll.z,i[6]=j0.z,i[10]=Yi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],m=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],w=r[7],A=r[11],M=r[15],C=i[0],T=i[4],E=i[8],P=i[12],B=i[1],N=i[5],F=i[9],U=i[13],O=i[2],J=i[6],$=i[10],ie=i[14],H=i[3],j=i[7],W=i[11],G=i[15];return s[0]=o*C+a*B+l*O+u*H,s[4]=o*T+a*N+l*J+u*j,s[8]=o*E+a*F+l*$+u*W,s[12]=o*P+a*U+l*ie+u*G,s[1]=c*C+f*B+d*O+m*H,s[5]=c*T+f*N+d*J+m*j,s[9]=c*E+f*F+d*$+m*W,s[13]=c*P+f*U+d*ie+m*G,s[2]=g*C+v*B+y*O+x*H,s[6]=g*T+v*N+y*J+x*j,s[10]=g*E+v*F+y*$+x*W,s[14]=g*P+v*U+y*ie+x*G,s[3]=_*C+w*B+A*O+M*H,s[7]=_*T+w*N+A*J+M*j,s[11]=_*E+w*F+A*$+M*W,s[15]=_*P+w*U+A*ie+M*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],m=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*f-i*u*f-s*a*d+r*u*d+i*a*m-r*l*m)+v*(+n*l*m-n*u*d+s*o*d-i*o*m+i*u*c-s*l*c)+y*(+n*u*f-n*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+x*(-i*a*c-n*l*f+n*a*d+i*o*f-r*o*d+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],m=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=f*y*u-v*d*u+v*l*m-a*y*m-f*l*x+a*d*x,w=g*d*u-c*y*u-g*l*m+o*y*m+c*l*x-o*d*x,A=c*v*u-g*f*u+g*a*m-o*v*m-c*a*x+o*f*x,M=g*f*l-c*v*l-g*a*d+o*v*d+c*a*y-o*f*y,C=n*_+r*w+i*A+s*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/C;return e[0]=_*T,e[1]=(v*d*s-f*y*s-v*i*m+r*y*m+f*i*x-r*d*x)*T,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*x+r*l*x)*T,e[3]=(f*l*s-a*d*s-f*i*u+r*d*u+a*i*m-r*l*m)*T,e[4]=w*T,e[5]=(c*y*s-g*d*s+g*i*m-n*y*m-c*i*x+n*d*x)*T,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*x-n*l*x)*T,e[7]=(o*d*s-c*l*s+c*i*u-n*d*u-o*i*m+n*l*m)*T,e[8]=A*T,e[9]=(g*f*s-c*v*s-g*r*m+n*v*m+c*r*x-n*f*x)*T,e[10]=(o*v*s-g*a*s+g*r*u-n*v*u-o*r*x+n*a*x)*T,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*m-n*a*m)*T,e[12]=M*T,e[13]=(c*v*i-g*f*i+g*r*d-n*v*d-c*r*y+n*f*y)*T,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*y-n*a*y)*T,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*d+n*a*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,d=s*u,m=s*c,g=s*f,v=o*c,y=o*f,x=a*f,_=l*u,w=l*c,A=l*f,M=r.x,C=r.y,T=r.z;return i[0]=(1-(v+x))*M,i[1]=(m+A)*M,i[2]=(g-w)*M,i[3]=0,i[4]=(m-A)*C,i[5]=(1-(d+x))*C,i[6]=(y+_)*C,i[7]=0,i[8]=(g+w)*T,i[9]=(y-_)*T,i[10]=(1-(d+v))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=cf.set(i[0],i[1],i[2]).length();const o=cf.set(i[4],i[5],i[6]).length(),a=cf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ks.copy(this);const u=1/s,c=1/o,f=1/a;return Ks.elements[0]*=u,Ks.elements[1]*=u,Ks.elements[2]*=u,Ks.elements[4]*=c,Ks.elements[5]*=c,Ks.elements[6]*=c,Ks.elements[8]*=f,Ks.elements[9]*=f,Ks.elements[10]*=f,n.setFromRotationMatrix(Ks),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),f=(n+e)*l,d=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const cf=new Z,Ks=new Lt,XV=new Z(0,0,0),KV=new Z(1,1,1),ll=new Z,j0=new Z,Yi=new Z,JR=new Lt,XR=new si;class Qm{constructor(e=0,n=0,r=0,i=Qm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(ur(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ur(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(ur(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ur(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(ur(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-ur(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return JR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return XR.setFromEuler(this),this.setFromQuaternion(XR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qm.DEFAULT_ORDER="XYZ";class uc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YV=0;const KR=new Z,ff=new si,oa=new Lt,$0=new Z,Vh=new Z,QV=new Z,ZV=new si,YR=new Z(1,0,0),QR=new Z(0,1,0),ZR=new Z(0,0,1),qV={type:"added"},qR={type:"removed"};class Zt extends Wa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YV++}),this.uuid=is(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zt.DEFAULT_UP.clone();const e=new Z,n=new Qm,r=new si,i=new Z(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Lt},normalMatrix:{value:new ii}}),this.matrix=new Lt,this.matrixWorld=new Lt,this.matrixAutoUpdate=Zt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new uc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.multiply(ff),this}rotateOnWorldAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.premultiply(ff),this}rotateX(e){return this.rotateOnAxis(YR,e)}rotateY(e){return this.rotateOnAxis(QR,e)}rotateZ(e){return this.rotateOnAxis(ZR,e)}translateOnAxis(e,n){return KR.copy(e).applyQuaternion(this.quaternion),this.position.add(KR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(YR,e)}translateY(e){return this.translateOnAxis(QR,e)}translateZ(e){return this.translateOnAxis(ZR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(oa.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?$0.copy(e):$0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Vh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oa.lookAt(Vh,$0,this.up):oa.lookAt($0,Vh,this.up),this.quaternion.setFromRotationMatrix(oa),i&&(oa.extractRotation(i.matrixWorld),ff.setFromRotationMatrix(oa),this.quaternion.premultiply(ff.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(qV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qR)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(qR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),oa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),oa.multiply(e.parent.matrixWorld)),e.applyMatrix4(oa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,e,QV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,ZV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Zt.DEFAULT_UP=new Z(0,1,0);Zt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ys=new Z,aa=new Z,Dw=new Z,la=new Z,df=new Z,hf=new Z,eP=new Z,Lw=new Z,kw=new Z,Fw=new Z;class Is{constructor(e=new Z,n=new Z,r=new Z){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ys.subVectors(e,n),i.cross(Ys);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Ys.subVectors(i,n),aa.subVectors(r,n),Dw.subVectors(e,n);const o=Ys.dot(Ys),a=Ys.dot(aa),l=Ys.dot(Dw),u=aa.dot(aa),c=aa.dot(Dw),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,m=(u*l-a*c)*d,g=(o*c-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,la),la.x>=0&&la.y>=0&&la.x+la.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,la),l.set(0,0),l.addScaledVector(s,la.x),l.addScaledVector(o,la.y),l.addScaledVector(a,la.z),l}static isFrontFacing(e,n,r,i){return Ys.subVectors(r,n),aa.subVectors(e,n),Ys.cross(aa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ys.subVectors(this.c,this.b),aa.subVectors(this.a,this.b),Ys.cross(aa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Is.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Is.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;df.subVectors(i,r),hf.subVectors(s,r),Lw.subVectors(e,r);const l=df.dot(Lw),u=hf.dot(Lw);if(l<=0&&u<=0)return n.copy(r);kw.subVectors(e,i);const c=df.dot(kw),f=hf.dot(kw);if(c>=0&&f<=c)return n.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(df,o);Fw.subVectors(e,s);const m=df.dot(Fw),g=hf.dot(Fw);if(g>=0&&m<=g)return n.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(hf,a);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return eP.subVectors(s,i),a=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(eP,a);const x=1/(y+v+d);return o=v*x,a=d*x,n.copy(r).addScaledVector(df,o).addScaledVector(hf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let eW=0;class br extends Wa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eW++}),this.uuid=is(),this.name="",this.type="Material",this.blending=sc,this.side=Ho,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=GE,this.blendDst=HE,this.blendEquation=zu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=e1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=m4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hy,this.stencilZFail=hy,this.stencilZPass=hy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==sc&&(r.blending=this.blending),this.side!==Ho&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ai extends br{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pr=new Z,J0=new je;class rn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=ym,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)J0.fromBufferAttribute(this,n),J0.applyMatrix3(e),this.setXY(n,J0.x,J0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)pr.fromBufferAttribute(this,n),pr.applyMatrix3(e),this.setXYZ(n,pr.x,pr.y,pr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)pr.fromBufferAttribute(this,n),pr.applyMatrix4(e),this.setXYZ(n,pr.x,pr.y,pr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)pr.fromBufferAttribute(this,n),pr.applyNormalMatrix(e),this.setXYZ(n,pr.x,pr.y,pr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)pr.fromBufferAttribute(this,n),pr.transformDirection(e),this.setXYZ(n,pr.x,pr.y,pr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Aa(n,this.array)),n}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Aa(n,this.array)),n}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Aa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Aa(n,this.array)),n}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ym&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class tW extends rn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class nW extends rn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class rW extends rn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class iW extends rn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class tC extends rn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class sW extends rn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class nC extends rn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class oW extends rn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class _t extends rn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class aW extends rn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let lW=0;const ws=new Lt,Ow=new Zt,pf=new Z,Qi=new vo,Wh=new vo,Br=new Z;class $t extends Wa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lW++}),this.uuid=is(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(v4(e)?nC:tC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ii().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ws.makeRotationFromQuaternion(e),this.applyMatrix4(ws),this}rotateX(e){return ws.makeRotationX(e),this.applyMatrix4(ws),this}rotateY(e){return ws.makeRotationY(e),this.applyMatrix4(ws),this}rotateZ(e){return ws.makeRotationZ(e),this.applyMatrix4(ws),this}translate(e,n,r){return ws.makeTranslation(e,n,r),this.applyMatrix4(ws),this}scale(e,n,r){return ws.makeScale(e,n,r),this.applyMatrix4(ws),this}lookAt(e){return Ow.lookAt(e),Ow.updateMatrix(),this.applyMatrix4(Ow.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pf).negate(),this.translate(pf.x,pf.y,pf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new _t(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Qi.setFromBufferAttribute(s),this.morphTargetsRelative?(Br.addVectors(this.boundingBox.min,Qi.min),this.boundingBox.expandByPoint(Br),Br.addVectors(this.boundingBox.max,Qi.max),this.boundingBox.expandByPoint(Br)):(this.boundingBox.expandByPoint(Qi.min),this.boundingBox.expandByPoint(Qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $o);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const r=this.boundingSphere.center;if(Qi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Wh.setFromBufferAttribute(a),this.morphTargetsRelative?(Br.addVectors(Qi.min,Wh.min),Qi.expandByPoint(Br),Br.addVectors(Qi.max,Wh.max),Qi.expandByPoint(Br)):(Qi.expandByPoint(Wh.min),Qi.expandByPoint(Wh.max))}Qi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Br.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Br));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Br.fromBufferAttribute(a,u),l&&(pf.fromBufferAttribute(e,u),Br.add(pf)),i=Math.max(i,r.distanceToSquared(Br))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new rn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let B=0;B<a;B++)u[B]=new Z,c[B]=new Z;const f=new Z,d=new Z,m=new Z,g=new je,v=new je,y=new je,x=new Z,_=new Z;function w(B,N,F){f.fromArray(i,B*3),d.fromArray(i,N*3),m.fromArray(i,F*3),g.fromArray(o,B*2),v.fromArray(o,N*2),y.fromArray(o,F*2),d.sub(f),m.sub(f),v.sub(g),y.sub(g);const U=1/(v.x*y.y-y.x*v.y);isFinite(U)&&(x.copy(d).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(U),_.copy(m).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(U),u[B].add(x),u[N].add(x),u[F].add(x),c[B].add(_),c[N].add(_),c[F].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let B=0,N=A.length;B<N;++B){const F=A[B],U=F.start,O=F.count;for(let J=U,$=U+O;J<$;J+=3)w(r[J+0],r[J+1],r[J+2])}const M=new Z,C=new Z,T=new Z,E=new Z;function P(B){T.fromArray(s,B*3),E.copy(T);const N=u[B];M.copy(N),M.sub(T.multiplyScalar(T.dot(N))).normalize(),C.crossVectors(E,N);const U=C.dot(c[B])<0?-1:1;l[B*4]=M.x,l[B*4+1]=M.y,l[B*4+2]=M.z,l[B*4+3]=U}for(let B=0,N=A.length;B<N;++B){const F=A[B],U=F.start,O=F.count;for(let J=U,$=U+O;J<$;J+=3)P(r[J+0]),P(r[J+1]),P(r[J+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new rn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new Z,s=new Z,o=new Z,a=new Z,l=new Z,u=new Z,c=new Z,f=new Z;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Br.fromBufferAttribute(e,n),Br.normalize(),e.setXYZ(n,Br.x,Br.y,Br.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*c;for(let x=0;x<c;x++)d[g++]=u[m++]}return new rn(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $t,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],m=e(d,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let d=0,m=f.length;d<m;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const tP=new Lt,mf=new Ym,Nw=new $o,jh=new Z,$h=new Z,Jh=new Z,Uw=new Z,X0=new Z,K0=new je,Y0=new je,Q0=new je,zw=new Z,Z0=new Z;class Un extends Zt{constructor(e=new $t,n=new Ai){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){X0.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(Uw.fromBufferAttribute(f,e),o?X0.addScaledVector(Uw,c):X0.addScaledVector(Uw.sub(n),c))}n.add(X0)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Nw.copy(r.boundingSphere),Nw.applyMatrix4(s),e.ray.intersectsSphere(Nw)===!1)||(tP.copy(s).invert(),mf.copy(e.ray).applyMatrix4(tP),r.boundingBox!==null&&mf.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,f=r.groups,d=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],x=Math.max(v.start,d.start),_=Math.min(a.count,Math.min(v.start+v.count,d.start+d.count));for(let w=x,A=_;w<A;w+=3){const M=a.getX(w),C=a.getX(w+1),T=a.getX(w+2);o=q0(this,y,e,mf,u,c,M,C,T),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(a.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const x=a.getX(v),_=a.getX(v+1),w=a.getX(v+2);o=q0(this,i,e,mf,u,c,x,_,w),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],x=Math.max(v.start,d.start),_=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let w=x,A=_;w<A;w+=3){const M=w,C=w+1,T=w+2;o=q0(this,y,e,mf,u,c,M,C,T),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const x=v,_=v+1,w=v+2;o=q0(this,i,e,mf,u,c,x,_,w),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}}}function uW(t,e,n,r,i,s,o,a){let l;if(e.side===zi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ho,a),l===null)return null;Z0.copy(a),Z0.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Z0);return u<n.near||u>n.far?null:{distance:u,point:Z0.clone(),object:t}}function q0(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,jh),t.getVertexPosition(a,$h),t.getVertexPosition(l,Jh);const u=uW(t,e,n,r,jh,$h,Jh,zw);if(u){i&&(K0.fromBufferAttribute(i,o),Y0.fromBufferAttribute(i,a),Q0.fromBufferAttribute(i,l),u.uv=Is.getUV(zw,jh,$h,Jh,K0,Y0,Q0,new je)),s&&(K0.fromBufferAttribute(s,o),Y0.fromBufferAttribute(s,a),Q0.fromBufferAttribute(s,l),u.uv2=Is.getUV(zw,jh,$h,Jh,K0,Y0,Q0,new je));const c={a:o,b:a,c:l,normal:new Z,materialIndex:0};Is.getNormal(jh,$h,Jh,c.normal),u.face=c}return u}class su extends $t{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new _t(u,3)),this.setAttribute("normal",new _t(c,3)),this.setAttribute("uv",new _t(f,2));function g(v,y,x,_,w,A,M,C,T,E,P){const B=A/T,N=M/E,F=A/2,U=M/2,O=C/2,J=T+1,$=E+1;let ie=0,H=0;const j=new Z;for(let W=0;W<$;W++){const G=W*N-U;for(let z=0;z<J;z++){const X=z*B-F;j[v]=X*_,j[y]=G*w,j[x]=O,u.push(j.x,j.y,j.z),j[v]=0,j[y]=0,j[x]=C>0?1:-1,c.push(j.x,j.y,j.z),f.push(z/T),f.push(1-W/E),ie+=1}}for(let W=0;W<E;W++)for(let G=0;G<T;G++){const z=d+G+J*W,X=d+G+J*(W+1),ne=d+(G+1)+J*(W+1),ee=d+(G+1)+J*W;l.push(z,X,ee),l.push(X,ne,ee),H+=6}a.addGroup(m,H,P),m+=H,d+=ie}}static fromJSON(e){return new su(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ed(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function xi(t){const e={};for(let n=0;n<t.length;n++){const r=Ed(t[n]);for(const i in r)e[i]=r[i]}return e}function cW(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function x4(t){return t.getRenderTarget()===null&&t.outputEncoding===bn?Es:Fa}const rC={clone:Ed,merge:xi};var fW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ls extends br{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fW,this.fragmentShader=dW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ed(e.uniforms),this.uniformsGroups=cW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Zm extends Zt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lt,this.projectionMatrix=new Lt,this.projectionMatrixInverse=new Lt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class cr extends Zm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=xm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ac*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xm*2*Math.atan(Math.tan(ac*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ac*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const gf=-90,vf=1;class _4 extends Zt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new cr(gf,vf,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new cr(gf,vf,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new cr(gf,vf,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new cr(gf,vf,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new cr(gf,vf,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new cr(gf,vf,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=ao,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class qm extends cn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:ka,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class iC extends as{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new qm(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:en}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new su(5,5,5),s=new ls({name:"CubemapFromEquirect",uniforms:Ed(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zi,blending:No});s.uniforms.tEquirect.value=n;const o=new Un(i,s),a=n.minFilter;return n.minFilter===Vo&&(n.minFilter=en),new _4(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Gw=new Z,hW=new Z,pW=new ii;class yl{constructor(e=new Z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Gw.subVectors(r,n).cross(hW.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(Gw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||pW.getNormalMatrix(e),i=this.coplanarPoint(Gw).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yf=new $o,ev=new Z;class ax{constructor(e=new yl,n=new yl,r=new yl,i=new yl,s=new yl,o=new yl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],m=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],w=r[15];return n[0].setComponents(a-i,f-l,v-d,w-y).normalize(),n[1].setComponents(a+i,f+l,v+d,w+y).normalize(),n[2].setComponents(a+s,f+u,v+m,w+x).normalize(),n[3].setComponents(a-s,f-u,v-m,w-x).normalize(),n[4].setComponents(a-o,f-c,v-g,w-_).normalize(),n[5].setComponents(a+o,f+c,v+g,w+_).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),yf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yf)}intersectsSprite(e){return yf.center.set(0,0,0),yf.radius=.7071067811865476,yf.applyMatrix4(e.matrixWorld),this.intersectsSphere(yf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(ev.x=i.normal.x>0?e.max.x:e.min.x,ev.y=i.normal.y>0?e.max.y:e.min.y,ev.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ev)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function w4(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function mW(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,f,d),u.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const d=c.array,m=c.updateRange;t.bindBuffer(f,u),m.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class yo extends $t{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,d=n/l,m=[],g=[],v=[],y=[];for(let x=0;x<c;x++){const _=x*d-o;for(let w=0;w<u;w++){const A=w*f-s;g.push(A,-_,0),v.push(0,0,1),y.push(w/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const w=_+u*x,A=_+u*(x+1),M=_+1+u*(x+1),C=_+1+u*x;m.push(w,A,C),m.push(A,M,C)}this.setIndex(m),this.setAttribute("position",new _t(g,3)),this.setAttribute("normal",new _t(v,3)),this.setAttribute("uv",new _t(y,2))}static fromJSON(e){return new yo(e.width,e.height,e.widthSegments,e.heightSegments)}}var gW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,vW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,xW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_W=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SW="vec3 transformed = vec3( position );",AW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,MW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,EW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,CW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,TW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,RW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,PW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,IW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,BW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,LW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,kW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,FW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,OW=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,NW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,UW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,zW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,GW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,HW="gl_FragColor = linearToOutputTexel( gl_FragColor );",VW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,WW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,$W=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,JW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,XW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,KW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,YW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,e7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,t7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,n7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,r7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,i7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,s7=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,o7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,a7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,l7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,u7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,c7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,f7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,d7=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,h7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,p7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,m7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,g7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,v7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,y7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,x7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,w7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,S7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,A7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,b7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,M7=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,E7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,C7=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,T7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,R7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,P7=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,I7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,B7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,L7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,k7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,F7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,O7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,N7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,U7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,z7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,G7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,H7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,V7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,W7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,j7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,J7=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,X7=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,K7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Y7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Q7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Z7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,q7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ej=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ij=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,oj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,aj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,lj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,cj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,fj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,dj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,hj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const pj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,mj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_j=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,wj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Sj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Aj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,bj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Mj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ej=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Rj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ij=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Dj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Fj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Uj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Vj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Wj=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$j=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jt={alphamap_fragment:gW,alphamap_pars_fragment:vW,alphatest_fragment:yW,alphatest_pars_fragment:xW,aomap_fragment:_W,aomap_pars_fragment:wW,begin_vertex:SW,beginnormal_vertex:AW,bsdfs:bW,iridescence_fragment:MW,bumpmap_pars_fragment:EW,clipping_planes_fragment:CW,clipping_planes_pars_fragment:TW,clipping_planes_pars_vertex:RW,clipping_planes_vertex:PW,color_fragment:IW,color_pars_fragment:BW,color_pars_vertex:DW,color_vertex:LW,common:kW,cube_uv_reflection_fragment:FW,defaultnormal_vertex:OW,displacementmap_pars_vertex:NW,displacementmap_vertex:UW,emissivemap_fragment:zW,emissivemap_pars_fragment:GW,encodings_fragment:HW,encodings_pars_fragment:VW,envmap_fragment:WW,envmap_common_pars_fragment:jW,envmap_pars_fragment:$W,envmap_pars_vertex:JW,envmap_physical_pars_fragment:s7,envmap_vertex:XW,fog_vertex:KW,fog_pars_vertex:YW,fog_fragment:QW,fog_pars_fragment:ZW,gradientmap_pars_fragment:qW,lightmap_fragment:e7,lightmap_pars_fragment:t7,lights_lambert_fragment:n7,lights_lambert_pars_fragment:r7,lights_pars_begin:i7,lights_toon_fragment:o7,lights_toon_pars_fragment:a7,lights_phong_fragment:l7,lights_phong_pars_fragment:u7,lights_physical_fragment:c7,lights_physical_pars_fragment:f7,lights_fragment_begin:d7,lights_fragment_maps:h7,lights_fragment_end:p7,logdepthbuf_fragment:m7,logdepthbuf_pars_fragment:g7,logdepthbuf_pars_vertex:v7,logdepthbuf_vertex:y7,map_fragment:x7,map_pars_fragment:_7,map_particle_fragment:w7,map_particle_pars_fragment:S7,metalnessmap_fragment:A7,metalnessmap_pars_fragment:b7,morphcolor_vertex:M7,morphnormal_vertex:E7,morphtarget_pars_vertex:C7,morphtarget_vertex:T7,normal_fragment_begin:R7,normal_fragment_maps:P7,normal_pars_fragment:I7,normal_pars_vertex:B7,normal_vertex:D7,normalmap_pars_fragment:L7,clearcoat_normal_fragment_begin:k7,clearcoat_normal_fragment_maps:F7,clearcoat_pars_fragment:O7,iridescence_pars_fragment:N7,output_fragment:U7,packing:z7,premultiplied_alpha_fragment:G7,project_vertex:H7,dithering_fragment:V7,dithering_pars_fragment:W7,roughnessmap_fragment:j7,roughnessmap_pars_fragment:$7,shadowmap_pars_fragment:J7,shadowmap_pars_vertex:X7,shadowmap_vertex:K7,shadowmask_pars_fragment:Y7,skinbase_vertex:Q7,skinning_pars_vertex:Z7,skinning_vertex:q7,skinnormal_vertex:ej,specularmap_fragment:tj,specularmap_pars_fragment:nj,tonemapping_fragment:rj,tonemapping_pars_fragment:ij,transmission_fragment:sj,transmission_pars_fragment:oj,uv_pars_fragment:aj,uv_pars_vertex:lj,uv_vertex:uj,uv2_pars_fragment:cj,uv2_pars_vertex:fj,uv2_vertex:dj,worldpos_vertex:hj,background_vert:pj,background_frag:mj,backgroundCube_vert:gj,backgroundCube_frag:vj,cube_vert:yj,cube_frag:xj,depth_vert:_j,depth_frag:wj,distanceRGBA_vert:Sj,distanceRGBA_frag:Aj,equirect_vert:bj,equirect_frag:Mj,linedashed_vert:Ej,linedashed_frag:Cj,meshbasic_vert:Tj,meshbasic_frag:Rj,meshlambert_vert:Pj,meshlambert_frag:Ij,meshmatcap_vert:Bj,meshmatcap_frag:Dj,meshnormal_vert:Lj,meshnormal_frag:kj,meshphong_vert:Fj,meshphong_frag:Oj,meshphysical_vert:Nj,meshphysical_frag:Uj,meshtoon_vert:zj,meshtoon_frag:Gj,points_vert:Hj,points_frag:Vj,shadow_vert:Wj,shadow_frag:jj,sprite_vert:$j,sprite_frag:Jj},lt={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ii},uv2Transform:{value:new ii},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new je(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ii}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new je(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ii}}},to={basic:{uniforms:xi([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.fog]),vertexShader:jt.meshbasic_vert,fragmentShader:jt.meshbasic_frag},lambert:{uniforms:xi([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new ut(0)}}]),vertexShader:jt.meshlambert_vert,fragmentShader:jt.meshlambert_frag},phong:{uniforms:xi([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:jt.meshphong_vert,fragmentShader:jt.meshphong_frag},standard:{uniforms:xi([lt.common,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.roughnessmap,lt.metalnessmap,lt.fog,lt.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag},toon:{uniforms:xi([lt.common,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.gradientmap,lt.fog,lt.lights,{emissive:{value:new ut(0)}}]),vertexShader:jt.meshtoon_vert,fragmentShader:jt.meshtoon_frag},matcap:{uniforms:xi([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,{matcap:{value:null}}]),vertexShader:jt.meshmatcap_vert,fragmentShader:jt.meshmatcap_frag},points:{uniforms:xi([lt.points,lt.fog]),vertexShader:jt.points_vert,fragmentShader:jt.points_frag},dashed:{uniforms:xi([lt.common,lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jt.linedashed_vert,fragmentShader:jt.linedashed_frag},depth:{uniforms:xi([lt.common,lt.displacementmap]),vertexShader:jt.depth_vert,fragmentShader:jt.depth_frag},normal:{uniforms:xi([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,{opacity:{value:1}}]),vertexShader:jt.meshnormal_vert,fragmentShader:jt.meshnormal_frag},sprite:{uniforms:xi([lt.sprite,lt.fog]),vertexShader:jt.sprite_vert,fragmentShader:jt.sprite_frag},background:{uniforms:{uvTransform:{value:new ii},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jt.background_vert,fragmentShader:jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:jt.backgroundCube_vert,fragmentShader:jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jt.cube_vert,fragmentShader:jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jt.equirect_vert,fragmentShader:jt.equirect_frag},distanceRGBA:{uniforms:xi([lt.common,lt.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jt.distanceRGBA_vert,fragmentShader:jt.distanceRGBA_frag},shadow:{uniforms:xi([lt.lights,lt.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:jt.shadow_vert,fragmentShader:jt.shadow_frag}};to.physical={uniforms:xi([to.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new je(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag};const tv={r:0,b:0,g:0};function Xj(t,e,n,r,i,s,o){const a=new ut(0);let l=s===!0?0:1,u,c,f=null,d=0,m=null;function g(y,x){let _=!1,w=x.isScene===!0?x.background:null;w&&w.isTexture&&(w=(x.backgroundBlurriness>0?n:e).get(w));const A=t.xr,M=A.getSession&&A.getSession();M&&M.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),_=!0),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===jd)?(c===void 0&&(c=new Un(new su(1,1,1),new ls({name:"BackgroundCubeMaterial",uniforms:Ed(to.backgroundCube.uniforms),vertexShader:to.backgroundCube.vertexShader,fragmentShader:to.backgroundCube.fragmentShader,side:zi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,T,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=w.encoding!==bn,(f!==w||d!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Un(new yo(2,2),new ls({name:"BackgroundMaterial",uniforms:Ed(to.background.uniforms),vertexShader:to.background.vertexShader,fragmentShader:to.background.fragmentShader,side:Ho,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=w.encoding!==bn,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,x){y.getRGB(tv,x4(t)),r.buffers.color.setClear(tv.r,tv.g,tv.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function Kj(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(O,J,$,ie,H){let j=!1;if(o){const W=v(ie,$,J);u!==W&&(u=W,m(u.object)),j=x(O,ie,$,H),j&&_(O,ie,$,H)}else{const W=J.wireframe===!0;(u.geometry!==ie.id||u.program!==$.id||u.wireframe!==W)&&(u.geometry=ie.id,u.program=$.id,u.wireframe=W,j=!0)}H!==null&&n.update(H,34963),(j||c)&&(c=!1,E(O,J,$,ie),H!==null&&t.bindBuffer(34963,n.get(H).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(O){return r.isWebGL2?t.bindVertexArray(O):s.bindVertexArrayOES(O)}function g(O){return r.isWebGL2?t.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function v(O,J,$){const ie=$.wireframe===!0;let H=a[O.id];H===void 0&&(H={},a[O.id]=H);let j=H[J.id];j===void 0&&(j={},H[J.id]=j);let W=j[ie];return W===void 0&&(W=y(d()),j[ie]=W),W}function y(O){const J=[],$=[],ie=[];for(let H=0;H<i;H++)J[H]=0,$[H]=0,ie[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:$,attributeDivisors:ie,object:O,attributes:{},index:null}}function x(O,J,$,ie){const H=u.attributes,j=J.attributes;let W=0;const G=$.getAttributes();for(const z in G)if(G[z].location>=0){const ne=H[z];let ee=j[z];if(ee===void 0&&(z==="instanceMatrix"&&O.instanceMatrix&&(ee=O.instanceMatrix),z==="instanceColor"&&O.instanceColor&&(ee=O.instanceColor)),ne===void 0||ne.attribute!==ee||ee&&ne.data!==ee.data)return!0;W++}return u.attributesNum!==W||u.index!==ie}function _(O,J,$,ie){const H={},j=J.attributes;let W=0;const G=$.getAttributes();for(const z in G)if(G[z].location>=0){let ne=j[z];ne===void 0&&(z==="instanceMatrix"&&O.instanceMatrix&&(ne=O.instanceMatrix),z==="instanceColor"&&O.instanceColor&&(ne=O.instanceColor));const ee={};ee.attribute=ne,ne&&ne.data&&(ee.data=ne.data),H[z]=ee,W++}u.attributes=H,u.attributesNum=W,u.index=ie}function w(){const O=u.newAttributes;for(let J=0,$=O.length;J<$;J++)O[J]=0}function A(O){M(O,0)}function M(O,J){const $=u.newAttributes,ie=u.enabledAttributes,H=u.attributeDivisors;$[O]=1,ie[O]===0&&(t.enableVertexAttribArray(O),ie[O]=1),H[O]!==J&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,J),H[O]=J)}function C(){const O=u.newAttributes,J=u.enabledAttributes;for(let $=0,ie=J.length;$<ie;$++)J[$]!==O[$]&&(t.disableVertexAttribArray($),J[$]=0)}function T(O,J,$,ie,H,j){r.isWebGL2===!0&&($===5124||$===5125)?t.vertexAttribIPointer(O,J,$,H,j):t.vertexAttribPointer(O,J,$,ie,H,j)}function E(O,J,$,ie){if(r.isWebGL2===!1&&(O.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const H=ie.attributes,j=$.getAttributes(),W=J.defaultAttributeValues;for(const G in j){const z=j[G];if(z.location>=0){let X=H[G];if(X===void 0&&(G==="instanceMatrix"&&O.instanceMatrix&&(X=O.instanceMatrix),G==="instanceColor"&&O.instanceColor&&(X=O.instanceColor)),X!==void 0){const ne=X.normalized,ee=X.itemSize,Y=n.get(X);if(Y===void 0)continue;const ue=Y.buffer,ce=Y.type,Te=Y.bytesPerElement;if(X.isInterleavedBufferAttribute){const we=X.data,ve=we.stride,oe=X.offset;if(we.isInstancedInterleavedBuffer){for(let fe=0;fe<z.locationSize;fe++)M(z.location+fe,we.meshPerAttribute);O.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let fe=0;fe<z.locationSize;fe++)A(z.location+fe);t.bindBuffer(34962,ue);for(let fe=0;fe<z.locationSize;fe++)T(z.location+fe,ee/z.locationSize,ce,ne,ve*Te,(oe+ee/z.locationSize*fe)*Te)}else{if(X.isInstancedBufferAttribute){for(let we=0;we<z.locationSize;we++)M(z.location+we,X.meshPerAttribute);O.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let we=0;we<z.locationSize;we++)A(z.location+we);t.bindBuffer(34962,ue);for(let we=0;we<z.locationSize;we++)T(z.location+we,ee/z.locationSize,ce,ne,ee*Te,ee/z.locationSize*we*Te)}}else if(W!==void 0){const ne=W[G];if(ne!==void 0)switch(ne.length){case 2:t.vertexAttrib2fv(z.location,ne);break;case 3:t.vertexAttrib3fv(z.location,ne);break;case 4:t.vertexAttrib4fv(z.location,ne);break;default:t.vertexAttrib1fv(z.location,ne)}}}}C()}function P(){F();for(const O in a){const J=a[O];for(const $ in J){const ie=J[$];for(const H in ie)g(ie[H].object),delete ie[H];delete J[$]}delete a[O]}}function B(O){if(a[O.id]===void 0)return;const J=a[O.id];for(const $ in J){const ie=J[$];for(const H in ie)g(ie[H].object),delete ie[H];delete J[$]}delete a[O.id]}function N(O){for(const J in a){const $=a[J];if($[O.id]===void 0)continue;const ie=$[O.id];for(const H in ie)g(ie[H].object),delete ie[H];delete $[O.id]}}function F(){U(),c=!0,u!==l&&(u=l,m(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:F,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:B,releaseStatesOfProgram:N,initAttributes:w,enableAttribute:A,disableUnusedAttributes:C}}function Yj(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Qj(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),d=t.getParameter(35660),m=t.getParameter(3379),g=t.getParameter(34076),v=t.getParameter(34921),y=t.getParameter(36347),x=t.getParameter(36348),_=t.getParameter(36349),w=d>0,A=o||e.has("OES_texture_float"),M=w&&A,C=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:M,maxSamples:C}}function Zj(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new yl,a=new ii,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const m=f.length!==0||d||r!==0||i;return i=d,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,m){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,x=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const _=s?0:r,w=_*4;let A=x.clippingState||null;l.value=A,A=c(g,d,w,m);for(let M=0;M!==w;++M)A[M]=n[M];x.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,m,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=m+v*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let w=0,A=m;w!==v;++w,A+=4)o.copy(f[w]).applyMatrix4(_,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function qj(t){let e=new WeakMap;function n(o,a){return a===Ad?o.mapping=ka:a===mm&&(o.mapping=Hl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Ad||a===mm)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new iC(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ja extends Zm{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Xf=4,nP=[.125,.215,.35,.446,.526,.582],Gu=20,Hw=new ja,rP=new ut;let Vw=null;const Ou=(1+Math.sqrt(5))/2,xf=1/Ou,iP=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,Ou,xf),new Z(0,Ou,-xf),new Z(xf,0,Ou),new Z(-xf,0,Ou),new Z(Ou,xf,0),new Z(-Ou,xf,0)];class bb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Vw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Vw),e.scissorTest=!1,nv(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ka||e.mapping===Hl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Vw=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:en,minFilter:en,generateMipmaps:!1,type:Or,format:Sr,encoding:Wl,depthBuffer:!1},i=sP(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sP(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=e$(s)),this._blurMaterial=t$(s,e,n)}return i}_compileMaterial(e){const n=new Un(this._lodPlanes[0],e);this._renderer.compile(n,Hw)}_sceneToCubeUV(e,n,r,i){const a=new cr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(rP),c.toneMapping=ao,c.autoClear=!1;const m=new Ai({name:"PMREM.Background",side:zi,depthWrite:!1,depthTest:!1}),g=new Un(new su,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(rP),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const w=this._cubeSize;nv(i,_*w,x>2?w:0,w,w),c.setRenderTarget(i),v&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ka||e.mapping===Hl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=aP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oP());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Un(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;nv(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Hw)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=iP[(i-1)%iP.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Un(this._lodPlanes[i],u),d=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Gu-1),v=s/g,y=isFinite(s)?1+Math.floor(c*v):Gu;y>Gu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Gu}`);const x=[];let _=0;for(let T=0;T<Gu;++T){const E=T/v,P=Math.exp(-E*E/2);x.push(P),T===0?_+=P:T<y&&(_+=2*P)}for(let T=0;T<x.length;T++)x[T]=x[T]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=g,d.mipInt.value=w-r;const A=this._sizeLods[i],M=3*A*(i>w-Xf?i-w+Xf:0),C=4*(this._cubeSize-A);nv(n,M,C,3*A,2*A),l.setRenderTarget(n),l.render(f,Hw)}}function e$(t){const e=[],n=[],r=[];let i=t;const s=t-Xf+1+nP.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Xf?l=nP[o-t+Xf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*m),w=new Float32Array(y*g*m),A=new Float32Array(x*g*m);for(let C=0;C<m;C++){const T=C%3*2/3-1,E=C>2?0:-1,P=[T,E,0,T+2/3,E,0,T+2/3,E+1,0,T,E,0,T+2/3,E+1,0,T,E+1,0];_.set(P,v*g*C),w.set(d,y*g*C);const B=[C,C,C,C,C,C];A.set(B,x*g*C)}const M=new $t;M.setAttribute("position",new rn(_,v)),M.setAttribute("uv",new rn(w,y)),M.setAttribute("faceIndex",new rn(A,x)),e.push(M),i>Xf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function sP(t,e,n){const r=new as(t,e,n);return r.texture.mapping=jd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function nv(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function t$(t,e,n){const r=new Float32Array(Gu),i=new Z(0,1,0);return new ls({name:"SphericalGaussianBlur",defines:{n:Gu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:sC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:No,depthTest:!1,depthWrite:!1})}function oP(){return new ls({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:No,depthTest:!1,depthWrite:!1})}function aP(){return new ls({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:No,depthTest:!1,depthWrite:!1})}function sC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function n$(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Ad||l===mm,c=l===ka||l===Hl;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new bb(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new bb(t));const d=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function r$(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function i$(t,e,n,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function u(f){const d=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let w=0,A=_.length;w<A;w+=3){const M=_[w+0],C=_[w+1],T=_[w+2];d.push(M,C,C,T,T,M)}}else{const _=g.array;v=g.version;for(let w=0,A=_.length/3-1;w<A;w+=3){const M=w+0,C=w+1,T=w+2;d.push(M,C,C,T,T,M)}}const y=new(v4(d)?nC:tC)(d,1);y.version=v;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function c(f){const d=s.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function s$(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,m){t.drawElements(s,m,a,d*l),n.update(m,s,1)}function f(d,m,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,d*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function o$(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function a$(t,e){return t[0]-e[0]}function l$(t,e){return Math.abs(e[1])-Math.abs(t[1])}function u$(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,d){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(c);if(x===void 0||x.count!==y){let $=function(){O.dispose(),s.delete(c),c.removeEventListener("dispose",$)};var g=$;x!==void 0&&x.texture.dispose();const A=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,C=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],E=c.morphAttributes.normal||[],P=c.morphAttributes.color||[];let B=0;A===!0&&(B=1),M===!0&&(B=2),C===!0&&(B=3);let N=c.attributes.position.count*B,F=1;N>e.maxTextureSize&&(F=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const U=new Float32Array(N*F*4*y),O=new ox(U,N,F,y);O.type=Fr,O.needsUpdate=!0;const J=B*4;for(let ie=0;ie<y;ie++){const H=T[ie],j=E[ie],W=P[ie],G=N*F*4*ie;for(let z=0;z<H.count;z++){const X=z*J;A===!0&&(o.fromBufferAttribute(H,z),U[G+X+0]=o.x,U[G+X+1]=o.y,U[G+X+2]=o.z,U[G+X+3]=0),M===!0&&(o.fromBufferAttribute(j,z),U[G+X+4]=o.x,U[G+X+5]=o.y,U[G+X+6]=o.z,U[G+X+7]=0),C===!0&&(o.fromBufferAttribute(W,z),U[G+X+8]=o.x,U[G+X+9]=o.y,U[G+X+10]=o.z,U[G+X+11]=W.itemSize===4?o.w:1)}}x={count:y,texture:O,size:new je(N,F)},s.set(c,x),c.addEventListener("dispose",$)}let _=0;for(let A=0;A<m.length;A++)_+=m[A];const w=c.morphTargetsRelative?1:1-_;d.getUniforms().setValue(t,"morphTargetBaseInfluence",w),d.getUniforms().setValue(t,"morphTargetInfluences",m),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=m===void 0?0:m.length;let y=r[c.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];r[c.id]=y}for(let M=0;M<v;M++){const C=y[M];C[0]=M,C[1]=m[M]}y.sort(l$);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(a$);const x=c.morphAttributes.position,_=c.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const C=a[M],T=C[0],E=C[1];T!==Number.MAX_SAFE_INTEGER&&E?(x&&c.getAttribute("morphTarget"+M)!==x[T]&&c.setAttribute("morphTarget"+M,x[T]),_&&c.getAttribute("morphNormal"+M)!==_[T]&&c.setAttribute("morphNormal"+M,_[T]),i[M]=E,w+=E):(x&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),_&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const A=c.morphTargetsRelative?1:1-w;d.getUniforms().setValue(t,"morphTargetBaseInfluence",A),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function c$(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const S4=new cn,A4=new ox,b4=new eC,M4=new qm,lP=[],uP=[],cP=new Float32Array(16),fP=new Float32Array(9),dP=new Float32Array(4);function $d(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=lP[i];if(s===void 0&&(s=new Float32Array(i),lP[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Mr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Er(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function lx(t,e){let n=uP[e];n===void 0&&(n=new Int32Array(e),uP[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function f$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function d$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mr(n,e))return;t.uniform2fv(this.addr,e),Er(n,e)}}function h$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Mr(n,e))return;t.uniform3fv(this.addr,e),Er(n,e)}}function p$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mr(n,e))return;t.uniform4fv(this.addr,e),Er(n,e)}}function m$(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Er(n,e)}else{if(Mr(n,r))return;dP.set(r),t.uniformMatrix2fv(this.addr,!1,dP),Er(n,r)}}function g$(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Er(n,e)}else{if(Mr(n,r))return;fP.set(r),t.uniformMatrix3fv(this.addr,!1,fP),Er(n,r)}}function v$(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Er(n,e)}else{if(Mr(n,r))return;cP.set(r),t.uniformMatrix4fv(this.addr,!1,cP),Er(n,r)}}function y$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function x$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mr(n,e))return;t.uniform2iv(this.addr,e),Er(n,e)}}function _$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Mr(n,e))return;t.uniform3iv(this.addr,e),Er(n,e)}}function w$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mr(n,e))return;t.uniform4iv(this.addr,e),Er(n,e)}}function S$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function A$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mr(n,e))return;t.uniform2uiv(this.addr,e),Er(n,e)}}function b$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Mr(n,e))return;t.uniform3uiv(this.addr,e),Er(n,e)}}function M$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mr(n,e))return;t.uniform4uiv(this.addr,e),Er(n,e)}}function E$(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||S4,i)}function C$(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||b4,i)}function T$(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||M4,i)}function R$(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||A4,i)}function P$(t){switch(t){case 5126:return f$;case 35664:return d$;case 35665:return h$;case 35666:return p$;case 35674:return m$;case 35675:return g$;case 35676:return v$;case 5124:case 35670:return y$;case 35667:case 35671:return x$;case 35668:case 35672:return _$;case 35669:case 35673:return w$;case 5125:return S$;case 36294:return A$;case 36295:return b$;case 36296:return M$;case 35678:case 36198:case 36298:case 36306:case 35682:return E$;case 35679:case 36299:case 36307:return C$;case 35680:case 36300:case 36308:case 36293:return T$;case 36289:case 36303:case 36311:case 36292:return R$}}function I$(t,e){t.uniform1fv(this.addr,e)}function B$(t,e){const n=$d(e,this.size,2);t.uniform2fv(this.addr,n)}function D$(t,e){const n=$d(e,this.size,3);t.uniform3fv(this.addr,n)}function L$(t,e){const n=$d(e,this.size,4);t.uniform4fv(this.addr,n)}function k$(t,e){const n=$d(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function F$(t,e){const n=$d(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function O$(t,e){const n=$d(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function N$(t,e){t.uniform1iv(this.addr,e)}function U$(t,e){t.uniform2iv(this.addr,e)}function z$(t,e){t.uniform3iv(this.addr,e)}function G$(t,e){t.uniform4iv(this.addr,e)}function H$(t,e){t.uniform1uiv(this.addr,e)}function V$(t,e){t.uniform2uiv(this.addr,e)}function W$(t,e){t.uniform3uiv(this.addr,e)}function j$(t,e){t.uniform4uiv(this.addr,e)}function $$(t,e,n){const r=this.cache,i=e.length,s=lx(n,i);Mr(r,s)||(t.uniform1iv(this.addr,s),Er(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||S4,s[o])}function J$(t,e,n){const r=this.cache,i=e.length,s=lx(n,i);Mr(r,s)||(t.uniform1iv(this.addr,s),Er(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||b4,s[o])}function X$(t,e,n){const r=this.cache,i=e.length,s=lx(n,i);Mr(r,s)||(t.uniform1iv(this.addr,s),Er(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||M4,s[o])}function K$(t,e,n){const r=this.cache,i=e.length,s=lx(n,i);Mr(r,s)||(t.uniform1iv(this.addr,s),Er(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||A4,s[o])}function Y$(t){switch(t){case 5126:return I$;case 35664:return B$;case 35665:return D$;case 35666:return L$;case 35674:return k$;case 35675:return F$;case 35676:return O$;case 5124:case 35670:return N$;case 35667:case 35671:return U$;case 35668:case 35672:return z$;case 35669:case 35673:return G$;case 5125:return H$;case 36294:return V$;case 36295:return W$;case 36296:return j$;case 35678:case 36198:case 36298:case 36306:case 35682:return $$;case 35679:case 36299:case 36307:return J$;case 35680:case 36300:case 36308:case 36293:return X$;case 36289:case 36303:case 36311:case 36292:return K$}}class Q${constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=P$(n.type)}}class Z${constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Y$(n.type)}}class q${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Ww=/(\w+)(\])?(\[|\.)?/g;function hP(t,e){t.seq.push(e),t.map[e.id]=e}function eJ(t,e,n){const r=t.name,i=r.length;for(Ww.lastIndex=0;;){const s=Ww.exec(r),o=Ww.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){hP(n,u===void 0?new Q$(a,t,e):new Z$(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new q$(a),hP(n,f)),n=f}}}class my{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);eJ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function pP(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let tJ=0;function nJ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function rJ(t){switch(t){case Wl:return["Linear","( value )"];case bn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function mP(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+nJ(t.getShaderSource(e),o)}else return i}function iJ(t,e){const n=rJ(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function sJ(t,e){let n;switch(e){case XO:n="Linear";break;case KO:n="Reinhard";break;case YO:n="OptimizedCineon";break;case VE:n="ACESFilmic";break;case QO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function oJ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xp).join(`
`)}function aJ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function lJ(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function xp(t){return t!==""}function gP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function Mb(t){return t.replace(uJ,cJ)}function cJ(t,e){const n=jt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return Mb(n)}const fJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yP(t){return t.replace(fJ,dJ)}function dJ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function xP(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function hJ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===rx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Lp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===$u&&(e="SHADOWMAP_TYPE_VSM"),e}function pJ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ka:case Hl:e="ENVMAP_TYPE_CUBE";break;case jd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function mJ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Hl:e="ENVMAP_MODE_REFRACTION";break}return e}function gJ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Km:e="ENVMAP_BLENDING_MULTIPLY";break;case $O:e="ENVMAP_BLENDING_MIX";break;case JO:e="ENVMAP_BLENDING_ADD";break}return e}function vJ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function yJ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=hJ(n),u=pJ(n),c=mJ(n),f=gJ(n),d=vJ(n),m=n.isWebGL2?"":oJ(n),g=aJ(s),v=i.createProgram();let y,x,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[g].filter(xp).join(`
`),y.length>0&&(y+=`
`),x=[m,g].filter(xp).join(`
`),x.length>0&&(x+=`
`)):(y=[xP(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xp).join(`
`),x=[m,xP(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ao?"#define TONE_MAPPING":"",n.toneMapping!==ao?jt.tonemapping_pars_fragment:"",n.toneMapping!==ao?sJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",jt.encodings_pars_fragment,iJ("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(xp).join(`
`)),o=Mb(o),o=gP(o,n),o=vP(o,n),a=Mb(a),a=gP(a,n),a=vP(a,n),o=yP(o),a=yP(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",n.glslVersion===Sb?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Sb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=_+y+o,A=_+x+a,M=pP(i,35633,w),C=pP(i,35632,A);if(i.attachShader(v,M),i.attachShader(v,C),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const P=i.getProgramInfoLog(v).trim(),B=i.getShaderInfoLog(M).trim(),N=i.getShaderInfoLog(C).trim();let F=!0,U=!0;if(i.getProgramParameter(v,35714)===!1){F=!1;const O=mP(i,M,"vertex"),J=mP(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+P+`
`+O+`
`+J)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(B===""||N==="")&&(U=!1);U&&(this.diagnostics={runnable:F,programLog:P,vertexShader:{log:B,prefix:y},fragmentShader:{log:N,prefix:x}})}i.deleteShader(M),i.deleteShader(C);let T;this.getUniforms=function(){return T===void 0&&(T=new my(i,v)),T};let E;return this.getAttributes=function(){return E===void 0&&(E=lJ(i,v)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=tJ++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=C,this}let xJ=0;class _J{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new wJ(e),n.set(e,r)),r}}class wJ{constructor(e){this.id=xJ++,this.code=e,this.usedTimes=0}}function SJ(t,e,n,r,i,s,o){const a=new uc,l=new _J,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(E,P,B,N,F){const U=N.fog,O=F.geometry,J=E.isMeshStandardMaterial?N.environment:null,$=(E.isMeshStandardMaterial?n:e).get(E.envMap||J),ie=$&&$.mapping===jd?$.image.height:null,H=g[E.type];E.precision!==null&&(m=i.getMaxPrecision(E.precision),m!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));const j=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,W=j!==void 0?j.length:0;let G=0;O.morphAttributes.position!==void 0&&(G=1),O.morphAttributes.normal!==void 0&&(G=2),O.morphAttributes.color!==void 0&&(G=3);let z,X,ne,ee;if(H){const ve=to[H];z=ve.vertexShader,X=ve.fragmentShader}else z=E.vertexShader,X=E.fragmentShader,l.update(E),ne=l.getVertexShaderID(E),ee=l.getFragmentShaderID(E);const Y=t.getRenderTarget(),ue=E.alphaTest>0,ce=E.clearcoat>0,Te=E.iridescence>0;return{isWebGL2:c,shaderID:H,shaderName:E.type,vertexShader:z,fragmentShader:X,defines:E.defines,customVertexShaderID:ne,customFragmentShaderID:ee,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Y===null?t.outputEncoding:Y.isXRRenderTarget===!0?Y.texture.encoding:Wl,map:!!E.map,matcap:!!E.matcap,envMap:!!$,envMapMode:$&&$.mapping,envMapCubeUVHeight:ie,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===p4,tangentSpaceNormalMap:E.normalMapType===iu,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===bn,clearcoat:ce,clearcoatMap:ce&&!!E.clearcoatMap,clearcoatRoughnessMap:ce&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:ce&&!!E.clearcoatNormalMap,iridescence:Te,iridescenceMap:Te&&!!E.iridescenceMap,iridescenceThicknessMap:Te&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===sc,alphaMap:!!E.alphaMap,alphaTest:ue,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!O.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!U,useFog:E.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:f,skinning:F.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:G,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:E.toneMapped?t.toneMapping:ao,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===ns,flipSided:E.side===zi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function y(E){const P=[];if(E.shaderID?P.push(E.shaderID):(P.push(E.customVertexShaderID),P.push(E.customFragmentShaderID)),E.defines!==void 0)for(const B in E.defines)P.push(B),P.push(E.defines[B]);return E.isRawShaderMaterial===!1&&(x(P,E),_(P,E),P.push(t.outputEncoding)),P.push(E.customProgramCacheKey),P.join()}function x(E,P){E.push(P.precision),E.push(P.outputEncoding),E.push(P.envMapMode),E.push(P.envMapCubeUVHeight),E.push(P.combine),E.push(P.vertexUvs),E.push(P.fogExp2),E.push(P.sizeAttenuation),E.push(P.morphTargetsCount),E.push(P.morphAttributeCount),E.push(P.numDirLights),E.push(P.numPointLights),E.push(P.numSpotLights),E.push(P.numSpotLightMaps),E.push(P.numHemiLights),E.push(P.numRectAreaLights),E.push(P.numDirLightShadows),E.push(P.numPointLightShadows),E.push(P.numSpotLightShadows),E.push(P.numSpotLightShadowsWithMaps),E.push(P.shadowMapType),E.push(P.toneMapping),E.push(P.numClippingPlanes),E.push(P.numClipIntersection),E.push(P.depthPacking)}function _(E,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),E.push(a.mask)}function w(E){const P=g[E.type];let B;if(P){const N=to[P];B=rC.clone(N.uniforms)}else B=E.uniforms;return B}function A(E,P){let B;for(let N=0,F=u.length;N<F;N++){const U=u[N];if(U.cacheKey===P){B=U,++B.usedTimes;break}}return B===void 0&&(B=new yJ(t,P,E,s),u.push(B)),B}function M(E){if(--E.usedTimes===0){const P=u.indexOf(E);u[P]=u[u.length-1],u.pop(),E.destroy()}}function C(E){l.remove(E)}function T(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:A,releaseProgram:M,releaseShaderCache:C,programs:u,dispose:T}}function AJ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function bJ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _P(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function wP(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,d,m,g,v,y){let x=t[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},t[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=m,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=y),e++,x}function a(f,d,m,g,v,y){const x=o(f,d,m,g,v,y);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):n.push(x)}function l(f,d,m,g,v,y){const x=o(f,d,m,g,v,y);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):n.unshift(x)}function u(f,d){n.length>1&&n.sort(f||bJ),r.length>1&&r.sort(d||_P),i.length>1&&i.sort(d||_P)}function c(){for(let f=e,d=t.length;f<d;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function MJ(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new wP,t.set(r,[o])):i>=s.length?(o=new wP,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function EJ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new ut};break;case"SpotLight":n={position:new Z,direction:new Z,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Z,color:new ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Z,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":n={color:new ut,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return t[e.id]=n,n}}}function CJ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new je,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let TJ=0;function RJ(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function PJ(t,e){const n=new EJ,r=CJ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new Z);const s=new Z,o=new Lt,a=new Lt;function l(c,f){let d=0,m=0,g=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let v=0,y=0,x=0,_=0,w=0,A=0,M=0,C=0,T=0,E=0;c.sort(RJ);const P=f!==!0?Math.PI:1;for(let N=0,F=c.length;N<F;N++){const U=c[N],O=U.color,J=U.intensity,$=U.distance,ie=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)d+=O.r*J*P,m+=O.g*J*P,g+=O.b*J*P;else if(U.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(U.sh.coefficients[H],J);else if(U.isDirectionalLight){const H=n.get(U);if(H.color.copy(U.color).multiplyScalar(U.intensity*P),U.castShadow){const j=U.shadow,W=r.get(U);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,i.directionalShadow[v]=W,i.directionalShadowMap[v]=ie,i.directionalShadowMatrix[v]=U.shadow.matrix,A++}i.directional[v]=H,v++}else if(U.isSpotLight){const H=n.get(U);H.position.setFromMatrixPosition(U.matrixWorld),H.color.copy(O).multiplyScalar(J*P),H.distance=$,H.coneCos=Math.cos(U.angle),H.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),H.decay=U.decay,i.spot[x]=H;const j=U.shadow;if(U.map&&(i.spotLightMap[T]=U.map,T++,j.updateMatrices(U),U.castShadow&&E++),i.spotLightMatrix[x]=j.matrix,U.castShadow){const W=r.get(U);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,i.spotShadow[x]=W,i.spotShadowMap[x]=ie,C++}x++}else if(U.isRectAreaLight){const H=n.get(U);H.color.copy(O).multiplyScalar(J),H.halfWidth.set(U.width*.5,0,0),H.halfHeight.set(0,U.height*.5,0),i.rectArea[_]=H,_++}else if(U.isPointLight){const H=n.get(U);if(H.color.copy(U.color).multiplyScalar(U.intensity*P),H.distance=U.distance,H.decay=U.decay,U.castShadow){const j=U.shadow,W=r.get(U);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,W.shadowCameraNear=j.camera.near,W.shadowCameraFar=j.camera.far,i.pointShadow[y]=W,i.pointShadowMap[y]=ie,i.pointShadowMatrix[y]=U.shadow.matrix,M++}i.point[y]=H,y++}else if(U.isHemisphereLight){const H=n.get(U);H.skyColor.copy(U.color).multiplyScalar(J*P),H.groundColor.copy(U.groundColor).multiplyScalar(J*P),i.hemi[w]=H,w++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=lt.LTC_FLOAT_1,i.rectAreaLTC2=lt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=lt.LTC_HALF_1,i.rectAreaLTC2=lt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==v||B.pointLength!==y||B.spotLength!==x||B.rectAreaLength!==_||B.hemiLength!==w||B.numDirectionalShadows!==A||B.numPointShadows!==M||B.numSpotShadows!==C||B.numSpotMaps!==T)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=C+T-E,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=E,B.directionalLength=v,B.pointLength=y,B.spotLength=x,B.rectAreaLength=_,B.hemiLength=w,B.numDirectionalShadows=A,B.numPointShadows=M,B.numSpotShadows=C,B.numSpotMaps=T,i.version=TJ++)}function u(c,f){let d=0,m=0,g=0,v=0,y=0;const x=f.matrixWorldInverse;for(let _=0,w=c.length;_<w;_++){const A=c[_];if(A.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),d++}else if(A.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),g++}else if(A.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(A.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),v++}else if(A.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),m++}else if(A.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(x),y++}}}return{setup:l,setupView:u,state:i}}function SP(t,e){const n=new PJ(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function IJ(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new SP(t,e),n.set(s,[l])):o>=a.length?(l=new SP(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class ux extends br{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=h4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cx extends br{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const BJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,DJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function LJ(t,e,n){let r=new ax;const i=new je,s=new je,o=new dn,a=new ux({depthPacking:QE}),l=new cx,u={},c=n.maxTextureSize,f={[Ho]:zi,[zi]:Ho,[ns]:ns},d=new ls({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new je},radius:{value:4}},vertexShader:BJ,fragmentShader:DJ}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new $t;g.setAttribute("position",new rn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Un(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rx,this.render=function(A,M,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const T=t.getRenderTarget(),E=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),B=t.state;B.setBlending(No),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let N=0,F=A.length;N<F;N++){const U=A[N],O=U.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const J=O.getFrameExtents();if(i.multiply(J),s.copy(O.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/J.x),i.x=s.x*J.x,O.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/J.y),i.y=s.y*J.y,O.mapSize.y=s.y)),O.map===null){const ie=this.type!==$u?{minFilter:tr,magFilter:tr}:{};O.map=new as(i.x,i.y,ie),O.map.texture.name=U.name+".shadowMap",O.camera.updateProjectionMatrix()}t.setRenderTarget(O.map),t.clear();const $=O.getViewportCount();for(let ie=0;ie<$;ie++){const H=O.getViewport(ie);o.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),B.viewport(o),O.updateMatrices(U,ie),r=O.getFrustum(),w(M,C,O.camera,U,this.type)}O.isPointLightShadow!==!0&&this.type===$u&&x(O,C),O.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(T,E,P)};function x(A,M){const C=e.update(v);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new as(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(M,null,C,d,v,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(M,null,C,m,v,null)}function _(A,M,C,T,E,P){let B=null;const N=C.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(N!==void 0)B=N;else if(B=C.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const F=B.uuid,U=M.uuid;let O=u[F];O===void 0&&(O={},u[F]=O);let J=O[U];J===void 0&&(J=B.clone(),O[U]=J),B=J}return B.visible=M.visible,B.wireframe=M.wireframe,P===$u?B.side=M.shadowSide!==null?M.shadowSide:M.side:B.side=M.shadowSide!==null?M.shadowSide:f[M.side],B.alphaMap=M.alphaMap,B.alphaTest=M.alphaTest,B.map=M.map,B.clipShadows=M.clipShadows,B.clippingPlanes=M.clippingPlanes,B.clipIntersection=M.clipIntersection,B.displacementMap=M.displacementMap,B.displacementScale=M.displacementScale,B.displacementBias=M.displacementBias,B.wireframeLinewidth=M.wireframeLinewidth,B.linewidth=M.linewidth,C.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(C.matrixWorld),B.nearDistance=T,B.farDistance=E),B}function w(A,M,C,T,E){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&E===$u)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,A.matrixWorld);const N=e.update(A),F=A.material;if(Array.isArray(F)){const U=N.groups;for(let O=0,J=U.length;O<J;O++){const $=U[O],ie=F[$.materialIndex];if(ie&&ie.visible){const H=_(A,ie,T,C.near,C.far,E);t.renderBufferDirect(C,null,N,H,A,$)}}}else if(F.visible){const U=_(A,F,T,C.near,C.far,E);t.renderBufferDirect(C,null,N,U,A,null)}}const B=A.children;for(let N=0,F=B.length;N<F;N++)w(B[N],M,C,T,E)}}function kJ(t,e,n){const r=n.isWebGL2;function i(){let le=!1;const se=new dn;let Oe=null;const ot=new dn(0,0,0,0);return{setMask:function(tt){Oe!==tt&&!le&&(t.colorMask(tt,tt,tt,tt),Oe=tt)},setLocked:function(tt){le=tt},setClear:function(tt,ft,Ft,kt,Mt){Mt===!0&&(tt*=kt,ft*=kt,Ft*=kt),se.set(tt,ft,Ft,kt),ot.equals(se)===!1&&(t.clearColor(tt,ft,Ft,kt),ot.copy(se))},reset:function(){le=!1,Oe=null,ot.set(-1,0,0,0)}}}function s(){let le=!1,se=null,Oe=null,ot=null;return{setTest:function(tt){tt?ue(2929):ce(2929)},setMask:function(tt){se!==tt&&!le&&(t.depthMask(tt),se=tt)},setFunc:function(tt){if(Oe!==tt){switch(tt){case UO:t.depthFunc(512);break;case zO:t.depthFunc(519);break;case GO:t.depthFunc(513);break;case e1:t.depthFunc(515);break;case HO:t.depthFunc(514);break;case VO:t.depthFunc(518);break;case WO:t.depthFunc(516);break;case jO:t.depthFunc(517);break;default:t.depthFunc(515)}Oe=tt}},setLocked:function(tt){le=tt},setClear:function(tt){ot!==tt&&(t.clearDepth(tt),ot=tt)},reset:function(){le=!1,se=null,Oe=null,ot=null}}}function o(){let le=!1,se=null,Oe=null,ot=null,tt=null,ft=null,Ft=null,kt=null,Mt=null;return{setTest:function(Et){le||(Et?ue(2960):ce(2960))},setMask:function(Et){se!==Et&&!le&&(t.stencilMask(Et),se=Et)},setFunc:function(Et,hn,sn){(Oe!==Et||ot!==hn||tt!==sn)&&(t.stencilFunc(Et,hn,sn),Oe=Et,ot=hn,tt=sn)},setOp:function(Et,hn,sn){(ft!==Et||Ft!==hn||kt!==sn)&&(t.stencilOp(Et,hn,sn),ft=Et,Ft=hn,kt=sn)},setLocked:function(Et){le=Et},setClear:function(Et){Mt!==Et&&(t.clearStencil(Et),Mt=Et)},reset:function(){le=!1,se=null,Oe=null,ot=null,tt=null,ft=null,Ft=null,kt=null,Mt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let d={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,M=null,C=null,T=null,E=null,P=!1,B=null,N=null,F=null,U=null,O=null;const J=t.getParameter(35661);let $=!1,ie=0;const H=t.getParameter(7938);H.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(H)[1]),$=ie>=1):H.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),$=ie>=2);let j=null,W={};const G=t.getParameter(3088),z=t.getParameter(2978),X=new dn().fromArray(G),ne=new dn().fromArray(z);function ee(le,se,Oe){const ot=new Uint8Array(4),tt=t.createTexture();t.bindTexture(le,tt),t.texParameteri(le,10241,9728),t.texParameteri(le,10240,9728);for(let ft=0;ft<Oe;ft++)t.texImage2D(se+ft,0,6408,1,1,0,6408,5121,ot);return tt}const Y={};Y[3553]=ee(3553,3553,1),Y[34067]=ee(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ue(2929),l.setFunc(e1),Ie(!1),Xe(JA),ue(2884),Re(No);function ue(le){d[le]!==!0&&(t.enable(le),d[le]=!0)}function ce(le){d[le]!==!1&&(t.disable(le),d[le]=!1)}function Te(le,se){return m[le]!==se?(t.bindFramebuffer(le,se),m[le]=se,r&&(le===36009&&(m[36160]=se),le===36160&&(m[36009]=se)),!0):!1}function we(le,se){let Oe=v,ot=!1;if(le)if(Oe=g.get(se),Oe===void 0&&(Oe=[],g.set(se,Oe)),le.isWebGLMultipleRenderTargets){const tt=le.texture;if(Oe.length!==tt.length||Oe[0]!==36064){for(let ft=0,Ft=tt.length;ft<Ft;ft++)Oe[ft]=36064+ft;Oe.length=tt.length,ot=!0}}else Oe[0]!==36064&&(Oe[0]=36064,ot=!0);else Oe[0]!==1029&&(Oe[0]=1029,ot=!0);ot&&(n.isWebGL2?t.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function ve(le){return y!==le?(t.useProgram(le),y=le,!0):!1}const oe={[zu]:32774,[TO]:32778,[RO]:32779};if(r)oe[YA]=32775,oe[QA]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(oe[YA]=le.MIN_EXT,oe[QA]=le.MAX_EXT)}const fe={[PO]:0,[IO]:1,[BO]:768,[GE]:770,[NO]:776,[FO]:774,[LO]:772,[DO]:769,[HE]:771,[OO]:775,[kO]:773};function Re(le,se,Oe,ot,tt,ft,Ft,kt){if(le===No){x===!0&&(ce(3042),x=!1);return}if(x===!1&&(ue(3042),x=!0),le!==CO){if(le!==_||kt!==P){if((w!==zu||C!==zu)&&(t.blendEquation(32774),w=zu,C=zu),kt)switch(le){case sc:t.blendFuncSeparate(1,771,1,771);break;case qy:t.blendFunc(1,1);break;case XA:t.blendFuncSeparate(0,769,0,1);break;case KA:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case sc:t.blendFuncSeparate(770,771,1,771);break;case qy:t.blendFunc(770,1);break;case XA:t.blendFuncSeparate(0,769,0,1);break;case KA:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}A=null,M=null,T=null,E=null,_=le,P=kt}return}tt=tt||se,ft=ft||Oe,Ft=Ft||ot,(se!==w||tt!==C)&&(t.blendEquationSeparate(oe[se],oe[tt]),w=se,C=tt),(Oe!==A||ot!==M||ft!==T||Ft!==E)&&(t.blendFuncSeparate(fe[Oe],fe[ot],fe[ft],fe[Ft]),A=Oe,M=ot,T=ft,E=Ft),_=le,P=!1}function Ge(le,se){le.side===ns?ce(2884):ue(2884);let Oe=le.side===zi;se&&(Oe=!Oe),Ie(Oe),le.blending===sc&&le.transparent===!1?Re(No):Re(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const ot=le.stencilWrite;u.setTest(ot),ot&&(u.setMask(le.stencilWriteMask),u.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),u.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),ze(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?ue(32926):ce(32926)}function Ie(le){B!==le&&(le?t.frontFace(2304):t.frontFace(2305),B=le)}function Xe(le){le!==bO?(ue(2884),le!==N&&(le===JA?t.cullFace(1029):le===MO?t.cullFace(1028):t.cullFace(1032))):ce(2884),N=le}function Pe(le){le!==F&&($&&t.lineWidth(le),F=le)}function ze(le,se,Oe){le?(ue(32823),(U!==se||O!==Oe)&&(t.polygonOffset(se,Oe),U=se,O=Oe)):ce(32823)}function Ye(le){le?ue(3089):ce(3089)}function Ee(le){le===void 0&&(le=33984+J-1),j!==le&&(t.activeTexture(le),j=le)}function K(le,se,Oe){Oe===void 0&&(j===null?Oe=33984+J-1:Oe=j);let ot=W[Oe];ot===void 0&&(ot={type:void 0,texture:void 0},W[Oe]=ot),(ot.type!==le||ot.texture!==se)&&(j!==Oe&&(t.activeTexture(Oe),j=Oe),t.bindTexture(le,se||Y[le]),ot.type=le,ot.texture=se)}function k(){const le=W[j];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function re(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function pe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Le(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Me(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Je(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ke(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function be(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ze(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function rt(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function $e(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function We(le){X.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),X.copy(le))}function Ve(le){ne.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),ne.copy(le))}function at(le,se){let Oe=f.get(se);Oe===void 0&&(Oe=new WeakMap,f.set(se,Oe));let ot=Oe.get(le);ot===void 0&&(ot=t.getUniformBlockIndex(se,le.name),Oe.set(le,ot))}function pt(le,se){const ot=f.get(se).get(le);c.get(se)!==ot&&(t.uniformBlockBinding(se,ot,le.__bindingPointIndex),c.set(se,ot))}function bt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},j=null,W={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,M=null,C=null,T=null,E=null,P=!1,B=null,N=null,F=null,U=null,O=null,X.set(0,0,t.canvas.width,t.canvas.height),ne.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ue,disable:ce,bindFramebuffer:Te,drawBuffers:we,useProgram:ve,setBlending:Re,setMaterial:Ge,setFlipSided:Ie,setCullFace:Xe,setLineWidth:Pe,setPolygonOffset:ze,setScissorTest:Ye,activeTexture:Ee,bindTexture:K,unbindTexture:k,compressedTexImage2D:re,compressedTexImage3D:pe,texImage2D:rt,texImage3D:$e,updateUBOMapping:at,uniformBlockBinding:pt,texStorage2D:be,texStorage3D:Ze,texSubImage2D:Le,texSubImage3D:Me,compressedTexSubImage2D:Je,compressedTexSubImage3D:ke,scissor:We,viewport:Ve,reset:bt}}function FJ(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(K,k){return x?new OffscreenCanvas(K,k):_m("canvas")}function w(K,k,re,pe){let Le=1;if((K.width>pe||K.height>pe)&&(Le=pe/Math.max(K.width,K.height)),Le<1||k===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const Me=k?r1:Math.floor,Je=Me(Le*K.width),ke=Me(Le*K.height);v===void 0&&(v=_(Je,ke));const be=re?_(Je,ke):v;return be.width=Je,be.height=ke,be.getContext("2d").drawImage(K,0,0,Je,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Je+"x"+ke+")."),be}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function A(K){return Ab(K.width)&&Ab(K.height)}function M(K){return a?!1:K.wrapS!==Pn||K.wrapT!==Pn||K.minFilter!==tr&&K.minFilter!==en}function C(K,k){return K.generateMipmaps&&k&&K.minFilter!==tr&&K.minFilter!==en}function T(K){t.generateMipmap(K)}function E(K,k,re,pe,Le=!1){if(a===!1)return k;if(K!==null){if(t[K]!==void 0)return t[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Me=k;return k===6403&&(re===5126&&(Me=33326),re===5131&&(Me=33325),re===5121&&(Me=33321)),k===33319&&(re===5126&&(Me=33328),re===5131&&(Me=33327),re===5121&&(Me=33323)),k===6408&&(re===5126&&(Me=34836),re===5131&&(Me=34842),re===5121&&(Me=pe===bn&&Le===!1?35907:32856),re===32819&&(Me=32854),re===32820&&(Me=32855)),(Me===33325||Me===33326||Me===33327||Me===33328||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function P(K,k,re){return C(K,re)===!0||K.isFramebufferTexture&&K.minFilter!==tr&&K.minFilter!==en?Math.log2(Math.max(k.width,k.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?k.mipmaps.length:1}function B(K){return K===tr||K===gm||K===ud?9728:9729}function N(K){const k=K.target;k.removeEventListener("dispose",N),U(k),k.isVideoTexture&&g.delete(k)}function F(K){const k=K.target;k.removeEventListener("dispose",F),J(k)}function U(K){const k=r.get(K);if(k.__webglInit===void 0)return;const re=K.source,pe=y.get(re);if(pe){const Le=pe[k.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&O(K),Object.keys(pe).length===0&&y.delete(re)}r.remove(K)}function O(K){const k=r.get(K);t.deleteTexture(k.__webglTexture);const re=K.source,pe=y.get(re);delete pe[k.__cacheKey],o.memory.textures--}function J(K){const k=K.texture,re=r.get(K),pe=r.get(k);if(pe.__webglTexture!==void 0&&(t.deleteTexture(pe.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++)t.deleteFramebuffer(re.__webglFramebuffer[Le]),re.__webglDepthbuffer&&t.deleteRenderbuffer(re.__webglDepthbuffer[Le]);else{if(t.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&t.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&t.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let Le=0;Le<re.__webglColorRenderbuffer.length;Le++)re.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(re.__webglColorRenderbuffer[Le]);re.__webglDepthRenderbuffer&&t.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Le=0,Me=k.length;Le<Me;Le++){const Je=r.get(k[Le]);Je.__webglTexture&&(t.deleteTexture(Je.__webglTexture),o.memory.textures--),r.remove(k[Le])}r.remove(k),r.remove(K)}let $=0;function ie(){$=0}function H(){const K=$;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),$+=1,K}function j(K){const k=[];return k.push(K.wrapS),k.push(K.wrapT),k.push(K.wrapR||0),k.push(K.magFilter),k.push(K.minFilter),k.push(K.anisotropy),k.push(K.internalFormat),k.push(K.format),k.push(K.type),k.push(K.generateMipmaps),k.push(K.premultiplyAlpha),k.push(K.flipY),k.push(K.unpackAlignment),k.push(K.encoding),k.join()}function W(K,k){const re=r.get(K);if(K.isVideoTexture&&Ye(K),K.isRenderTargetTexture===!1&&K.version>0&&re.__version!==K.version){const pe=K.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(re,K,k);return}}n.bindTexture(3553,re.__webglTexture,33984+k)}function G(K,k){const re=r.get(K);if(K.version>0&&re.__version!==K.version){ce(re,K,k);return}n.bindTexture(35866,re.__webglTexture,33984+k)}function z(K,k){const re=r.get(K);if(K.version>0&&re.__version!==K.version){ce(re,K,k);return}n.bindTexture(32879,re.__webglTexture,33984+k)}function X(K,k){const re=r.get(K);if(K.version>0&&re.__version!==K.version){Te(re,K,k);return}n.bindTexture(34067,re.__webglTexture,33984+k)}const ne={[Vl]:10497,[Pn]:33071,[bd]:33648},ee={[tr]:9728,[gm]:9984,[ud]:9986,[en]:9729,[ix]:9985,[Vo]:9987};function Y(K,k,re){if(re?(t.texParameteri(K,10242,ne[k.wrapS]),t.texParameteri(K,10243,ne[k.wrapT]),(K===32879||K===35866)&&t.texParameteri(K,32882,ne[k.wrapR]),t.texParameteri(K,10240,ee[k.magFilter]),t.texParameteri(K,10241,ee[k.minFilter])):(t.texParameteri(K,10242,33071),t.texParameteri(K,10243,33071),(K===32879||K===35866)&&t.texParameteri(K,32882,33071),(k.wrapS!==Pn||k.wrapT!==Pn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(K,10240,B(k.magFilter)),t.texParameteri(K,10241,B(k.minFilter)),k.minFilter!==tr&&k.minFilter!==en&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const pe=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===tr||k.minFilter!==ud&&k.minFilter!==Vo||k.type===Fr&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===Or&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(t.texParameterf(K,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function ue(K,k){let re=!1;K.__webglInit===void 0&&(K.__webglInit=!0,k.addEventListener("dispose",N));const pe=k.source;let Le=y.get(pe);Le===void 0&&(Le={},y.set(pe,Le));const Me=j(k);if(Me!==K.__cacheKey){Le[Me]===void 0&&(Le[Me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,re=!0),Le[Me].usedTimes++;const Je=Le[K.__cacheKey];Je!==void 0&&(Le[K.__cacheKey].usedTimes--,Je.usedTimes===0&&O(k)),K.__cacheKey=Me,K.__webglTexture=Le[Me].texture}return re}function ce(K,k,re){let pe=3553;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(pe=35866),k.isData3DTexture&&(pe=32879);const Le=ue(K,k),Me=k.source;n.bindTexture(pe,K.__webglTexture,33984+re);const Je=r.get(Me);if(Me.version!==Je.__version||Le===!0){n.activeTexture(33984+re),t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const ke=M(k)&&A(k.image)===!1;let be=w(k.image,ke,!1,c);be=Ee(k,be);const Ze=A(be)||a,rt=s.convert(k.format,k.encoding);let $e=s.convert(k.type),We=E(k.internalFormat,rt,$e,k.encoding,k.isVideoTexture);Y(pe,k,Ze);let Ve;const at=k.mipmaps,pt=a&&k.isVideoTexture!==!0,bt=Je.__version===void 0||Le===!0,le=P(k,be,Ze);if(k.isDepthTexture)We=6402,a?k.type===Fr?We=36012:k.type===Sa?We=33190:k.type===oc?We=35056:We=33189:k.type===Fr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===kl&&We===6402&&k.type!==$E&&k.type!==Sa&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Sa,$e=s.convert(k.type)),k.format===Ac&&We===6402&&(We=34041,k.type!==oc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=oc,$e=s.convert(k.type))),bt&&(pt?n.texStorage2D(3553,1,We,be.width,be.height):n.texImage2D(3553,0,We,be.width,be.height,0,rt,$e,null));else if(k.isDataTexture)if(at.length>0&&Ze){pt&&bt&&n.texStorage2D(3553,le,We,at[0].width,at[0].height);for(let se=0,Oe=at.length;se<Oe;se++)Ve=at[se],pt?n.texSubImage2D(3553,se,0,0,Ve.width,Ve.height,rt,$e,Ve.data):n.texImage2D(3553,se,We,Ve.width,Ve.height,0,rt,$e,Ve.data);k.generateMipmaps=!1}else pt?(bt&&n.texStorage2D(3553,le,We,be.width,be.height),n.texSubImage2D(3553,0,0,0,be.width,be.height,rt,$e,be.data)):n.texImage2D(3553,0,We,be.width,be.height,0,rt,$e,be.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){pt&&bt&&n.texStorage3D(35866,le,We,at[0].width,at[0].height,be.depth);for(let se=0,Oe=at.length;se<Oe;se++)Ve=at[se],k.format!==Sr?rt!==null?pt?n.compressedTexSubImage3D(35866,se,0,0,0,Ve.width,Ve.height,be.depth,rt,Ve.data,0,0):n.compressedTexImage3D(35866,se,We,Ve.width,Ve.height,be.depth,0,Ve.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pt?n.texSubImage3D(35866,se,0,0,0,Ve.width,Ve.height,be.depth,rt,$e,Ve.data):n.texImage3D(35866,se,We,Ve.width,Ve.height,be.depth,0,rt,$e,Ve.data)}else{pt&&bt&&n.texStorage2D(3553,le,We,at[0].width,at[0].height);for(let se=0,Oe=at.length;se<Oe;se++)Ve=at[se],k.format!==Sr?rt!==null?pt?n.compressedTexSubImage2D(3553,se,0,0,Ve.width,Ve.height,rt,Ve.data):n.compressedTexImage2D(3553,se,We,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pt?n.texSubImage2D(3553,se,0,0,Ve.width,Ve.height,rt,$e,Ve.data):n.texImage2D(3553,se,We,Ve.width,Ve.height,0,rt,$e,Ve.data)}else if(k.isDataArrayTexture)pt?(bt&&n.texStorage3D(35866,le,We,be.width,be.height,be.depth),n.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,rt,$e,be.data)):n.texImage3D(35866,0,We,be.width,be.height,be.depth,0,rt,$e,be.data);else if(k.isData3DTexture)pt?(bt&&n.texStorage3D(32879,le,We,be.width,be.height,be.depth),n.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,rt,$e,be.data)):n.texImage3D(32879,0,We,be.width,be.height,be.depth,0,rt,$e,be.data);else if(k.isFramebufferTexture){if(bt)if(pt)n.texStorage2D(3553,le,We,be.width,be.height);else{let se=be.width,Oe=be.height;for(let ot=0;ot<le;ot++)n.texImage2D(3553,ot,We,se,Oe,0,rt,$e,null),se>>=1,Oe>>=1}}else if(at.length>0&&Ze){pt&&bt&&n.texStorage2D(3553,le,We,at[0].width,at[0].height);for(let se=0,Oe=at.length;se<Oe;se++)Ve=at[se],pt?n.texSubImage2D(3553,se,0,0,rt,$e,Ve):n.texImage2D(3553,se,We,rt,$e,Ve);k.generateMipmaps=!1}else pt?(bt&&n.texStorage2D(3553,le,We,be.width,be.height),n.texSubImage2D(3553,0,0,0,rt,$e,be)):n.texImage2D(3553,0,We,rt,$e,be);C(k,Ze)&&T(pe),Je.__version=Me.version,k.onUpdate&&k.onUpdate(k)}K.__version=k.version}function Te(K,k,re){if(k.image.length!==6)return;const pe=ue(K,k),Le=k.source;n.bindTexture(34067,K.__webglTexture,33984+re);const Me=r.get(Le);if(Le.version!==Me.__version||pe===!0){n.activeTexture(33984+re),t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const Je=k.isCompressedTexture||k.image[0].isCompressedTexture,ke=k.image[0]&&k.image[0].isDataTexture,be=[];for(let se=0;se<6;se++)!Je&&!ke?be[se]=w(k.image[se],!1,!0,u):be[se]=ke?k.image[se].image:k.image[se],be[se]=Ee(k,be[se]);const Ze=be[0],rt=A(Ze)||a,$e=s.convert(k.format,k.encoding),We=s.convert(k.type),Ve=E(k.internalFormat,$e,We,k.encoding),at=a&&k.isVideoTexture!==!0,pt=Me.__version===void 0||pe===!0;let bt=P(k,Ze,rt);Y(34067,k,rt);let le;if(Je){at&&pt&&n.texStorage2D(34067,bt,Ve,Ze.width,Ze.height);for(let se=0;se<6;se++){le=be[se].mipmaps;for(let Oe=0;Oe<le.length;Oe++){const ot=le[Oe];k.format!==Sr?$e!==null?at?n.compressedTexSubImage2D(34069+se,Oe,0,0,ot.width,ot.height,$e,ot.data):n.compressedTexImage2D(34069+se,Oe,Ve,ot.width,ot.height,0,ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):at?n.texSubImage2D(34069+se,Oe,0,0,ot.width,ot.height,$e,We,ot.data):n.texImage2D(34069+se,Oe,Ve,ot.width,ot.height,0,$e,We,ot.data)}}}else{le=k.mipmaps,at&&pt&&(le.length>0&&bt++,n.texStorage2D(34067,bt,Ve,be[0].width,be[0].height));for(let se=0;se<6;se++)if(ke){at?n.texSubImage2D(34069+se,0,0,0,be[se].width,be[se].height,$e,We,be[se].data):n.texImage2D(34069+se,0,Ve,be[se].width,be[se].height,0,$e,We,be[se].data);for(let Oe=0;Oe<le.length;Oe++){const tt=le[Oe].image[se].image;at?n.texSubImage2D(34069+se,Oe+1,0,0,tt.width,tt.height,$e,We,tt.data):n.texImage2D(34069+se,Oe+1,Ve,tt.width,tt.height,0,$e,We,tt.data)}}else{at?n.texSubImage2D(34069+se,0,0,0,$e,We,be[se]):n.texImage2D(34069+se,0,Ve,$e,We,be[se]);for(let Oe=0;Oe<le.length;Oe++){const ot=le[Oe];at?n.texSubImage2D(34069+se,Oe+1,0,0,$e,We,ot.image[se]):n.texImage2D(34069+se,Oe+1,Ve,$e,We,ot.image[se])}}}C(k,rt)&&T(34067),Me.__version=Le.version,k.onUpdate&&k.onUpdate(k)}K.__version=k.version}function we(K,k,re,pe,Le){const Me=s.convert(re.format,re.encoding),Je=s.convert(re.type),ke=E(re.internalFormat,Me,Je,re.encoding);r.get(k).__hasExternalTextures||(Le===32879||Le===35866?n.texImage3D(Le,0,ke,k.width,k.height,k.depth,0,Me,Je,null):n.texImage2D(Le,0,ke,k.width,k.height,0,Me,Je,null)),n.bindFramebuffer(36160,K),ze(k)?d.framebufferTexture2DMultisampleEXT(36160,pe,Le,r.get(re).__webglTexture,0,Pe(k)):(Le===3553||Le>=34069&&Le<=34074)&&t.framebufferTexture2D(36160,pe,Le,r.get(re).__webglTexture,0),n.bindFramebuffer(36160,null)}function ve(K,k,re){if(t.bindRenderbuffer(36161,K),k.depthBuffer&&!k.stencilBuffer){let pe=33189;if(re||ze(k)){const Le=k.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Fr?pe=36012:Le.type===Sa&&(pe=33190));const Me=Pe(k);ze(k)?d.renderbufferStorageMultisampleEXT(36161,Me,pe,k.width,k.height):t.renderbufferStorageMultisample(36161,Me,pe,k.width,k.height)}else t.renderbufferStorage(36161,pe,k.width,k.height);t.framebufferRenderbuffer(36160,36096,36161,K)}else if(k.depthBuffer&&k.stencilBuffer){const pe=Pe(k);re&&ze(k)===!1?t.renderbufferStorageMultisample(36161,pe,35056,k.width,k.height):ze(k)?d.renderbufferStorageMultisampleEXT(36161,pe,35056,k.width,k.height):t.renderbufferStorage(36161,34041,k.width,k.height),t.framebufferRenderbuffer(36160,33306,36161,K)}else{const pe=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Le=0;Le<pe.length;Le++){const Me=pe[Le],Je=s.convert(Me.format,Me.encoding),ke=s.convert(Me.type),be=E(Me.internalFormat,Je,ke,Me.encoding),Ze=Pe(k);re&&ze(k)===!1?t.renderbufferStorageMultisample(36161,Ze,be,k.width,k.height):ze(k)?d.renderbufferStorageMultisampleEXT(36161,Ze,be,k.width,k.height):t.renderbufferStorage(36161,be,k.width,k.height)}}t.bindRenderbuffer(36161,null)}function oe(K,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,K),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),W(k.depthTexture,0);const pe=r.get(k.depthTexture).__webglTexture,Le=Pe(k);if(k.depthTexture.format===kl)ze(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,pe,0,Le):t.framebufferTexture2D(36160,36096,3553,pe,0);else if(k.depthTexture.format===Ac)ze(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,pe,0,Le):t.framebufferTexture2D(36160,33306,3553,pe,0);else throw new Error("Unknown depthTexture format")}function fe(K){const k=r.get(K),re=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!k.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");oe(k.__webglFramebuffer,K)}else if(re){k.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)n.bindFramebuffer(36160,k.__webglFramebuffer[pe]),k.__webglDepthbuffer[pe]=t.createRenderbuffer(),ve(k.__webglDepthbuffer[pe],K,!1)}else n.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),ve(k.__webglDepthbuffer,K,!1);n.bindFramebuffer(36160,null)}function Re(K,k,re){const pe=r.get(K);k!==void 0&&we(pe.__webglFramebuffer,K,K.texture,36064,3553),re!==void 0&&fe(K)}function Ge(K){const k=K.texture,re=r.get(K),pe=r.get(k);K.addEventListener("dispose",F),K.isWebGLMultipleRenderTargets!==!0&&(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=k.version,o.memory.textures++);const Le=K.isWebGLCubeRenderTarget===!0,Me=K.isWebGLMultipleRenderTargets===!0,Je=A(K)||a;if(Le){re.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)re.__webglFramebuffer[ke]=t.createFramebuffer()}else{if(re.__webglFramebuffer=t.createFramebuffer(),Me)if(i.drawBuffers){const ke=K.texture;for(let be=0,Ze=ke.length;be<Ze;be++){const rt=r.get(ke[be]);rt.__webglTexture===void 0&&(rt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&ze(K)===!1){const ke=Me?k:[k];re.__webglMultisampledFramebuffer=t.createFramebuffer(),re.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,re.__webglMultisampledFramebuffer);for(let be=0;be<ke.length;be++){const Ze=ke[be];re.__webglColorRenderbuffer[be]=t.createRenderbuffer(),t.bindRenderbuffer(36161,re.__webglColorRenderbuffer[be]);const rt=s.convert(Ze.format,Ze.encoding),$e=s.convert(Ze.type),We=E(Ze.internalFormat,rt,$e,Ze.encoding,K.isXRRenderTarget===!0),Ve=Pe(K);t.renderbufferStorageMultisample(36161,Ve,We,K.width,K.height),t.framebufferRenderbuffer(36160,36064+be,36161,re.__webglColorRenderbuffer[be])}t.bindRenderbuffer(36161,null),K.depthBuffer&&(re.__webglDepthRenderbuffer=t.createRenderbuffer(),ve(re.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(36160,null)}}if(Le){n.bindTexture(34067,pe.__webglTexture),Y(34067,k,Je);for(let ke=0;ke<6;ke++)we(re.__webglFramebuffer[ke],K,k,36064,34069+ke);C(k,Je)&&T(34067),n.unbindTexture()}else if(Me){const ke=K.texture;for(let be=0,Ze=ke.length;be<Ze;be++){const rt=ke[be],$e=r.get(rt);n.bindTexture(3553,$e.__webglTexture),Y(3553,rt,Je),we(re.__webglFramebuffer,K,rt,36064+be,3553),C(rt,Je)&&T(3553)}n.unbindTexture()}else{let ke=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?ke=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ke,pe.__webglTexture),Y(ke,k,Je),we(re.__webglFramebuffer,K,k,36064,ke),C(k,Je)&&T(ke),n.unbindTexture()}K.depthBuffer&&fe(K)}function Ie(K){const k=A(K)||a,re=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let pe=0,Le=re.length;pe<Le;pe++){const Me=re[pe];if(C(Me,k)){const Je=K.isWebGLCubeRenderTarget?34067:3553,ke=r.get(Me).__webglTexture;n.bindTexture(Je,ke),T(Je),n.unbindTexture()}}}function Xe(K){if(a&&K.samples>0&&ze(K)===!1){const k=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],re=K.width,pe=K.height;let Le=16384;const Me=[],Je=K.stencilBuffer?33306:36096,ke=r.get(K),be=K.isWebGLMultipleRenderTargets===!0;if(be)for(let Ze=0;Ze<k.length;Ze++)n.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ze,36161,null),n.bindFramebuffer(36160,ke.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ze,3553,null,0);n.bindFramebuffer(36008,ke.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,ke.__webglFramebuffer);for(let Ze=0;Ze<k.length;Ze++){Me.push(36064+Ze),K.depthBuffer&&Me.push(Je);const rt=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(rt===!1&&(K.depthBuffer&&(Le|=256),K.stencilBuffer&&(Le|=1024)),be&&t.framebufferRenderbuffer(36008,36064,36161,ke.__webglColorRenderbuffer[Ze]),rt===!0&&(t.invalidateFramebuffer(36008,[Je]),t.invalidateFramebuffer(36009,[Je])),be){const $e=r.get(k[Ze]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,$e,0)}t.blitFramebuffer(0,0,re,pe,0,0,re,pe,Le,9728),m&&t.invalidateFramebuffer(36008,Me)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),be)for(let Ze=0;Ze<k.length;Ze++){n.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ze,36161,ke.__webglColorRenderbuffer[Ze]);const rt=r.get(k[Ze]).__webglTexture;n.bindFramebuffer(36160,ke.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ze,3553,rt,0)}n.bindFramebuffer(36009,ke.__webglMultisampledFramebuffer)}}function Pe(K){return Math.min(f,K.samples)}function ze(K){const k=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ye(K){const k=o.render.frame;g.get(K)!==k&&(g.set(K,k),K.update())}function Ee(K,k){const re=K.encoding,pe=K.format,Le=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===n1||re!==Wl&&(re===bn?a===!1?e.has("EXT_sRGB")===!0&&pe===Sr?(K.format=n1,K.minFilter=en,K.generateMipmaps=!1):k=qE.sRGBToLinear(k):(pe!==Sr||Le!==zs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",re)),k}this.allocateTextureUnit=H,this.resetTextureUnits=ie,this.setTexture2D=W,this.setTexture2DArray=G,this.setTexture3D=z,this.setTextureCube=X,this.rebindTextures=Re,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Xe,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=we,this.useMultisampledRTT=ze}function E4(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===zs)return 5121;if(s===ZO)return 32819;if(s===qO)return 32820;if(s===WE)return 5120;if(s===jE)return 5122;if(s===$E)return 5123;if(s===JE)return 5124;if(s===Sa)return 5125;if(s===Fr)return 5126;if(s===Or)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===e4)return 6406;if(s===Sr)return 6408;if(s===t4)return 6409;if(s===n4)return 6410;if(s===kl)return 6402;if(s===Ac)return 34041;if(s===n1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===XE)return 6403;if(s===r4)return 36244;if(s===i4)return 33319;if(s===s4)return 33320;if(s===o4)return 36249;if(s===ay||s===ly||s===uy||s===cy)if(o===bn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ay)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===ly)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===uy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===cy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ay)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===ly)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===uy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===cy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===qA||s===eb||s===tb||s===nb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===qA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===eb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===tb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===nb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===a4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===rb||s===ib)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===rb)return o===bn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===ib)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===sb||s===ob||s===ab||s===lb||s===ub||s===cb||s===fb||s===db||s===hb||s===pb||s===mb||s===gb||s===vb||s===yb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===sb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===ob)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ab)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===lb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ub)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===cb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===fb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===db)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===hb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===pb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===mb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===gb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===vb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===yb)return o===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===fy)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===fy)return o===bn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===l4||s===xb||s===_b||s===wb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===fy)return a.COMPRESSED_RED_RGTC1_EXT;if(s===xb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===_b)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===wb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===oc?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class C4 extends cr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ba extends Zt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const OJ={type:"move"};class jw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ba,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ba,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ba,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),x=this._getHandJoint(u,v);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&d>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(OJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ba;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class T4 extends cn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:kl,c!==kl&&c!==Ac)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===kl&&(r=Sa),r===void 0&&c===Ac&&(r=oc),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:tr,this.minFilter=l!==void 0?l:tr,this.flipY=!1,this.generateMipmaps=!1}}class NJ extends Wa{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,d=null,m=null,g=null;const v=n.getContextAttributes();let y=null,x=null;const _=[],w=[],A=new Set,M=new Map,C=new cr;C.layers.enable(1),C.viewport=new dn;const T=new cr;T.layers.enable(2),T.viewport=new dn;const E=[C,T],P=new C4;P.layers.enable(1),P.layers.enable(2);let B=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let X=_[z];return X===void 0&&(X=new jw,_[z]=X),X.getTargetRaySpace()},this.getControllerGrip=function(z){let X=_[z];return X===void 0&&(X=new jw,_[z]=X),X.getGripSpace()},this.getHand=function(z){let X=_[z];return X===void 0&&(X=new jw,_[z]=X),X.getHandSpace()};function F(z){const X=w.indexOf(z.inputSource);if(X===-1)return;const ne=_[X];ne!==void 0&&ne.dispatchEvent({type:z.type,data:z.inputSource})}function U(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",O);for(let z=0;z<_.length;z++){const X=w[z];X!==null&&(w[z]=null,_[z].disconnect(X))}B=null,N=null,e.setRenderTarget(y),m=null,d=null,f=null,i=null,x=null,G.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(z){u=z},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",U),i.addEventListener("inputsourceschange",O),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,X),i.updateRenderState({baseLayer:m}),x=new as(m.framebufferWidth,m.framebufferHeight,{format:Sr,type:zs,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let X=null,ne=null,ee=null;v.depth&&(ee=v.stencil?35056:33190,X=v.stencil?Ac:kl,ne=v.stencil?oc:Sa);const Y={colorFormat:32856,depthFormat:ee,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(Y),i.updateRenderState({layers:[d]}),x=new as(d.textureWidth,d.textureHeight,{format:Sr,type:zs,depthTexture:new T4(d.textureWidth,d.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const ue=e.properties.get(x);ue.__ignoreDepthValues=d.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function O(z){for(let X=0;X<z.removed.length;X++){const ne=z.removed[X],ee=w.indexOf(ne);ee>=0&&(w[ee]=null,_[ee].disconnect(ne))}for(let X=0;X<z.added.length;X++){const ne=z.added[X];let ee=w.indexOf(ne);if(ee===-1){for(let ue=0;ue<_.length;ue++)if(ue>=w.length){w.push(ne),ee=ue;break}else if(w[ue]===null){w[ue]=ne,ee=ue;break}if(ee===-1)break}const Y=_[ee];Y&&Y.connect(ne)}}const J=new Z,$=new Z;function ie(z,X,ne){J.setFromMatrixPosition(X.matrixWorld),$.setFromMatrixPosition(ne.matrixWorld);const ee=J.distanceTo($),Y=X.projectionMatrix.elements,ue=ne.projectionMatrix.elements,ce=Y[14]/(Y[10]-1),Te=Y[14]/(Y[10]+1),we=(Y[9]+1)/Y[5],ve=(Y[9]-1)/Y[5],oe=(Y[8]-1)/Y[0],fe=(ue[8]+1)/ue[0],Re=ce*oe,Ge=ce*fe,Ie=ee/(-oe+fe),Xe=Ie*-oe;X.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Xe),z.translateZ(Ie),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Pe=ce+Ie,ze=Te+Ie,Ye=Re-Xe,Ee=Ge+(ee-Xe),K=we*Te/ze*Pe,k=ve*Te/ze*Pe;z.projectionMatrix.makePerspective(Ye,Ee,K,k,Pe,ze)}function H(z,X){X===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(X.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;P.near=T.near=C.near=z.near,P.far=T.far=C.far=z.far,(B!==P.near||N!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),B=P.near,N=P.far);const X=z.parent,ne=P.cameras;H(P,X);for(let Y=0;Y<ne.length;Y++)H(ne[Y],X);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),z.matrix.copy(P.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const ee=z.children;for(let Y=0,ue=ee.length;Y<ue;Y++)ee[Y].updateMatrixWorld(!0);ne.length===2?ie(P,C,T):P.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(z){l=z,d!==null&&(d.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)},this.getPlanes=function(){return A};let j=null;function W(z,X){if(c=X.getViewerPose(u||o),g=X,c!==null){const ne=c.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let ee=!1;ne.length!==P.cameras.length&&(P.cameras.length=0,ee=!0);for(let Y=0;Y<ne.length;Y++){const ue=ne[Y];let ce=null;if(m!==null)ce=m.getViewport(ue);else{const we=f.getViewSubImage(d,ue);ce=we.viewport,Y===0&&(e.setRenderTargetTextures(x,we.colorTexture,d.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(x))}let Te=E[Y];Te===void 0&&(Te=new cr,Te.layers.enable(Y),Te.viewport=new dn,E[Y]=Te),Te.matrix.fromArray(ue.transform.matrix),Te.projectionMatrix.fromArray(ue.projectionMatrix),Te.viewport.set(ce.x,ce.y,ce.width,ce.height),Y===0&&P.matrix.copy(Te.matrix),ee===!0&&P.cameras.push(Te)}}for(let ne=0;ne<_.length;ne++){const ee=w[ne],Y=_[ne];ee!==null&&Y!==void 0&&Y.update(ee,X,u||o)}if(j&&j(z,X),X.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:X.detectedPlanes});let ne=null;for(const ee of A)X.detectedPlanes.has(ee)||(ne===null&&(ne=[]),ne.push(ee));if(ne!==null)for(const ee of ne)A.delete(ee),M.delete(ee),r.dispatchEvent({type:"planeremoved",data:ee});for(const ee of X.detectedPlanes)if(!A.has(ee))A.add(ee),M.set(ee,X.lastChangedTime),r.dispatchEvent({type:"planeadded",data:ee});else{const Y=M.get(ee);ee.lastChangedTime>Y&&(M.set(ee,ee.lastChangedTime),r.dispatchEvent({type:"planechanged",data:ee}))}}g=null}const G=new w4;G.setAnimationLoop(W),this.setAnimationLoop=function(z){j=z},this.dispose=function(){}}}function UJ(t,e){function n(v,y){y.color.getRGB(v.fogColor.value,x4(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),c(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,w)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===zi&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===zi&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const A=t.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===zi&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function zJ(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(_,w){const A=w.program;r.uniformBlockBinding(_,A)}function u(_,w){let A=i[_.id];A===void 0&&(g(_),A=c(_),i[_.id]=A,_.addEventListener("dispose",y));const M=w.program;r.updateUBOMapping(_,M);const C=e.render.frame;s[_.id]!==C&&(d(_),s[_.id]=C)}function c(_){const w=f();_.__bindingPointIndex=w;const A=t.createBuffer(),M=_.__size,C=_.usage;return t.bindBuffer(35345,A),t.bufferData(35345,M,C),t.bindBuffer(35345,null),t.bindBufferBase(35345,w,A),A}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const w=i[_.id],A=_.uniforms,M=_.__cache;t.bindBuffer(35345,w);for(let C=0,T=A.length;C<T;C++){const E=A[C];if(m(E,C,M)===!0){const P=E.__offset,B=Array.isArray(E.value)?E.value:[E.value];let N=0;for(let F=0;F<B.length;F++){const U=B[F],O=v(U);typeof U=="number"?(E.__data[0]=U,t.bufferSubData(35345,P+N,E.__data)):U.isMatrix3?(E.__data[0]=U.elements[0],E.__data[1]=U.elements[1],E.__data[2]=U.elements[2],E.__data[3]=U.elements[0],E.__data[4]=U.elements[3],E.__data[5]=U.elements[4],E.__data[6]=U.elements[5],E.__data[7]=U.elements[0],E.__data[8]=U.elements[6],E.__data[9]=U.elements[7],E.__data[10]=U.elements[8],E.__data[11]=U.elements[0]):(U.toArray(E.__data,N),N+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,P,E.__data)}}t.bindBuffer(35345,null)}function m(_,w,A){const M=_.value;if(A[w]===void 0){if(typeof M=="number")A[w]=M;else{const C=Array.isArray(M)?M:[M],T=[];for(let E=0;E<C.length;E++)T.push(C[E].clone());A[w]=T}return!0}else if(typeof M=="number"){if(A[w]!==M)return A[w]=M,!0}else{const C=Array.isArray(A[w])?A[w]:[A[w]],T=Array.isArray(M)?M:[M];for(let E=0;E<C.length;E++){const P=C[E];if(P.equals(T[E])===!1)return P.copy(T[E]),!0}}return!1}function g(_){const w=_.uniforms;let A=0;const M=16;let C=0;for(let T=0,E=w.length;T<E;T++){const P=w[T],B={boundary:0,storage:0},N=Array.isArray(P.value)?P.value:[P.value];for(let F=0,U=N.length;F<U;F++){const O=N[F],J=v(O);B.boundary+=J.boundary,B.storage+=J.storage}if(P.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=A,T>0){C=A%M;const F=M-C;C!==0&&F-B.boundary<0&&(A+=M-C,P.__offset=A)}A+=B.storage}return C=A%M,C>0&&(A+=M-C),_.__size=A,_.__cache={},this}function v(_){const w={boundary:0,storage:0};return typeof _=="number"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function y(_){const w=_.target;w.removeEventListener("dispose",y);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:u,dispose:x}}function GJ(){const t=_m("canvas");return t.style.display="block",t}function fx(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:GJ(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let f=null,d=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Wl,this.physicallyCorrectLights=!1,this.toneMapping=ao,this.toneMappingExposure=1;const v=this;let y=!1,x=0,_=0,w=null,A=-1,M=null;const C=new dn,T=new dn;let E=null,P=e.width,B=e.height,N=1,F=null,U=null;const O=new dn(0,0,P,B),J=new dn(0,0,P,B);let $=!1;const ie=new ax;let H=!1,j=!1,W=null;const G=new Lt,z=new je,X=new Z,ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ee(){return w===null?N:1}let Y=n;function ue(Q,Se){for(let _e=0;_e<Q.length;_e++){const me=Q[_e],Ne=e.getContext(me,Se);if(Ne!==null)return Ne}return null}try{const Q={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Xm}`),e.addEventListener("webglcontextlost",We,!1),e.addEventListener("webglcontextrestored",Ve,!1),e.addEventListener("webglcontextcreationerror",at,!1),Y===null){const Se=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Se.shift(),Y=ue(Se,Q),Y===null)throw ue(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let ce,Te,we,ve,oe,fe,Re,Ge,Ie,Xe,Pe,ze,Ye,Ee,K,k,re,pe,Le,Me,Je,ke,be,Ze;function rt(){ce=new r$(Y),Te=new Qj(Y,ce,t),ce.init(Te),ke=new E4(Y,ce,Te),we=new kJ(Y,ce,Te),ve=new o$,oe=new AJ,fe=new FJ(Y,ce,we,oe,Te,ke,ve),Re=new qj(v),Ge=new n$(v),Ie=new mW(Y,Te),be=new Kj(Y,ce,Ie,Te),Xe=new i$(Y,Ie,ve,be),Pe=new c$(Y,Xe,Ie,ve),Le=new u$(Y,Te,fe),k=new Zj(oe),ze=new SJ(v,Re,Ge,ce,Te,be,k),Ye=new UJ(v,oe),Ee=new MJ,K=new IJ(ce,Te),pe=new Xj(v,Re,Ge,we,Pe,c,o),re=new LJ(v,Pe,Te),Ze=new zJ(Y,ve,Te,we),Me=new Yj(Y,ce,ve,Te),Je=new s$(Y,ce,ve,Te),ve.programs=ze.programs,v.capabilities=Te,v.extensions=ce,v.properties=oe,v.renderLists=Ee,v.shadowMap=re,v.state=we,v.info=ve}rt();const $e=new NJ(v,Y);this.xr=$e,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const Q=ce.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ce.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(Q){Q!==void 0&&(N=Q,this.setSize(P,B,!1))},this.getSize=function(Q){return Q.set(P,B)},this.setSize=function(Q,Se,_e){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=Q,B=Se,e.width=Math.floor(Q*N),e.height=Math.floor(Se*N),_e!==!1&&(e.style.width=Q+"px",e.style.height=Se+"px"),this.setViewport(0,0,Q,Se)},this.getDrawingBufferSize=function(Q){return Q.set(P*N,B*N).floor()},this.setDrawingBufferSize=function(Q,Se,_e){P=Q,B=Se,N=_e,e.width=Math.floor(Q*_e),e.height=Math.floor(Se*_e),this.setViewport(0,0,Q,Se)},this.getCurrentViewport=function(Q){return Q.copy(C)},this.getViewport=function(Q){return Q.copy(O)},this.setViewport=function(Q,Se,_e,me){Q.isVector4?O.set(Q.x,Q.y,Q.z,Q.w):O.set(Q,Se,_e,me),we.viewport(C.copy(O).multiplyScalar(N).floor())},this.getScissor=function(Q){return Q.copy(J)},this.setScissor=function(Q,Se,_e,me){Q.isVector4?J.set(Q.x,Q.y,Q.z,Q.w):J.set(Q,Se,_e,me),we.scissor(T.copy(J).multiplyScalar(N).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(Q){we.setScissorTest($=Q)},this.setOpaqueSort=function(Q){F=Q},this.setTransparentSort=function(Q){U=Q},this.getClearColor=function(Q){return Q.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(Q=!0,Se=!0,_e=!0){let me=0;Q&&(me|=16384),Se&&(me|=256),_e&&(me|=1024),Y.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",We,!1),e.removeEventListener("webglcontextrestored",Ve,!1),e.removeEventListener("webglcontextcreationerror",at,!1),Ee.dispose(),K.dispose(),oe.dispose(),Re.dispose(),Ge.dispose(),Pe.dispose(),be.dispose(),Ze.dispose(),ze.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",ot),$e.removeEventListener("sessionend",tt),W&&(W.dispose(),W=null),ft.stop()};function We(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const Q=ve.autoReset,Se=re.enabled,_e=re.autoUpdate,me=re.needsUpdate,Ne=re.type;rt(),ve.autoReset=Q,re.enabled=Se,re.autoUpdate=_e,re.needsUpdate=me,re.type=Ne}function at(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function pt(Q){const Se=Q.target;Se.removeEventListener("dispose",pt),bt(Se)}function bt(Q){le(Q),oe.remove(Q)}function le(Q){const Se=oe.get(Q).programs;Se!==void 0&&(Se.forEach(function(_e){ze.releaseProgram(_e)}),Q.isShaderMaterial&&ze.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,Se,_e,me,Ne,L){Se===null&&(Se=ne);const V=Ne.isMesh&&Ne.matrixWorld.determinant()<0,te=zr(Q,Se,_e,me,Ne);we.setMaterial(me,V);let de=_e.index,ye=1;me.wireframe===!0&&(de=Xe.getWireframeAttribute(_e),ye=2);const xe=_e.drawRange,Ue=_e.attributes.position;let He=xe.start*ye,Ke=(xe.start+xe.count)*ye;L!==null&&(He=Math.max(He,L.start*ye),Ke=Math.min(Ke,(L.start+L.count)*ye)),de!==null?(He=Math.max(He,0),Ke=Math.min(Ke,de.count)):Ue!=null&&(He=Math.max(He,0),Ke=Math.min(Ke,Ue.count));const Qe=Ke-He;if(Qe<0||Qe===1/0)return;be.setup(Ne,me,te,_e,de);let qe,Ae=Me;if(de!==null&&(qe=Ie.get(de),Ae=Je,Ae.setIndex(qe)),Ne.isMesh)me.wireframe===!0?(we.setLineWidth(me.wireframeLinewidth*ee()),Ae.setMode(1)):Ae.setMode(4);else if(Ne.isLine){let ht=me.linewidth;ht===void 0&&(ht=1),we.setLineWidth(ht*ee()),Ne.isLineSegments?Ae.setMode(1):Ne.isLineLoop?Ae.setMode(2):Ae.setMode(3)}else Ne.isPoints?Ae.setMode(0):Ne.isSprite&&Ae.setMode(4);if(Ne.isInstancedMesh)Ae.renderInstances(He,Qe,Ne.count);else if(_e.isInstancedBufferGeometry){const ht=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,mt=Math.min(_e.instanceCount,ht);Ae.renderInstances(He,Qe,mt)}else Ae.render(He,Qe)},this.compile=function(Q,Se){function _e(me,Ne,L){me.transparent===!0&&me.side===ns&&me.forceSinglePass===!1?(me.side=zi,me.needsUpdate=!0,sn(me,Ne,L),me.side=Ho,me.needsUpdate=!0,sn(me,Ne,L),me.side=ns):sn(me,Ne,L)}d=K.get(Q),d.init(),g.push(d),Q.traverseVisible(function(me){me.isLight&&me.layers.test(Se.layers)&&(d.pushLight(me),me.castShadow&&d.pushShadow(me))}),d.setupLights(v.physicallyCorrectLights),Q.traverse(function(me){const Ne=me.material;if(Ne)if(Array.isArray(Ne))for(let L=0;L<Ne.length;L++){const V=Ne[L];_e(V,Q,me)}else _e(Ne,Q,me)}),g.pop(),d=null};let se=null;function Oe(Q){se&&se(Q)}function ot(){ft.stop()}function tt(){ft.start()}const ft=new w4;ft.setAnimationLoop(Oe),typeof self<"u"&&ft.setContext(self),this.setAnimationLoop=function(Q){se=Q,$e.setAnimationLoop(Q),Q===null?ft.stop():ft.start()},$e.addEventListener("sessionstart",ot),$e.addEventListener("sessionend",tt),this.render=function(Q,Se){if(Se!==void 0&&Se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),Se.parent===null&&Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(Se),Se=$e.getCamera()),Q.isScene===!0&&Q.onBeforeRender(v,Q,Se,w),d=K.get(Q,g.length),d.init(),g.push(d),G.multiplyMatrices(Se.projectionMatrix,Se.matrixWorldInverse),ie.setFromProjectionMatrix(G),j=this.localClippingEnabled,H=k.init(this.clippingPlanes,j),f=Ee.get(Q,m.length),f.init(),m.push(f),Ft(Q,Se,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(F,U),H===!0&&k.beginShadows();const _e=d.state.shadowsArray;if(re.render(_e,Q,Se),H===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),pe.render(f,Q),d.setupLights(v.physicallyCorrectLights),Se.isArrayCamera){const me=Se.cameras;for(let Ne=0,L=me.length;Ne<L;Ne++){const V=me[Ne];kt(f,Q,V,V.viewport)}}else kt(f,Q,Se);w!==null&&(fe.updateMultisampleRenderTarget(w),fe.updateRenderTargetMipmap(w)),Q.isScene===!0&&Q.onAfterRender(v,Q,Se),be.resetDefaultState(),A=-1,M=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function Ft(Q,Se,_e,me){if(Q.visible===!1)return;if(Q.layers.test(Se.layers)){if(Q.isGroup)_e=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(Se);else if(Q.isLight)d.pushLight(Q),Q.castShadow&&d.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||ie.intersectsSprite(Q)){me&&X.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(G);const V=Pe.update(Q),te=Q.material;te.visible&&f.push(Q,V,te,_e,X.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(Q.isSkinnedMesh&&Q.skeleton.frame!==ve.render.frame&&(Q.skeleton.update(),Q.skeleton.frame=ve.render.frame),!Q.frustumCulled||ie.intersectsObject(Q))){me&&X.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(G);const V=Pe.update(Q),te=Q.material;if(Array.isArray(te)){const de=V.groups;for(let ye=0,xe=de.length;ye<xe;ye++){const Ue=de[ye],He=te[Ue.materialIndex];He&&He.visible&&f.push(Q,V,He,_e,X.z,Ue)}}else te.visible&&f.push(Q,V,te,_e,X.z,null)}}const L=Q.children;for(let V=0,te=L.length;V<te;V++)Ft(L[V],Se,_e,me)}function kt(Q,Se,_e,me){const Ne=Q.opaque,L=Q.transmissive,V=Q.transparent;d.setupLightsView(_e),H===!0&&k.setGlobalState(v.clippingPlanes,_e),L.length>0&&Mt(Ne,Se,_e),me&&we.viewport(C.copy(me)),Ne.length>0&&Et(Ne,Se,_e),L.length>0&&Et(L,Se,_e),V.length>0&&Et(V,Se,_e),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Mt(Q,Se,_e){const me=Te.isWebGL2;W===null&&(W=new as(1,1,{generateMipmaps:!0,type:ce.has("EXT_color_buffer_half_float")?Or:zs,minFilter:Vo,samples:me&&s===!0?4:0})),v.getDrawingBufferSize(z),me?W.setSize(z.x,z.y):W.setSize(r1(z.x),r1(z.y));const Ne=v.getRenderTarget();v.setRenderTarget(W),v.clear();const L=v.toneMapping;v.toneMapping=ao,Et(Q,Se,_e),v.toneMapping=L,fe.updateMultisampleRenderTarget(W),fe.updateRenderTargetMipmap(W),v.setRenderTarget(Ne)}function Et(Q,Se,_e){const me=Se.isScene===!0?Se.overrideMaterial:null;for(let Ne=0,L=Q.length;Ne<L;Ne++){const V=Q[Ne],te=V.object,de=V.geometry,ye=me===null?V.material:me,xe=V.group;te.layers.test(_e.layers)&&hn(te,Se,_e,de,ye,xe)}}function hn(Q,Se,_e,me,Ne,L){Q.onBeforeRender(v,Se,_e,me,Ne,L),Q.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Ne.onBeforeRender(v,Se,_e,me,Q,L),Ne.transparent===!0&&Ne.side===ns&&Ne.forceSinglePass===!1?(Ne.side=zi,Ne.needsUpdate=!0,v.renderBufferDirect(_e,Se,me,Ne,Q,L),Ne.side=Ho,Ne.needsUpdate=!0,v.renderBufferDirect(_e,Se,me,Ne,Q,L),Ne.side=ns):v.renderBufferDirect(_e,Se,me,Ne,Q,L),Q.onAfterRender(v,Se,_e,me,Ne,L)}function sn(Q,Se,_e){Se.isScene!==!0&&(Se=ne);const me=oe.get(Q),Ne=d.state.lights,L=d.state.shadowsArray,V=Ne.state.version,te=ze.getParameters(Q,Ne.state,L,Se,_e),de=ze.getProgramCacheKey(te);let ye=me.programs;me.environment=Q.isMeshStandardMaterial?Se.environment:null,me.fog=Se.fog,me.envMap=(Q.isMeshStandardMaterial?Ge:Re).get(Q.envMap||me.environment),ye===void 0&&(Q.addEventListener("dispose",pt),ye=new Map,me.programs=ye);let xe=ye.get(de);if(xe!==void 0){if(me.currentProgram===xe&&me.lightsStateVersion===V)return wn(Q,te),xe}else te.uniforms=ze.getUniforms(Q),Q.onBuild(_e,te,v),Q.onBeforeCompile(te,v),xe=ze.acquireProgram(te,de),ye.set(de,xe),me.uniforms=te.uniforms;const Ue=me.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(Ue.clippingPlanes=k.uniform),wn(Q,te),me.needsLights=Gr(Q),me.lightsStateVersion=V,me.needsLights&&(Ue.ambientLightColor.value=Ne.state.ambient,Ue.lightProbe.value=Ne.state.probe,Ue.directionalLights.value=Ne.state.directional,Ue.directionalLightShadows.value=Ne.state.directionalShadow,Ue.spotLights.value=Ne.state.spot,Ue.spotLightShadows.value=Ne.state.spotShadow,Ue.rectAreaLights.value=Ne.state.rectArea,Ue.ltc_1.value=Ne.state.rectAreaLTC1,Ue.ltc_2.value=Ne.state.rectAreaLTC2,Ue.pointLights.value=Ne.state.point,Ue.pointLightShadows.value=Ne.state.pointShadow,Ue.hemisphereLights.value=Ne.state.hemi,Ue.directionalShadowMap.value=Ne.state.directionalShadowMap,Ue.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,Ue.spotShadowMap.value=Ne.state.spotShadowMap,Ue.spotLightMatrix.value=Ne.state.spotLightMatrix,Ue.spotLightMap.value=Ne.state.spotLightMap,Ue.pointShadowMap.value=Ne.state.pointShadowMap,Ue.pointShadowMatrix.value=Ne.state.pointShadowMatrix);const He=xe.getUniforms(),Ke=my.seqWithValue(He.seq,Ue);return me.currentProgram=xe,me.uniformsList=Ke,xe}function wn(Q,Se){const _e=oe.get(Q);_e.outputEncoding=Se.outputEncoding,_e.instancing=Se.instancing,_e.skinning=Se.skinning,_e.morphTargets=Se.morphTargets,_e.morphNormals=Se.morphNormals,_e.morphColors=Se.morphColors,_e.morphTargetsCount=Se.morphTargetsCount,_e.numClippingPlanes=Se.numClippingPlanes,_e.numIntersection=Se.numClipIntersection,_e.vertexAlphas=Se.vertexAlphas,_e.vertexTangents=Se.vertexTangents,_e.toneMapping=Se.toneMapping}function zr(Q,Se,_e,me,Ne){Se.isScene!==!0&&(Se=ne),fe.resetTextureUnits();const L=Se.fog,V=me.isMeshStandardMaterial?Se.environment:null,te=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:Wl,de=(me.isMeshStandardMaterial?Ge:Re).get(me.envMap||V),ye=me.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,xe=!!me.normalMap&&!!_e.attributes.tangent,Ue=!!_e.morphAttributes.position,He=!!_e.morphAttributes.normal,Ke=!!_e.morphAttributes.color,Qe=me.toneMapped?v.toneMapping:ao,qe=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Ae=qe!==void 0?qe.length:0,ht=oe.get(me),mt=d.state.lights;if(H===!0&&(j===!0||Q!==M)){const zt=Q===M&&me.id===A;k.setState(me,Q,zt)}let it=!1;me.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==mt.state.version||ht.outputEncoding!==te||Ne.isInstancedMesh&&ht.instancing===!1||!Ne.isInstancedMesh&&ht.instancing===!0||Ne.isSkinnedMesh&&ht.skinning===!1||!Ne.isSkinnedMesh&&ht.skinning===!0||ht.envMap!==de||me.fog===!0&&ht.fog!==L||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==k.numPlanes||ht.numIntersection!==k.numIntersection)||ht.vertexAlphas!==ye||ht.vertexTangents!==xe||ht.morphTargets!==Ue||ht.morphNormals!==He||ht.morphColors!==Ke||ht.toneMapping!==Qe||Te.isWebGL2===!0&&ht.morphTargetsCount!==Ae)&&(it=!0):(it=!0,ht.__version=me.version);let St=ht.currentProgram;it===!0&&(St=sn(me,Se,Ne));let Bt=!1,Ot=!1,Nt=!1;const gt=St.getUniforms(),Ct=ht.uniforms;if(we.useProgram(St.program)&&(Bt=!0,Ot=!0,Nt=!0),me.id!==A&&(A=me.id,Ot=!0),Bt||M!==Q){if(gt.setValue(Y,"projectionMatrix",Q.projectionMatrix),Te.logarithmicDepthBuffer&&gt.setValue(Y,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),M!==Q&&(M=Q,Ot=!0,Nt=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const zt=gt.map.cameraPosition;zt!==void 0&&zt.setValue(Y,X.setFromMatrixPosition(Q.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&gt.setValue(Y,"isOrthographic",Q.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||Ne.isSkinnedMesh)&&gt.setValue(Y,"viewMatrix",Q.matrixWorldInverse)}if(Ne.isSkinnedMesh){gt.setOptional(Y,Ne,"bindMatrix"),gt.setOptional(Y,Ne,"bindMatrixInverse");const zt=Ne.skeleton;zt&&(Te.floatVertexTextures?(zt.boneTexture===null&&zt.computeBoneTexture(),gt.setValue(Y,"boneTexture",zt.boneTexture,fe),gt.setValue(Y,"boneTextureSize",zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ut=_e.morphAttributes;if((Ut.position!==void 0||Ut.normal!==void 0||Ut.color!==void 0&&Te.isWebGL2===!0)&&Le.update(Ne,_e,me,St),(Ot||ht.receiveShadow!==Ne.receiveShadow)&&(ht.receiveShadow=Ne.receiveShadow,gt.setValue(Y,"receiveShadow",Ne.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Ct.envMap.value=de,Ct.flipEnvMap.value=de.isCubeTexture&&de.isRenderTargetTexture===!1?-1:1),Ot&&(gt.setValue(Y,"toneMappingExposure",v.toneMappingExposure),ht.needsLights&&Cr(Ct,Nt),L&&me.fog===!0&&Ye.refreshFogUniforms(Ct,L),Ye.refreshMaterialUniforms(Ct,me,N,B,W),my.upload(Y,ht.uniformsList,Ct,fe)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(my.upload(Y,ht.uniformsList,Ct,fe),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&gt.setValue(Y,"center",Ne.center),gt.setValue(Y,"modelViewMatrix",Ne.modelViewMatrix),gt.setValue(Y,"normalMatrix",Ne.normalMatrix),gt.setValue(Y,"modelMatrix",Ne.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const zt=me.uniformsGroups;for(let Dt=0,fn=zt.length;Dt<fn;Dt++)if(Te.isWebGL2){const Cn=zt[Dt];Ze.update(Cn,St),Ze.bind(Cn,St)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return St}function Cr(Q,Se){Q.ambientLightColor.needsUpdate=Se,Q.lightProbe.needsUpdate=Se,Q.directionalLights.needsUpdate=Se,Q.directionalLightShadows.needsUpdate=Se,Q.pointLights.needsUpdate=Se,Q.pointLightShadows.needsUpdate=Se,Q.spotLights.needsUpdate=Se,Q.spotLightShadows.needsUpdate=Se,Q.rectAreaLights.needsUpdate=Se,Q.hemisphereLights.needsUpdate=Se}function Gr(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(Q,Se,_e){oe.get(Q.texture).__webglTexture=Se,oe.get(Q.depthTexture).__webglTexture=_e;const me=oe.get(Q);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=_e===void 0,me.__autoAllocateDepthBuffer||ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,Se){const _e=oe.get(Q);_e.__webglFramebuffer=Se,_e.__useDefaultFramebuffer=Se===void 0},this.setRenderTarget=function(Q,Se=0,_e=0){w=Q,x=Se,_=_e;let me=!0,Ne=null,L=!1,V=!1;if(Q){const de=oe.get(Q);de.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),me=!1):de.__webglFramebuffer===void 0?fe.setupRenderTarget(Q):de.__hasExternalTextures&&fe.rebindTextures(Q,oe.get(Q.texture).__webglTexture,oe.get(Q.depthTexture).__webglTexture);const ye=Q.texture;(ye.isData3DTexture||ye.isDataArrayTexture||ye.isCompressedArrayTexture)&&(V=!0);const xe=oe.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Ne=xe[Se],L=!0):Te.isWebGL2&&Q.samples>0&&fe.useMultisampledRTT(Q)===!1?Ne=oe.get(Q).__webglMultisampledFramebuffer:Ne=xe,C.copy(Q.viewport),T.copy(Q.scissor),E=Q.scissorTest}else C.copy(O).multiplyScalar(N).floor(),T.copy(J).multiplyScalar(N).floor(),E=$;if(we.bindFramebuffer(36160,Ne)&&Te.drawBuffers&&me&&we.drawBuffers(Q,Ne),we.viewport(C),we.scissor(T),we.setScissorTest(E),L){const de=oe.get(Q.texture);Y.framebufferTexture2D(36160,36064,34069+Se,de.__webglTexture,_e)}else if(V){const de=oe.get(Q.texture),ye=Se||0;Y.framebufferTextureLayer(36160,36064,de.__webglTexture,_e||0,ye)}A=-1},this.readRenderTargetPixels=function(Q,Se,_e,me,Ne,L,V){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let te=oe.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&V!==void 0&&(te=te[V]),te){we.bindFramebuffer(36160,te);try{const de=Q.texture,ye=de.format,xe=de.type;if(ye!==Sr&&ke.convert(ye)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ue=xe===Or&&(ce.has("EXT_color_buffer_half_float")||Te.isWebGL2&&ce.has("EXT_color_buffer_float"));if(xe!==zs&&ke.convert(xe)!==Y.getParameter(35738)&&!(xe===Fr&&(Te.isWebGL2||ce.has("OES_texture_float")||ce.has("WEBGL_color_buffer_float")))&&!Ue){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Se>=0&&Se<=Q.width-me&&_e>=0&&_e<=Q.height-Ne&&Y.readPixels(Se,_e,me,Ne,ke.convert(ye),ke.convert(xe),L)}finally{const de=w!==null?oe.get(w).__webglFramebuffer:null;we.bindFramebuffer(36160,de)}}},this.copyFramebufferToTexture=function(Q,Se,_e=0){const me=Math.pow(2,-_e),Ne=Math.floor(Se.image.width*me),L=Math.floor(Se.image.height*me);fe.setTexture2D(Se,0),Y.copyTexSubImage2D(3553,_e,0,0,Q.x,Q.y,Ne,L),we.unbindTexture()},this.copyTextureToTexture=function(Q,Se,_e,me=0){const Ne=Se.image.width,L=Se.image.height,V=ke.convert(_e.format),te=ke.convert(_e.type);fe.setTexture2D(_e,0),Y.pixelStorei(37440,_e.flipY),Y.pixelStorei(37441,_e.premultiplyAlpha),Y.pixelStorei(3317,_e.unpackAlignment),Se.isDataTexture?Y.texSubImage2D(3553,me,Q.x,Q.y,Ne,L,V,te,Se.image.data):Se.isCompressedTexture?Y.compressedTexSubImage2D(3553,me,Q.x,Q.y,Se.mipmaps[0].width,Se.mipmaps[0].height,V,Se.mipmaps[0].data):Y.texSubImage2D(3553,me,Q.x,Q.y,V,te,Se.image),me===0&&_e.generateMipmaps&&Y.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(Q,Se,_e,me,Ne=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const L=Q.max.x-Q.min.x+1,V=Q.max.y-Q.min.y+1,te=Q.max.z-Q.min.z+1,de=ke.convert(me.format),ye=ke.convert(me.type);let xe;if(me.isData3DTexture)fe.setTexture3D(me,0),xe=32879;else if(me.isDataArrayTexture)fe.setTexture2DArray(me,0),xe=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,me.flipY),Y.pixelStorei(37441,me.premultiplyAlpha),Y.pixelStorei(3317,me.unpackAlignment);const Ue=Y.getParameter(3314),He=Y.getParameter(32878),Ke=Y.getParameter(3316),Qe=Y.getParameter(3315),qe=Y.getParameter(32877),Ae=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;Y.pixelStorei(3314,Ae.width),Y.pixelStorei(32878,Ae.height),Y.pixelStorei(3316,Q.min.x),Y.pixelStorei(3315,Q.min.y),Y.pixelStorei(32877,Q.min.z),_e.isDataTexture||_e.isData3DTexture?Y.texSubImage3D(xe,Ne,Se.x,Se.y,Se.z,L,V,te,de,ye,Ae.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(xe,Ne,Se.x,Se.y,Se.z,L,V,te,de,Ae.data)):Y.texSubImage3D(xe,Ne,Se.x,Se.y,Se.z,L,V,te,de,ye,Ae),Y.pixelStorei(3314,Ue),Y.pixelStorei(32878,He),Y.pixelStorei(3316,Ke),Y.pixelStorei(3315,Qe),Y.pixelStorei(32877,qe),Ne===0&&me.generateMipmaps&&Y.generateMipmap(xe),we.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?fe.setTextureCube(Q,0):Q.isData3DTexture?fe.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?fe.setTexture2DArray(Q,0):fe.setTexture2D(Q,0),we.unbindTexture()},this.resetState=function(){x=0,_=0,w=null,we.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class R4 extends fx{}R4.prototype.isWebGL1Renderer=!0;class dx{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=n}clone(){return new dx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class hx{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=n,this.far=r}clone(){return new hx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class eg extends Zt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class tg{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ym,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=is()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new Z;class jl{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyMatrix4(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyNormalMatrix(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.transformDirection(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Aa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Aa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Aa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Aa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new rn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new jl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oC extends br{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _f;const Xh=new Z,wf=new Z,Sf=new Z,Af=new je,Kh=new je,P4=new Lt,rv=new Z,Yh=new Z,iv=new Z,AP=new je,$w=new je,bP=new je;class I4 extends Zt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_f===void 0){_f=new $t;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new tg(n,5);_f.setIndex([0,1,2,0,2,3]),_f.setAttribute("position",new jl(r,3,0,!1)),_f.setAttribute("uv",new jl(r,2,3,!1))}this.geometry=_f,this.material=e!==void 0?e:new oC,this.center=new je(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wf.setFromMatrixScale(this.matrixWorld),P4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Sf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wf.multiplyScalar(-Sf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;sv(rv.set(-.5,-.5,0),Sf,o,wf,i,s),sv(Yh.set(.5,-.5,0),Sf,o,wf,i,s),sv(iv.set(.5,.5,0),Sf,o,wf,i,s),AP.set(0,0),$w.set(1,0),bP.set(1,1);let a=e.ray.intersectTriangle(rv,Yh,iv,!1,Xh);if(a===null&&(sv(Yh.set(-.5,.5,0),Sf,o,wf,i,s),$w.set(0,1),a=e.ray.intersectTriangle(rv,iv,Yh,!1,Xh),a===null))return;const l=e.ray.origin.distanceTo(Xh);l<e.near||l>e.far||n.push({distance:l,point:Xh.clone(),uv:Is.getUV(Xh,rv,Yh,iv,AP,$w,bP,new je),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function sv(t,e,n,r,i,s){Af.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Kh.x=s*Af.x-i*Af.y,Kh.y=i*Af.x+s*Af.y):Kh.copy(Af),t.copy(e),t.x+=Kh.x,t.y+=Kh.y,t.applyMatrix4(P4)}const ov=new Z,MP=new Z;class B4 extends Zt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){ov.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ov);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){ov.setFromMatrixPosition(e.matrixWorld),MP.setFromMatrixPosition(this.matrixWorld);const r=ov.distanceTo(MP)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const EP=new Z,CP=new dn,TP=new dn,HJ=new Z,RP=new Lt;class aC extends Un{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Lt,this.bindMatrixInverse=new Lt}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;CP.fromBufferAttribute(i.attributes.skinIndex,e),TP.fromBufferAttribute(i.attributes.skinWeight,e),EP.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=TP.getComponent(s);if(o!==0){const a=CP.getComponent(s);RP.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(HJ.copy(EP).applyMatrix4(RP),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class px extends Zt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cc extends cn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=tr,c=tr,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const PP=new Lt,VJ=new Lt;class ng{constructor(e=[],n=[]){this.uuid=is(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Lt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:VJ;PP.multiplyMatrices(a,n[s]),PP.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ng(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=g4(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new cc(n,e,e,Sr,Fr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new px),this.bones.push(o),this.boneInverses.push(new Lt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class $l extends rn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const IP=new Lt,BP=new Lt,av=[],WJ=new Lt,Qh=new Un;class lC extends Un{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new $l(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,WJ)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Qh.geometry=this.geometry,Qh.material=this.material,Qh.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,IP),BP.multiplyMatrices(r,IP),Qh.matrixWorld=BP,Qh.raycast(e,av);for(let o=0,a=av.length;o<a;o++){const l=av[o];l.instanceId=s,l.object=this,n.push(l)}av.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $l(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ui extends br{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DP=new Z,LP=new Z,kP=new Lt,Jw=new Ym,lv=new $o;class Oa extends Zt{constructor(e=new $t,n=new ui){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)DP.fromBufferAttribute(n,i-1),LP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=DP.distanceTo(LP);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lv.copy(r.boundingSphere),lv.applyMatrix4(i),lv.radius+=s,e.ray.intersectsSphere(lv)===!1)return;kP.copy(i).invert(),Jw.copy(e.ray).applyMatrix4(kP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new Z,c=new Z,f=new Z,d=new Z,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){const M=g.getX(w),C=g.getX(w+1);if(u.fromBufferAttribute(y,M),c.fromBufferAttribute(y,C),Jw.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){if(u.fromBufferAttribute(y,w),c.fromBufferAttribute(y,w+1),Jw.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const FP=new Z,OP=new Z;class xo extends Oa{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)FP.fromBufferAttribute(n,i),OP.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+FP.distanceTo(OP);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uC extends Oa{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class mx extends br{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NP=new Lt,Eb=new Ym,uv=new $o,cv=new Z;class cC extends Zt{constructor(e=new $t,n=new mx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),uv.copy(r.boundingSphere),uv.applyMatrix4(i),uv.radius+=s,e.ray.intersectsSphere(uv)===!1)return;NP.copy(i).invert(),Eb.copy(e.ray).applyMatrix4(NP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=d,v=m;g<v;g++){const y=u.getX(g);cv.fromBufferAttribute(f,y),UP(cv,y,l,i,e,n,this)}}else{const d=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=d,v=m;g<v;g++)cv.fromBufferAttribute(f,g),UP(cv,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function UP(t,e,n,r,i,s,o){const a=Eb.distanceSqToPoint(t);if(a<n){const l=new Z;Eb.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class jJ extends cn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:en,this.magFilter=s!==void 0?s:en,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class $J extends cn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=tr,this.minFilter=tr,this.generateMipmaps=!1,this.needsUpdate=!0}}class fC extends cn{constructor(e,n,r,i,s,o,a,l,u,c,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class JJ extends fC{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Pn}}class XJ extends cn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _o{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,m=(o-c)/d;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new je:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Z,i=[],s=[],o=[],a=new Z,l=new Lt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new Z)}s[0]=new Z,o[0]=new Z;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(ur(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(ur(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class gx extends _o{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new je,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=u-this.aY;l=d*c-m*f+this.aX,u=d*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class D4 extends gx{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function dC(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let d=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;d*=c,m*=c,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const fv=new Z,Xw=new dC,Kw=new dC,Yw=new dC;class L4 extends _o{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Z){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(fv.subVectors(i[0],i[1]).add(i[0]),u=fv);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(fv.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=fv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(c),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),Xw.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,g,v,y),Kw.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,g,v,y),Yw.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(Xw.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),Kw.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),Yw.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(Xw.calc(l),Kw.calc(l),Yw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function zP(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function KJ(t,e){const n=1-t;return n*n*e}function YJ(t,e){return 2*(1-t)*t*e}function QJ(t,e){return t*t*e}function Fp(t,e,n,r){return KJ(t,e)+YJ(t,n)+QJ(t,r)}function ZJ(t,e){const n=1-t;return n*n*n*e}function qJ(t,e){const n=1-t;return 3*n*n*t*e}function eX(t,e){return 3*(1-t)*t*t*e}function tX(t,e){return t*t*t*e}function Op(t,e,n,r,i){return ZJ(t,e)+qJ(t,n)+eX(t,r)+tX(t,i)}class hC extends _o{constructor(e=new je,n=new je,r=new je,i=new je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new je){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Op(e,i.x,s.x,o.x,a.x),Op(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class k4 extends _o{constructor(e=new Z,n=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Op(e,i.x,s.x,o.x,a.x),Op(e,i.y,s.y,o.y,a.y),Op(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vx extends _o{constructor(e=new je,n=new je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new je){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new je;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class F4 extends _o{constructor(e=new Z,n=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Z){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pC extends _o{constructor(e=new je,n=new je,r=new je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new je){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Fp(e,i.x,s.x,o.x),Fp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mC extends _o{constructor(e=new Z,n=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Fp(e,i.x,s.x,o.x),Fp(e,i.y,s.y,o.y),Fp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gC extends _o{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new je){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(zP(a,l.x,u.x,c.x,f.x),zP(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new je().fromArray(i))}return this}}var vC=Object.freeze({__proto__:null,ArcCurve:D4,CatmullRomCurve3:L4,CubicBezierCurve:hC,CubicBezierCurve3:k4,EllipseCurve:gx,LineCurve:vx,LineCurve3:F4,QuadraticBezierCurve:pC,QuadraticBezierCurve3:mC,SplineCurve:gC});class O4 extends _o{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new vx(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new vC[i.type]().fromJSON(i))}return this}}class wm extends O4{constructor(e){super(),this.type="Path",this.currentPoint=new je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new vx(this.currentPoint.clone(),new je(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new pC(this.currentPoint.clone(),new je(e,n),new je(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new hC(this.currentPoint.clone(),new je(e,n),new je(r,i),new je(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new gC(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new gx(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jd extends $t{constructor(e=[new je(0,-.5),new je(.5,0),new je(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=ur(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new Z,d=new je,m=new Z,g=new Z,v=new Z;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=n;_++){const w=r+_*c*i,A=Math.sin(w),M=Math.cos(w);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*A,f.y=e[C].y,f.z=e[C].x*M,o.push(f.x,f.y,f.z),d.x=_/n,d.y=C/(e.length-1),a.push(d.x,d.y);const T=l[3*C+0]*A,E=l[3*C+1],P=l[3*C+0]*M;u.push(T,E,P)}}for(let _=0;_<n;_++)for(let w=0;w<e.length-1;w++){const A=w+_*e.length,M=A,C=A+e.length,T=A+e.length+1,E=A+1;s.push(M,C,E),s.push(T,E,C)}this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("uv",new _t(a,2)),this.setAttribute("normal",new _t(u,3))}static fromJSON(e){return new Jd(e.points,e.segments,e.phiStart,e.phiLength)}}class rg extends Jd{constructor(e=1,n=1,r=4,i=8){const s=new wm;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new rg(e.radius,e.length,e.capSegments,e.radialSegments)}}class ig extends $t{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new Z,c=new je;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("normal",new _t(a,3)),this.setAttribute("uv",new _t(l,2))}static fromJSON(e){return new ig(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class kc extends $t{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],d=[],m=[];let g=0;const v=[],y=r/2;let x=0;_(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new _t(f,3)),this.setAttribute("normal",new _t(d,3)),this.setAttribute("uv",new _t(m,2));function _(){const A=new Z,M=new Z;let C=0;const T=(n-e)/r;for(let E=0;E<=s;E++){const P=[],B=E/s,N=B*(n-e)+e;for(let F=0;F<=i;F++){const U=F/i,O=U*l+a,J=Math.sin(O),$=Math.cos(O);M.x=N*J,M.y=-B*r+y,M.z=N*$,f.push(M.x,M.y,M.z),A.set(J,T,$).normalize(),d.push(A.x,A.y,A.z),m.push(U,1-B),P.push(g++)}v.push(P)}for(let E=0;E<i;E++)for(let P=0;P<s;P++){const B=v[P][E],N=v[P+1][E],F=v[P+1][E+1],U=v[P][E+1];c.push(B,N,U),c.push(N,F,U),C+=6}u.addGroup(x,C,0),x+=C}function w(A){const M=g,C=new je,T=new Z;let E=0;const P=A===!0?e:n,B=A===!0?1:-1;for(let F=1;F<=i;F++)f.push(0,y*B,0),d.push(0,B,0),m.push(.5,.5),g++;const N=g;for(let F=0;F<=i;F++){const O=F/i*l+a,J=Math.cos(O),$=Math.sin(O);T.x=P*$,T.y=y*B,T.z=P*J,f.push(T.x,T.y,T.z),d.push(0,B,0),C.x=J*.5+.5,C.y=$*.5*B+.5,m.push(C.x,C.y),g++}for(let F=0;F<i;F++){const U=M+F,O=N+F;A===!0?c.push(O,O+1,U):c.push(O+1,O,U),E+=3}u.addGroup(x,E,A===!0?1:2),x+=E}}static fromJSON(e){return new kc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sg extends kc{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new sg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $a extends $t{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new _t(s,3)),this.setAttribute("normal",new _t(s.slice(),3)),this.setAttribute("uv",new _t(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new Z,A=new Z,M=new Z;for(let C=0;C<n.length;C+=3)m(n[C+0],w),m(n[C+1],A),m(n[C+2],M),l(w,A,M,_)}function l(_,w,A,M){const C=M+1,T=[];for(let E=0;E<=C;E++){T[E]=[];const P=_.clone().lerp(A,E/C),B=w.clone().lerp(A,E/C),N=C-E;for(let F=0;F<=N;F++)F===0&&E===C?T[E][F]=P:T[E][F]=P.clone().lerp(B,F/N)}for(let E=0;E<C;E++)for(let P=0;P<2*(C-E)-1;P++){const B=Math.floor(P/2);P%2===0?(d(T[E][B+1]),d(T[E+1][B]),d(T[E][B])):(d(T[E][B+1]),d(T[E+1][B+1]),d(T[E+1][B]))}}function u(_){const w=new Z;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(_),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function c(){const _=new Z;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const A=y(_)/2/Math.PI+.5,M=x(_)/Math.PI+.5;o.push(A,1-M)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const w=o[_+0],A=o[_+2],M=o[_+4],C=Math.max(w,A,M),T=Math.min(w,A,M);C>.9&&T<.1&&(w<.2&&(o[_+0]+=1),A<.2&&(o[_+2]+=1),M<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function m(_,w){const A=_*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function g(){const _=new Z,w=new Z,A=new Z,M=new Z,C=new je,T=new je,E=new je;for(let P=0,B=0;P<s.length;P+=9,B+=6){_.set(s[P+0],s[P+1],s[P+2]),w.set(s[P+3],s[P+4],s[P+5]),A.set(s[P+6],s[P+7],s[P+8]),C.set(o[B+0],o[B+1]),T.set(o[B+2],o[B+3]),E.set(o[B+4],o[B+5]),M.copy(_).add(w).add(A).divideScalar(3);const N=y(M);v(C,B+0,_,N),v(T,B+2,w,N),v(E,B+4,A,N)}}function v(_,w,A,M){M<0&&_.x===1&&(o[w]=_.x-1),A.x===0&&A.z===0&&(o[w]=M/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new $a(e.vertices,e.indices,e.radius,e.details)}}class og extends $a{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new og(e.radius,e.detail)}}const dv=new Z,hv=new Z,Qw=new Z,pv=new Is;class N4 extends $t{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(ac*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:x}=pv;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),pv.getNormal(Qw),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const w=(_+1)%3,A=f[_],M=f[w],C=pv[c[_]],T=pv[c[w]],E=`${A}_${M}`,P=`${M}_${A}`;P in d&&d[P]?(Qw.dot(d[P].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(T.x,T.y,T.z)),d[P]=null):E in d||(d[E]={index0:u[_],index1:u[w],normal:Qw.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];dv.fromBufferAttribute(a,v),hv.fromBufferAttribute(a,y),m.push(dv.x,dv.y,dv.z),m.push(hv.x,hv.y,hv.z)}this.setAttribute("position",new _t(m,3))}}}class fc extends wm{constructor(e){super(e),this.uuid=is(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new wm().fromJSON(i))}return this}}const nX={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=U4(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,d,m;if(r&&(s=aX(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],d=t[g+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return Sm(s,o,n,a,l,m,0),o}};function U4(t,e,n,r,i){let s,o;if(i===yX(t,e,n,r)>0)for(s=e;s<n;s+=r)o=GP(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=GP(s,t[s],t[s+1],o);return o&&yx(o,o.next)&&(bm(o),o=o.next),o}function Mc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(yx(n,n.next)||Jn(n.prev,n,n.next)===0)){if(bm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Sm(t,e,n,r,i,s,o){if(!t)return;!o&&s&&dX(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?iX(t,r,i,s):rX(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),bm(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=sX(Mc(t),e,n),Sm(t,e,n,r,i,s,2)):o===2&&oX(t,e,n,r,i,s):Sm(Mc(t),e,n,r,i,s,1);break}}}function rX(t){const e=t.prev,n=t,r=t.next;if(Jn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=f&&g.y<=m&&Kf(i,a,s,l,o,u,g.x,g.y)&&Jn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function iX(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Jn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,d=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<f?c<d?c:d:f<d?f:d,v=a>l?a>u?a:u:l>u?l:u,y=c>f?c>d?c:d:f>d?f:d,x=Cb(m,g,e,n,r),_=Cb(v,y,e,n,r);let w=t.prevZ,A=t.nextZ;for(;w&&w.z>=x&&A&&A.z<=_;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Kf(a,c,l,f,u,d,w.x,w.y)&&Jn(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=m&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Kf(a,c,l,f,u,d,A.x,A.y)&&Jn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Kf(a,c,l,f,u,d,w.x,w.y)&&Jn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=_;){if(A.x>=m&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Kf(a,c,l,f,u,d,A.x,A.y)&&Jn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function sX(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!yx(i,s)&&z4(i,r,r.next,s)&&Am(i,s)&&Am(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),bm(r),bm(r.next),r=t=s),r=r.next}while(r!==t);return Mc(r)}function oX(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&mX(o,a)){let l=G4(o,a);o=Mc(o,o.next),l=Mc(l,l.next),Sm(o,e,n,r,i,s,0),Sm(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function aX(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=U4(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(pX(u));for(i.sort(lX),s=0;s<i.length;s++)n=uX(i[s],n);return n}function lX(t,e){return t.x-e.x}function uX(t,e){const n=cX(t,e);if(!n)return e;const r=G4(n,t);return Mc(r,r.next),Mc(n,n.next)}function cX(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Kf(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),Am(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&fX(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function fX(t,e){return Jn(t.prev,t,e.prev)<0&&Jn(e.next,t,t.next)<0}function dX(t,e,n,r){let i=t;do i.z===0&&(i.z=Cb(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hX(i)}function hX(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Cb(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pX(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Kf(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function mX(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gX(t,e)&&(Am(t,e)&&Am(e,t)&&vX(t,e)&&(Jn(t.prev,t,e.prev)||Jn(t,e.prev,e))||yx(t,e)&&Jn(t.prev,t,t.next)>0&&Jn(e.prev,e,e.next)>0)}function Jn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function yx(t,e){return t.x===e.x&&t.y===e.y}function z4(t,e,n,r){const i=gv(Jn(t,e,n)),s=gv(Jn(t,e,r)),o=gv(Jn(n,r,t)),a=gv(Jn(n,r,e));return!!(i!==s&&o!==a||i===0&&mv(t,n,e)||s===0&&mv(t,r,e)||o===0&&mv(n,t,r)||a===0&&mv(n,e,r))}function mv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function gv(t){return t>0?1:t<0?-1:0}function gX(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&z4(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Am(t,e){return Jn(t.prev,t,t.next)<0?Jn(t,e,t.next)>=0&&Jn(t,t.prev,e)>=0:Jn(t,e,t.prev)<0||Jn(t,t.next,e)<0}function vX(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function G4(t,e){const n=new Tb(t.i,t.x,t.y),r=new Tb(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function GP(t,e,n,r){const i=new Tb(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function bm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Tb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function yX(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Uo{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Uo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];HP(e),VP(r,e);let o=e.length;n.forEach(HP);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,VP(r,n[l]);const a=nX.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function HP(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function VP(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Xd extends $t{constructor(e=new fc([new je(.5,.5),new je(-.5,.5),new je(-.5,-.5),new je(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new _t(i,3)),this.setAttribute("uv",new _t(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:xX;let w,A=!1,M,C,T,E;x&&(w=x.getSpacedPoints(c),A=!0,d=!1,M=x.computeFrenetFrames(c,!1),C=new Z,T=new Z,E=new Z),d||(y=0,m=0,g=0,v=0);const P=a.extractPoints(u);let B=P.shape;const N=P.holes;if(!Uo.isClockWise(B)){B=B.reverse();for(let oe=0,fe=N.length;oe<fe;oe++){const Re=N[oe];Uo.isClockWise(Re)&&(N[oe]=Re.reverse())}}const U=Uo.triangulateShape(B,N),O=B;for(let oe=0,fe=N.length;oe<fe;oe++){const Re=N[oe];B=B.concat(Re)}function J(oe,fe,Re){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().multiplyScalar(Re).add(oe)}const $=B.length,ie=U.length;function H(oe,fe,Re){let Ge,Ie,Xe;const Pe=oe.x-fe.x,ze=oe.y-fe.y,Ye=Re.x-oe.x,Ee=Re.y-oe.y,K=Pe*Pe+ze*ze,k=Pe*Ee-ze*Ye;if(Math.abs(k)>Number.EPSILON){const re=Math.sqrt(K),pe=Math.sqrt(Ye*Ye+Ee*Ee),Le=fe.x-ze/re,Me=fe.y+Pe/re,Je=Re.x-Ee/pe,ke=Re.y+Ye/pe,be=((Je-Le)*Ee-(ke-Me)*Ye)/(Pe*Ee-ze*Ye);Ge=Le+Pe*be-oe.x,Ie=Me+ze*be-oe.y;const Ze=Ge*Ge+Ie*Ie;if(Ze<=2)return new je(Ge,Ie);Xe=Math.sqrt(Ze/2)}else{let re=!1;Pe>Number.EPSILON?Ye>Number.EPSILON&&(re=!0):Pe<-Number.EPSILON?Ye<-Number.EPSILON&&(re=!0):Math.sign(ze)===Math.sign(Ee)&&(re=!0),re?(Ge=-ze,Ie=Pe,Xe=Math.sqrt(K)):(Ge=Pe,Ie=ze,Xe=Math.sqrt(K/2))}return new je(Ge/Xe,Ie/Xe)}const j=[];for(let oe=0,fe=O.length,Re=fe-1,Ge=oe+1;oe<fe;oe++,Re++,Ge++)Re===fe&&(Re=0),Ge===fe&&(Ge=0),j[oe]=H(O[oe],O[Re],O[Ge]);const W=[];let G,z=j.concat();for(let oe=0,fe=N.length;oe<fe;oe++){const Re=N[oe];G=[];for(let Ge=0,Ie=Re.length,Xe=Ie-1,Pe=Ge+1;Ge<Ie;Ge++,Xe++,Pe++)Xe===Ie&&(Xe=0),Pe===Ie&&(Pe=0),G[Ge]=H(Re[Ge],Re[Xe],Re[Pe]);W.push(G),z=z.concat(G)}for(let oe=0;oe<y;oe++){const fe=oe/y,Re=m*Math.cos(fe*Math.PI/2),Ge=g*Math.sin(fe*Math.PI/2)+v;for(let Ie=0,Xe=O.length;Ie<Xe;Ie++){const Pe=J(O[Ie],j[Ie],Ge);ue(Pe.x,Pe.y,-Re)}for(let Ie=0,Xe=N.length;Ie<Xe;Ie++){const Pe=N[Ie];G=W[Ie];for(let ze=0,Ye=Pe.length;ze<Ye;ze++){const Ee=J(Pe[ze],G[ze],Ge);ue(Ee.x,Ee.y,-Re)}}}const X=g+v;for(let oe=0;oe<$;oe++){const fe=d?J(B[oe],z[oe],X):B[oe];A?(T.copy(M.normals[0]).multiplyScalar(fe.x),C.copy(M.binormals[0]).multiplyScalar(fe.y),E.copy(w[0]).add(T).add(C),ue(E.x,E.y,E.z)):ue(fe.x,fe.y,0)}for(let oe=1;oe<=c;oe++)for(let fe=0;fe<$;fe++){const Re=d?J(B[fe],z[fe],X):B[fe];A?(T.copy(M.normals[oe]).multiplyScalar(Re.x),C.copy(M.binormals[oe]).multiplyScalar(Re.y),E.copy(w[oe]).add(T).add(C),ue(E.x,E.y,E.z)):ue(Re.x,Re.y,f/c*oe)}for(let oe=y-1;oe>=0;oe--){const fe=oe/y,Re=m*Math.cos(fe*Math.PI/2),Ge=g*Math.sin(fe*Math.PI/2)+v;for(let Ie=0,Xe=O.length;Ie<Xe;Ie++){const Pe=J(O[Ie],j[Ie],Ge);ue(Pe.x,Pe.y,f+Re)}for(let Ie=0,Xe=N.length;Ie<Xe;Ie++){const Pe=N[Ie];G=W[Ie];for(let ze=0,Ye=Pe.length;ze<Ye;ze++){const Ee=J(Pe[ze],G[ze],Ge);A?ue(Ee.x,Ee.y+w[c-1].y,w[c-1].x+Re):ue(Ee.x,Ee.y,f+Re)}}}ne(),ee();function ne(){const oe=i.length/3;if(d){let fe=0,Re=$*fe;for(let Ge=0;Ge<ie;Ge++){const Ie=U[Ge];ce(Ie[2]+Re,Ie[1]+Re,Ie[0]+Re)}fe=c+y*2,Re=$*fe;for(let Ge=0;Ge<ie;Ge++){const Ie=U[Ge];ce(Ie[0]+Re,Ie[1]+Re,Ie[2]+Re)}}else{for(let fe=0;fe<ie;fe++){const Re=U[fe];ce(Re[2],Re[1],Re[0])}for(let fe=0;fe<ie;fe++){const Re=U[fe];ce(Re[0]+$*c,Re[1]+$*c,Re[2]+$*c)}}r.addGroup(oe,i.length/3-oe,0)}function ee(){const oe=i.length/3;let fe=0;Y(O,fe),fe+=O.length;for(let Re=0,Ge=N.length;Re<Ge;Re++){const Ie=N[Re];Y(Ie,fe),fe+=Ie.length}r.addGroup(oe,i.length/3-oe,1)}function Y(oe,fe){let Re=oe.length;for(;--Re>=0;){const Ge=Re;let Ie=Re-1;Ie<0&&(Ie=oe.length-1);for(let Xe=0,Pe=c+y*2;Xe<Pe;Xe++){const ze=$*Xe,Ye=$*(Xe+1),Ee=fe+Ge+ze,K=fe+Ie+ze,k=fe+Ie+Ye,re=fe+Ge+Ye;Te(Ee,K,k,re)}}}function ue(oe,fe,Re){l.push(oe),l.push(fe),l.push(Re)}function ce(oe,fe,Re){we(oe),we(fe),we(Re);const Ge=i.length/3,Ie=_.generateTopUV(r,i,Ge-3,Ge-2,Ge-1);ve(Ie[0]),ve(Ie[1]),ve(Ie[2])}function Te(oe,fe,Re,Ge){we(oe),we(fe),we(Ge),we(fe),we(Re),we(Ge);const Ie=i.length/3,Xe=_.generateSideWallUV(r,i,Ie-6,Ie-3,Ie-2,Ie-1);ve(Xe[0]),ve(Xe[1]),ve(Xe[3]),ve(Xe[1]),ve(Xe[2]),ve(Xe[3])}function we(oe){i.push(l[oe*3+0]),i.push(l[oe*3+1]),i.push(l[oe*3+2])}function ve(oe){s.push(oe.x),s.push(oe.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return _X(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new vC[i.type]().fromJSON(i)),new Xd(r,e.options)}}const xX={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new je(s,o),new je(a,l),new je(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new je(o,1-l),new je(u,1-f),new je(d,1-g),new je(v,1-x)]:[new je(a,1-l),new je(c,1-f),new je(m,1-g),new je(y,1-x)]}};function _X(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Kd extends $a{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Kd(e.radius,e.detail)}}class Yd extends $a{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yd(e.radius,e.detail)}}class ag extends $t{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const d=(n-e)/i,m=new Z,g=new je;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,w=_,A=_+r+1,M=_+r+2,C=_+1;a.push(w,A,C),a.push(A,M,C)}}this.setIndex(a),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(c,2))}static fromJSON(e){return new ag(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class lg extends $t{constructor(e=new fc([new je(0,.5),new je(-.5,-.5),new je(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new _t(i,3)),this.setAttribute("normal",new _t(s,3)),this.setAttribute("uv",new _t(o,2));function u(c){const f=i.length/3,d=c.extractPoints(n);let m=d.shape;const g=d.holes;Uo.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];Uo.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=Uo.triangulateShape(m,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];m=m.concat(_)}for(let y=0,x=m.length;y<x;y++){const _=m[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],w=_[0]+f,A=_[1]+f,M=_[2]+f;r.push(w,A,M),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return wX(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new lg(r,e.curveSegments)}}function wX(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Qd extends $t{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new Z,d=new Z,m=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],w=x/r;let A=0;x==0&&o==0?A=.5/n:x==r&&l==Math.PI&&(A=-.5/n);for(let M=0;M<=n;M++){const C=M/n;f.x=-e*Math.cos(i+C*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+w*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(C+A,1-w),_.push(u++)}c.push(_)}for(let x=0;x<r;x++)for(let _=0;_<n;_++){const w=c[x][_+1],A=c[x][_],M=c[x+1][_],C=c[x+1][_+1];(x!==0||o>0)&&m.push(w,A,C),(x!==r-1||l<Math.PI)&&m.push(A,M,C)}this.setIndex(m),this.setAttribute("position",new _t(g,3)),this.setAttribute("normal",new _t(v,3)),this.setAttribute("uv",new _t(y,2))}static fromJSON(e){return new Qd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ug extends $a{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ug(e.radius,e.detail)}}class cg extends $t{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new Z,f=new Z,d=new Z;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;o.push(v,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new _t(a,3)),this.setAttribute("normal",new _t(l,3)),this.setAttribute("uv",new _t(u,2))}static fromJSON(e){return new cg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fg extends $t{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new Z,d=new Z,m=new Z,g=new Z,v=new Z,y=new Z,x=new Z;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;_(A,s,o,e,m),_(A+.01,s,o,e,g),y.subVectors(g,m),x.addVectors(g,m),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let M=0;M<=i;++M){const C=M/i*Math.PI*2,T=-n*Math.cos(C),E=n*Math.sin(C);f.x=m.x+(T*x.x+E*v.x),f.y=m.y+(T*x.y+E*v.y),f.z=m.z+(T*x.z+E*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),u.push(d.x,d.y,d.z),c.push(w/r),c.push(M/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),C=(i+1)*w+(A-1),T=(i+1)*w+A,E=(i+1)*(w-1)+A;a.push(M,C,E),a.push(C,T,E)}this.setIndex(a),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(c,2));function _(w,A,M,C,T){const E=Math.cos(w),P=Math.sin(w),B=M/A*w,N=Math.cos(B);T.x=C*(2+N)*.5*E,T.y=C*(2+N)*P*.5,T.z=C*Math.sin(B)*.5}}static fromJSON(e){return new fg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class dg extends $t{constructor(e=new mC(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,u=new je;let c=new Z;const f=[],d=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new _t(f,3)),this.setAttribute("normal",new _t(d,3)),this.setAttribute("uv",new _t(m,2));function v(){for(let w=0;w<n;w++)y(w);y(s===!1?n:0),_(),x()}function y(w){c=e.getPointAt(w/n,c);const A=o.normals[w],M=o.binormals[w];for(let C=0;C<=i;C++){const T=C/i*Math.PI*2,E=Math.sin(T),P=-Math.cos(T);l.x=P*A.x+E*M.x,l.y=P*A.y+E*M.y,l.z=P*A.z+E*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=n;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),C=(i+1)*w+(A-1),T=(i+1)*w+A,E=(i+1)*(w-1)+A;g.push(M,C,E),g.push(C,T,E)}}function _(){for(let w=0;w<=n;w++)for(let A=0;A<=i;A++)u.x=w/n,u.y=A/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new dg(new vC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class H4 extends $t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,m=f.count;for(let g=d,v=d+m;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),_=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),WP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),WP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new _t(n,3))}}}function WP(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var jP=Object.freeze({__proto__:null,BoxGeometry:su,CapsuleGeometry:rg,CircleGeometry:ig,ConeGeometry:sg,CylinderGeometry:kc,DodecahedronGeometry:og,EdgesGeometry:N4,ExtrudeGeometry:Xd,IcosahedronGeometry:Kd,LatheGeometry:Jd,OctahedronGeometry:Yd,PlaneGeometry:yo,PolyhedronGeometry:$a,RingGeometry:ag,ShapeGeometry:lg,SphereGeometry:Qd,TetrahedronGeometry:ug,TorusGeometry:cg,TorusKnotGeometry:fg,TubeGeometry:dg,WireframeGeometry:H4});class V4 extends br{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class W4 extends ls{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hg extends br{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Hs extends hg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ur(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class j4 extends br{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $4 extends br{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class J4 extends br{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class X4 extends br{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class K4 extends br{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Y4 extends ui{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ms(t,e,n){return yC(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Yu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function yC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q4(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Rb(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function xC(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function SX(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],d=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let v=0;v<c;++v)d.push(u.values[m*c+v])}}f.length!==0&&(u.times=Yu(f,u.times.constructor),u.values=Yu(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function AX(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=c,_=f-c;v=Ms(a.values,x,_)}else if(s>=a.times[g]){const x=g*f+c,_=x+f-c;v=Ms(a.values,x,_)}else{const x=a.createInterpolant(),_=c,w=f-c;x.evaluate(s),v=Ms(x.resultBuffer,_,w)}l==="quaternion"&&new si().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let x=0;x<y;++x){const _=x*m+d;if(l==="quaternion")si.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const w=m-d*2;for(let A=0;A<w;++A)u.values[_+A]-=v[A]}}}return t.blendMode=KE,t}var bX=Object.freeze({__proto__:null,arraySlice:Ms,convertArray:Yu,flattenJSON:xC,getKeyframeOrder:Q4,isTypedArray:yC,makeClipAdditive:AX,sortedArray:Rb,subclip:SX});class Zd{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Z4 extends Zd{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ju,endingEnd:Ju}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Xu:s=e,a=2*n-r;break;case vm:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Xu:o=e,l=2*r-n;break;case vm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,x=-d*y+2*d*v-d*g,_=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,w=(-1-m)*y+(1.5+m)*v+.5*g,A=m*y-m*v;for(let M=0;M!==a;++M)s[M]=x*o[c+M]+_*o[u+M]+w*o[l+M]+A*o[f+M];return s}}class _C extends Zd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==a;++d)s[d]=o[u+d]*f+o[l+d]*c;return s}}class q4 extends Zd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class wo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yu(n,this.TimeBufferType),this.values=Yu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Yu(e.times,Array),values:Yu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new q4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _C(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Z4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Md:n=this.InterpolantFactoryMethodDiscrete;break;case bc:n=this.InterpolantFactoryMethodLinear;break;case dy:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Md;case this.InterpolantFactoryMethodLinear:return bc;case this.InterpolantFactoryMethodSmooth:return dy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ms(r,s,o),this.values=Ms(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&yC(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ms(this.times),n=Ms(this.values),r=this.getValueSize(),i=this.getInterpolation()===dy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,m=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[d+g]||v!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let m=0;m!==r;++m)n[d+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Ms(e,0,o),this.values=Ms(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Ms(this.times,0),n=Ms(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}wo.prototype.TimeBufferType=Float32Array;wo.prototype.ValueBufferType=Float32Array;wo.prototype.DefaultInterpolation=bc;class Fc extends wo{}Fc.prototype.ValueTypeName="bool";Fc.prototype.ValueBufferType=Array;Fc.prototype.DefaultInterpolation=Md;Fc.prototype.InterpolantFactoryMethodLinear=void 0;Fc.prototype.InterpolantFactoryMethodSmooth=void 0;class wC extends wo{}wC.prototype.ValueTypeName="color";class Ec extends wo{}Ec.prototype.ValueTypeName="number";class eN extends Zd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)si.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Jl extends wo{InterpolantFactoryMethodLinear(e){return new eN(this.times,this.values,this.getValueSize(),e)}}Jl.prototype.ValueTypeName="quaternion";Jl.prototype.DefaultInterpolation=bc;Jl.prototype.InterpolantFactoryMethodSmooth=void 0;class Oc extends wo{}Oc.prototype.ValueTypeName="string";Oc.prototype.ValueBufferType=Array;Oc.prototype.DefaultInterpolation=Md;Oc.prototype.InterpolantFactoryMethodLinear=void 0;Oc.prototype.InterpolantFactoryMethodSmooth=void 0;class Cc extends wo{}Cc.prototype.ValueTypeName="vector";class Cd{constructor(e,n=-1,r,i=sx){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=is(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(EX(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(wo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=Q4(l);l=Rb(l,1,c),u=Rb(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Ec(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,g,v){if(m.length!==0){const y=[],x=[];xC(m,y,x,g),y.length!==0&&v.push(new f(d,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)m[d[g].morphTargets[v]]=-1;for(const v in m){const y=[],x=[];for(let _=0;_!==d[g].morphTargets.length;++_){const w=d[g];y.push(w.time),x.push(w.morphTarget===v?1:0)}i.push(new Ec(".morphTargetInfluence["+v+"]",y,x))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(Cc,m+".position",d,"pos",i),r(Jl,m+".quaternion",d,"rot",i),r(Cc,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function MX(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ec;case"vector":case"vector2":case"vector3":case"vector4":return Cc;case"color":return wC;case"quaternion":return Jl;case"bool":case"boolean":return Fc;case"string":return Oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function EX(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=MX(t.type);if(t.times===void 0){const n=[],r=[];xC(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Tc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xx{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const Yf=new xx;class Jr{constructor(e){this.manager=e!==void 0?e:Yf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ua={};class CX extends Error{constructor(e,n){super(e),this.response=n}}class Ur extends Jr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Tc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ua[e]!==void 0){ua[e].push({onLoad:n,onProgress:r,onError:i});return}ua[e]=[],ua[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ua[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=d?parseInt(d):0,g=m!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:w,value:A})=>{if(w)x.close();else{v+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let C=0,T=c.length;C<T;C++){const E=c[C];E.onProgress&&E.onProgress(M)}x.enqueue(A),_()}})}}});return new Response(y)}else throw new CX(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{Tc.add(e,u);const c=ua[e];delete ua[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=ua[e];if(c===void 0)throw this.manager.itemError(e),u;delete ua[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class TX extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ur(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Cd.parse(e[r]);n.push(i)}return n}}class RX extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new fC,l=new Ur(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const m=s.parse(d,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=en),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=en),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Mm extends Jr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Tc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=_m("img");function l(){c(),Tc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class tN extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=new qm,o=new Mm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class SC extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new cc,a=new Ur(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Pn,o.wrapT=u.wrapT!==void 0?u.wrapT:Pn,o.magFilter=u.magFilter!==void 0?u.magFilter:en,o.minFilter=u.minFilter!==void 0?u.minFilter:en,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Vo),u.mipmapCount===1&&(o.minFilter=en),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class qd extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=new cn,o=new Mm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ou extends Zt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class nN extends ou{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Zw=new Lt,$P=new Z,JP=new Z;class AC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new je(512,512),this.map=null,this.mapPass=null,this.matrix=new Lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ax,this._frameExtents=new je(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;$P.setFromMatrixPosition(e.matrixWorld),n.position.copy($P),JP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(JP),n.updateMatrixWorld(),Zw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Zw),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Zw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class PX extends AC{constructor(){super(new cr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=xm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bC extends ou{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.target=new Zt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new PX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XP=new Lt,Zh=new Z,qw=new Z;class IX extends AC{constructor(){super(new cr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new je(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Zh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Zh),qw.copy(r.position),qw.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(qw),r.updateMatrixWorld(),i.makeTranslation(-Zh.x,-Zh.y,-Zh.z),XP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XP)}}class MC extends ou{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new IX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class BX extends AC{constructor(){super(new ja(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EC extends ou{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.target=new Zt,this.shadow=new BX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rN extends ou{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class iN extends ou{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class sN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class _x extends ou{constructor(e=new sN,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class wx extends Jr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ur(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=wx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ut().setHex(o.value);break;case"v2":i.uniforms[s].value=new je().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new dn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ii().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Lt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new je().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:V4,SpriteMaterial:oC,RawShaderMaterial:W4,ShaderMaterial:ls,PointsMaterial:mx,MeshPhysicalMaterial:Hs,MeshStandardMaterial:hg,MeshPhongMaterial:j4,MeshToonMaterial:$4,MeshNormalMaterial:J4,MeshLambertMaterial:X4,MeshDepthMaterial:ux,MeshDistanceMaterial:cx,MeshBasicMaterial:Ai,MeshMatcapMaterial:K4,LineDashedMaterial:Y4,LineBasicMaterial:ui,Material:br};return new n[e]}}class Fl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class CC extends $t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class oN extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ur(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],x=s(m,y.buffer),_=Jf(y.type,x),w=new tg(_,y.stride);return w.uuid=y.uuid,n[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new CC:new $t,a=e.data.index;if(a!==void 0){const m=Jf(a.type,a.array);o.setIndex(new rn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new jl(y,g.itemSize,g.offset,g.normalized)}else{const y=Jf(g.type,g.array),x=g.isInstancedBufferAttribute?$l:rn;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let w;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);w=new jl(A,_.itemSize,_.offset,_.normalized)}else{const A=Jf(_.type,_.array);w=new rn(A,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new Z;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new $o(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class DX extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Fl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ur(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Fl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ur(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new fc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ng().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new oN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in jP?a=jP[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new wx;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Cd.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Jf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new xx(n);s=new Mm(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new cc(x.data,x.width,x.height)))}i[f.uuid]=new Ku(m)}else{const m=a(f.url);i[f.uuid]=new Ku(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Jf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Mm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new cc(g.data,g.width,g.height)))}r[l.uuid]=new Ku(c)}else{const c=await s(l.url);r[l.uuid]=new Ku(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new qm,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new cc:c=new cn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,LX)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],KP),c.wrapT=r(a.wrap[1],KP)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,YP)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,YP)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":o=new eg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ut(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new hx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new dx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new cr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ja(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rN(e.color,e.intensity);break;case"DirectionalLight":o=new EC(e.color,e.intensity);break;case"PointLight":o=new MC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new iN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new nN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new _x().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new aC(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Un(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new lC(c,f,d),o.instanceMatrix=new $l(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new $l(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new B4;break;case"Line":o=new Oa(a(e.geometry),l(e.material));break;case"LineLoop":o=new uC(a(e.geometry),l(e.material));break;case"LineSegments":o=new xo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new cC(a(e.geometry),l(e.material));break;case"Sprite":o=new I4(l(e.material));break;case"Group":o=new ba;break;case"Bone":o=new px;break;default:o=new Zt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const LX={UVMapping:Gl,CubeReflectionMapping:ka,CubeRefractionMapping:Hl,EquirectangularReflectionMapping:Ad,EquirectangularRefractionMapping:mm,CubeUVReflectionMapping:jd},KP={RepeatWrapping:Vl,ClampToEdgeWrapping:Pn,MirroredRepeatWrapping:bd},YP={NearestFilter:tr,NearestMipmapNearestFilter:gm,NearestMipmapLinearFilter:ud,LinearFilter:en,LinearMipmapNearestFilter:ix,LinearMipmapLinearFilter:Vo};class aN extends Jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Tc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Tc.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let vv;class TC{static getContext(){return vv===void 0&&(vv=new(window.AudioContext||window.webkitAudioContext)),vv}static setContext(e){vv=e}}class kX extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ur(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);TC.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class FX extends _x{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ut().set(e),s=new ut().set(n),o=new Z(i.r,i.g,i.b),a=new Z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class OX extends _x{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new ut().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const QP=new Lt,ZP=new Lt,Cu=new Lt;class NX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Cu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(ac*n.fov*.5)/n.zoom;let a,l;ZP.elements[12]=-i,QP.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Cu.elements[0]=2*n.near/(l-a),Cu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Cu),a=-o*n.aspect-s,l=o*n.aspect-s,Cu.elements[0]=2*n.near/(l-a),Cu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Cu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(QP)}}class RC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=qP();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function qP(){return(typeof performance>"u"?Date:performance).now()}const Tu=new Z,eI=new si,UX=new Z,Ru=new Z;class zX extends Zt{constructor(){super(),this.type="AudioListener",this.context=TC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tu,eI,UX),Ru.set(0,0,-1).applyQuaternion(eI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Tu.x,i),n.positionY.linearRampToValueAtTime(Tu.y,i),n.positionZ.linearRampToValueAtTime(Tu.z,i),n.forwardX.linearRampToValueAtTime(Ru.x,i),n.forwardY.linearRampToValueAtTime(Ru.y,i),n.forwardZ.linearRampToValueAtTime(Ru.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Tu.x,Tu.y,Tu.z),n.setOrientation(Ru.x,Ru.y,Ru.z,r.x,r.y,r.z)}}class lN extends Zt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pu=new Z,tI=new si,GX=new Z,Iu=new Z;class HX extends lN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pu,tI,GX),Iu.set(0,0,1).applyQuaternion(tI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Pu.x,r),n.positionY.linearRampToValueAtTime(Pu.y,r),n.positionZ.linearRampToValueAtTime(Pu.z,r),n.orientationX.linearRampToValueAtTime(Iu.x,r),n.orientationY.linearRampToValueAtTime(Iu.y,r),n.orientationZ.linearRampToValueAtTime(Iu.z,r)}else n.setPosition(Pu.x,Pu.y,Pu.z),n.setOrientation(Iu.x,Iu.y,Iu.z)}}class VX{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class uN{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){si.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;si.multiplyQuaternionsFlat(e,o,e,n,e,r),si.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const PC="\\[\\]\\.:\\/",WX=new RegExp("["+PC+"]","g"),IC="[^"+PC+"]",jX="[^"+PC.replace("\\.","")+"]",$X=/((?:WC+[\/:])*)/.source.replace("WC",IC),JX=/(WCOD+)?/.source.replace("WCOD",jX),XX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",IC),KX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",IC),YX=new RegExp("^"+$X+JX+XX+KX+"$"),QX=["material","materials","bones","map"];class ZX{constructor(e,n,r){const i=r||nn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class nn{constructor(e,n,r){this.path=n,this.parsedPath=r||nn.parseTrackName(n),this.node=nn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new nn.Composite(e,n,r):new nn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WX,"")}static parseTrackName(e){const n=YX.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);QX.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=nn.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}nn.Composite=ZX;nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};nn.prototype.GetterByBindingType=[nn.prototype._getValue_direct,nn.prototype._getValue_array,nn.prototype._getValue_arrayElement,nn.prototype._getValue_toArray];nn.prototype.SetterByBindingTypeAndVersioning=[[nn.prototype._setValue_direct,nn.prototype._setValue_direct_setNeedsUpdate,nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_array,nn.prototype._setValue_array_setNeedsUpdate,nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_arrayElement,nn.prototype._setValue_arrayElement_setNeedsUpdate,nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_fromArray,nn.prototype._setValue_fromArray_setNeedsUpdate,nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class qX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=is(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new nn(d,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];n[y.uuid]=g,e[g]=y,n[m]=v,e[v]=d;for(let x=0,_=o;x!==_;++x){const w=s[x],A=w[v];let M=w[g];w[g]=A,M===void 0&&(M=new nn(d,r[x],i[x])),w[v]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,d=e[f];n[d.uuid]=c,e[c]=d,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[f],x=v[c];v[c]=y,v[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const d=--s,m=e[d],g=--o,v=e[g];n[m.uuid]=f,e[f]=m,n[v.uuid]=d,e[d]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],w=_[d],A=_[g];_[f]=w,_[d]=A,_.pop()}}else{const d=--o,m=e[d];d>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let d=c,m=l.length;d!==m;++d){const g=l[d];f[d]=new nn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class eK{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Ju,endingEnd:Ju};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=c4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case KE:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case sx:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===f4;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===u4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Xu,i.endingEnd=Xu):(e?i.endingStart=this.zeroSlopeAtStart?Xu:Ju:i.endingStart=vm,n?i.endingEnd=this.zeroSlopeAtEnd?Xu:Ju:i.endingEnd=vm)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const tK=new Float32Array(1);class cN extends Wa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const d=i[f],m=d.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new uN(nn.create(r,m,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _C(new Float32Array(2),new Float32Array(2),1,tK),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Cd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=sx),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new eK(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Cd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class BC{constructor(e){this.value=e}clone(){return new BC(this.value.clone===void 0?this.value:this.value.clone())}}let nK=0;class rK extends Wa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nK++}),this.name="",this.usage=ym,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class iK extends tg{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class sK{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class DC{constructor(e,n,r=0,i=1/0){this.ray=new Ym(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new uc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Pb(e,this,r,n),r.sort(nI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Pb(e[i],this,r,n);return r.sort(nI),r}}function nI(t,e){return t.distance-e.distance}function Pb(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Pb(i[s],e,n,!0)}}class oK{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ur(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aK{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const rI=new je;class lK{constructor(e=new je(1/0,1/0),n=new je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=rI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return rI.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const iI=new Z,yv=new Z;class uK{constructor(e=new Z,n=new Z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){iI.subVectors(e,this.start),yv.subVectors(this.end,this.start);const r=yv.dot(yv);let s=yv.dot(iI)/r;return n&&(s=ur(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sI=new Z;class cK extends Zt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new $t,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new _t(i,3));const s=new ui({fog:!1,toneMapped:!1});this.cone=new xo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),sI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ul=new Z,xv=new Lt,eS=new Lt;class fK extends xo{constructor(e){const n=fN(e),r=new $t,i=[],s=[],o=new ut(0,0,1),a=new ut(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new _t(i,3)),r.setAttribute("color",new _t(s,3));const l=new ui({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");eS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(xv.multiplyMatrices(eS,a.matrixWorld),ul.setFromMatrixPosition(xv),i.setXYZ(o,ul.x,ul.y,ul.z),xv.multiplyMatrices(eS,a.parent.matrixWorld),ul.setFromMatrixPosition(xv),i.setXYZ(o+1,ul.x,ul.y,ul.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fN(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,fN(t.children[n]));return e}class dK extends Un{constructor(e,n,r){const i=new Qd(n,4,2),s=new Ai({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hK=new Z,oI=new ut,aI=new ut;class pK extends Zt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Yd(n);i.rotateY(Math.PI*.5),this.material=new Ai({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new rn(o,3)),this.add(new Un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");oI.copy(this.light.color),aI.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?oI:aI;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mK extends xo{constructor(e=10,n=10,r=4473924,i=8947848){r=new ut(r),i=new ut(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let d=0,m=0,g=-a;d<=n;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const c=new $t;c.setAttribute("position",new _t(l,3)),c.setAttribute("color",new _t(u,3));const f=new ui({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gK extends xo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new ut(s),o=new ut(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m;a.push(y,0,x),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m,a.push(y,0,x),l.push(d.r,d.g,d.b)}}const u=new $t;u.setAttribute("position",new _t(a,3)),u.setAttribute("color",new _t(l,3));const c=new ui({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lI=new Z,_v=new Z,uI=new Z;class vK extends Zt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new $t;i.setAttribute("position",new _t([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ui({fog:!1,toneMapped:!1});this.lightPlane=new Oa(i,s),this.add(this.lightPlane),i=new $t,i.setAttribute("position",new _t([0,0,0,0,0,1],3)),this.targetLine=new Oa(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lI.setFromMatrixPosition(this.light.matrixWorld),_v.setFromMatrixPosition(this.light.target.matrixWorld),uI.subVectors(_v,lI),this.lightPlane.lookAt(_v),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v),this.targetLine.scale.z=uI.length()}}const wv=new Z,qn=new Zm;class yK extends xo{constructor(e){const n=new $t,r=new ui({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new _t(i,3)),n.setAttribute("color",new _t(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ut(16755200),c=new ut(16711680),f=new ut(43775),d=new ut(16777215),m=new ut(3355443);this.setColors(u,c,f,d,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ar("c",n,e,qn,0,0,-1),ar("t",n,e,qn,0,0,1),ar("n1",n,e,qn,-1,-1,-1),ar("n2",n,e,qn,r,-1,-1),ar("n3",n,e,qn,-1,i,-1),ar("n4",n,e,qn,r,i,-1),ar("f1",n,e,qn,-1,-1,1),ar("f2",n,e,qn,r,-1,1),ar("f3",n,e,qn,-1,i,1),ar("f4",n,e,qn,r,i,1),ar("u1",n,e,qn,r*.7,i*1.1,-1),ar("u2",n,e,qn,-1*.7,i*1.1,-1),ar("u3",n,e,qn,0,i*2,-1),ar("cf1",n,e,qn,-1,0,1),ar("cf2",n,e,qn,r,0,1),ar("cf3",n,e,qn,0,-1,1),ar("cf4",n,e,qn,0,i,1),ar("cn1",n,e,qn,-1,0,-1),ar("cn2",n,e,qn,r,0,-1),ar("cn3",n,e,qn,0,-1,-1),ar("cn4",n,e,qn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ar(t,e,n,r,i,s,o){wv.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],wv.x,wv.y,wv.z)}}const Sv=new vo;class xK extends xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new $t;s.setIndex(new rn(r,1)),s.setAttribute("position",new rn(i,3)),super(s,new ui({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Sv.setFromObject(this.object),Sv.isEmpty())return;const n=Sv.min,r=Sv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _K extends xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new $t;s.setIndex(new rn(r,1)),s.setAttribute("position",new _t(i,3)),super(s,new ui({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wK extends Oa{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new $t;o.setAttribute("position",new _t(s,3)),o.computeBoundingSphere(),super(o,new ui({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new $t;l.setAttribute("position",new _t(a,3)),l.computeBoundingSphere(),this.add(new Un(l,new Ai({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const cI=new Z;let Av,tS;class SK extends Zt{constructor(e=new Z(0,0,1),n=new Z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Av===void 0&&(Av=new $t,Av.setAttribute("position",new _t([0,0,0,0,1,0],3)),tS=new kc(0,.5,1,5,1),tS.translate(0,-.5,0)),this.position.copy(n),this.line=new Oa(Av,new ui({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Un(tS,new Ai({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cI.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(cI,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AK extends xo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new $t;i.setAttribute("position",new _t(n,3)),i.setAttribute("color",new _t(r,3));const s=new ui({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new ut,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dN{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new wm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const _=[];for(let w=0,A=x.length;w<A;w++){const M=x[w],C=new fc;C.curves=M.curves,_.push(C)}return _}function r(x,_){const w=_.length;let A=!1;for(let M=w-1,C=0;C<w;M=C++){let T=_[M],E=_[C],P=E.x-T.x,B=E.y-T.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(T=_[C],P=-P,E=_[M],B=-B),x.y<T.y||x.y>E.y)continue;if(x.y===T.y){if(x.x===T.x)return!0}else{const N=B*(x.x-T.x)-P*(x.y-T.y);if(N===0)return!0;if(N<0)continue;A=!A}}else{if(x.y!==T.y)continue;if(E.x<=x.x&&x.x<=T.x||T.x<=x.x&&x.x<=E.x)return!0}}return A}const i=Uo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new fc,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],d=[];let m=[],g=0,v;d[g]=void 0,m[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!c&&d[g]&&g++,d[g]={s:new fc,p:v},d[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!d[0])return n(s);if(d.length>1){let x=!1,_=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const M=m[w];for(let C=0;C<M.length;C++){const T=M[C];let E=!0;for(let P=0;P<d.length;P++)r(T.p,d[P].p)&&(w!==P&&_++,E?(E=!1,f[P].push(T)):x=!0);E&&f[w].push(T)}}_>0&&x===!1&&(m=f)}let y;for(let x=0,_=d.length;x<_;x++){l=d[x].s,u.push(l),y=m[x];for(let w=0,A=y.length;w<A;w++)l.holes.push(y[w].h)}return u}}const ya=bK();function bK(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function MK(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ur(t,-65504,65504),ya.floatView[0]=t;const e=ya.uint32View[0],n=e>>23&511;return ya.baseTable[n]+((e&8388607)>>ya.shiftTable[n])}function EK(t){const e=t>>10;return ya.uint32View[0]=ya.mantissaTable[ya.offsetTable[e]+(t&1023)]+ya.exponentTable[e],ya.floatView[0]}var Qu=Object.freeze({__proto__:null,fromHalfFloat:EK,toHalfFloat:MK});class CK extends su{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class TK extends rg{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class RK extends ig{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class PK extends sg{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class IK extends kc{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class BK extends og{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class DK extends Xd{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class LK extends Kd{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class kK extends Jd{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class FK extends Yd{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class OK extends yo{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class NK extends $a{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class UK extends ag{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class zK extends lg{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class GK extends Qd{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class HK extends ug{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class VK extends cg{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class WK extends fg{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class jK extends dg{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xm);const hN=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:VE,AddEquation:zu,AddOperation:JO,AdditiveAnimationBlendMode:KE,AdditiveBlending:qy,AlphaFormat:e4,AlwaysDepth:zO,AlwaysStencilFunc:m4,AmbientLight:rN,AmbientLightProbe:OX,AnimationClip:Cd,AnimationLoader:TX,AnimationMixer:cN,AnimationObjectGroup:qX,AnimationUtils:bX,ArcCurve:D4,ArrayCamera:C4,ArrowHelper:SK,Audio:lN,AudioAnalyser:VX,AudioContext:TC,AudioListener:zX,AudioLoader:kX,AxesHelper:AK,BackSide:zi,BasicDepthPacking:h4,BasicShadowMap:EO,Bone:px,BooleanKeyframeTrack:Fc,Box2:lK,Box3:vo,Box3Helper:_K,BoxBufferGeometry:CK,BoxGeometry:su,BoxHelper:xK,BufferAttribute:rn,BufferGeometry:$t,BufferGeometryLoader:oN,ByteType:WE,Cache:Tc,Camera:Zm,CameraHelper:yK,CanvasTexture:XJ,CapsuleBufferGeometry:TK,CapsuleGeometry:rg,CatmullRomCurve3:L4,CineonToneMapping:YO,CircleBufferGeometry:RK,CircleGeometry:ig,ClampToEdgeWrapping:Pn,Clock:RC,Color:ut,ColorKeyframeTrack:wC,ColorManagement:ti,CompressedArrayTexture:JJ,CompressedTexture:fC,CompressedTextureLoader:RX,ConeBufferGeometry:PK,ConeGeometry:sg,CubeCamera:_4,CubeReflectionMapping:ka,CubeRefractionMapping:Hl,CubeTexture:qm,CubeTextureLoader:tN,CubeUVReflectionMapping:jd,CubicBezierCurve:hC,CubicBezierCurve3:k4,CubicInterpolant:Z4,CullFaceBack:JA,CullFaceFront:MO,CullFaceFrontBack:eV,CullFaceNone:bO,Curve:_o,CurvePath:O4,CustomBlending:CO,CustomToneMapping:QO,CylinderBufferGeometry:IK,CylinderGeometry:kc,Cylindrical:aK,Data3DTexture:eC,DataArrayTexture:ox,DataTexture:cc,DataTextureLoader:SC,DataUtils:Qu,DecrementStencilOp:uV,DecrementWrapStencilOp:fV,DefaultLoadingManager:Yf,DepthFormat:kl,DepthStencilFormat:Ac,DepthTexture:T4,DirectionalLight:EC,DirectionalLightHelper:vK,DiscreteInterpolant:q4,DodecahedronBufferGeometry:BK,DodecahedronGeometry:og,DoubleSide:ns,DstAlphaFactor:LO,DstColorFactor:FO,DynamicCopyUsage:EV,DynamicDrawUsage:_V,DynamicReadUsage:AV,EdgesGeometry:N4,EllipseCurve:gx,EqualDepth:HO,EqualStencilFunc:mV,EquirectangularReflectionMapping:Ad,EquirectangularRefractionMapping:mm,Euler:Qm,EventDispatcher:Wa,ExtrudeBufferGeometry:DK,ExtrudeGeometry:Xd,FileLoader:Ur,Float16BufferAttribute:oW,Float32BufferAttribute:_t,Float64BufferAttribute:aW,FloatType:Fr,Fog:hx,FogExp2:dx,FramebufferTexture:$J,FrontSide:Ho,Frustum:ax,GLBufferAttribute:sK,GLSL1:TV,GLSL3:Sb,GreaterDepth:WO,GreaterEqualDepth:VO,GreaterEqualStencilFunc:xV,GreaterStencilFunc:vV,GridHelper:mK,Group:ba,HalfFloatType:Or,HemisphereLight:nN,HemisphereLightHelper:pK,HemisphereLightProbe:FX,IcosahedronBufferGeometry:LK,IcosahedronGeometry:Kd,ImageBitmapLoader:aN,ImageLoader:Mm,ImageUtils:qE,IncrementStencilOp:lV,IncrementWrapStencilOp:cV,InstancedBufferAttribute:$l,InstancedBufferGeometry:CC,InstancedInterleavedBuffer:iK,InstancedMesh:lC,Int16BufferAttribute:iW,Int32BufferAttribute:sW,Int8BufferAttribute:tW,IntType:JE,InterleavedBuffer:tg,InterleavedBufferAttribute:jl,Interpolant:Zd,InterpolateDiscrete:Md,InterpolateLinear:bc,InterpolateSmooth:dy,InvertStencilOp:dV,KeepStencilOp:hy,KeyframeTrack:wo,LOD:B4,LatheBufferGeometry:kK,LatheGeometry:Jd,Layers:uc,LessDepth:GO,LessEqualDepth:e1,LessEqualStencilFunc:gV,LessStencilFunc:pV,Light:ou,LightProbe:_x,Line:Oa,Line3:uK,LineBasicMaterial:ui,LineCurve:vx,LineCurve3:F4,LineDashedMaterial:Y4,LineLoop:uC,LineSegments:xo,LinearEncoding:Wl,LinearFilter:en,LinearInterpolant:_C,LinearMipMapLinearFilter:ZA,LinearMipMapNearestFilter:iV,LinearMipmapLinearFilter:Vo,LinearMipmapNearestFilter:ix,LinearSRGBColorSpace:Fa,LinearToneMapping:XO,Loader:Jr,LoaderUtils:Fl,LoadingManager:xx,LoopOnce:u4,LoopPingPong:f4,LoopRepeat:c4,LuminanceAlphaFormat:n4,LuminanceFormat:t4,MOUSE:Z9,Material:br,MaterialLoader:wx,MathUtils:ro,Matrix3:ii,Matrix4:Lt,MaxEquation:QA,Mesh:Un,MeshBasicMaterial:Ai,MeshDepthMaterial:ux,MeshDistanceMaterial:cx,MeshLambertMaterial:X4,MeshMatcapMaterial:K4,MeshNormalMaterial:J4,MeshPhongMaterial:j4,MeshPhysicalMaterial:Hs,MeshStandardMaterial:hg,MeshToonMaterial:$4,MinEquation:YA,MirroredRepeatWrapping:bd,MixOperation:$O,MultiplyBlending:KA,MultiplyOperation:Km,NearestFilter:tr,NearestMipMapLinearFilter:rV,NearestMipMapNearestFilter:nV,NearestMipmapLinearFilter:ud,NearestMipmapNearestFilter:gm,NeverDepth:UO,NeverStencilFunc:hV,NoBlending:No,NoColorSpace:sV,NoToneMapping:ao,NormalAnimationBlendMode:sx,NormalBlending:sc,NotEqualDepth:jO,NotEqualStencilFunc:yV,NumberKeyframeTrack:Ec,Object3D:Zt,ObjectLoader:DX,ObjectSpaceNormalMap:p4,OctahedronBufferGeometry:FK,OctahedronGeometry:Yd,OneFactor:IO,OneMinusDstAlphaFactor:kO,OneMinusDstColorFactor:OO,OneMinusSrcAlphaFactor:HE,OneMinusSrcColorFactor:DO,OrthographicCamera:ja,PCFShadowMap:rx,PCFSoftShadowMap:Lp,PMREMGenerator:bb,Path:wm,PerspectiveCamera:cr,Plane:yl,PlaneBufferGeometry:OK,PlaneGeometry:yo,PlaneHelper:wK,PointLight:MC,PointLightHelper:dK,Points:cC,PointsMaterial:mx,PolarGridHelper:gK,PolyhedronBufferGeometry:NK,PolyhedronGeometry:$a,PositionalAudio:HX,PropertyBinding:nn,PropertyMixer:uN,QuadraticBezierCurve:pC,QuadraticBezierCurve3:mC,Quaternion:si,QuaternionKeyframeTrack:Jl,QuaternionLinearInterpolant:eN,RED_GREEN_RGTC2_Format:_b,RED_RGTC1_Format:l4,REVISION:Xm,RGBADepthPacking:QE,RGBAFormat:Sr,RGBAIntegerFormat:o4,RGBA_ASTC_10x10_Format:gb,RGBA_ASTC_10x5_Format:hb,RGBA_ASTC_10x6_Format:pb,RGBA_ASTC_10x8_Format:mb,RGBA_ASTC_12x10_Format:vb,RGBA_ASTC_12x12_Format:yb,RGBA_ASTC_4x4_Format:sb,RGBA_ASTC_5x4_Format:ob,RGBA_ASTC_5x5_Format:ab,RGBA_ASTC_6x5_Format:lb,RGBA_ASTC_6x6_Format:ub,RGBA_ASTC_8x5_Format:cb,RGBA_ASTC_8x6_Format:fb,RGBA_ASTC_8x8_Format:db,RGBA_BPTC_Format:fy,RGBA_ETC2_EAC_Format:ib,RGBA_PVRTC_2BPPV1_Format:nb,RGBA_PVRTC_4BPPV1_Format:tb,RGBA_S3TC_DXT1_Format:ly,RGBA_S3TC_DXT3_Format:uy,RGBA_S3TC_DXT5_Format:cy,RGB_ETC1_Format:a4,RGB_ETC2_Format:rb,RGB_PVRTC_2BPPV1_Format:eb,RGB_PVRTC_4BPPV1_Format:qA,RGB_S3TC_DXT1_Format:ay,RGFormat:i4,RGIntegerFormat:s4,RawShaderMaterial:W4,Ray:Ym,Raycaster:DC,RectAreaLight:iN,RedFormat:XE,RedIntegerFormat:r4,ReinhardToneMapping:KO,RepeatWrapping:Vl,ReplaceStencilOp:aV,ReverseSubtractEquation:RO,RingBufferGeometry:UK,RingGeometry:ag,SIGNED_RED_GREEN_RGTC2_Format:wb,SIGNED_RED_RGTC1_Format:xb,SRGBColorSpace:Es,Scene:eg,ShaderChunk:jt,ShaderLib:to,ShaderMaterial:ls,ShadowMaterial:V4,Shape:fc,ShapeBufferGeometry:zK,ShapeGeometry:lg,ShapePath:dN,ShapeUtils:Uo,ShortType:jE,Skeleton:ng,SkeletonHelper:fK,SkinnedMesh:aC,Source:Ku,Sphere:$o,SphereBufferGeometry:GK,SphereGeometry:Qd,Spherical:oK,SphericalHarmonics3:sN,SplineCurve:gC,SpotLight:bC,SpotLightHelper:cK,Sprite:I4,SpriteMaterial:oC,SrcAlphaFactor:GE,SrcAlphaSaturateFactor:NO,SrcColorFactor:BO,StaticCopyUsage:MV,StaticDrawUsage:ym,StaticReadUsage:SV,StereoCamera:NX,StreamCopyUsage:CV,StreamDrawUsage:wV,StreamReadUsage:bV,StringKeyframeTrack:Oc,SubtractEquation:TO,SubtractiveBlending:XA,TOUCH:q9,TangentSpaceNormalMap:iu,TetrahedronBufferGeometry:HK,TetrahedronGeometry:ug,Texture:cn,TextureLoader:qd,TorusBufferGeometry:VK,TorusGeometry:cg,TorusKnotBufferGeometry:WK,TorusKnotGeometry:fg,Triangle:Is,TriangleFanDrawMode:t1,TriangleStripDrawMode:YE,TrianglesDrawMode:d4,TubeBufferGeometry:jK,TubeGeometry:dg,TwoPassDoubleSide:tV,UVMapping:Gl,Uint16BufferAttribute:tC,Uint32BufferAttribute:nC,Uint8BufferAttribute:nW,Uint8ClampedBufferAttribute:rW,Uniform:BC,UniformsGroup:rK,UniformsLib:lt,UniformsUtils:rC,UnsignedByteType:zs,UnsignedInt248Type:oc,UnsignedIntType:Sa,UnsignedShort4444Type:ZO,UnsignedShort5551Type:qO,UnsignedShortType:$E,VSMShadowMap:$u,Vector2:je,Vector3:Z,Vector4:dn,VectorKeyframeTrack:Cc,VideoTexture:jJ,WebGL1Renderer:R4,WebGL3DRenderTarget:jV,WebGLArrayRenderTarget:WV,WebGLCubeRenderTarget:iC,WebGLMultipleRenderTargets:$V,WebGLRenderTarget:as,WebGLRenderer:fx,WebGLUtils:E4,WireframeGeometry:H4,WrapAroundEnding:vm,ZeroCurvatureEnding:Ju,ZeroFactor:PO,ZeroSlopeEnding:Xu,ZeroStencilOp:oV,_SRGBAFormat:n1,sRGBEncoding:bn},Symbol.toStringTag,{value:"Module"}));var pN={exports:{}},Nc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Nc.ConcurrentRoot=1;Nc.ContinuousEventPriority=4;Nc.DefaultEventPriority=16;Nc.DiscreteEventPriority=1;Nc.IdleEventPriority=536870912;Nc.LegacyRoot=0;pN.exports=Nc;var _p=pN.exports;function $K(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const g=c(e);if(!f(d,g)){const v=d;u(d=g,v)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const JK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fI=JK?I.useEffect:I.useLayoutEffect;function mN(t){const e=typeof t=="function"?$K(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=I.useReducer(y=>y+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(r),u=I.useRef(i),c=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),m=!i(f.current,d)),fI(()=>{m&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const g=I.useRef(o);fI(()=>{const y=()=>{try{const _=e.getState(),w=l.current(_);u.current(f.current,w)||(a.current=_,f.current=w,s())}catch{c.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?d:f.current;return I.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const XK=t=>typeof t=="object"&&typeof t.then=="function",Zu=[];function gN(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function vN(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Zu)if(gN(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Zu.indexOf(i);s!==-1&&Zu.splice(s,1)},promise:(XK(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Zu.push(i),!n)throw i.promise}const Sx=(t,e,n)=>vN(t,e,!1,n),yN=(t,e,n)=>void vN(t,e,!0,n),xN=t=>{if(t===void 0||t.length===0)Zu.splice(0,Zu.length);else{const e=Zu.find(n=>gN(t,n.keys,n.equal));e&&e.remove()}};var _N={exports:{}},wN={exports:{}},SN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,j){var W=H.length;H.push(j);e:for(;0<W;){var G=W-1>>>1,z=H[G];if(0<i(z,j))H[G]=j,H[W]=z,W=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],W=H.pop();if(W!==j){H[0]=W;e:for(var G=0,z=H.length,X=z>>>1;G<X;){var ne=2*(G+1)-1,ee=H[ne],Y=ne+1,ue=H[Y];if(0>i(ee,W))Y<z&&0>i(ue,ee)?(H[G]=ue,H[Y]=W,G=Y):(H[G]=ee,H[ne]=W,G=ne);else if(Y<z&&0>i(ue,W))H[G]=ue,H[Y]=W,G=Y;else break e}}return j}function i(H,j){var W=H.sortIndex-j.sortIndex;return W!==0?W:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=H)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function A(H){if(v=!1,w(H),!g)if(n(l)!==null)g=!0,$(M);else{var j=n(u);j!==null&&ie(A,j.startTime-H)}}function M(H,j){g=!1,v&&(v=!1,x(E),E=-1),m=!0;var W=d;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||H&&!N());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var z=G(f.expirationTime<=j);j=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var ne=n(u);ne!==null&&ie(A,ne.startTime-j),X=!1}return X}finally{f=null,d=W,m=!1}}var C=!1,T=null,E=-1,P=5,B=-1;function N(){return!(t.unstable_now()-B<P)}function F(){if(T!==null){var H=t.unstable_now();B=H;var j=!0;try{j=T(!0,H)}finally{j?U():(C=!1,T=null)}}else C=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,J=O.port2;O.port1.onmessage=F,U=function(){J.postMessage(null)}}else U=function(){y(F,0)};function $(H){T=H,C||(C=!0,U())}function ie(H,j){E=y(function(){H(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var W=d;d=j;try{return H()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=d;d=H;try{return j()}finally{d=W}},t.unstable_scheduleCallback=function(H,j,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,H={id:c++,callback:j,priorityLevel:H,startTime:W,expirationTime:z,sortIndex:-1},W>G?(H.sortIndex=W,e(u,H),n(l)===null&&H===n(u)&&(v?(x(E),E=-1):v=!0,ie(A,W-G))):(H.sortIndex=z,e(l,H),g||m||(g=!0,$(M))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var j=d;return function(){var W=d;d=j;try{return H.apply(this,arguments)}finally{d=W}}}})(SN);wN.exports=SN;var Ib=wN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KK=function(e){var n={},r=I,i=Ib,s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}function T(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case v:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return p=h.displayName||null,p!==null?p:T(h.type)||"Memo";case w:p=h._payload,h=h._init;try{return T(h(p))}catch{}}return null}function E(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function P(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function B(h){if(P(h)!==h)throw Error(o(188))}function N(h){var p=h.alternate;if(!p){if(p=P(h),p===null)throw Error(o(188));return p!==h?null:h}for(var S=h,b=p;;){var R=S.return;if(R===null)break;var D=R.alternate;if(D===null){if(b=R.return,b!==null){S=b;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===S)return B(R),h;if(D===b)return B(R),p;D=D.sibling}throw Error(o(188))}if(S.return!==b.return)S=R,b=D;else{for(var q=!1,he=R.child;he;){if(he===S){q=!0,S=R,b=D;break}if(he===b){q=!0,b=R,S=D;break}he=he.sibling}if(!q){for(he=D.child;he;){if(he===S){q=!0,S=D,b=R;break}if(he===b){q=!0,b=D,S=R;break}he=he.sibling}if(!q)throw Error(o(189))}}if(S.alternate!==b)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:p}function F(h){return h=N(h),h!==null?U(h):null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=U(h);if(p!==null)return p;h=h.sibling}return null}function O(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=O(h);if(p!==null)return p}h=h.sibling}return null}var J=Array.isArray,$=e.getPublicInstance,ie=e.getRootHostContext,H=e.getChildHostContext,j=e.prepareForCommit,W=e.resetAfterCommit,G=e.createInstance,z=e.appendInitialChild,X=e.finalizeInitialChildren,ne=e.prepareUpdate,ee=e.shouldSetTextContent,Y=e.createTextInstance,ue=e.scheduleTimeout,ce=e.cancelTimeout,Te=e.noTimeout,we=e.isPrimaryRenderer,ve=e.supportsMutation,oe=e.supportsPersistence,fe=e.supportsHydration,Re=e.getInstanceFromNode,Ge=e.preparePortalMount,Ie=e.getCurrentEventPriority,Xe=e.detachDeletedInstance,Pe=e.supportsMicrotasks,ze=e.scheduleMicrotask,Ye=e.supportsTestSelectors,Ee=e.findFiberRoot,K=e.getBoundingRect,k=e.getTextContent,re=e.isHiddenSubtree,pe=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,Je=e.appendChild,ke=e.appendChildToContainer,be=e.commitTextUpdate,Ze=e.commitMount,rt=e.commitUpdate,$e=e.insertBefore,We=e.insertInContainerBefore,Ve=e.removeChild,at=e.removeChildFromContainer,pt=e.resetTextContent,bt=e.hideInstance,le=e.hideTextInstance,se=e.unhideInstance,Oe=e.unhideTextInstance,ot=e.clearContainer,tt=e.cloneInstance,ft=e.createContainerChildSet,Ft=e.appendChildToContainerChildSet,kt=e.finalizeContainerChildren,Mt=e.replaceContainerChildren,Et=e.cloneHiddenInstance,hn=e.cloneHiddenTextInstance,sn=e.canHydrateInstance,wn=e.canHydrateTextInstance,zr=e.canHydrateSuspenseInstance,Cr=e.isSuspenseInstancePending,Gr=e.isSuspenseInstanceFallback,Q=e.registerSuspenseInstanceRetry,Se=e.getNextHydratableSibling,_e=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,Ne=e.getFirstHydratableChildWithinSuspenseInstance,L=e.hydrateInstance,V=e.hydrateTextInstance,te=e.hydrateSuspenseInstance,de=e.getNextHydratableInstanceAfterSuspenseInstance,ye=e.commitHydratedContainer,xe=e.commitHydratedSuspenseInstance,Ue=e.clearSuspenseBoundary,He=e.clearSuspenseBoundaryFromContainer,Ke=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,qe=e.didNotMatchHydratedTextInstance,Ae;function ht(h){if(Ae===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Ae=p&&p[1]||""}return`
`+Ae+h}var mt=!1;function it(h,p){if(!h||mt)return"";mt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(nt){var b=nt}Reflect.construct(h,[],p)}else{try{p.call()}catch(nt){b=nt}h.call(p.prototype)}else{try{throw Error()}catch(nt){b=nt}h()}}catch(nt){if(nt&&b&&typeof nt.stack=="string"){for(var R=nt.stack.split(`
`),D=b.stack.split(`
`),q=R.length-1,he=D.length-1;1<=q&&0<=he&&R[q]!==D[he];)he--;for(;1<=q&&0<=he;q--,he--)if(R[q]!==D[he]){if(q!==1||he!==1)do if(q--,he--,0>he||R[q]!==D[he]){var Fe=`
`+R[q].replace(" at new "," at ");return h.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",h.displayName)),Fe}while(1<=q&&0<=he);break}}}finally{mt=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?ht(h):""}var St=Object.prototype.hasOwnProperty,Bt=[],Ot=-1;function Nt(h){return{current:h}}function gt(h){0>Ot||(h.current=Bt[Ot],Bt[Ot]=null,Ot--)}function Ct(h,p){Ot++,Bt[Ot]=h.current,h.current=p}var Ut={},zt=Nt(Ut),Dt=Nt(!1),fn=Ut;function Cn(h,p){var S=h.type.contextTypes;if(!S)return Ut;var b=h.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===p)return b.__reactInternalMemoizedMaskedChildContext;var R={},D;for(D in S)R[D]=p[D];return b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=R),R}function kn(h){return h=h.childContextTypes,h!=null}function Fn(){gt(Dt),gt(zt)}function tn(h,p,S){if(zt.current!==Ut)throw Error(o(168));Ct(zt,p),Ct(Dt,S)}function zn(h,p,S){var b=h.stateNode;if(p=p.childContextTypes,typeof b.getChildContext!="function")return S;b=b.getChildContext();for(var R in b)if(!(R in p))throw Error(o(108,E(h)||"Unknown",R));return s({},S,b)}function on(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ut,fn=zt.current,Ct(zt,h),Ct(Dt,Dt.current),!0}function Ht(h,p,S){var b=h.stateNode;if(!b)throw Error(o(169));S?(h=zn(h,p,fn),b.__reactInternalMemoizedMergedChildContext=h,gt(Dt),gt(zt),Ct(zt,h)):gt(Dt),Ct(Dt,S)}var Sn=Math.clz32?Math.clz32:Hi,Ti=Math.log,rr=Math.LN2;function Hi(h){return h>>>=0,h===0?32:31-(Ti(h)/rr|0)|0}var Xo=64,Ko=4194304;function Yo(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function uu(h,p){var S=h.pendingLanes;if(S===0)return 0;var b=0,R=h.suspendedLanes,D=h.pingedLanes,q=S&268435455;if(q!==0){var he=q&~R;he!==0?b=Yo(he):(D&=q,D!==0&&(b=Yo(D)))}else q=S&~R,q!==0?b=Yo(q):D!==0&&(b=Yo(D));if(b===0)return 0;if(p!==0&&p!==b&&!(p&R)&&(R=b&-b,D=p&-p,R>=D||R===16&&(D&4194240)!==0))return p;if(b&4&&(b|=S&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=b;0<p;)S=31-Sn(p),R=1<<S,b|=h[S],p&=~R;return b}function Dg(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uh(h,p){for(var S=h.suspendedLanes,b=h.pingedLanes,R=h.expirationTimes,D=h.pendingLanes;0<D;){var q=31-Sn(D),he=1<<q,Fe=R[q];Fe===-1?(!(he&S)||he&b)&&(R[q]=Dg(he,p)):Fe<=p&&(h.expiredLanes|=he),D&=~he}}function Qo(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Wc(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function Ao(h,p,S){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Sn(p),h[p]=S}function Xa(h,p){var S=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var b=h.eventTimes;for(h=h.expirationTimes;0<S;){var R=31-Sn(S),D=1<<R;p[R]=0,b[R]=-1,h[R]=-1,S&=~D}}function bo(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var b=31-Sn(S),R=1<<b;R&p|h[b]&p&&(h[b]|=p),S&=~R}}var Yt=0;function ch(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Zo=i.unstable_scheduleCallback,jc=i.unstable_cancelCallback,fh=i.unstable_shouldYield,Lg=i.unstable_requestPaint,Gn=i.unstable_now,cu=i.unstable_ImmediatePriority,kg=i.unstable_UserBlockingPriority,fi=i.unstable_NormalPriority,dh=i.unstable_IdlePriority,fu=null,Vi=null;function hh(h){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(fu,h,void 0,(h.current.flags&128)===128)}catch{}}function Fg(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Wi=typeof Object.is=="function"?Object.is:Fg,di=null,Mo=!1,hs=!1;function ph(h){di===null?di=[h]:di.push(h)}function mh(h){Mo=!0,ph(h)}function Ri(){if(!hs&&di!==null){hs=!0;var h=0,p=Yt;try{var S=di;for(Yt=1;h<S.length;h++){var b=S[h];do b=b(!0);while(b!==null)}di=null,Mo=!1}catch(R){throw di!==null&&(di=di.slice(h+1)),Zo(cu,Ri),R}finally{Yt=p,hs=!1}}return null}var du=a.ReactCurrentBatchConfig;function hu(h,p){if(Wi(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),b=Object.keys(p);if(S.length!==b.length)return!1;for(b=0;b<S.length;b++){var R=S[b];if(!St.call(p,R)||!Wi(h[R],p[R]))return!1}return!0}function pu(h){switch(h.tag){case 5:return ht(h.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 2:case 15:return h=it(h.type,!1),h;case 11:return h=it(h.type.render,!1),h;case 1:return h=it(h.type,!0),h;default:return""}}function hi(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var S in h)p[S]===void 0&&(p[S]=h[S]);return p}return p}var Tr=Nt(null),$c=null,js=null,Ka=null;function Jc(){Ka=js=$c=null}function Og(h,p,S){we?(Ct(Tr,p._currentValue),p._currentValue=S):(Ct(Tr,p._currentValue2),p._currentValue2=S)}function Rr(h){var p=Tr.current;gt(Tr),we?h._currentValue=p:h._currentValue2=p}function pi(h,p,S){for(;h!==null;){var b=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,b!==null&&(b.childLanes|=p)):b!==null&&(b.childLanes&p)!==p&&(b.childLanes|=p),h===S)break;h=h.return}}function ir(h,p){$c=h,Ka=js=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Xi=!0),h.firstContext=null)}function sr(h){var p=we?h._currentValue:h._currentValue2;if(Ka!==h)if(h={context:h,memoizedValue:p,next:null},js===null){if($c===null)throw Error(o(308));js=h,$c.dependencies={lanes:0,firstContext:h}}else js=js.next=h;return p}var ji=null,Ya=!1;function r_(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function qo(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Qa(h,p){var S=h.updateQueue;S!==null&&(S=S.shared,dr!==null&&h.mode&1&&!(Kt&2)?(h=S.interleaved,h===null?(p.next=p,ji===null?ji=[S]:ji.push(S)):(p.next=h.next,h.next=p),S.interleaved=p):(h=S.pending,h===null?p.next=p:(p.next=h.next,h.next=p),S.pending=p))}function Ng(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var b=p.lanes;b&=h.pendingLanes,S|=b,p.lanes=S,bo(h,S)}}function cT(h,p){var S=h.updateQueue,b=h.alternate;if(b!==null&&(b=b.updateQueue,S===b)){var R=null,D=null;if(S=S.firstBaseUpdate,S!==null){do{var q={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};D===null?R=D=q:D=D.next=q,S=S.next}while(S!==null);D===null?R=D=p:D=D.next=p}else R=D=p;S={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:b.shared,effects:b.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function Ug(h,p,S,b){var R=h.updateQueue;Ya=!1;var D=R.firstBaseUpdate,q=R.lastBaseUpdate,he=R.shared.pending;if(he!==null){R.shared.pending=null;var Fe=he,nt=Fe.next;Fe.next=null,q===null?D=nt:q.next=nt,q=Fe;var yt=h.alternate;yt!==null&&(yt=yt.updateQueue,he=yt.lastBaseUpdate,he!==q&&(he===null?yt.firstBaseUpdate=nt:he.next=nt,yt.lastBaseUpdate=Fe))}if(D!==null){var Vt=R.baseState;q=0,yt=nt=Fe=null,he=D;do{var Tt=he.lane,xn=he.eventTime;if((b&Tt)===Tt){yt!==null&&(yt=yt.next={eventTime:xn,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var At=h,Qr=he;switch(Tt=p,xn=S,Qr.tag){case 1:if(At=Qr.payload,typeof At=="function"){Vt=At.call(xn,Vt,Tt);break e}Vt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Qr.payload,Tt=typeof At=="function"?At.call(xn,Vt,Tt):At,Tt==null)break e;Vt=s({},Vt,Tt);break e;case 2:Ya=!0}}he.callback!==null&&he.lane!==0&&(h.flags|=64,Tt=R.effects,Tt===null?R.effects=[he]:Tt.push(he))}else xn={eventTime:xn,lane:Tt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},yt===null?(nt=yt=xn,Fe=Vt):yt=yt.next=xn,q|=Tt;if(he=he.next,he===null){if(he=R.shared.pending,he===null)break;Tt=he,he=Tt.next,Tt.next=null,R.lastBaseUpdate=Tt,R.shared.pending=null}}while(!0);if(yt===null&&(Fe=Vt),R.baseState=Fe,R.firstBaseUpdate=nt,R.lastBaseUpdate=yt,p=R.shared.interleaved,p!==null){R=p;do q|=R.lane,R=R.next;while(R!==p)}else D===null&&(R.shared.lanes=0);nf|=q,h.lanes=q,h.memoizedState=Vt}}function fT(h,p,S){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var b=h[p],R=b.callback;if(R!==null){if(b.callback=null,b=S,typeof R!="function")throw Error(o(191,R));R.call(b)}}}var dT=new r.Component().refs;function i_(h,p,S,b){p=h.memoizedState,S=S(b,p),S=S==null?p:s({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var zg={isMounted:function(h){return(h=h._reactInternals)?P(h)===h:!1},enqueueSetState:function(h,p,S){h=h._reactInternals;var b=gi(),R=el(h),D=qo(b,R);D.payload=p,S!=null&&(D.callback=S),Qa(h,D),p=ys(h,R,b),p!==null&&Ng(p,h,R)},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var b=gi(),R=el(h),D=qo(b,R);D.tag=1,D.payload=p,S!=null&&(D.callback=S),Qa(h,D),p=ys(h,R,b),p!==null&&Ng(p,h,R)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=gi(),b=el(h),R=qo(S,b);R.tag=2,p!=null&&(R.callback=p),Qa(h,R),p=ys(h,b,S),p!==null&&Ng(p,h,b)}};function hT(h,p,S,b,R,D,q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(b,D,q):p.prototype&&p.prototype.isPureReactComponent?!hu(S,b)||!hu(R,D):!0}function pT(h,p,S){var b=!1,R=Ut,D=p.contextType;return typeof D=="object"&&D!==null?D=sr(D):(R=kn(p)?fn:zt.current,b=p.contextTypes,D=(b=b!=null)?Cn(h,R):Ut),p=new p(S,D),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zg,h.stateNode=p,p._reactInternals=h,b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=D),p}function mT(h,p,S,b){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,b),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,b),p.state!==h&&zg.enqueueReplaceState(p,p.state,null)}function s_(h,p,S,b){var R=h.stateNode;R.props=S,R.state=h.memoizedState,R.refs=dT,r_(h);var D=p.contextType;typeof D=="object"&&D!==null?R.context=sr(D):(D=kn(p)?fn:zt.current,R.context=Cn(h,D)),R.state=h.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(i_(h,p,D,S),R.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&zg.enqueueReplaceState(R,R.state,null),Ug(h,S,R,b),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var Xc=[],Kc=0,Gg=null,Hg=0,ps=[],ms=0,mu=null,ea=1,ta="";function gu(h,p){Xc[Kc++]=Hg,Xc[Kc++]=Gg,Gg=h,Hg=p}function gT(h,p,S){ps[ms++]=ea,ps[ms++]=ta,ps[ms++]=mu,mu=h;var b=ea;h=ta;var R=32-Sn(b)-1;b&=~(1<<R),S+=1;var D=32-Sn(p)+R;if(30<D){var q=R-R%5;D=(b&(1<<q)-1).toString(32),b>>=q,R-=q,ea=1<<32-Sn(p)+R|S<<R|b,ta=D+h}else ea=1<<D|S<<R|b,ta=h}function o_(h){h.return!==null&&(gu(h,1),gT(h,1,0))}function a_(h){for(;h===Gg;)Gg=Xc[--Kc],Xc[Kc]=null,Hg=Xc[--Kc],Xc[Kc]=null;for(;h===mu;)mu=ps[--ms],ps[ms]=null,ta=ps[--ms],ps[ms]=null,ea=ps[--ms],ps[ms]=null}var $i=null,Ji=null,On=!1,gh=!1,$s=null;function vT(h,p){var S=xs(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=h,p=h.deletions,p===null?(h.deletions=[S],h.flags|=16):p.push(S)}function yT(h,p){switch(h.tag){case 5:return p=sn(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,$i=h,Ji=_e(p),!0):!1;case 6:return p=wn(p,h.pendingProps),p!==null?(h.stateNode=p,$i=h,Ji=null,!0):!1;case 13:if(p=zr(p),p!==null){var S=mu!==null?{id:ea,overflow:ta}:null;return h.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=xs(18,null,null,0),S.stateNode=p,S.return=h,h.child=S,$i=h,Ji=null,!0}return!1;default:return!1}}function l_(h){return(h.mode&1)!==0&&(h.flags&128)===0}function u_(h){if(On){var p=Ji;if(p){var S=p;if(!yT(h,p)){if(l_(h))throw Error(o(418));p=Se(S);var b=$i;p&&yT(h,p)?vT(b,S):(h.flags=h.flags&-4097|2,On=!1,$i=h)}}else{if(l_(h))throw Error(o(418));h.flags=h.flags&-4097|2,On=!1,$i=h}}}function xT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;$i=h}function vh(h){if(!fe||h!==$i)return!1;if(!On)return xT(h),On=!0,!1;if(h.tag!==3&&(h.tag!==5||Ke(h.type)&&!ee(h.type,h.memoizedProps))){var p=Ji;if(p){if(l_(h)){for(h=Ji;h;)h=Se(h);throw Error(o(418))}for(;p;)vT(h,p),p=Se(p)}}if(xT(h),h.tag===13){if(!fe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ji=de(h)}else Ji=$i?Se(h.stateNode):null;return!0}function Yc(){fe&&(Ji=$i=null,gh=On=!1)}function c_(h){$s===null?$s=[h]:$s.push(h)}function yh(h,p,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var b=S.stateNode}if(!b)throw Error(o(147,h));var R=b,D=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(q){var he=R.refs;he===dT&&(he=R.refs={}),q===null?delete he[D]:he[D]=q},p._stringRef=D,p)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function Vg(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function _T(h){var p=h._init;return p(h._payload)}function wT(h){function p(Ce,ge){if(h){var Be=Ce.deletions;Be===null?(Ce.deletions=[ge],Ce.flags|=16):Be.push(ge)}}function S(Ce,ge){if(!h)return null;for(;ge!==null;)p(Ce,ge),ge=ge.sibling;return null}function b(Ce,ge){for(Ce=new Map;ge!==null;)ge.key!==null?Ce.set(ge.key,ge):Ce.set(ge.index,ge),ge=ge.sibling;return Ce}function R(Ce,ge){return Ce=nl(Ce,ge),Ce.index=0,Ce.sibling=null,Ce}function D(Ce,ge,Be){return Ce.index=Be,h?(Be=Ce.alternate,Be!==null?(Be=Be.index,Be<ge?(Ce.flags|=2,ge):Be):(Ce.flags|=2,ge)):(Ce.flags|=1048576,ge)}function q(Ce){return h&&Ce.alternate===null&&(Ce.flags|=2),Ce}function he(Ce,ge,Be,dt){return ge===null||ge.tag!==6?(ge=J_(Be,Ce.mode,dt),ge.return=Ce,ge):(ge=R(ge,Be),ge.return=Ce,ge)}function Fe(Ce,ge,Be,dt){var wt=Be.type;return wt===c?yt(Ce,ge,Be.props.children,dt,Be.key):ge!==null&&(ge.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&_T(wt)===ge.type)?(dt=R(ge,Be.props),dt.ref=yh(Ce,ge,Be),dt.return=Ce,dt):(dt=_0(Be.type,Be.key,Be.props,null,Ce.mode,dt),dt.ref=yh(Ce,ge,Be),dt.return=Ce,dt)}function nt(Ce,ge,Be,dt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Be.containerInfo||ge.stateNode.implementation!==Be.implementation?(ge=X_(Be,Ce.mode,dt),ge.return=Ce,ge):(ge=R(ge,Be.children||[]),ge.return=Ce,ge)}function yt(Ce,ge,Be,dt,wt){return ge===null||ge.tag!==7?(ge=Au(Be,Ce.mode,dt,wt),ge.return=Ce,ge):(ge=R(ge,Be),ge.return=Ce,ge)}function Vt(Ce,ge,Be){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=J_(""+ge,Ce.mode,Be),ge.return=Ce,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return Be=_0(ge.type,ge.key,ge.props,null,Ce.mode,Be),Be.ref=yh(Ce,null,ge),Be.return=Ce,Be;case u:return ge=X_(ge,Ce.mode,Be),ge.return=Ce,ge;case w:var dt=ge._init;return Vt(Ce,dt(ge._payload),Be)}if(J(ge)||C(ge))return ge=Au(ge,Ce.mode,Be,null),ge.return=Ce,ge;Vg(Ce,ge)}return null}function Tt(Ce,ge,Be,dt){var wt=ge!==null?ge.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return wt!==null?null:he(Ce,ge,""+Be,dt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case l:return Be.key===wt?Fe(Ce,ge,Be,dt):null;case u:return Be.key===wt?nt(Ce,ge,Be,dt):null;case w:return wt=Be._init,Tt(Ce,ge,wt(Be._payload),dt)}if(J(Be)||C(Be))return wt!==null?null:yt(Ce,ge,Be,dt,null);Vg(Ce,Be)}return null}function xn(Ce,ge,Be,dt,wt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Ce=Ce.get(Be)||null,he(ge,Ce,""+dt,wt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case l:return Ce=Ce.get(dt.key===null?Be:dt.key)||null,Fe(ge,Ce,dt,wt);case u:return Ce=Ce.get(dt.key===null?Be:dt.key)||null,nt(ge,Ce,dt,wt);case w:var Jt=dt._init;return xn(Ce,ge,Be,Jt(dt._payload),wt)}if(J(dt)||C(dt))return Ce=Ce.get(Be)||null,yt(ge,Ce,dt,wt,null);Vg(ge,dt)}return null}function At(Ce,ge,Be,dt){for(var wt=null,Jt=null,Wt=ge,ln=ge=0,Ir=null;Wt!==null&&ln<Be.length;ln++){Wt.index>ln?(Ir=Wt,Wt=null):Ir=Wt.sibling;var un=Tt(Ce,Wt,Be[ln],dt);if(un===null){Wt===null&&(Wt=Ir);break}h&&Wt&&un.alternate===null&&p(Ce,Wt),ge=D(un,ge,ln),Jt===null?wt=un:Jt.sibling=un,Jt=un,Wt=Ir}if(ln===Be.length)return S(Ce,Wt),On&&gu(Ce,ln),wt;if(Wt===null){for(;ln<Be.length;ln++)Wt=Vt(Ce,Be[ln],dt),Wt!==null&&(ge=D(Wt,ge,ln),Jt===null?wt=Wt:Jt.sibling=Wt,Jt=Wt);return On&&gu(Ce,ln),wt}for(Wt=b(Ce,Wt);ln<Be.length;ln++)Ir=xn(Wt,Ce,ln,Be[ln],dt),Ir!==null&&(h&&Ir.alternate!==null&&Wt.delete(Ir.key===null?ln:Ir.key),ge=D(Ir,ge,ln),Jt===null?wt=Ir:Jt.sibling=Ir,Jt=Ir);return h&&Wt.forEach(function(rl){return p(Ce,rl)}),On&&gu(Ce,ln),wt}function Qr(Ce,ge,Be,dt){var wt=C(Be);if(typeof wt!="function")throw Error(o(150));if(Be=wt.call(Be),Be==null)throw Error(o(151));for(var Jt=wt=null,Wt=ge,ln=ge=0,Ir=null,un=Be.next();Wt!==null&&!un.done;ln++,un=Be.next()){Wt.index>ln?(Ir=Wt,Wt=null):Ir=Wt.sibling;var rl=Tt(Ce,Wt,un.value,dt);if(rl===null){Wt===null&&(Wt=Ir);break}h&&Wt&&rl.alternate===null&&p(Ce,Wt),ge=D(rl,ge,ln),Jt===null?wt=rl:Jt.sibling=rl,Jt=rl,Wt=Ir}if(un.done)return S(Ce,Wt),On&&gu(Ce,ln),wt;if(Wt===null){for(;!un.done;ln++,un=Be.next())un=Vt(Ce,un.value,dt),un!==null&&(ge=D(un,ge,ln),Jt===null?wt=un:Jt.sibling=un,Jt=un);return On&&gu(Ce,ln),wt}for(Wt=b(Ce,Wt);!un.done;ln++,un=Be.next())un=xn(Wt,Ce,ln,un.value,dt),un!==null&&(h&&un.alternate!==null&&Wt.delete(un.key===null?ln:un.key),ge=D(un,ge,ln),Jt===null?wt=un:Jt.sibling=un,Jt=un);return h&&Wt.forEach(function(E8){return p(Ce,E8)}),On&&gu(Ce,ln),wt}function _s(Ce,ge,Be,dt){if(typeof Be=="object"&&Be!==null&&Be.type===c&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case l:e:{for(var wt=Be.key,Jt=ge;Jt!==null;){if(Jt.key===wt){if(wt=Be.type,wt===c){if(Jt.tag===7){S(Ce,Jt.sibling),ge=R(Jt,Be.props.children),ge.return=Ce,Ce=ge;break e}}else if(Jt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&_T(wt)===Jt.type){S(Ce,Jt.sibling),ge=R(Jt,Be.props),ge.ref=yh(Ce,Jt,Be),ge.return=Ce,Ce=ge;break e}S(Ce,Jt);break}else p(Ce,Jt);Jt=Jt.sibling}Be.type===c?(ge=Au(Be.props.children,Ce.mode,dt,Be.key),ge.return=Ce,Ce=ge):(dt=_0(Be.type,Be.key,Be.props,null,Ce.mode,dt),dt.ref=yh(Ce,ge,Be),dt.return=Ce,Ce=dt)}return q(Ce);case u:e:{for(Jt=Be.key;ge!==null;){if(ge.key===Jt)if(ge.tag===4&&ge.stateNode.containerInfo===Be.containerInfo&&ge.stateNode.implementation===Be.implementation){S(Ce,ge.sibling),ge=R(ge,Be.children||[]),ge.return=Ce,Ce=ge;break e}else{S(Ce,ge);break}else p(Ce,ge);ge=ge.sibling}ge=X_(Be,Ce.mode,dt),ge.return=Ce,Ce=ge}return q(Ce);case w:return Jt=Be._init,_s(Ce,ge,Jt(Be._payload),dt)}if(J(Be))return At(Ce,ge,Be,dt);if(C(Be))return Qr(Ce,ge,Be,dt);Vg(Ce,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,ge!==null&&ge.tag===6?(S(Ce,ge.sibling),ge=R(ge,Be),ge.return=Ce,Ce=ge):(S(Ce,ge),ge=J_(Be,Ce.mode,dt),ge.return=Ce,Ce=ge),q(Ce)):S(Ce,ge)}return _s}var Qc=wT(!0),ST=wT(!1),xh={},gs=Nt(xh),_h=Nt(xh),Zc=Nt(xh);function Eo(h){if(h===xh)throw Error(o(174));return h}function f_(h,p){Ct(Zc,p),Ct(_h,h),Ct(gs,xh),h=ie(p),gt(gs),Ct(gs,h)}function qc(){gt(gs),gt(_h),gt(Zc)}function AT(h){var p=Eo(Zc.current),S=Eo(gs.current);p=H(S,h.type,p),S!==p&&(Ct(_h,h),Ct(gs,p))}function d_(h){_h.current===h&&(gt(gs),gt(_h))}var Hn=Nt(0);function Wg(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Cr(S)||Gr(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var h_=[];function p_(){for(var h=0;h<h_.length;h++){var p=h_[h];we?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}h_.length=0}var jg=a.ReactCurrentDispatcher,vs=a.ReactCurrentBatchConfig,ef=0,Zn=null,Xr=null,Pr=null,$g=!1,wh=!1,Sh=0,Q6=0;function Kr(){throw Error(o(321))}function m_(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!Wi(h[S],p[S]))return!1;return!0}function g_(h,p,S,b,R,D){if(ef=D,Zn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,jg.current=h===null||h.memoizedState===null?t8:n8,h=S(b,R),wh){D=0;do{if(wh=!1,Sh=0,25<=D)throw Error(o(301));D+=1,Pr=Xr=null,p.updateQueue=null,jg.current=r8,h=S(b,R)}while(wh)}if(jg.current=Qg,p=Xr!==null&&Xr.next!==null,ef=0,Pr=Xr=Zn=null,$g=!1,p)throw Error(o(300));return h}function v_(){var h=Sh!==0;return Sh=0,h}function na(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Zn.memoizedState=Pr=h:Pr=Pr.next=h,Pr}function Co(){if(Xr===null){var h=Zn.alternate;h=h!==null?h.memoizedState:null}else h=Xr.next;var p=Pr===null?Zn.memoizedState:Pr.next;if(p!==null)Pr=p,Xr=h;else{if(h===null)throw Error(o(310));Xr=h,h={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},Pr===null?Zn.memoizedState=Pr=h:Pr=Pr.next=h}return Pr}function vu(h,p){return typeof p=="function"?p(h):p}function Jg(h){var p=Co(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=Xr,R=b.baseQueue,D=S.pending;if(D!==null){if(R!==null){var q=R.next;R.next=D.next,D.next=q}b.baseQueue=R=D,S.pending=null}if(R!==null){D=R.next,b=b.baseState;var he=q=null,Fe=null,nt=D;do{var yt=nt.lane;if((ef&yt)===yt)Fe!==null&&(Fe=Fe.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),b=nt.hasEagerState?nt.eagerState:h(b,nt.action);else{var Vt={lane:yt,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};Fe===null?(he=Fe=Vt,q=b):Fe=Fe.next=Vt,Zn.lanes|=yt,nf|=yt}nt=nt.next}while(nt!==null&&nt!==D);Fe===null?q=b:Fe.next=he,Wi(b,p.memoizedState)||(Xi=!0),p.memoizedState=b,p.baseState=q,p.baseQueue=Fe,S.lastRenderedState=b}if(h=S.interleaved,h!==null){R=h;do D=R.lane,Zn.lanes|=D,nf|=D,R=R.next;while(R!==h)}else R===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function Xg(h){var p=Co(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=S.dispatch,R=S.pending,D=p.memoizedState;if(R!==null){S.pending=null;var q=R=R.next;do D=h(D,q.action),q=q.next;while(q!==R);Wi(D,p.memoizedState)||(Xi=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),S.lastRenderedState=D}return[D,b]}function bT(){}function MT(h,p){var S=Zn,b=Co(),R=p(),D=!Wi(b.memoizedState,R);if(D&&(b.memoizedState=R,Xi=!0),b=b.queue,bh(TT.bind(null,S,b,h),[h]),b.getSnapshot!==p||D||Pr!==null&&Pr.memoizedState.tag&1){if(S.flags|=2048,Ah(9,CT.bind(null,S,b,R,p),void 0,null),dr===null)throw Error(o(349));ef&30||ET(S,p,R)}return R}function ET(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=Zn.updateQueue,p===null?(p={lastEffect:null,stores:null},Zn.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function CT(h,p,S,b){p.value=S,p.getSnapshot=b,RT(p)&&ys(h,1,-1)}function TT(h,p,S){return S(function(){RT(p)&&ys(h,1,-1)})}function RT(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!Wi(h,S)}catch{return!0}}function y_(h){var p=na();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:h},p.queue=h,h=h.dispatch=e8.bind(null,Zn,h),[p.memoizedState,h]}function Ah(h,p,S,b){return h={tag:h,create:p,destroy:S,deps:b,next:null},p=Zn.updateQueue,p===null?(p={lastEffect:null,stores:null},Zn.updateQueue=p,p.lastEffect=h.next=h):(S=p.lastEffect,S===null?p.lastEffect=h.next=h:(b=S.next,S.next=h,h.next=b,p.lastEffect=h)),h}function PT(){return Co().memoizedState}function Kg(h,p,S,b){var R=na();Zn.flags|=h,R.memoizedState=Ah(1|p,S,void 0,b===void 0?null:b)}function Yg(h,p,S,b){var R=Co();b=b===void 0?null:b;var D=void 0;if(Xr!==null){var q=Xr.memoizedState;if(D=q.destroy,b!==null&&m_(b,q.deps)){R.memoizedState=Ah(p,S,D,b);return}}Zn.flags|=h,R.memoizedState=Ah(1|p,S,D,b)}function x_(h,p){return Kg(8390656,8,h,p)}function bh(h,p){return Yg(2048,8,h,p)}function IT(h,p){return Yg(4,2,h,p)}function BT(h,p){return Yg(4,4,h,p)}function DT(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function LT(h,p,S){return S=S!=null?S.concat([h]):null,Yg(4,4,DT.bind(null,p,h),S)}function __(){}function kT(h,p){var S=Co();p=p===void 0?null:p;var b=S.memoizedState;return b!==null&&p!==null&&m_(p,b[1])?b[0]:(S.memoizedState=[h,p],h)}function FT(h,p){var S=Co();p=p===void 0?null:p;var b=S.memoizedState;return b!==null&&p!==null&&m_(p,b[1])?b[0]:(h=h(),S.memoizedState=[h,p],h)}function Z6(h,p){var S=Yt;Yt=S!==0&&4>S?S:4,h(!0);var b=vs.transition;vs.transition={};try{h(!1),p()}finally{Yt=S,vs.transition=b}}function OT(){return Co().memoizedState}function q6(h,p,S){var b=el(h);S={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null},NT(h)?UT(p,S):(zT(h,p,S),S=gi(),h=ys(h,b,S),h!==null&&GT(h,p,b))}function e8(h,p,S){var b=el(h),R={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null};if(NT(h))UT(p,R);else{zT(h,p,R);var D=h.alternate;if(h.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var q=p.lastRenderedState,he=D(q,S);if(R.hasEagerState=!0,R.eagerState=he,Wi(he,q))return}catch{}finally{}S=gi(),h=ys(h,b,S),h!==null&&GT(h,p,b)}}function NT(h){var p=h.alternate;return h===Zn||p!==null&&p===Zn}function UT(h,p){wh=$g=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function zT(h,p,S){dr!==null&&h.mode&1&&!(Kt&2)?(h=p.interleaved,h===null?(S.next=S,ji===null?ji=[p]:ji.push(p)):(S.next=h.next,h.next=S),p.interleaved=S):(h=p.pending,h===null?S.next=S:(S.next=h.next,h.next=S),p.pending=S)}function GT(h,p,S){if(S&4194240){var b=p.lanes;b&=h.pendingLanes,S|=b,p.lanes=S,bo(h,S)}}var Qg={readContext:sr,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},t8={readContext:sr,useCallback:function(h,p){return na().memoizedState=[h,p===void 0?null:p],h},useContext:sr,useEffect:x_,useImperativeHandle:function(h,p,S){return S=S!=null?S.concat([h]):null,Kg(4194308,4,DT.bind(null,p,h),S)},useLayoutEffect:function(h,p){return Kg(4194308,4,h,p)},useInsertionEffect:function(h,p){return Kg(4,2,h,p)},useMemo:function(h,p){var S=na();return p=p===void 0?null:p,h=h(),S.memoizedState=[h,p],h},useReducer:function(h,p,S){var b=na();return p=S!==void 0?S(p):p,b.memoizedState=b.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},b.queue=h,h=h.dispatch=q6.bind(null,Zn,h),[b.memoizedState,h]},useRef:function(h){var p=na();return h={current:h},p.memoizedState=h},useState:y_,useDebugValue:__,useDeferredValue:function(h){var p=y_(h),S=p[0],b=p[1];return x_(function(){var R=vs.transition;vs.transition={};try{b(h)}finally{vs.transition=R}},[h]),S},useTransition:function(){var h=y_(!1),p=h[0];return h=Z6.bind(null,h[1]),na().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,S){var b=Zn,R=na();if(On){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),dr===null)throw Error(o(349));ef&30||ET(b,p,S)}R.memoizedState=S;var D={value:S,getSnapshot:p};return R.queue=D,x_(TT.bind(null,b,D,h),[h]),b.flags|=2048,Ah(9,CT.bind(null,b,D,S,p),void 0,null),S},useId:function(){var h=na(),p=dr.identifierPrefix;if(On){var S=ta,b=ea;S=(b&~(1<<32-Sn(b)-1)).toString(32)+S,p=":"+p+"R"+S,S=Sh++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=Q6++,p=":"+p+"r"+S.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},n8={readContext:sr,useCallback:kT,useContext:sr,useEffect:bh,useImperativeHandle:LT,useInsertionEffect:IT,useLayoutEffect:BT,useMemo:FT,useReducer:Jg,useRef:PT,useState:function(){return Jg(vu)},useDebugValue:__,useDeferredValue:function(h){var p=Jg(vu),S=p[0],b=p[1];return bh(function(){var R=vs.transition;vs.transition={};try{b(h)}finally{vs.transition=R}},[h]),S},useTransition:function(){var h=Jg(vu)[0],p=Co().memoizedState;return[h,p]},useMutableSource:bT,useSyncExternalStore:MT,useId:OT,unstable_isNewReconciler:!1},r8={readContext:sr,useCallback:kT,useContext:sr,useEffect:bh,useImperativeHandle:LT,useInsertionEffect:IT,useLayoutEffect:BT,useMemo:FT,useReducer:Xg,useRef:PT,useState:function(){return Xg(vu)},useDebugValue:__,useDeferredValue:function(h){var p=Xg(vu),S=p[0],b=p[1];return bh(function(){var R=vs.transition;vs.transition={};try{b(h)}finally{vs.transition=R}},[h]),S},useTransition:function(){var h=Xg(vu)[0],p=Co().memoizedState;return[h,p]},useMutableSource:bT,useSyncExternalStore:MT,useId:OT,unstable_isNewReconciler:!1};function w_(h,p){try{var S="",b=p;do S+=pu(b),b=b.return;while(b);var R=S}catch(D){R=`
Error generating stack: `+D.message+`
`+D.stack}return{value:h,source:p,stack:R}}function S_(h,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var i8=typeof WeakMap=="function"?WeakMap:Map;function HT(h,p,S){S=qo(-1,S),S.tag=3,S.payload={element:null};var b=p.value;return S.callback=function(){h0||(h0=!0,z_=b),S_(h,p)},S}function VT(h,p,S){S=qo(-1,S),S.tag=3;var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var R=p.value;S.payload=function(){return b(R)},S.callback=function(){S_(h,p)}}var D=h.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(S.callback=function(){S_(h,p),typeof b!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})}),S}function WT(h,p,S){var b=h.pingCache;if(b===null){b=h.pingCache=new i8;var R=new Set;b.set(p,R)}else R=b.get(p),R===void 0&&(R=new Set,b.set(p,R));R.has(S)||(R.add(S),h=y8.bind(null,h,p,S),p.then(h,h))}function jT(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function $T(h,p,S,b,R){return h.mode&1?(h.flags|=65536,h.lanes=R,h):(h===p?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=qo(-1,1),p.tag=2,Qa(S,p))),S.lanes|=1),h)}function To(h){h.flags|=4}function JT(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Mh,Eh,Zg,qg;if(ve)Mh=function(h,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)z(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Eh=function(){},Zg=function(h,p,S,b,R){if(h=h.memoizedProps,h!==b){var D=p.stateNode,q=Eo(gs.current);S=ne(D,S,h,b,R,q),(p.updateQueue=S)&&To(p)}},qg=function(h,p,S,b){S!==b&&To(p)};else if(oe){Mh=function(h,p,S,b){for(var R=p.child;R!==null;){if(R.tag===5){var D=R.stateNode;S&&b&&(D=Et(D,R.type,R.memoizedProps,R)),z(h,D)}else if(R.tag===6)D=R.stateNode,S&&b&&(D=hn(D,R.memoizedProps,R)),z(h,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),Mh(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var XT=function(h,p,S,b){for(var R=p.child;R!==null;){if(R.tag===5){var D=R.stateNode;S&&b&&(D=Et(D,R.type,R.memoizedProps,R)),Ft(h,D)}else if(R.tag===6)D=R.stateNode,S&&b&&(D=hn(D,R.memoizedProps,R)),Ft(h,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),XT(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};Eh=function(h,p){var S=p.stateNode;if(!JT(h,p)){h=S.containerInfo;var b=ft(h);XT(b,p,!1,!1),S.pendingChildren=b,To(p),kt(h,b)}},Zg=function(h,p,S,b,R){var D=h.stateNode,q=h.memoizedProps;if((h=JT(h,p))&&q===b)p.stateNode=D;else{var he=p.stateNode,Fe=Eo(gs.current),nt=null;q!==b&&(nt=ne(he,S,q,b,R,Fe)),h&&nt===null?p.stateNode=D:(D=tt(D,nt,S,q,b,p,h,he),X(D,S,b,R,Fe)&&To(p),p.stateNode=D,h?To(p):Mh(D,p,!1,!1))}},qg=function(h,p,S,b){S!==b?(h=Eo(Zc.current),S=Eo(gs.current),p.stateNode=Y(b,h,S,p),To(p)):p.stateNode=h.stateNode}}else Eh=function(){},Zg=function(){},qg=function(){};function Ch(h,p){if(!On)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var b=null;S!==null;)S.alternate!==null&&(b=S),S=S.sibling;b===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:b.sibling=null}}function Yr(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,b=0;if(p)for(var R=h.child;R!==null;)S|=R.lanes|R.childLanes,b|=R.subtreeFlags&14680064,b|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)S|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=b,h.childLanes=S,p}function s8(h,p,S){var b=p.pendingProps;switch(a_(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(p),null;case 1:return kn(p.type)&&Fn(),Yr(p),null;case 3:return b=p.stateNode,qc(),gt(Dt),gt(zt),p_(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(vh(p)?To(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,$s!==null&&(V_($s),$s=null))),Eh(h,p),Yr(p),null;case 5:d_(p),S=Eo(Zc.current);var R=p.type;if(h!==null&&p.stateNode!=null)Zg(h,p,R,b,S),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!b){if(p.stateNode===null)throw Error(o(166));return Yr(p),null}if(h=Eo(gs.current),vh(p)){if(!fe)throw Error(o(175));h=L(p.stateNode,p.type,p.memoizedProps,S,h,p,!gh),p.updateQueue=h,h!==null&&To(p)}else{var D=G(R,b,S,h,p);Mh(D,p,!1,!1),p.stateNode=D,X(D,R,b,S,h)&&To(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Yr(p),null;case 6:if(h&&p.stateNode!=null)qg(h,p,h.memoizedProps,b);else{if(typeof b!="string"&&p.stateNode===null)throw Error(o(166));if(h=Eo(Zc.current),S=Eo(gs.current),vh(p)){if(!fe)throw Error(o(176));if(h=p.stateNode,b=p.memoizedProps,(S=V(h,b,p,!gh))&&(R=$i,R!==null))switch(D=(R.mode&1)!==0,R.tag){case 3:Qe(R.stateNode.containerInfo,h,b,D);break;case 5:qe(R.type,R.memoizedProps,R.stateNode,h,b,D)}S&&To(p)}else p.stateNode=Y(b,h,S,p)}return Yr(p),null;case 13:if(gt(Hn),b=p.memoizedState,On&&Ji!==null&&p.mode&1&&!(p.flags&128)){for(h=Ji;h;)h=Se(h);return Yc(),p.flags|=98560,p}if(b!==null&&b.dehydrated!==null){if(b=vh(p),h===null){if(!b)throw Error(o(318));if(!fe)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));te(h,p)}else Yc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Yr(p),null}return $s!==null&&(V_($s),$s=null),p.flags&128?(p.lanes=S,p):(b=b!==null,S=!1,h===null?vh(p):S=h.memoizedState!==null,b&&!S&&(p.child.flags|=8192,p.mode&1&&(h===null||Hn.current&1?xr===0&&(xr=3):j_())),p.updateQueue!==null&&(p.flags|=4),Yr(p),null);case 4:return qc(),Eh(h,p),h===null&&Ge(p.stateNode.containerInfo),Yr(p),null;case 10:return Rr(p.type._context),Yr(p),null;case 17:return kn(p.type)&&Fn(),Yr(p),null;case 19:if(gt(Hn),R=p.memoizedState,R===null)return Yr(p),null;if(b=(p.flags&128)!==0,D=R.rendering,D===null)if(b)Ch(R,!1);else{if(xr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(D=Wg(h),D!==null){for(p.flags|=128,Ch(R,!1),h=D.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=S,b=p.child;b!==null;)S=b,R=h,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,R=D.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),b=b.sibling;return Ct(Hn,Hn.current&1|2),p.child}h=h.sibling}R.tail!==null&&Gn()>U_&&(p.flags|=128,b=!0,Ch(R,!1),p.lanes=4194304)}else{if(!b)if(h=Wg(D),h!==null){if(p.flags|=128,b=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Ch(R,!0),R.tail===null&&R.tailMode==="hidden"&&!D.alternate&&!On)return Yr(p),null}else 2*Gn()-R.renderingStartTime>U_&&S!==1073741824&&(p.flags|=128,b=!0,Ch(R,!1),p.lanes=4194304);R.isBackwards?(D.sibling=p.child,p.child=D):(h=R.last,h!==null?h.sibling=D:p.child=D,R.last=D)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=Gn(),p.sibling=null,h=Hn.current,Ct(Hn,b?h&1|2:h&1),p):(Yr(p),null);case 22:case 23:return W_(),b=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==b&&(p.flags|=8192),b&&p.mode&1?Ki&1073741824&&(Yr(p),ve&&p.subtreeFlags&6&&(p.flags|=8192)):Yr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var o8=a.ReactCurrentOwner,Xi=!1;function mi(h,p,S,b){p.child=h===null?ST(p,null,S,b):Qc(p,h.child,S,b)}function KT(h,p,S,b,R){S=S.render;var D=p.ref;return ir(p,R),b=g_(h,p,S,b,D,R),S=v_(),h!==null&&!Xi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~R,ra(h,p,R)):(On&&S&&o_(p),p.flags|=1,mi(h,p,b,R),p.child)}function YT(h,p,S,b,R){if(h===null){var D=S.type;return typeof D=="function"&&!$_(D)&&D.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=D,QT(h,p,D,b,R)):(h=_0(S.type,null,b,p,p.mode,R),h.ref=p.ref,h.return=p,p.child=h)}if(D=h.child,!(h.lanes&R)){var q=D.memoizedProps;if(S=S.compare,S=S!==null?S:hu,S(q,b)&&h.ref===p.ref)return ra(h,p,R)}return p.flags|=1,h=nl(D,b),h.ref=p.ref,h.return=p,p.child=h}function QT(h,p,S,b,R){if(h!==null&&hu(h.memoizedProps,b)&&h.ref===p.ref)if(Xi=!1,(h.lanes&R)!==0)h.flags&131072&&(Xi=!0);else return p.lanes=h.lanes,ra(h,p,R);return A_(h,p,S,b,R)}function ZT(h,p,S){var b=p.pendingProps,R=b.children,D=h!==null?h.memoizedState:null;if(b.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Ct(tf,Ki),Ki|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},b=D!==null?D.baseLanes:S,Ct(tf,Ki),Ki|=b;else return h=D!==null?D.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Ct(tf,Ki),Ki|=h,null;else D!==null?(b=D.baseLanes|S,p.memoizedState=null):b=S,Ct(tf,Ki),Ki|=b;return mi(h,p,R,S),p.child}function qT(h,p){var S=p.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function A_(h,p,S,b,R){var D=kn(S)?fn:zt.current;return D=Cn(p,D),ir(p,R),S=g_(h,p,S,b,D,R),b=v_(),h!==null&&!Xi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~R,ra(h,p,R)):(On&&b&&o_(p),p.flags|=1,mi(h,p,S,R),p.child)}function e3(h,p,S,b,R){if(kn(S)){var D=!0;on(p)}else D=!1;if(ir(p,R),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),pT(p,S,b),s_(p,S,b,R),b=!0;else if(h===null){var q=p.stateNode,he=p.memoizedProps;q.props=he;var Fe=q.context,nt=S.contextType;typeof nt=="object"&&nt!==null?nt=sr(nt):(nt=kn(S)?fn:zt.current,nt=Cn(p,nt));var yt=S.getDerivedStateFromProps,Vt=typeof yt=="function"||typeof q.getSnapshotBeforeUpdate=="function";Vt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(he!==b||Fe!==nt)&&mT(p,q,b,nt),Ya=!1;var Tt=p.memoizedState;q.state=Tt,Ug(p,b,q,R),Fe=p.memoizedState,he!==b||Tt!==Fe||Dt.current||Ya?(typeof yt=="function"&&(i_(p,S,yt,b),Fe=p.memoizedState),(he=Ya||hT(p,S,he,b,Tt,Fe,nt))?(Vt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=b,p.memoizedState=Fe),q.props=b,q.state=Fe,q.context=nt,b=he):(typeof q.componentDidMount=="function"&&(p.flags|=4194308),b=!1)}else{q=p.stateNode,uT(h,p),he=p.memoizedProps,nt=p.type===p.elementType?he:hi(p.type,he),q.props=nt,Vt=p.pendingProps,Tt=q.context,Fe=S.contextType,typeof Fe=="object"&&Fe!==null?Fe=sr(Fe):(Fe=kn(S)?fn:zt.current,Fe=Cn(p,Fe));var xn=S.getDerivedStateFromProps;(yt=typeof xn=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(he!==Vt||Tt!==Fe)&&mT(p,q,b,Fe),Ya=!1,Tt=p.memoizedState,q.state=Tt,Ug(p,b,q,R);var At=p.memoizedState;he!==Vt||Tt!==At||Dt.current||Ya?(typeof xn=="function"&&(i_(p,S,xn,b),At=p.memoizedState),(nt=Ya||hT(p,S,nt,b,Tt,At,Fe)||!1)?(yt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(b,At,Fe),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(b,At,Fe)),typeof q.componentDidUpdate=="function"&&(p.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof q.componentDidUpdate!="function"||he===h.memoizedProps&&Tt===h.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Tt===h.memoizedState||(p.flags|=1024),p.memoizedProps=b,p.memoizedState=At),q.props=b,q.state=At,q.context=Fe,b=nt):(typeof q.componentDidUpdate!="function"||he===h.memoizedProps&&Tt===h.memoizedState||(p.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Tt===h.memoizedState||(p.flags|=1024),b=!1)}return b_(h,p,S,b,D,R)}function b_(h,p,S,b,R,D){qT(h,p);var q=(p.flags&128)!==0;if(!b&&!q)return R&&Ht(p,S,!1),ra(h,p,D);b=p.stateNode,o8.current=p;var he=q&&typeof S.getDerivedStateFromError!="function"?null:b.render();return p.flags|=1,h!==null&&q?(p.child=Qc(p,h.child,null,D),p.child=Qc(p,null,he,D)):mi(h,p,he,D),p.memoizedState=b.state,R&&Ht(p,S,!0),p.child}function t3(h){var p=h.stateNode;p.pendingContext?tn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&tn(h,p.context,!1),f_(h,p.containerInfo)}function n3(h,p,S,b,R){return Yc(),c_(R),p.flags|=256,mi(h,p,S,b),p.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(h){return{baseLanes:h,cachePool:null}}function r3(h,p,S){var b=p.pendingProps,R=Hn.current,D=!1,q=(p.flags&128)!==0,he;if((he=q)||(he=h!==null&&h.memoizedState===null?!1:(R&2)!==0),he?(D=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),Ct(Hn,R&1),h===null)return u_(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Gr(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(R=b.children,h=b.fallback,D?(b=p.mode,D=p.child,R={mode:"hidden",children:R},!(b&1)&&D!==null?(D.childLanes=0,D.pendingProps=R):D=w0(R,b,0,null),h=Au(h,b,S,null),D.return=p,h.return=p,D.sibling=h,p.child=D,p.child.memoizedState=t0(S),p.memoizedState=e0,h):M_(p,R));if(R=h.memoizedState,R!==null){if(he=R.dehydrated,he!==null){if(q)return p.flags&256?(p.flags&=-257,n0(h,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(D=b.fallback,R=p.mode,b=w0({mode:"visible",children:b.children},R,0,null),D=Au(D,R,S,null),D.flags|=2,b.return=p,D.return=p,b.sibling=D,p.child=b,p.mode&1&&Qc(p,h.child,null,S),p.child.memoizedState=t0(S),p.memoizedState=e0,D);if(!(p.mode&1))p=n0(h,p,S,null);else if(Gr(he))p=n0(h,p,S,Error(o(419)));else if(b=(S&h.childLanes)!==0,Xi||b){if(b=dr,b!==null){switch(S&-S){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}b=D&(b.suspendedLanes|S)?0:D,b!==0&&b!==R.retryLane&&(R.retryLane=b,ys(h,b,-1))}j_(),p=n0(h,p,S,Error(o(421)))}else Cr(he)?(p.flags|=128,p.child=h.child,p=x8.bind(null,h),Q(he,p),p=null):(S=R.treeContext,fe&&(Ji=Ne(he),$i=p,On=!0,$s=null,gh=!1,S!==null&&(ps[ms++]=ea,ps[ms++]=ta,ps[ms++]=mu,ea=S.id,ta=S.overflow,mu=p)),p=M_(p,p.pendingProps.children),p.flags|=4096);return p}return D?(b=s3(h,p,b.children,b.fallback,S),D=p.child,R=h.child.memoizedState,D.memoizedState=R===null?t0(S):{baseLanes:R.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,p.memoizedState=e0,b):(S=i3(h,p,b.children,S),p.memoizedState=null,S)}return D?(b=s3(h,p,b.children,b.fallback,S),D=p.child,R=h.child.memoizedState,D.memoizedState=R===null?t0(S):{baseLanes:R.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,p.memoizedState=e0,b):(S=i3(h,p,b.children,S),p.memoizedState=null,S)}function M_(h,p){return p=w0({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function i3(h,p,S,b){var R=h.child;return h=R.sibling,S=nl(R,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=b),S.return=p,S.sibling=null,h!==null&&(b=p.deletions,b===null?(p.deletions=[h],p.flags|=16):b.push(h)),p.child=S}function s3(h,p,S,b,R){var D=p.mode;h=h.child;var q=h.sibling,he={mode:"hidden",children:S};return!(D&1)&&p.child!==h?(S=p.child,S.childLanes=0,S.pendingProps=he,p.deletions=null):(S=nl(h,he),S.subtreeFlags=h.subtreeFlags&14680064),q!==null?b=nl(q,b):(b=Au(b,D,R,null),b.flags|=2),b.return=p,S.return=p,S.sibling=b,p.child=S,b}function n0(h,p,S,b){return b!==null&&c_(b),Qc(p,h.child,null,S),h=M_(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function o3(h,p,S){h.lanes|=p;var b=h.alternate;b!==null&&(b.lanes|=p),pi(h.return,p,S)}function E_(h,p,S,b,R){var D=h.memoizedState;D===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:b,tail:S,tailMode:R}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=S,D.tailMode=R)}function a3(h,p,S){var b=p.pendingProps,R=b.revealOrder,D=b.tail;if(mi(h,p,b.children,S),b=Hn.current,b&2)b=b&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&o3(h,S,p);else if(h.tag===19)o3(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}b&=1}if(Ct(Hn,b),!(p.mode&1))p.memoizedState=null;else switch(R){case"forwards":for(S=p.child,R=null;S!==null;)h=S.alternate,h!==null&&Wg(h)===null&&(R=S),S=S.sibling;S=R,S===null?(R=p.child,p.child=null):(R=S.sibling,S.sibling=null),E_(p,!1,R,S,D);break;case"backwards":for(S=null,R=p.child,p.child=null;R!==null;){if(h=R.alternate,h!==null&&Wg(h)===null){p.child=R;break}h=R.sibling,R.sibling=S,S=R,R=h}E_(p,!0,S,null,D);break;case"together":E_(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ra(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),nf|=p.lanes,!(S&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,S=nl(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=nl(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function a8(h,p,S){switch(p.tag){case 3:t3(p),Yc();break;case 5:AT(p);break;case 1:kn(p.type)&&on(p);break;case 4:f_(p,p.stateNode.containerInfo);break;case 10:Og(p,p.type._context,p.memoizedProps.value);break;case 13:var b=p.memoizedState;if(b!==null)return b.dehydrated!==null?(Ct(Hn,Hn.current&1),p.flags|=128,null):S&p.child.childLanes?r3(h,p,S):(Ct(Hn,Hn.current&1),h=ra(h,p,S),h!==null?h.sibling:null);Ct(Hn,Hn.current&1);break;case 19:if(b=(S&p.childLanes)!==0,h.flags&128){if(b)return a3(h,p,S);p.flags|=128}var R=p.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Ct(Hn,Hn.current),b)break;return null;case 22:case 23:return p.lanes=0,ZT(h,p,S)}return ra(h,p,S)}function l8(h,p){switch(a_(p),p.tag){case 1:return kn(p.type)&&Fn(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return qc(),gt(Dt),gt(zt),p_(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return d_(p),null;case 13:if(gt(Hn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Yc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return gt(Hn),null;case 4:return qc(),null;case 10:return Rr(p.type._context),null;case 22:case 23:return W_(),null;case 24:return null;default:return null}}var r0=!1,yu=!1,u8=typeof WeakSet=="function"?WeakSet:Set,ct=null;function i0(h,p){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(b){Bi(h,p,b)}else S.current=null}function C_(h,p,S){try{S()}catch(b){Bi(h,p,b)}}var l3=!1;function c8(h,p){for(j(h.containerInfo),ct=p;ct!==null;)if(h=ct,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,ct=p;else for(;ct!==null;){h=ct;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,R=S.memoizedState,D=h.stateNode,q=D.getSnapshotBeforeUpdate(h.elementType===h.type?b:hi(h.type,b),R);D.__reactInternalSnapshotBeforeUpdate=q}break;case 3:ve&&ot(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){Bi(h,h.return,he)}if(p=h.sibling,p!==null){p.return=h.return,ct=p;break}ct=h.return}return S=l3,l3=!1,S}function xu(h,p,S){var b=p.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var R=b=b.next;do{if((R.tag&h)===h){var D=R.destroy;R.destroy=void 0,D!==void 0&&C_(p,S,D)}R=R.next}while(R!==b)}}function Th(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&h)===h){var b=S.create;S.destroy=b()}S=S.next}while(S!==p)}}function T_(h){var p=h.ref;if(p!==null){var S=h.stateNode;switch(h.tag){case 5:h=$(S);break;default:h=S}typeof p=="function"?p(h):p.current=h}}function u3(h,p,S){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(fu,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var b=h=h.next;do{var R=b,D=R.destroy;R=R.tag,D!==void 0&&(R&2||R&4)&&C_(p,S,D),b=b.next}while(b!==h)}break;case 1:if(i0(p,S),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(q){Bi(p,S,q)}break;case 5:i0(p,S);break;case 4:ve?m3(h,p,S):oe&&oe&&(p=p.stateNode.containerInfo,S=ft(p),Mt(p,S))}}function c3(h,p,S){for(var b=p;;)if(u3(h,b,S),b.child===null||ve&&b.tag===4){if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function f3(h){var p=h.alternate;p!==null&&(h.alternate=null,f3(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Xe(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function d3(h){return h.tag===5||h.tag===3||h.tag===4}function h3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||d3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function p3(h){if(ve){e:{for(var p=h.return;p!==null;){if(d3(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(pt(p),S.flags&=-33),S=h3(h),P_(h,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=h3(h),R_(h,S,p);break;default:throw Error(o(161))}}}function R_(h,p,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,p?We(S,h,p):ke(S,h);else if(b!==4&&(h=h.child,h!==null))for(R_(h,p,S),h=h.sibling;h!==null;)R_(h,p,S),h=h.sibling}function P_(h,p,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,p?$e(S,h,p):Je(S,h);else if(b!==4&&(h=h.child,h!==null))for(P_(h,p,S),h=h.sibling;h!==null;)P_(h,p,S),h=h.sibling}function m3(h,p,S){for(var b=p,R=!1,D,q;;){if(!R){R=b.return;e:for(;;){if(R===null)throw Error(o(160));switch(D=R.stateNode,R.tag){case 5:q=!1;break e;case 3:D=D.containerInfo,q=!0;break e;case 4:D=D.containerInfo,q=!0;break e}R=R.return}R=!0}if(b.tag===5||b.tag===6)c3(h,b,S),q?at(D,b.stateNode):Ve(D,b.stateNode);else if(b.tag===18)q?He(D,b.stateNode):Ue(D,b.stateNode);else if(b.tag===4){if(b.child!==null){D=b.stateNode.containerInfo,q=!0,b.child.return=b,b=b.child;continue}}else if(u3(h,b,S),b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return,b.tag===4&&(R=!1)}b.sibling.return=b.return,b=b.sibling}}function I_(h,p){if(ve){switch(p.tag){case 0:case 11:case 14:case 15:xu(3,p,p.return),Th(3,p),xu(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var b=p.memoizedProps;h=h!==null?h.memoizedProps:b;var R=p.type,D=p.updateQueue;p.updateQueue=null,D!==null&&rt(S,D,R,h,b,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,be(p.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:fe&&h!==null&&h.memoizedState.isDehydrated&&ye(p.stateNode.containerInfo);return;case 12:return;case 13:s0(p);return;case 19:s0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:xu(3,p,p.return),Th(3,p),xu(5,p,p.return);return;case 12:return;case 13:s0(p);return;case 19:s0(p);return;case 3:fe&&h!==null&&h.memoizedState.isDehydrated&&ye(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(oe){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Mt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function s0(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new u8),p.forEach(function(b){var R=_8.bind(null,h,b);S.has(b)||(S.add(b),b.then(R,R))})}}function f8(h,p){for(ct=p;ct!==null;){p=ct;var S=p.deletions;if(S!==null)for(var b=0;b<S.length;b++){var R=S[b];try{var D=h;ve?m3(D,R,p):c3(D,R,p);var q=R.alternate;q!==null&&(q.return=null),R.return=null}catch(wt){Bi(R,p,wt)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,ct=S;else for(;ct!==null;){p=ct;try{var he=p.flags;if(he&32&&ve&&pt(p.stateNode),he&512){var Fe=p.alternate;if(Fe!==null){var nt=Fe.ref;nt!==null&&(typeof nt=="function"?nt(null):nt.current=null)}}if(he&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var yt=p.alternate;(yt===null||yt.memoizedState===null)&&(N_=Gn())}break;case 22:var Vt=p.memoizedState!==null,Tt=p.alternate,xn=Tt!==null&&Tt.memoizedState!==null;if(S=p,ve){e:if(b=S,R=Vt,D=null,ve)for(var At=b;;){if(At.tag===5){if(D===null){D=At;var Qr=At.stateNode;R?bt(Qr):se(At.stateNode,At.memoizedProps)}}else if(At.tag===6){if(D===null){var _s=At.stateNode;R?le(_s):Oe(_s,At.memoizedProps)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===b)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===b)break;for(;At.sibling===null;){if(At.return===null||At.return===b)break e;D===At&&(D=null),At=At.return}D===At&&(D=null),At.sibling.return=At.return,At=At.sibling}}if(Vt&&!xn&&S.mode&1){ct=S;for(var Ce=S.child;Ce!==null;){for(S=ct=Ce;ct!==null;){b=ct;var ge=b.child;switch(b.tag){case 0:case 11:case 14:case 15:xu(4,b,b.return);break;case 1:i0(b,b.return);var Be=b.stateNode;if(typeof Be.componentWillUnmount=="function"){var dt=b.return;try{Be.props=b.memoizedProps,Be.state=b.memoizedState,Be.componentWillUnmount()}catch(wt){Bi(b,dt,wt)}}break;case 5:i0(b,b.return);break;case 22:if(b.memoizedState!==null){y3(S);continue}}ge!==null?(ge.return=b,ct=ge):y3(S)}Ce=Ce.sibling}}}switch(he&4102){case 2:p3(p),p.flags&=-3;break;case 6:p3(p),p.flags&=-3,I_(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,I_(p.alternate,p);break;case 4:I_(p.alternate,p)}}catch(wt){Bi(p,p.return,wt)}if(S=p.sibling,S!==null){S.return=p.return,ct=S;break}ct=p.return}}}function d8(h,p,S){ct=h,g3(h)}function g3(h,p,S){for(var b=(h.mode&1)!==0;ct!==null;){var R=ct,D=R.child;if(R.tag===22&&b){var q=R.memoizedState!==null||r0;if(!q){var he=R.alternate,Fe=he!==null&&he.memoizedState!==null||yu;he=r0;var nt=yu;if(r0=q,(yu=Fe)&&!nt)for(ct=R;ct!==null;)q=ct,Fe=q.child,q.tag===22&&q.memoizedState!==null?x3(R):Fe!==null?(Fe.return=q,ct=Fe):x3(R);for(;D!==null;)ct=D,g3(D),D=D.sibling;ct=R,r0=he,yu=nt}v3(h)}else R.subtreeFlags&8772&&D!==null?(D.return=R,ct=D):v3(h)}}function v3(h){for(;ct!==null;){var p=ct;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:yu||Th(5,p);break;case 1:var b=p.stateNode;if(p.flags&4&&!yu)if(S===null)b.componentDidMount();else{var R=p.elementType===p.type?S.memoizedProps:hi(p.type,S.memoizedProps);b.componentDidUpdate(R,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&fT(p,D,b);break;case 3:var q=p.updateQueue;if(q!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=$(p.child.stateNode);break;case 1:S=p.child.stateNode}fT(p,q,S)}break;case 5:var he=p.stateNode;S===null&&p.flags&4&&Ze(he,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&p.memoizedState===null){var Fe=p.alternate;if(Fe!==null){var nt=Fe.memoizedState;if(nt!==null){var yt=nt.dehydrated;yt!==null&&xe(yt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}yu||p.flags&512&&T_(p)}catch(Vt){Bi(p,p.return,Vt)}}if(p===h){ct=null;break}if(S=p.sibling,S!==null){S.return=p.return,ct=S;break}ct=p.return}}function y3(h){for(;ct!==null;){var p=ct;if(p===h){ct=null;break}var S=p.sibling;if(S!==null){S.return=p.return,ct=S;break}ct=p.return}}function x3(h){for(;ct!==null;){var p=ct;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{Th(4,p)}catch(Fe){Bi(p,S,Fe)}break;case 1:var b=p.stateNode;if(typeof b.componentDidMount=="function"){var R=p.return;try{b.componentDidMount()}catch(Fe){Bi(p,R,Fe)}}var D=p.return;try{T_(p)}catch(Fe){Bi(p,D,Fe)}break;case 5:var q=p.return;try{T_(p)}catch(Fe){Bi(p,q,Fe)}}}catch(Fe){Bi(p,p.return,Fe)}if(p===h){ct=null;break}var he=p.sibling;if(he!==null){he.return=p.return,ct=he;break}ct=p.return}}var o0=0,a0=1,l0=2,u0=3,c0=4;if(typeof Symbol=="function"&&Symbol.for){var Rh=Symbol.for;o0=Rh("selector.component"),a0=Rh("selector.has_pseudo_class"),l0=Rh("selector.role"),u0=Rh("selector.test_id"),c0=Rh("selector.text")}function B_(h){var p=Re(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=Ee(h),h===null)throw Error(o(362));return h.stateNode.current}function D_(h,p){switch(p.$$typeof){case o0:if(h.type===p.value)return!0;break;case a0:e:{p=p.value,h=[h,0];for(var S=0;S<h.length;){var b=h[S++],R=h[S++],D=p[R];if(b.tag!==5||!re(b)){for(;D!=null&&D_(b,D);)R++,D=p[R];if(R===p.length){p=!0;break e}else for(b=b.child;b!==null;)h.push(b,R),b=b.sibling}}p=!1}return p;case l0:if(h.tag===5&&pe(h.stateNode,p.value))return!0;break;case c0:if((h.tag===5||h.tag===6)&&(h=k(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case u0:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function L_(h){switch(h.$$typeof){case o0:return"<"+(T(h.value)||"Unknown")+">";case a0:return":has("+(L_(h)||"")+")";case l0:return'[role="'+h.value+'"]';case c0:return'"'+h.value+'"';case u0:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function _3(h,p){var S=[];h=[h,0];for(var b=0;b<h.length;){var R=h[b++],D=h[b++],q=p[D];if(R.tag!==5||!re(R)){for(;q!=null&&D_(R,q);)D++,q=p[D];if(D===p.length)S.push(R);else for(R=R.child;R!==null;)h.push(R,D),R=R.sibling}}return S}function k_(h,p){if(!Ye)throw Error(o(363));h=B_(h),h=_3(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var b=h[S++];if(b.tag===5)re(b)||p.push(b.stateNode);else for(b=b.child;b!==null;)h.push(b),b=b.sibling}return p}var h8=Math.ceil,f0=a.ReactCurrentDispatcher,F_=a.ReactCurrentOwner,or=a.ReactCurrentBatchConfig,Kt=0,dr=null,hr=null,Hr=0,Ki=0,tf=Nt(0),xr=0,Ph=null,nf=0,d0=0,O_=0,Ih=null,Pi=null,N_=0,U_=1/0;function rf(){U_=Gn()+500}var h0=!1,z_=null,Za=null,p0=!1,qa=null,m0=0,Bh=0,G_=null,g0=-1,v0=0;function gi(){return Kt&6?Gn():g0!==-1?g0:g0=Gn()}function el(h){return h.mode&1?Kt&2&&Hr!==0?Hr&-Hr:du.transition!==null?(v0===0&&(h=Xo,Xo<<=1,!(Xo&4194240)&&(Xo=64),v0=h),v0):(h=Yt,h!==0?h:Ie()):1}function ys(h,p,S){if(50<Bh)throw Bh=0,G_=null,Error(o(185));var b=y0(h,p);return b===null?null:(Ao(b,p,S),(!(Kt&2)||b!==dr)&&(b===dr&&(!(Kt&2)&&(d0|=p),xr===4&&tl(b,Hr)),Ii(b,S),p===1&&Kt===0&&!(h.mode&1)&&(rf(),Mo&&Ri())),b)}function y0(h,p){h.lanes|=p;var S=h.alternate;for(S!==null&&(S.lanes|=p),S=h,h=h.return;h!==null;)h.childLanes|=p,S=h.alternate,S!==null&&(S.childLanes|=p),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ii(h,p){var S=h.callbackNode;uh(h,p);var b=uu(h,h===dr?Hr:0);if(b===0)S!==null&&jc(S),h.callbackNode=null,h.callbackPriority=0;else if(p=b&-b,h.callbackPriority!==p){if(S!=null&&jc(S),p===1)h.tag===0?mh(S3.bind(null,h)):ph(S3.bind(null,h)),Pe?ze(function(){Kt===0&&Ri()}):Zo(cu,Ri),S=null;else{switch(ch(b)){case 1:S=cu;break;case 4:S=kg;break;case 16:S=fi;break;case 536870912:S=dh;break;default:S=fi}S=I3(S,w3.bind(null,h))}h.callbackPriority=p,h.callbackNode=S}}function w3(h,p){if(g0=-1,v0=0,Kt&6)throw Error(o(327));var S=h.callbackNode;if(Su()&&h.callbackNode!==S)return null;var b=uu(h,h===dr?Hr:0);if(b===0)return null;if(b&30||b&h.expiredLanes||p)p=x0(h,b);else{p=b;var R=Kt;Kt|=2;var D=M3();(dr!==h||Hr!==p)&&(rf(),_u(h,p));do try{g8();break}catch(he){b3(h,he)}while(!0);Jc(),f0.current=D,Kt=R,hr!==null?p=0:(dr=null,Hr=0,p=xr)}if(p!==0){if(p===2&&(R=Qo(h),R!==0&&(b=R,p=H_(h,R))),p===1)throw S=Ph,_u(h,0),tl(h,b),Ii(h,Gn()),S;if(p===6)tl(h,b);else{if(R=h.current.alternate,!(b&30)&&!p8(R)&&(p=x0(h,b),p===2&&(D=Qo(h),D!==0&&(b=D,p=H_(h,D))),p===1))throw S=Ph,_u(h,0),tl(h,b),Ii(h,Gn()),S;switch(h.finishedWork=R,h.finishedLanes=b,p){case 0:case 1:throw Error(o(345));case 2:wu(h,Pi);break;case 3:if(tl(h,b),(b&130023424)===b&&(p=N_+500-Gn(),10<p)){if(uu(h,0)!==0)break;if(R=h.suspendedLanes,(R&b)!==b){gi(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=ue(wu.bind(null,h,Pi),p);break}wu(h,Pi);break;case 4:if(tl(h,b),(b&4194240)===b)break;for(p=h.eventTimes,R=-1;0<b;){var q=31-Sn(b);D=1<<q,q=p[q],q>R&&(R=q),b&=~D}if(b=R,b=Gn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*h8(b/1960))-b,10<b){h.timeoutHandle=ue(wu.bind(null,h,Pi),b);break}wu(h,Pi);break;case 5:wu(h,Pi);break;default:throw Error(o(329))}}}return Ii(h,Gn()),h.callbackNode===S?w3.bind(null,h):null}function H_(h,p){var S=Ih;return h.current.memoizedState.isDehydrated&&(_u(h,p).flags|=256),h=x0(h,p),h!==2&&(p=Pi,Pi=S,p!==null&&V_(p)),h}function V_(h){Pi===null?Pi=h:Pi.push.apply(Pi,h)}function p8(h){for(var p=h;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var b=0;b<S.length;b++){var R=S[b],D=R.getSnapshot;R=R.value;try{if(!Wi(D(),R))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function tl(h,p){for(p&=~O_,p&=~d0,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var S=31-Sn(p),b=1<<S;h[S]=-1,p&=~b}}function S3(h){if(Kt&6)throw Error(o(327));Su();var p=uu(h,0);if(!(p&1))return Ii(h,Gn()),null;var S=x0(h,p);if(h.tag!==0&&S===2){var b=Qo(h);b!==0&&(p=b,S=H_(h,b))}if(S===1)throw S=Ph,_u(h,0),tl(h,p),Ii(h,Gn()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,wu(h,Pi),Ii(h,Gn()),null}function A3(h){qa!==null&&qa.tag===0&&!(Kt&6)&&Su();var p=Kt;Kt|=1;var S=or.transition,b=Yt;try{if(or.transition=null,Yt=1,h)return h()}finally{Yt=b,or.transition=S,Kt=p,!(Kt&6)&&Ri()}}function W_(){Ki=tf.current,gt(tf)}function _u(h,p){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Te&&(h.timeoutHandle=Te,ce(S)),hr!==null)for(S=hr.return;S!==null;){var b=S;switch(a_(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Fn();break;case 3:qc(),gt(Dt),gt(zt),p_();break;case 5:d_(b);break;case 4:qc();break;case 13:gt(Hn);break;case 19:gt(Hn);break;case 10:Rr(b.type._context);break;case 22:case 23:W_()}S=S.return}if(dr=h,hr=h=nl(h.current,null),Hr=Ki=p,xr=0,Ph=null,O_=d0=nf=0,Pi=Ih=null,ji!==null){for(p=0;p<ji.length;p++)if(S=ji[p],b=S.interleaved,b!==null){S.interleaved=null;var R=b.next,D=S.pending;if(D!==null){var q=D.next;D.next=R,b.next=q}S.pending=b}ji=null}return h}function b3(h,p){do{var S=hr;try{if(Jc(),jg.current=Qg,$g){for(var b=Zn.memoizedState;b!==null;){var R=b.queue;R!==null&&(R.pending=null),b=b.next}$g=!1}if(ef=0,Pr=Xr=Zn=null,wh=!1,Sh=0,F_.current=null,S===null||S.return===null){xr=1,Ph=p,hr=null;break}e:{var D=h,q=S.return,he=S,Fe=p;if(p=Hr,he.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var nt=Fe,yt=he,Vt=yt.tag;if(!(yt.mode&1)&&(Vt===0||Vt===11||Vt===15)){var Tt=yt.alternate;Tt?(yt.updateQueue=Tt.updateQueue,yt.memoizedState=Tt.memoizedState,yt.lanes=Tt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var xn=jT(q);if(xn!==null){xn.flags&=-257,$T(xn,q,he,D,p),xn.mode&1&&WT(D,nt,p),p=xn,Fe=nt;var At=p.updateQueue;if(At===null){var Qr=new Set;Qr.add(Fe),p.updateQueue=Qr}else At.add(Fe);break e}else{if(!(p&1)){WT(D,nt,p),j_();break e}Fe=Error(o(426))}}else if(On&&he.mode&1){var _s=jT(q);if(_s!==null){!(_s.flags&65536)&&(_s.flags|=256),$T(_s,q,he,D,p),c_(Fe);break e}}D=Fe,xr!==4&&(xr=2),Ih===null?Ih=[D]:Ih.push(D),Fe=w_(Fe,he),he=q;do{switch(he.tag){case 3:he.flags|=65536,p&=-p,he.lanes|=p;var Ce=HT(he,Fe,p);cT(he,Ce);break e;case 1:D=Fe;var ge=he.type,Be=he.stateNode;if(!(he.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(Za===null||!Za.has(Be)))){he.flags|=65536,p&=-p,he.lanes|=p;var dt=VT(he,D,p);cT(he,dt);break e}}he=he.return}while(he!==null)}C3(S)}catch(wt){p=wt,hr===S&&S!==null&&(hr=S=S.return);continue}break}while(!0)}function M3(){var h=f0.current;return f0.current=Qg,h===null?Qg:h}function j_(){(xr===0||xr===3||xr===2)&&(xr=4),dr===null||!(nf&268435455)&&!(d0&268435455)||tl(dr,Hr)}function x0(h,p){var S=Kt;Kt|=2;var b=M3();dr===h&&Hr===p||_u(h,p);do try{m8();break}catch(R){b3(h,R)}while(!0);if(Jc(),Kt=S,f0.current=b,hr!==null)throw Error(o(261));return dr=null,Hr=0,xr}function m8(){for(;hr!==null;)E3(hr)}function g8(){for(;hr!==null&&!fh();)E3(hr)}function E3(h){var p=P3(h.alternate,h,Ki);h.memoizedProps=h.pendingProps,p===null?C3(h):hr=p,F_.current=null}function C3(h){var p=h;do{var S=p.alternate;if(h=p.return,p.flags&32768){if(S=l8(S,p),S!==null){S.flags&=32767,hr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{xr=6,hr=null;return}}else if(S=s8(S,p,Ki),S!==null){hr=S;return}if(p=p.sibling,p!==null){hr=p;return}hr=p=h}while(p!==null);xr===0&&(xr=5)}function wu(h,p){var S=Yt,b=or.transition;try{or.transition=null,Yt=1,v8(h,p,S)}finally{or.transition=b,Yt=S}return null}function v8(h,p,S){do Su();while(qa!==null);if(Kt&6)throw Error(o(327));var b=h.finishedWork,R=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var D=b.lanes|b.childLanes;if(Xa(h,D),h===dr&&(hr=dr=null,Hr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||p0||(p0=!0,I3(fi,function(){return Su(),null})),D=(b.flags&15990)!==0,b.subtreeFlags&15990||D){D=or.transition,or.transition=null;var q=Yt;Yt=1;var he=Kt;Kt|=4,F_.current=null,c8(h,b),f8(h,b),W(h.containerInfo),h.current=b,d8(b),Lg(),Kt=he,Yt=q,or.transition=D}else h.current=b;if(p0&&(p0=!1,qa=h,m0=R),D=h.pendingLanes,D===0&&(Za=null),hh(b.stateNode),Ii(h,Gn()),p!==null)for(S=h.onRecoverableError,b=0;b<p.length;b++)S(p[b]);if(h0)throw h0=!1,h=z_,z_=null,h;return m0&1&&h.tag!==0&&Su(),D=h.pendingLanes,D&1?h===G_?Bh++:(Bh=0,G_=h):Bh=0,Ri(),null}function Su(){if(qa!==null){var h=ch(m0),p=or.transition,S=Yt;try{if(or.transition=null,Yt=16>h?16:h,qa===null)var b=!1;else{if(h=qa,qa=null,m0=0,Kt&6)throw Error(o(331));var R=Kt;for(Kt|=4,ct=h.current;ct!==null;){var D=ct,q=D.child;if(ct.flags&16){var he=D.deletions;if(he!==null){for(var Fe=0;Fe<he.length;Fe++){var nt=he[Fe];for(ct=nt;ct!==null;){var yt=ct;switch(yt.tag){case 0:case 11:case 15:xu(8,yt,D)}var Vt=yt.child;if(Vt!==null)Vt.return=yt,ct=Vt;else for(;ct!==null;){yt=ct;var Tt=yt.sibling,xn=yt.return;if(f3(yt),yt===nt){ct=null;break}if(Tt!==null){Tt.return=xn,ct=Tt;break}ct=xn}}}var At=D.alternate;if(At!==null){var Qr=At.child;if(Qr!==null){At.child=null;do{var _s=Qr.sibling;Qr.sibling=null,Qr=_s}while(Qr!==null)}}ct=D}}if(D.subtreeFlags&2064&&q!==null)q.return=D,ct=q;else e:for(;ct!==null;){if(D=ct,D.flags&2048)switch(D.tag){case 0:case 11:case 15:xu(9,D,D.return)}var Ce=D.sibling;if(Ce!==null){Ce.return=D.return,ct=Ce;break e}ct=D.return}}var ge=h.current;for(ct=ge;ct!==null;){q=ct;var Be=q.child;if(q.subtreeFlags&2064&&Be!==null)Be.return=q,ct=Be;else e:for(q=ge;ct!==null;){if(he=ct,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:Th(9,he)}}catch(wt){Bi(he,he.return,wt)}if(he===q){ct=null;break e}var dt=he.sibling;if(dt!==null){dt.return=he.return,ct=dt;break e}ct=he.return}}if(Kt=R,Ri(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(fu,h)}catch{}b=!0}return b}finally{Yt=S,or.transition=p}}return!1}function T3(h,p,S){p=w_(S,p),p=HT(h,p,1),Qa(h,p),p=gi(),h=y0(h,1),h!==null&&(Ao(h,1,p),Ii(h,p))}function Bi(h,p,S){if(h.tag===3)T3(h,h,S);else for(;p!==null;){if(p.tag===3){T3(p,h,S);break}else if(p.tag===1){var b=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Za===null||!Za.has(b))){h=w_(S,h),h=VT(p,h,1),Qa(p,h),h=gi(),p=y0(p,1),p!==null&&(Ao(p,1,h),Ii(p,h));break}}p=p.return}}function y8(h,p,S){var b=h.pingCache;b!==null&&b.delete(p),p=gi(),h.pingedLanes|=h.suspendedLanes&S,dr===h&&(Hr&S)===S&&(xr===4||xr===3&&(Hr&130023424)===Hr&&500>Gn()-N_?_u(h,0):O_|=S),Ii(h,p)}function R3(h,p){p===0&&(h.mode&1?(p=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):p=1);var S=gi();h=y0(h,p),h!==null&&(Ao(h,p,S),Ii(h,S))}function x8(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),R3(h,S)}function _8(h,p){var S=0;switch(h.tag){case 13:var b=h.stateNode,R=h.memoizedState;R!==null&&(S=R.retryLane);break;case 19:b=h.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(p),R3(h,S)}var P3;P3=function(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps||Dt.current)Xi=!0;else{if(!(h.lanes&S)&&!(p.flags&128))return Xi=!1,a8(h,p,S);Xi=!!(h.flags&131072)}else Xi=!1,On&&p.flags&1048576&&gT(p,Hg,p.index);switch(p.lanes=0,p.tag){case 2:var b=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var R=Cn(p,zt.current);ir(p,S),R=g_(null,p,b,h,R,S);var D=v_();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,kn(b)?(D=!0,on(p)):D=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,r_(p),R.updater=zg,p.stateNode=R,R._reactInternals=p,s_(p,b,h,S),p=b_(null,p,b,!0,D,S)):(p.tag=0,On&&D&&o_(p),mi(null,p,R,S),p=p.child),p;case 16:b=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,R=b._init,b=R(b._payload),p.type=b,R=p.tag=S8(b),h=hi(b,h),R){case 0:p=A_(null,p,b,h,S);break e;case 1:p=e3(null,p,b,h,S);break e;case 11:p=KT(null,p,b,h,S);break e;case 14:p=YT(null,p,b,hi(b.type,h),S);break e}throw Error(o(306,b,""))}return p;case 0:return b=p.type,R=p.pendingProps,R=p.elementType===b?R:hi(b,R),A_(h,p,b,R,S);case 1:return b=p.type,R=p.pendingProps,R=p.elementType===b?R:hi(b,R),e3(h,p,b,R,S);case 3:e:{if(t3(p),h===null)throw Error(o(387));b=p.pendingProps,D=p.memoizedState,R=D.element,uT(h,p),Ug(p,b,null,S);var q=p.memoizedState;if(b=q.element,fe&&D.isDehydrated)if(D={element:b,isDehydrated:!1,cache:q.cache,transitions:q.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){R=Error(o(423)),p=n3(h,p,b,S,R);break e}else if(b!==R){R=Error(o(424)),p=n3(h,p,b,S,R);break e}else for(fe&&(Ji=me(p.stateNode.containerInfo),$i=p,On=!0,$s=null,gh=!1),S=ST(p,null,b,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Yc(),b===R){p=ra(h,p,S);break e}mi(h,p,b,S)}p=p.child}return p;case 5:return AT(p),h===null&&u_(p),b=p.type,R=p.pendingProps,D=h!==null?h.memoizedProps:null,q=R.children,ee(b,R)?q=null:D!==null&&ee(b,D)&&(p.flags|=32),qT(h,p),mi(h,p,q,S),p.child;case 6:return h===null&&u_(p),null;case 13:return r3(h,p,S);case 4:return f_(p,p.stateNode.containerInfo),b=p.pendingProps,h===null?p.child=Qc(p,null,b,S):mi(h,p,b,S),p.child;case 11:return b=p.type,R=p.pendingProps,R=p.elementType===b?R:hi(b,R),KT(h,p,b,R,S);case 7:return mi(h,p,p.pendingProps,S),p.child;case 8:return mi(h,p,p.pendingProps.children,S),p.child;case 12:return mi(h,p,p.pendingProps.children,S),p.child;case 10:e:{if(b=p.type._context,R=p.pendingProps,D=p.memoizedProps,q=R.value,Og(p,b,q),D!==null)if(Wi(D.value,q)){if(D.children===R.children&&!Dt.current){p=ra(h,p,S);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var he=D.dependencies;if(he!==null){q=D.child;for(var Fe=he.firstContext;Fe!==null;){if(Fe.context===b){if(D.tag===1){Fe=qo(-1,S&-S),Fe.tag=2;var nt=D.updateQueue;if(nt!==null){nt=nt.shared;var yt=nt.pending;yt===null?Fe.next=Fe:(Fe.next=yt.next,yt.next=Fe),nt.pending=Fe}}D.lanes|=S,Fe=D.alternate,Fe!==null&&(Fe.lanes|=S),pi(D.return,S,p),he.lanes|=S;break}Fe=Fe.next}}else if(D.tag===10)q=D.type===p.type?null:D.child;else if(D.tag===18){if(q=D.return,q===null)throw Error(o(341));q.lanes|=S,he=q.alternate,he!==null&&(he.lanes|=S),pi(q,S,p),q=D.sibling}else q=D.child;if(q!==null)q.return=D;else for(q=D;q!==null;){if(q===p){q=null;break}if(D=q.sibling,D!==null){D.return=q.return,q=D;break}q=q.return}D=q}mi(h,p,R.children,S),p=p.child}return p;case 9:return R=p.type,b=p.pendingProps.children,ir(p,S),R=sr(R),b=b(R),p.flags|=1,mi(h,p,b,S),p.child;case 14:return b=p.type,R=hi(b,p.pendingProps),R=hi(b.type,R),YT(h,p,b,R,S);case 15:return QT(h,p,p.type,p.pendingProps,S);case 17:return b=p.type,R=p.pendingProps,R=p.elementType===b?R:hi(b,R),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,kn(b)?(h=!0,on(p)):h=!1,ir(p,S),pT(p,b,R),s_(p,b,R,S),b_(null,p,b,!0,h,S);case 19:return a3(h,p,S);case 22:return ZT(h,p,S)}throw Error(o(156,p.tag))};function I3(h,p){return Zo(h,p)}function w8(h,p,S,b){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(h,p,S,b){return new w8(h,p,S,b)}function $_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function S8(h){if(typeof h=="function")return $_(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===_)return 14}return 2}function nl(h,p){var S=h.alternate;return S===null?(S=xs(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function _0(h,p,S,b,R,D){var q=2;if(b=h,typeof h=="function")$_(h)&&(q=1);else if(typeof h=="string")q=5;else e:switch(h){case c:return Au(S.children,R,D,p);case f:q=8,R|=8;break;case d:return h=xs(12,S,p,R|2),h.elementType=d,h.lanes=D,h;case y:return h=xs(13,S,p,R),h.elementType=y,h.lanes=D,h;case x:return h=xs(19,S,p,R),h.elementType=x,h.lanes=D,h;case A:return w0(S,R,D,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:q=10;break e;case g:q=9;break e;case v:q=11;break e;case _:q=14;break e;case w:q=16,b=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=xs(q,S,p,R),p.elementType=h,p.type=b,p.lanes=D,p}function Au(h,p,S,b){return h=xs(7,h,b,p),h.lanes=S,h}function w0(h,p,S,b){return h=xs(22,h,b,p),h.elementType=A,h.lanes=S,h.stateNode={},h}function J_(h,p,S){return h=xs(6,h,null,p),h.lanes=S,h}function X_(h,p,S){return p=xs(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function A8(h,p,S,b,R){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=b,this.onRecoverableError=R,fe&&(this.mutableSourceEagerHydrationData=null)}function B3(h,p,S,b,R,D,q,he,Fe){return h=new A8(h,p,S,he,Fe),p===1?(p=1,D===!0&&(p|=8)):p=0,D=xs(3,null,null,p),h.current=D,D.stateNode=h,D.memoizedState={element:b,isDehydrated:S,cache:null,transitions:null},r_(D),h}function D3(h){if(!h)return Ut;h=h._reactInternals;e:{if(P(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(kn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(kn(S))return zn(h,S,p)}return p}function L3(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=F(p),h===null?null:h.stateNode}function k3(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function K_(h,p){k3(h,p),(h=h.alternate)&&k3(h,p)}function b8(h){return h=F(h),h===null?null:h.stateNode}function M8(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=gi();ys(h,134217728,p),K_(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=gi(),S=el(h);ys(h,S,p),K_(h,S)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var S=Yo(p.pendingLanes);S!==0&&(bo(p,S|1),Ii(p,Gn()),!(Kt&6)&&(rf(),Ri()))}break;case 13:var b=gi();A3(function(){return ys(h,1,b)}),K_(h,1)}},n.batchedUpdates=function(h,p){var S=Kt;Kt|=1;try{return h(p)}finally{Kt=S,Kt===0&&(rf(),Mo&&Ri())}},n.createComponentSelector=function(h){return{$$typeof:o0,value:h}},n.createContainer=function(h,p,S,b,R,D,q){return B3(h,p,!1,null,S,b,R,D,q)},n.createHasPseudoClassSelector=function(h){return{$$typeof:a0,value:h}},n.createHydrationContainer=function(h,p,S,b,R,D,q,he,Fe){return h=B3(S,b,!0,h,R,D,q,he,Fe),h.context=D3(null),S=h.current,b=gi(),R=el(S),D=qo(b,R),D.callback=p??null,Qa(S,D),h.current.lanes=R,Ao(h,R,b),Ii(h,b),h},n.createPortal=function(h,p,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:h,containerInfo:p,implementation:S}},n.createRoleSelector=function(h){return{$$typeof:l0,value:h}},n.createTestNameSelector=function(h){return{$$typeof:u0,value:h}},n.createTextSelector=function(h){return{$$typeof:c0,value:h}},n.deferredUpdates=function(h){var p=Yt,S=or.transition;try{return or.transition=null,Yt=16,h()}finally{Yt=p,or.transition=S}},n.discreteUpdates=function(h,p,S,b,R){var D=Yt,q=or.transition;try{return or.transition=null,Yt=1,h(p,S,b,R)}finally{Yt=D,or.transition=q,Kt===0&&rf()}},n.findAllNodes=k_,n.findBoundingRects=function(h,p){if(!Ye)throw Error(o(363));p=k_(h,p),h=[];for(var S=0;S<p.length;S++)h.push(K(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var b=S.x,R=b+S.width,D=S.y,q=D+S.height,he=p-1;0<=he;he--)if(p!==he){var Fe=h[he],nt=Fe.x,yt=nt+Fe.width,Vt=Fe.y,Tt=Vt+Fe.height;if(b>=nt&&D>=Vt&&R<=yt&&q<=Tt){h.splice(p,1);break}else if(b!==nt||S.width!==Fe.width||Tt<D||Vt>q){if(!(D!==Vt||S.height!==Fe.height||yt<b||nt>R)){nt>b&&(Fe.width+=nt-b,Fe.x=b),yt<R&&(Fe.width=R-nt),h.splice(p,1);break}}else{Vt>D&&(Fe.height+=Vt-D,Fe.y=D),Tt<q&&(Fe.height=q-Vt),h.splice(p,1);break}}}return h},n.findHostInstance=L3,n.findHostInstanceWithNoPortals=function(h){return h=N(h),h=h!==null?O(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return L3(h)},n.flushControlled=function(h){var p=Kt;Kt|=1;var S=or.transition,b=Yt;try{or.transition=null,Yt=1,h()}finally{Yt=b,or.transition=S,Kt=p,Kt===0&&(rf(),Ri())}},n.flushPassiveEffects=Su,n.flushSync=A3,n.focusWithin=function(h,p){if(!Ye)throw Error(o(363));for(h=B_(h),p=_3(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++];if(!re(S)){if(S.tag===5&&Le(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Yt},n.getFindAllNodesFailureDescription=function(h,p){if(!Ye)throw Error(o(363));var S=0,b=[];h=[B_(h),0];for(var R=0;R<h.length;){var D=h[R++],q=h[R++],he=p[q];if((D.tag!==5||!re(D))&&(D_(D,he)&&(b.push(L_(he)),q++,q>S&&(S=q)),q<p.length))for(D=D.child;D!==null;)h.push(D,q),D=D.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push(L_(p[S]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return $(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:b8,findFiberByHostInstance:h.findFiberByHostInstance||M8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{fu=p.inject(h),Vi=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,S,b){if(!Ye)throw Error(o(363));h=k_(h,p);var R=Me(h,S,b).disconnect;return{disconnect:function(){R()}}},n.registerMutableSourceForHydration=function(h,p){var S=p._getVersion;S=S(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,S]:h.mutableSourceEagerHydrationData.push(p,S)},n.runWithPriority=function(h,p){var S=Yt;try{return Yt=h,p()}finally{Yt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,S,b){var R=p.current,D=gi(),q=el(R);return S=D3(S),p.context===null?p.context=S:p.pendingContext=S,p=qo(D,q),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),Qa(R,p),h=ys(R,q,D),h!==null&&Ng(h,R,q),q},n};_N.exports=KK;var YK=_N.exports;const QK=Gd(YK),LC={},Ax=t=>void Object.assign(LC,t);function ZK(t,e){function n(c,{args:f=[],attach:d,...m},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;y=Bf(x,{type:c,root:g,attach:d,primitive:!0})}else{const x=LC[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Bf(new x(...f),{type:c,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),v!=="inject"&&iS(y,m),y}function r(c,f){let d=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?rS(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Bf(f,{}),f.__r3f.parent=c,Db(f),Df(f)}}function i(c,f,d){let m=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)rS(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(_=>_!==f),x=y.indexOf(d);c.children=[...y.slice(0,x),f,...y.slice(x)],m=!0}m||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Bf(f,{}),f.__r3f.parent=c,Db(f),Df(f)}}function s(c,f,d=!1){c&&[...c].forEach(m=>o(f,m,d))}function o(c,f,d){if(f){var m,g,v;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)gI(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&sY(gy(f),f)}const _=(v=f.__r3f)==null?void 0:v.primitive,w=!_&&(d===void 0?f.dispose!==null:d);if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,w),s(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Ib.unstable_scheduleCallback(Ib.unstable_IdlePriority,A):A()}Df(c)}}function a(c,f,d,m){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=n(f,d,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(y,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(y,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&gy(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>{};return{reconciler:QK({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const m=c.getState().scene;m.__r3f&&i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:x,..._}=m,{args:w=[],children:A,...M}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,E)=>T!==w[E]))return[!0];const C=RN(c,_,M,!0);return C.changes.length?[!1,C]:null}},commitUpdate(c,[f,d],m,g,v,y){f?a(c,m,v,y):iS(c,d)},commitMount(c,f,d,m){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&gy(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Bf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:m}=(f=c.__r3f)!=null?f:{};d&&m&&gI(m,c,d),c.isObject3D&&(c.visible=!1),Df(c)},unhideInstance(c,f){var d;const{attach:m,parent:g}=(d=c.__r3f)!=null?d:{};m&&g&&rS(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Df(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Mn.fun(performance.now)?performance.now:Mn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Mn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Mn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:iS}}var dI,hI;const nS=t=>"colorSpace"in t||"outputColorSpace"in t,AN=()=>{var t;return(t=LC.ColorManagement)!=null?t:null},bN=t=>t&&t.isOrthographicCamera,qK=t=>t&&t.hasOwnProperty("current"),pg=typeof window<"u"&&((dI=window.document)!=null&&dI.createElement||((hI=window.navigator)==null?void 0:hI.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function MN(t){const e=I.useRef(t);return pg(()=>void(e.current=t),[t]),e}function eY({set:t}){return pg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class EN extends I.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}EN.getDerivedStateFromError=()=>({error:!0});const CN="__default",pI=new Map,tY=t=>t&&!!t.memoized&&!!t.changes;function TN(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const qh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function gy(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Mn={obj:t=>t===Object(t)&&!Mn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Mn.str(t)||Mn.num(t)||Mn.boo(t))return t===e;const s=Mn.obj(t);if(s&&r==="reference")return t===e;const o=Mn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Mn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Mn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function nY(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function rY(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Bf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Bb(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const mI=/-\d+$/;function rS(t,e,n){if(Mn.str(n)){if(mI.test(n)){const s=n.replace(mI,""),{target:o,key:a}=Bb(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Bb(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function gI(t,e,n){var r,i;if(Mn.str(n)){const{target:s,key:o}=Bb(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function RN(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),d=[];if(u){const g=Object.keys(l);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||f.unshift([g[v],CN+"remove"])}f.forEach(([g,v])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||Mn.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,v,!0,[]]);let x=[];g.includes("-")&&(x=g.split("-")),d.push([g,v,!1,x]);for(const _ in i){const w=i[_];_.startsWith(`${g}-`)&&d.push([_,w,!1,_.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:d}}function iS(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=tY(e)?e:RN(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[m,g,v,y]=a[d];if(nS(t)){const A="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?A:M):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?A:M)}let x=t,_=x[m];if(y.length&&(_=y.reduce((w,A)=>w[A],t),!(_&&_.set))){const[w,...A]=y.reverse();x=A.reverse().reduce((M,C)=>M[C],t),m=w}if(g===CN+"remove")if(x.constructor){let w=pI.get(x.constructor);w||(w=new x.constructor,pI.set(x.constructor,w)),g=w[m]}else g=0;if(v&&r)g?r.handlers[m]=g:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof uc)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){var u;const w=(u=_)==null?void 0:u.isColor;!w&&_.setScalar?_.setScalar(g):_ instanceof uc&&g instanceof uc?_.mask=g.mask:_.set(g),!AN()&&s&&!s.linear&&w&&_.convertSRGBToLinear()}}else{var c;if(x[m]=g,(c=x[m])!=null&&c.isTexture&&x[m].format===Sr&&x[m].type===zs&&s){const w=x[m];nS(w)&&nS(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}Df(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=gy(t).getState().internal,m=d.interaction.indexOf(t);m>-1&&d.interaction.splice(m,1),r.eventCount&&d.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&Db(t),t}function Df(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Db(t){t.onUpdate==null||t.onUpdate(t)}function PN(t,e){t.manual||(bN(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function bv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function iY(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return _p.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return _p.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return _p.ContinuousEventPriority;default:return _p.DefaultEventPriority}}function IN(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sY(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{IN(n.capturedMap,e,r,i)})}function oY(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,d=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<m.length;x++){const _=qh(m[x]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(x){const _=qh(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,_)=>{const w=qh(x.object),A=qh(_.object);return!w||!A?x.distance-_.distance:A.events.priority-w.events.priority||x.distance-_.distance}).filter(x=>{const _=bv(x);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const x of v){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(bv(x.intersection))||d.push(x.intersection);return d}function i(l,u,c,f){const d=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=qh(g.object)||d,{raycaster:y,pointer:x,camera:_,internal:w}=v,A=new Z(x.x,x.y,0).unproject(_),M=B=>{var N,F;return(N=(F=w.capturedMap.get(B))==null?void 0:F.has(g.eventObject))!=null?N:!1},C=B=>{const N={intersection:g,target:u.target};w.capturedMap.has(B)?w.capturedMap.get(B).set(g.eventObject,N):w.capturedMap.set(B,new Map([[g.eventObject,N]])),u.target.setPointerCapture(B)},T=B=>{const N=w.capturedMap.get(B);N&&IN(w.capturedMap,g.eventObject,N,B)};let E={};for(let B in u){let N=u[B];typeof N!="function"&&(E[B]=N)}let P={...g,...E,pointer:x,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:A,ray:y.ray,camera:_,stopPropagation(){const B="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!B||B.has(g.eventObject))&&(P.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(N=>N.eventObject===g.eventObject))){const N=l.slice(0,l.indexOf(g));s([...N,g])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:T},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:T},nativeEvent:u};if(f(P),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d==null?void 0:d.handlers;if(u.hovered.delete(bv(c)),d!=null&&d.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),x=g?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&x<=2&&(o(c,d.interaction),f&&f(c)),m&&s(y);function _(w){const A=w.eventObject,M=A.__r3f,C=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const T=bv(w),E=d.hovered.get(T);E?E.stopped&&w.stopPropagation():(d.hovered.set(T,w),C.onPointerOver==null||C.onPointerOver(w),C.onPointerEnter==null||C.onPointerEnter(w))}C.onPointerMove==null||C.onPointerMove(w)}else{const T=C[l];T?(!g||d.initialHits.includes(A))&&(o(c,d.interaction.filter(E=>!d.initialHits.includes(E))),T(w)):g&&d.initialHits.includes(A)&&o(c,d.interaction.filter(E=>!d.initialHits.includes(E)))}}i(y,c,x,_)}}return{handlePointer:a}}const aY=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],BN=t=>!!(t!=null&&t.render),kC=I.createContext(null),lY=(t,e)=>{const n=mN((a,l)=>{const u=new Z,c=new Z,f=new Z;function d(x=l().camera,_=c,w=l().size){const{width:A,height:M,top:C,left:T}=w,E=A/M;_.isVector3?f.copy(_):f.set(..._);const P=x.getWorldPosition(u).distanceTo(f);if(bN(x))return{width:A/x.zoom,height:M/x.zoom,top:C,left:T,factor:1,distance:P,aspect:E};{const B=x.fov*Math.PI/180,N=2*Math.tan(B/2)*P,F=N*(A/M);return{width:F,height:N,top:C,left:T,factor:A/F,distance:P,aspect:E}}}let m;const g=x=>a(_=>({performance:{..._.performance,current:x}})),v=new je;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new RC,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,w,A,M)=>{const C=l().camera,T={width:x,height:_,top:A||0,left:M||0,updateStyle:w};a(E=>({size:T,viewport:{...E.viewport,...d(C,c,T)}}))},setDpr:x=>a(_=>{const w=TN(x);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,w)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:x,priority:_,store:w}),A.subscribers=A.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==x))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var d;i=l,s=u.dpr,PN(a,l),c.setPixelRatio(u.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function uY(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let Mv,DN=new Set,cY=new Set,fY=new Set;const dY=t=>uY(t,DN);function sS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ep(t,e){switch(t){case"before":return sS(DN,e);case"after":return sS(cY,e);case"tail":return sS(fY,e)}}let oS,aS;function lS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),oS=e.internal.subscribers,Mv=0;Mv<oS.length;Mv++)aS=oS[Mv],aS.ref.current(aS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hY(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,ep("before",u),n=!0;for(const f of t.values()){var c;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((c=s.gl.xr)!=null&&c.isPresenting)&&(r+=lS(u,s))}if(n=!1,ep("after",u),r===0)return ep("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,c=1){var f;if(!u)return t.forEach(d=>a(d.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,d){if(c&&ep("before",u),f)lS(u,f,d);else for(const m of t.values())lS(u,m.store.getState());c&&ep("after",u)}return{loop:o,invalidate:a,advance:l}}function FC(){const t=I.useContext(kC);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function lo(t=n=>n,e){return FC()(t,e)}function Uc(t,e=0){const n=FC(),r=n.getState().internal.subscribe,i=MN(t);return pg(()=>r(i,e,n),[e,r,n]),null}const vI=new WeakMap;function LN(t,e){return function(n,...r){let i=vI.get(n);return i||(i=new n,vI.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,nY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function us(t,e,n,r){const i=Array.isArray(e)?e:[e],s=Sx(LN(n,r),[t,...i],{equal:Mn.equ});return Array.isArray(e)?s:s[0]}us.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return yN(LN(n),[t,...r])};us.clear=function(t,e){const n=Array.isArray(e)?e:[e];return xN([t,...n])};const Td=new Map,{invalidate:yI,advance:xI}=hY(Td),{reconciler:Em,applyProps:ga}=ZK(Td,iY),bf={objects:"shallow",strict:!1},pY=(t,e)=>{const n=typeof t=="function"?t(e):t;return BN(n)?n:new fx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function mY(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function gY(t){const e=Td.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||lY(yI,xI),o=n||Em.createContainer(s,_p.ConcurrentRoot,null,!1,null,"",i,null);e||Td.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:d,scene:m,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:w=!1,orthographic:A=!1,frameloop:M="always",dpr:C=[1,2],performance:T,raycaster:E,camera:P,onPointerMissed:B}=c,N=s.getState(),F=N.gl;N.gl||N.set({gl:F=pY(f,t)});let U=N.raycaster;U||N.set({raycaster:U=new DC});const{params:O,...J}=E||{};if(Mn.equ(J,U,bf)||ga(U,{...J}),Mn.equ(O,U.params,bf)||ga(U,{params:{...U.params,...O}}),!N.camera||N.camera===u&&!Mn.equ(u,P,bf)){u=P;const W=P instanceof Zm,G=W?P:A?new ja(0,0,0,0,.1,1e3):new cr(75,0,.1,1e3);W||(G.position.z=5,P&&(ga(G,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(G.manual=!0,G.updateProjectionMatrix())),!N.camera&&!(P!=null&&P.rotation)&&G.lookAt(0,0,0)),N.set({camera:G}),U.camera=G}if(!N.scene){let W;m!=null&&m.isScene?W=m:(W=new eg,m&&ga(W,m)),N.set({scene:Bf(W)})}if(!N.xr){var $;const W=(X,ne)=>{const ee=s.getState();ee.frameloop!=="never"&&xI(X,!0,ee,ne)},G=()=>{const X=s.getState();X.gl.xr.enabled=X.gl.xr.isPresenting,X.gl.xr.setAnimationLoop(X.gl.xr.isPresenting?W:null),X.gl.xr.isPresenting||yI(X)},z={connect(){const X=s.getState().gl;X.xr.addEventListener("sessionstart",G),X.xr.addEventListener("sessionend",G)},disconnect(){const X=s.getState().gl;X.xr.removeEventListener("sessionstart",G),X.xr.removeEventListener("sessionend",G)}};typeof(($=F.xr)==null?void 0:$.addEventListener)=="function"&&z.connect(),N.set({xr:z})}if(F.shadowMap){const W=F.shadowMap.enabled,G=F.shadowMap.type;if(F.shadowMap.enabled=!!y,Mn.boo(y))F.shadowMap.type=Lp;else if(Mn.str(y)){var ie;const z={basic:EO,percentage:rx,soft:Lp,variance:$u};F.shadowMap.type=(ie=z[y])!=null?ie:Lp}else Mn.obj(y)&&Object.assign(F.shadowMap,y);(W!==F.shadowMap.enabled||G!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const H=AN();H&&("enabled"in H?H.enabled=!w:"legacyMode"in H&&(H.legacyMode=w)),l||ga(F,{outputEncoding:x?3e3:3001,toneMapping:_?ao:VE}),N.legacy!==w&&N.set(()=>({legacy:w})),N.linear!==x&&N.set(()=>({linear:x})),N.flat!==_&&N.set(()=>({flat:_})),f&&!Mn.fun(f)&&!BN(f)&&!Mn.equ(f,F,bf)&&ga(F,f),g&&!N.events.handlers&&N.set({events:g(s)});const j=mY(t,d);return Mn.equ(j,N.size,bf)||N.setSize(j.width,j.height,j.updateStyle,j.top,j.left),C&&N.viewport.dpr!==TN(C)&&N.setDpr(C),N.frameloop!==M&&N.setFrameloop(M),N.onPointerMissed||N.set({onPointerMissed:B}),T&&!Mn.equ(T,N.performance,bf)&&N.set(W=>({performance:{...W.performance,...T}})),a=v,l=!0,this},render(c){return l||this.configure(),Em.updateContainer(De.jsx(vY,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){kN(t)}}}function vY({store:t,children:e,onCreated:n,rootElement:r}){return pg(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),De.jsx(kC.Provider,{value:t,children:e})}function kN(t,e){const n=Td.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Em.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),rY(i),Td.delete(t)}catch{}},500)})}}function yY(t,e,n){return De.jsx(xY,{children:t,container:e,state:n},e.uuid)}function xY({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=FC(),[a]=I.useState(()=>new DC),[l]=I.useState(()=>new je),u=I.useCallback((f,d)=>{const m={...f};Object.keys(f).forEach(v=>{(aY.includes(v)||f[v]!==d[v]&&d[v])&&delete m[v]});let g;if(d&&i){const v=d.camera;g=f.viewport.getCurrentViewport(v,new Z,i),v!==f.camera&&PN(v,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...s}},[t]),[c]=I.useState(()=>{const f=o.getState();return mN((m,g)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:g,setEvents:v=>m(y=>({...y,events:{...y.events,...v}}))}))});return I.useEffect(()=>{const f=o.subscribe(d=>c.setState(m=>u(d,m)));return()=>{f()}},[u]),I.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),I.useEffect(()=>()=>{c.destroy()},[]),De.jsx(De.Fragment,{children:Em.createPortal(De.jsx(kC.Provider,{value:c,children:e}),c,null)})}Em.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});const uS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _Y(t){const{handlePointer:e}=oY(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(uS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=uS[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=uS[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function Lb(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Lb.debounce=Lb;var wY=Lb;const _I=Gd(wY);var SY=Object.defineProperty,AY=Object.defineProperties,bY=Object.getOwnPropertyDescriptors,wI=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,SI=(t,e,n)=>e in t?SY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AI=(t,e)=>{for(var n in e||(e={}))MY.call(e,n)&&SI(t,n,e[n]);if(wI)for(var n of wI(e))EY.call(e,n)&&SI(t,n,e[n]);return t},CY=(t,e)=>AY(t,bY(e)),bI,MI;typeof window<"u"&&((bI=window.document)!=null&&bI.createElement||((MI=window.navigator)==null?void 0:MI.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function FN(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=FN(r,e,n);if(i)return i;r=r.sibling}}function ON(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const EI=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=EI;return}return EI.apply(this,arguments)};const OC=ON(I.createContext(null));class NN extends I.Component{render(){return I.createElement(OC.Provider,{value:this._reactInternals},this.props.children)}}function TY(){const t=I.useContext(OC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=FN(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function RY(){const t=TY(),[e]=I.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==OC&&!e.has(i)&&e.set(i,I.useContext(ON(i)))}n=n.return}return e}function PY(){const t=RY();return I.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>I.createElement(e,null,I.createElement(n.Provider,CY(AI({},r),{value:t.get(n)}))),e=>I.createElement(NN,AI({},e))),[t])}function IY({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,o]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=I.useRef(!1);I.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,d,m]=I.useMemo(()=>{const x=()=>{if(!a.current.element)return;const{left:_,top:w,width:A,height:M,bottom:C,right:T,x:E,y:P}=a.current.element.getBoundingClientRect(),B={left:_,top:w,width:A,height:M,bottom:C,right:T,x:E,y:P};a.current.element instanceof HTMLElement&&r&&(B.height=a.current.element.offsetHeight,B.width=a.current.element.offsetWidth),Object.freeze(B),c.current&&!kY(a.current.lastBounds,B)&&o(a.current.lastBounds=B)};return[x,u?_I(x,u):x,l?_I(x,l):x]},[o,r,l,u]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function v(){var x;a.current.element&&(a.current.resizeObserver=new i(d),(x=a.current.resizeObserver)==null||x.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=x=>{!x||x===a.current.element||(g(),a.current.element=x,a.current.scrollContainers=UN(x),v())};return DY(m,!!e),BY(d),I.useEffect(()=>{g(),v()},[e,m,d]),I.useEffect(()=>g,[]),[y,s,f]}function BY(t){I.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function DY(t,e){I.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function UN(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...UN(t.parentElement)]}const LY=["x","y","top","bottom","left","right","width","height"],kY=(t,e)=>LY.every(n=>t[n]===e[n]),FY=I.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=_Y,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:w,onPointerMissed:A,onCreated:M,...C},T){I.useMemo(()=>Ax(hN),[]);const E=PY(),[P,B]=IY({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=I.useRef(null),F=I.useRef(null);I.useImperativeHandle(T,()=>N.current);const U=MN(A),[O,J]=I.useState(!1),[$,ie]=I.useState(!1);if(O)throw O;if($)throw $;const H=I.useRef(null);pg(()=>{const W=N.current;B.width>0&&B.height>0&&W&&(H.current||(H.current=gY(W)),H.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:w,size:B,onPointerMissed:(...G)=>U.current==null?void 0:U.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?qK(a)?a.current:a:F.current),l&&G.setEvents({compute:(z,X)=>{const ne=z[l+"X"],ee=z[l+"Y"];X.pointer.set(ne/X.size.width*2-1,-(ee/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),M==null||M(G)}}),H.current.render(De.jsx(E,{children:De.jsx(EN,{set:ie,children:De.jsx(I.Suspense,{fallback:De.jsx(eY,{set:J}),children:e})})})))}),I.useEffect(()=>{const W=N.current;if(W)return()=>kN(W)},[]);const j=a?"none":"auto";return De.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...C,children:De.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:De.jsx("canvas",{ref:N,style:{display:"block"},children:n})})})}),OY=I.forwardRef(function(e,n){return De.jsx(NN,{children:De.jsx(FY,{...e,ref:n})})});function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(null,arguments)}const mg=new Z,NC=new Z,NY=new Z,CI=new je;function UY(t,e,n){const r=mg.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function zY(t,e){const n=mg.setFromMatrixPosition(t.matrixWorld),r=NC.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(NY);return i.angleTo(s)>Math.PI/2}function GY(t,e,n,r){const i=mg.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),CI.set(s.x,s.y),n.setFromCamera(CI,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function HY(t,e){if(e instanceof ja)return e.zoom;if(e instanceof cr){const n=mg.setFromMatrixPosition(t.matrixWorld),r=NC.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function VY(t,e,n){if(e instanceof cr||e instanceof ja){const r=mg.setFromMatrixPosition(t.matrixWorld),i=NC.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const kb=t=>Math.abs(t)<1e-10?0:t;function zN(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=kb(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const WY=(t=>e=>zN(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),jY=(t=>(e,n)=>zN(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function $Y(t){return t&&typeof t=="object"&&"current"in t}const JY=I.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:f,onOcclude:d,castShadow:m,receiveShadow:g,material:v,geometry:y,zIndexRange:x=[16777271,0],calculatePosition:_=UY,as:w="div",wrapperClass:A,pointerEvents:M="auto",...C},T)=>{const{gl:E,camera:P,scene:B,size:N,raycaster:F,events:U,viewport:O}=lo(),[J]=I.useState(()=>document.createElement(w)),$=I.useRef(),ie=I.useRef(null),H=I.useRef(0),j=I.useRef([0,0]),W=I.useRef(null),G=I.useRef(null),z=(a==null?void 0:a.current)||U.connected||E.domElement.parentNode,X=I.useRef(null),ne=I.useRef(!1),ee=I.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&$Y(f[0]),[f]);I.useLayoutEffect(()=>{const we=E.domElement;f&&f==="blending"?(we.style.zIndex=`${Math.floor(x[0]/2)}`,we.style.position="absolute",we.style.pointerEvents="none"):(we.style.zIndex=null,we.style.position=null,we.style.pointerEvents=null)},[f]),I.useLayoutEffect(()=>{if(ie.current){const we=$.current=zE(J);if(B.updateMatrixWorld(),c)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ve=_(ie.current,P,N);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ve[0]}px,${ve[1]}px,0);transform-origin:0 0;`}return z&&(i?z.prepend(J):z.appendChild(J)),()=>{z&&z.removeChild(J),we.unmount()}}},[z,c]),I.useLayoutEffect(()=>{A&&(J.className=A)},[A]);const Y=I.useMemo(()=>c?{position:"absolute",top:0,left:0,width:N.width,height:N.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-N.height/2,left:-N.width/2,width:N.width,height:N.height},...n},[n,s,o,N,c]),ue=I.useMemo(()=>({position:"absolute",pointerEvents:M}),[M]);I.useLayoutEffect(()=>{if(ne.current=!1,c){var we;(we=$.current)==null||we.render(I.createElement("div",{ref:W,style:Y},I.createElement("div",{ref:G,style:ue},I.createElement("div",{ref:T,className:r,style:n,children:t}))))}else{var ve;(ve=$.current)==null||ve.render(I.createElement("div",{ref:T,style:Y,className:r,children:t}))}});const ce=I.useRef(!0);Uc(we=>{if(ie.current){P.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const ve=c?j.current:_(ie.current,P,N);if(c||Math.abs(H.current-P.zoom)>e||Math.abs(j.current[0]-ve[0])>e||Math.abs(j.current[1]-ve[1])>e){const oe=zY(ie.current,P);let fe=!1;ee&&(Array.isArray(f)?fe=f.map(Xe=>Xe.current):f!=="blending"&&(fe=[B]));const Re=ce.current;if(fe){const Xe=GY(ie.current,P,F,fe);ce.current=Xe&&!oe}else ce.current=!oe;Re!==ce.current&&(d?d(!ce.current):J.style.display=ce.current?"block":"none");const Ge=Math.floor(x[0]/2),Ie=f?ee?[x[0],Ge]:[Ge-1,0]:x;if(J.style.zIndex=`${VY(ie.current,P,Ie)}`,c){const[Xe,Pe]=[N.width/2,N.height/2],ze=P.projectionMatrix.elements[5]*Pe,{isOrthographicCamera:Ye,top:Ee,left:K,bottom:k,right:re}=P,pe=WY(P.matrixWorldInverse),Le=Ye?`scale(${ze})translate(${kb(-(re+K)/2)}px,${kb((Ee+k)/2)}px)`:`translateZ(${ze}px)`;let Me=ie.current.matrixWorld;u&&(Me=P.matrixWorldInverse.clone().transpose().copyPosition(Me).scale(ie.current.scale),Me.elements[3]=Me.elements[7]=Me.elements[11]=0,Me.elements[15]=1),J.style.width=N.width+"px",J.style.height=N.height+"px",J.style.perspective=Ye?"":`${ze}px`,W.current&&G.current&&(W.current.style.transform=`${Le}${pe}translate(${Xe}px,${Pe}px)`,G.current.style.transform=jY(Me,1/((l||10)/400)))}else{const Xe=l===void 0?1:HY(ie.current,P)*l;J.style.transform=`translate3d(${ve[0]}px,${ve[1]}px,0) scale(${Xe})`}j.current=ve,H.current=P.zoom}}if(!ee&&X.current&&!ne.current)if(c){if(W.current){const ve=W.current.children[0];if(ve!=null&&ve.clientWidth&&ve!=null&&ve.clientHeight){const{isOrthographicCamera:oe}=P;if(oe||y)C.scale&&(Array.isArray(C.scale)?C.scale instanceof Z?X.current.scale.copy(C.scale.clone().divideScalar(1)):X.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):X.current.scale.setScalar(1/C.scale));else{const fe=(l||10)/400,Re=ve.clientWidth*fe,Ge=ve.clientHeight*fe;X.current.scale.set(Re,Ge,1)}ne.current=!0}}}else{const ve=J.children[0];if(ve!=null&&ve.clientWidth&&ve!=null&&ve.clientHeight){const oe=1/O.factor,fe=ve.clientWidth*oe,Re=ve.clientHeight*oe;X.current.scale.set(fe,Re,1),ne.current=!0}X.current.lookAt(we.camera.position)}});const Te=I.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return I.createElement("group",Xl({},C,{ref:ie}),f&&!ee&&I.createElement("mesh",{castShadow:m,receiveShadow:g,ref:X},y||I.createElement("planeGeometry",null),v||I.createElement("shaderMaterial",{side:ns,vertexShader:Te.vertexShader,fragmentShader:Te.fragmentShader})))}),TI=t=>{let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const d=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,a);return a},XY=t=>t?TI(t):TI,KY=t=>t;function YY(t,e=KY){const n=ae.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ae.useDebugValue(n),n}const RI=t=>{const e=XY(t),n=r=>YY(e,r);return Object.assign(n,e),n},QY=t=>t?RI(t):RI;let tp=0;const ZY=QY(t=>(Yf.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-tp)/(r-tp)*100})},Yf.onLoad=()=>{t({active:!1})},Yf.onError=e=>t(n=>({errors:[...n.errors,e]})),Yf.onProgress=(e,n,r)=>{n===r&&(tp=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-tp)/(r-tp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function qY(t,e,n){return Math.max(e,Math.min(t,n))}const Dn={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function PI(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function II(t,e,n,r=.15){return r===0?qY(t,e,n):t<e?-PI(e-t,n-e,r)+e:t>n?+PI(t-n,n-e,r)+n:t}function eQ(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[II(e,s,o,r),II(n,a,l,i)]}function tQ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nQ(t){var e=tQ(t,"string");return typeof e=="symbol"?e:String(e)}function gr(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const GN={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function DI(t){return t?t[0].toUpperCase()+t.slice(1):""}const rQ=["enter","leave"];function iQ(t=!1,e){return t&&!rQ.includes(e)}function sQ(t,e="",n=!1){const r=GN[t],i=r&&r[e]||e;return"on"+DI(t)+DI(i)+(iQ(n,i)?"Capture":"")}const oQ=["gotpointercapture","lostpointercapture"];function aQ(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=oQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function lQ(t,e=""){const n=GN[t],r=n&&n[e]||e;return t+r}function bx(t){return"touches"in t}function HN(t){return bx(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function uQ(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function cQ(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function VN(t){return bx(t)?cQ(t)[0]:t}function Fb(t,e){try{const n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function fQ(t){return uQ(t).map(e=>e.identifier)}function LI(t,e){const[n,r]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return Fb(n,r)}function cS(t){const e=VN(t);return bx(t)?e.identifier:e.pointerId}function Rd(t){const e=VN(t);return[e.clientX,e.clientY]}const kI=40,FI=800;function WN(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=kI,n*=kI):r===2&&(e*=FI,n*=FI),[e,n]}function dQ(t){var e,n;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=t.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(n=i??o)!==null&&n!==void 0?n:0]}function hQ(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function i1(t,...e){return typeof t=="function"?t(...e):t}function pQ(){}function mQ(...t){return t.length===0?pQ:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function OI(t,e){return Object.assign({},e,t||{})}const gQ=32;class jN{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?i1(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,hQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const C=n._delta.map(Math.abs);Dn.addTo(n._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[C,T]=f;d[0]=c[0]!==!1?C-c[0]:0,d[1]=c[1]!==!1?T-c[1]:0}else d[0]=c[0]!==!1?o-c[0]:0,d[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(d);const m=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=i1(r.bounds,n)),this.setup&&this.setup()),n.movement=d,this.computeOffset()));const[v,y]=n.offset,[[x,_],[w,A]]=n._bounds;n.overflow=[v<x?-1:v>_?1:0,y<w?-1:y>A?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const M=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=eQ(n._bounds,n.offset,M),n.delta=Dn.sub(n.offset,m),this.computeMovement(),g&&(!n.last||s>gQ)){n.delta=Dn.sub(n.offset,m);const C=n.delta.map(Math.abs);Dn.addTo(n.distance,C),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[C[0]/s,C[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Kn(Kn(Kn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function vQ([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class gg extends jN{constructor(...e){super(...e),gr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Dn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Dn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[HN(e)]:r.axisThreshold;n.axis=vQ(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const yQ=t=>t,NI=.15,$N={enabled(t=!0){return t},eventOptions(t,e,n){return Kn(Kn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[NI,NI];case!1:return[0,0];default:return Dn.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Dn.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||yQ},threshold(t){return Dn.toVector(t,0)}},xQ=0,zc=Kn(Kn({},$N),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=xQ){return t},bounds(t={}){if(typeof t=="function")return s=>zc.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),UI={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class _Q extends gg{constructor(...e){super(...e),gr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=zc.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=cS(e),r._pointerActive=!0,this.computeValues(Rd(e)),this.computeInitial(),n.preventScrollAxis&&HN(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=cS(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=Rd(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Dn.sub(s,n._values),this.computeValues(s)),Dn.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=cS(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,d]=r.swipe.velocity,[m,g]=r.swipe.distance,v=r.swipe.duration;if(n.elapsedTime<v){const y=Math.abs(a/n.timeDelta),x=Math.abs(l/n.timeDelta);y>f&&Math.abs(u)>m&&(n.swipe[0]=Math.sign(a)),x>d&&Math.abs(c)>g&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,wQ(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=UI[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Dn.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in UI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function wQ(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const vg=typeof window<"u"&&window.document&&window.document.createElement;function JN(){return vg&&"ontouchstart"in window}function SQ(){return JN()||vg&&window.navigator.maxTouchPoints>1}function AQ(){return vg&&"onpointerdown"in window}function bQ(){return vg&&"exitPointerLock"in window.document}function MQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Ps={isBrowser:vg,gesture:MQ(),touch:JN(),touchscreen:SQ(),pointer:AQ(),pointerLock:bQ()},EQ=250,CQ=180,TQ=.5,RQ=50,PQ=250,IQ=10,zI={mouse:0,touch:0,pen:8},BQ=Kn(Kn({},zc),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ps.pointerLock,Ps.touch&&n?"touch":this.pointerLock?"mouse":Ps.pointer&&!i?"pointer":Ps.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?EQ:void 0,!(!Ps.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Dn.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=TQ,distance:e=RQ,duration:n=PQ}={}){return{velocity:this.transform(Dn.toVector(t)),distance:this.transform(Dn.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return CQ;case!1:return 0;default:return t}},axisThreshold(t){return t?Kn(Kn({},zI),t):zI},keyboardDisplacement(t=IQ){return t}});function XN(t){const[e,n]=t.overflow,[r,i]=t._delta,[s,o]=t._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&i>0&&o<0||n>0&&i<0&&o>0)&&(t._movement[1]=t._movementBound[1])}const DQ=30,LQ=100;class kQ extends jN{constructor(...e){super(...e),gr(this,"ingKey","pinching"),gr(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=Dn.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const i=Math.abs(n)*DQ-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const i=LI(e,n._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const s=Fb(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=LI(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=Fb(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,i=r._values[1],s=n.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=Dn.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>e[r]):!e[n])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-WN(e)[1]/LQ*r.offset[0],0],Dn.addTo(r._movement,r._delta),XN(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const FQ=Kn(Kn({},$N),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ps.touch&&Ps.gesture)return"gesture";if(Ps.touch&&r)return"touch";if(Ps.touchscreen){if(Ps.pointer)return"pointer";if(Ps.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=OI(i1(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=OI(i1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Dn.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class OQ extends gg{constructor(...e){super(...e),gr(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Rd(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const n=Rd(e),r=this.state;r._delta=Dn.sub(n,r._values),Dn.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const NQ=Kn(Kn({},zc),{},{mouseOnly:(t=!0)=>t});class UQ extends gg{constructor(...e){super(...e),gr(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const n=this.state,r=dQ(e);n._delta=Dn.sub(r,n._values),Dn.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const zQ=zc;class GQ extends gg{constructor(...e){super(...e),gr(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=WN(e),Dn.addTo(n._movement,n._delta),XN(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const HQ=zc;class VQ extends gg{constructor(...e){super(...e),gr(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Rd(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Rd(e);n._movement=n._delta=Dn.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const WQ=Kn(Kn({},zc),{},{mouseOnly:(t=!0)=>t}),UC=new Map,Ob=new Map;function KN(t){UC.set(t.key,t.engine),Ob.set(t.key,t.resolver)}const YN={key:"drag",engine:_Q,resolver:BQ},jQ={key:"hover",engine:VQ,resolver:WQ},$Q={key:"move",engine:OQ,resolver:NQ},JQ={key:"pinch",engine:kQ,resolver:FQ},XQ={key:"scroll",engine:UQ,resolver:zQ},KQ={key:"wheel",engine:GQ,resolver:HQ};function YQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QQ(t,e){if(t==null)return{};var n=YQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const ZQ={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Ps.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},qQ=["target","eventOptions","window","enabled","transform"];function vy(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=vy(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function eZ(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=QQ(r,qQ);if(n.shared=vy({target:i,eventOptions:s,window:o,enabled:a,transform:l},ZQ),e){const c=Ob.get(e);n[e]=vy(Kn({shared:n.shared},u),c)}else for(const c in u){const f=Ob.get(c);f&&(n[c]=vy(Kn({shared:n.shared},u[c]),f))}return n}class QN{constructor(e,n){gr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=lQ(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Kn(Kn({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class tZ{constructor(){gr(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let nZ=class{constructor(e){gr(this,"gestures",new Set),gr(this,"_targetEventStore",new QN(this)),gr(this,"gestureEventStores",{}),gr(this,"gestureTimeoutStores",{}),gr(this,"handlers",{}),gr(this,"config",{}),gr(this,"pointerIds",new Set),gr(this,"touchIds",new Set),gr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),rZ(this,e)}setEventIds(e){if(bx(e))return this.touchIds=new Set(fQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=eZ(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=GI(r,a.eventOptions,!!i);if(a.enabled){const u=UC.get(o);new u(this,e,o).bind(l)}}const s=GI(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Kn(Kn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=mQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=aQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Mf(t,e){t.gestures.add(e),t.gestureEventStores[e]=new QN(t,e),t.gestureTimeoutStores[e]=new tZ}function rZ(t,e){e.drag&&Mf(t,"drag"),e.wheel&&Mf(t,"wheel"),e.scroll&&Mf(t,"scroll"),e.move&&Mf(t,"move"),e.pinch&&Mf(t,"pinch"),e.hover&&Mf(t,"hover")}const GI=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(u=o.passive)!==null&&u!==void 0?u:e.passive;let d=a?r:sQ(r,i,c);n&&f&&(d+="Passive"),t[d]=t[d]||[],t[d].push(s)},iZ=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sZ(t){const e={},n={},r=new Set;for(let i in t)iZ.test(i)?(r.add(RegExp.lastMatch),n[i]=t[i]):e[i]=t[i];return[n,e,r]}function Ef(t,e,n,r,i,s){if(!t.has(n)||!UC.has(r))return;const o=n+"Start",a=n+"End",l=u=>{let c;return u.first&&o in e&&e[o](u),n in e&&(c=e[n](u)),u.last&&a in e&&e[a](u),c};i[r]=l,s[r]=s[r]||{}}function oZ(t,e){const[n,r,i]=sZ(t),s={};return Ef(i,n,"onDrag","drag",s,e),Ef(i,n,"onWheel","wheel",s,e),Ef(i,n,"onScroll","scroll",s,e),Ef(i,n,"onPinch","pinch",s,e),Ef(i,n,"onMove","move",s,e),Ef(i,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function ZN(t,e={},n,r){const i=ae.useMemo(()=>new nZ(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),ae.useEffect(i.effect.bind(i)),ae.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function aZ(t,e){return KN(YN),ZN({drag:t},e||{},"drag")}function lZ(t){return t.forEach(KN),function(n,r){const{handlers:i,nativeHandlers:s,config:o}=oZ(n,r||{});return ZN(i,o,void 0,s)}}function uZ(t,e){return lZ([YN,JQ,XQ,KQ,$Q,jQ])(t,e)}var zC=xg(),Gt=t=>yg(t,zC),GC=xg();Gt.write=t=>yg(t,GC);var Mx=xg();Gt.onStart=t=>yg(t,Mx);var HC=xg();Gt.onFrame=t=>yg(t,HC);var VC=xg();Gt.onFinish=t=>yg(t,VC);var cd=[];Gt.setTimeout=(t,e)=>{const n=Gt.now()+e,r=()=>{const s=cd.findIndex(o=>o.cancel==r);~s&&cd.splice(s,1),Ml-=~s?1:0},i={time:n,handler:t,cancel:r};return cd.splice(qN(n),0,i),Ml+=1,eU(),i};var qN=t=>~(~cd.findIndex(e=>e.time>t)||~cd.length);Gt.cancel=t=>{Mx.delete(t),HC.delete(t),VC.delete(t),zC.delete(t),GC.delete(t)};Gt.sync=t=>{Nb=!0,Gt.batchedUpdates(t),Nb=!1};Gt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Gt.onStart(n)}return r.handler=t,r.cancel=()=>{Mx.delete(n),e=null},r};var WC=typeof window<"u"?window.requestAnimationFrame:()=>{};Gt.use=t=>WC=t;Gt.now=typeof performance<"u"?()=>performance.now():Date.now;Gt.batchedUpdates=t=>t();Gt.catch=console.error;Gt.frameLoop="always";Gt.advance=()=>{Gt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nU()};var bl=-1,Ml=0,Nb=!1;function yg(t,e){Nb?(e.delete(t),t(0)):(e.add(t),eU())}function eU(){bl<0&&(bl=0,Gt.frameLoop!=="demand"&&WC(tU))}function cZ(){bl=-1}function tU(){~bl&&(WC(tU),Gt.batchedUpdates(nU))}function nU(){const t=bl;bl=Gt.now();const e=qN(bl);if(e&&(rU(cd.splice(0,e),n=>n.handler()),Ml-=e),!Ml){cZ();return}Mx.flush(),zC.flush(t?Math.min(64,bl-t):16.667),HC.flush(),GC.flush(),VC.flush()}function xg(){let t=new Set,e=t;return{add(n){Ml+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Ml-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Ml-=e.size,rU(e,r=>r(n)&&t.add(r)),Ml+=t.size,e=t)}}}function rU(t,e){t.forEach(n=>{try{e(n)}catch(r){Gt.catch(r)}})}var fZ=Object.defineProperty,dZ=(t,e)=>{for(var n in e)fZ(t,n,{get:e[n],enumerable:!0})},ho={};dZ(ho,{assign:()=>pZ,colors:()=>Ol,createStringInterpolator:()=>$C,skipAnimation:()=>sU,to:()=>iU,willAdvance:()=>JC});function Ub(){}var hZ=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function da(t,e){if(st.arr(t)){if(!st.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var mn=(t,e)=>t.forEach(e);function Na(t,e,n){if(st.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var ks=t=>st.und(t)?[]:st.arr(t)?t:[t];function Np(t,e){if(t.size){const n=Array.from(t);t.clear(),mn(n,e)}}var wp=(t,...e)=>Np(t,n=>n(...e)),jC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$C,iU,Ol=null,sU=!1,JC=Ub,pZ=t=>{t.to&&(iU=t.to),t.now&&(Gt.now=t.now),t.colors!==void 0&&(Ol=t.colors),t.skipAnimation!=null&&(sU=t.skipAnimation),t.createStringInterpolator&&($C=t.createStringInterpolator),t.requestAnimationFrame&&Gt.use(t.requestAnimationFrame),t.batchedUpdates&&(Gt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(JC=t.willAdvance),t.frameLoop&&(Gt.frameLoop=t.frameLoop)},Up=new Set,Bs=[],fS=[],s1=0,Ex={get idle(){return!Up.size&&!Bs.length},start(t){s1>t.priority?(Up.add(t),Gt.onStart(mZ)):(oU(t),Gt(zb))},advance:zb,sort(t){if(s1)Gt.onFrame(()=>Ex.sort(t));else{const e=Bs.indexOf(t);~e&&(Bs.splice(e,1),aU(t))}},clear(){Bs=[],Up.clear()}};function mZ(){Up.forEach(oU),Up.clear(),Gt(zb)}function oU(t){Bs.includes(t)||aU(t)}function aU(t){Bs.splice(gZ(Bs,e=>e.priority>t.priority),0,t)}function zb(t){const e=fS;for(let n=0;n<Bs.length;n++){const r=Bs[n];s1=r.priority,r.idle||(JC(r),r.advance(t),r.idle||e.push(r))}return s1=0,fS=Bs,fS.length=0,Bs=e,Bs.length>0}function gZ(t,e){const n=t.findIndex(e);return n<0?t.length:n}var vZ=(t,e,n)=>Math.min(Math.max(n,t),e),yZ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},io="[-+]?\\d*\\.?\\d+",o1=io+"%";function Cx(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var xZ=new RegExp("rgb"+Cx(io,io,io)),_Z=new RegExp("rgba"+Cx(io,io,io,io)),wZ=new RegExp("hsl"+Cx(io,o1,o1)),SZ=new RegExp("hsla"+Cx(io,o1,o1,io)),AZ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bZ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,MZ=/^#([0-9a-fA-F]{6})$/,EZ=/^#([0-9a-fA-F]{8})$/;function CZ(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=MZ.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ol&&Ol[t]!==void 0?Ol[t]:(e=xZ.exec(t))?(Cf(e[1])<<24|Cf(e[2])<<16|Cf(e[3])<<8|255)>>>0:(e=_Z.exec(t))?(Cf(e[1])<<24|Cf(e[2])<<16|Cf(e[3])<<8|WI(e[4]))>>>0:(e=AZ.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=EZ.exec(t))?parseInt(e[1],16)>>>0:(e=bZ.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=wZ.exec(t))?(HI(VI(e[1]),Ev(e[2]),Ev(e[3]))|255)>>>0:(e=SZ.exec(t))?(HI(VI(e[1]),Ev(e[2]),Ev(e[3]))|WI(e[4]))>>>0:null}function dS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HI(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=dS(i,r,t+1/3),o=dS(i,r,t),a=dS(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Cf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function VI(t){return(parseFloat(t)%360+360)%360/360}function WI(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Ev(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function jI(t){let e=CZ(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Cm=(t,e,n)=>{if(st.fun(t))return t;if(st.arr(t))return Cm({range:t,output:e,extrapolate:n});if(st.str(t.output[0]))return $C(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=RZ(u,s);return TZ(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function TZ(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function RZ(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var PZ=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return vZ(0,1,i/t)},a1=1.70158,Cv=a1*1.525,$I=a1+1,JI=2*Math.PI/3,XI=2*Math.PI/4.5,Tv=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,IZ={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>$I*t*t*t-a1*t*t,easeOutBack:t=>1+$I*Math.pow(t-1,3)+a1*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Cv+1)*2*t-Cv)/2:(Math.pow(2*t-2,2)*((Cv+1)*(t*2-2)+Cv)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*JI),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*JI)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*XI))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*XI)/2+1,easeInBounce:t=>1-Tv(1-t),easeOutBounce:Tv,easeInOutBounce:t=>t<.5?(1-Tv(1-2*t))/2:(1+Tv(2*t-1))/2,steps:PZ},Tm=Symbol.for("FluidValue.get"),Pd=Symbol.for("FluidValue.observers"),Do=t=>!!(t&&t[Tm]),Cs=t=>t&&t[Tm]?t[Tm]():t,KI=t=>t[Pd]||null;function BZ(t,e){t.eventObserved?t.eventObserved(e):t(e)}function l1(t,e){const n=t[Pd];n&&n.forEach(r=>{BZ(r,e)})}var DZ=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");LZ(this,t)}},LZ=(t,e)=>lU(t,Tm,e);function _g(t,e){if(t[Tm]){let n=t[Pd];n||lU(t,Pd,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function u1(t,e){const n=t[Pd];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Pd]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var lU=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),yy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,kZ=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,YI=new RegExp(`(${yy.source})(%|[a-z]+)`,"i"),FZ=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Tx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,uU=t=>{const[e,n]=OZ(t);if(!e||jC())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Tx.test(n))return uU(n);if(n)return n}return t},OZ=t=>{const e=Tx.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},hS,NZ=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,cU=t=>{hS||(hS=Ol?new RegExp(`(${Object.keys(Ol).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Cs(s).replace(Tx,uU).replace(kZ,jI).replace(hS,jI)),n=e.map(s=>s.match(yy).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Cm({...t,output:s}));return s=>{var l;const o=!YI.test(e[0])&&((l=e.find(u=>YI.test(u)))==null?void 0:l.replace(yy,""));let a=0;return e[0].replace(yy,()=>`${i[a++](s)}${o||""}`).replace(FZ,NZ)}},XC="react-spring: ",fU=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${XC}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},UZ=fU(console.warn);function zZ(){UZ(`${XC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var GZ=fU(console.warn);function HZ(){GZ(`${XC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Rx(t){return st.str(t)&&(t[0]=="#"||/\d/.test(t)||!jC()&&Tx.test(t)||t in(Ol||{}))}var KC=jC()?I.useEffect:I.useLayoutEffect,VZ=()=>{const t=I.useRef(!1);return KC(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function dU(){const t=I.useState()[1],e=VZ();return()=>{e.current&&t(Math.random())}}function WZ(t,e){const[n]=I.useState(()=>({inputs:e,result:t()})),r=I.useRef(),i=r.current;let s=i;return s?s.inputs&&jZ(e,s.inputs)||(s={inputs:e,result:t()}):s=n,I.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function jZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var hU=t=>I.useEffect(t,$Z),$Z=[];function QI(t){const e=I.useRef();return I.useEffect(()=>{e.current=t}),e.current}var Rm=Symbol.for("Animated:node"),JZ=t=>!!t&&t[Rm]===t,Bo=t=>t&&t[Rm],YC=(t,e)=>hZ(t,Rm,e),Px=t=>t&&t[Rm]&&t[Rm].getPayload(),pU=class{constructor(){YC(this,this)}getPayload(){return this.payload||[]}},wg=class extends pU{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,st.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new wg(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return st.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Pm=class extends wg{constructor(t){super(0),this._string=null,this._toString=Cm({output:[t,t]})}static create(t){return new Pm(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(st.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Cm({output:[this.getValue(),t]})),this._value=0,super.reset()}},c1={dependencies:null},QC=class extends pU{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Na(this.source,(n,r)=>{JZ(n)?e[r]=n.getValue(t):Do(n)?e[r]=Cs(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&mn(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Na(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){c1.dependencies&&Do(t)&&c1.dependencies.add(t);const e=Px(t);e&&mn(e,n=>this.add(n))}},mU=class extends QC{constructor(t){super(t)}static create(t){return new mU(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(XZ)),!0)}};function XZ(t){return(Rx(t)?Pm:wg).create(t)}function Gb(t){const e=Bo(t);return e?e.constructor:st.arr(t)?mU:Rx(t)?Pm:wg}var ZI=(t,e)=>{const n=!st.fun(t)||t.prototype&&t.prototype.isReactComponent;return I.forwardRef((r,i)=>{const s=I.useRef(null),o=n&&I.useCallback(g=>{s.current=QZ(i,g)},[i]),[a,l]=YZ(r,e),u=dU(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},f=new KZ(c,l),d=I.useRef();KC(()=>(d.current=f,mn(l,g=>_g(g,f)),()=>{d.current&&(mn(d.current.deps,g=>u1(g,d.current)),Gt.cancel(d.current.update))})),I.useEffect(c,[]),hU(()=>()=>{const g=d.current;mn(g.deps,v=>u1(v,g))});const m=e.getComponentProps(a.getValue());return I.createElement(t,{...m,ref:o})})},KZ=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Gt.write(this.update)}};function YZ(t,e){const n=new Set;return c1.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new QC(t),c1.dependencies=null,[t,n]}function QZ(t,e){return t&&(st.fun(t)?t(e):t.current=e),e}var qI=Symbol.for("AnimatedComponent"),ZZ=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new QC(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=eB(o)||"Anonymous";return st.str(o)?o=s[o]||(s[o]=ZI(o,i)):o=o[qI]||(o[qI]=ZI(o,i)),o.displayName=`Animated(${a})`,o};return Na(t,(o,a)=>{st.arr(t)&&(a=eB(o)),s[a]=s(o)}),{animated:s}},eB=t=>st.str(t)?t:t&&st.str(t.displayName)?t.displayName:st.fun(t)&&t.name||null;function Hu(t,...e){return st.fun(t)?t(...e):t}var zp=(t,e)=>t===!0||!!(e&&t&&(st.fun(t)?t(e):ks(t).includes(e))),gU=(t,e)=>st.obj(t)?e&&t[e]:t,vU=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,qZ=t=>t,ZC=(t,e=qZ)=>{let n=eq;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);st.und(s)||(r[i]=s)}return r},eq=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tq={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function nq(t){const e={};let n=0;if(Na(t,(r,i)=>{tq[i]||(e[i]=r,n++)}),n)return e}function yU(t){const e=nq(t);if(e){const n={to:e};return Na(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function Im(t){return t=Cs(t),st.arr(t)?t.map(Im):Rx(t)?ho.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function rq(t){for(const e in t)return!0;return!1}function Hb(t){return st.fun(t)||st.arr(t)&&st.obj(t[0])}function iq(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function sq(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var oq={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Vb={...oq.default,mass:1,damping:1,easing:IZ.linear,clamp:!1},aq=class{constructor(){this.velocity=0,Object.assign(this,Vb)}};function lq(t,e,n){n&&(n={...n},tB(n,e),e={...n,...e}),tB(t,e),Object.assign(t,e);for(const o in Vb)t[o]==null&&(t[o]=Vb[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return st.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function tB(t,e){if(!st.und(e.decay))t.duration=void 0;else{const n=!st.und(e.tension)||!st.und(e.friction);(n||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var nB=[],uq=class{constructor(){this.changed=!1,this.values=nB,this.toValues=null,this.fromValues=nB,this.config=new aq,this.immediate=!1}};function xU(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=zp(n.cancel??(r==null?void 0:r.cancel),e);if(c)m();else{st.und(n.pause)||(i.paused=zp(n.pause,e));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||zp(g,e)),l=Hu(n.delay||0,e),g?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(u),u.cancel(),l=u.time-Gt.now()}function d(){l>0&&!ho.skipAnimation?(i.delayed=!0,u=Gt.setTimeout(m,l),i.pauseQueue.add(f),i.timeouts.add(u)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:t,cancel:c},o)}catch(g){a(g)}}})}var qC=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?fd(t.get()):e.every(n=>n.noop)?_U(t.get()):no(t.get(),e.every(n=>n.finished)),_U=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),no=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),fd=t=>({value:t,cancelled:!0,finished:!1});function wU(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=ZC(e,(y,x)=>x==="onRest"?void 0:y);let c,f;const d=new Promise((y,x)=>(c=y,f=x)),m=y=>{const x=i<=(n.cancelId||0)&&fd(r)||i!==n.asyncId&&no(r,!1);if(x)throw y.result=x,f(y),y},g=(y,x)=>{const _=new rB,w=new iB;return(async()=>{if(ho.skipAnimation)throw Bm(n),w.result=no(r,!1),f(w),w;m(_);const A=st.obj(y)?{...y}:{...x,to:y};A.parentId=i,Na(u,(C,T)=>{st.und(A[T])&&(A[T]=C)});const M=await r.start(A);return m(_),n.paused&&await new Promise(C=>{n.resumeQueue.add(C)}),M})()};let v;if(ho.skipAnimation)return Bm(n),no(r,!1);try{let y;st.arr(t)?y=(async x=>{for(const _ of x)await g(_)})(t):y=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([y.then(c),d]),v=no(r.get(),!0,!1)}catch(y){if(y instanceof rB)v=y.result;else if(y instanceof iB)v=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return st.fun(o)&&Gt.batchedUpdates(()=>{o(v,r,r.item)}),v})()}function Bm(t,e){Np(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var rB=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},iB=class extends Error{constructor(){super("SkipAnimationSignal")}},Wb=t=>t instanceof e2,cq=1,e2=class extends DZ{constructor(){super(...arguments),this.id=cq++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Bo(this);return t&&t.getValue()}to(...t){return ho.to(this,t)}interpolate(...t){return zZ(),ho.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){l1(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Ex.sort(this),l1(this,{type:"priority",parent:this,priority:t})}},Rc=Symbol.for("SpringPhase"),SU=1,AU=2,bU=4,pS=t=>(t[Rc]&SU)>0,cl=t=>(t[Rc]&AU)>0,np=t=>(t[Rc]&bU)>0,sB=(t,e)=>e?t[Rc]|=AU|SU:t[Rc]&=-3,oB=(t,e)=>e?t[Rc]|=bU:t[Rc]&=-5,fq=class extends e2{constructor(t,e){if(super(),this.animation=new uq,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(t)||!st.und(e)){const n=st.obj(t)?{...t}:{...e,from:t};st.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(cl(this)||this._state.asyncTo)||np(this)}get goal(){return Cs(this.animation.to)}get velocity(){const t=Bo(this);return t instanceof wg?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return pS(this)}get isAnimating(){return cl(this)}get isPaused(){return np(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Px(r.to);!o&&Do(r.to)&&(i=ks(Cs(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const f=u.constructor==Pm?1:o?o[c].lastPosition:i[c];let d=r.immediate,m=f;if(!d){if(m=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const v=r.fromValues[c],y=u.v0!=null?u.v0:u.v0=st.arr(s.velocity)?s.velocity[c]:s.velocity;let x;const _=s.precision||(v==f?.005:Math.min(1,Math.abs(f-v)*.001));if(st.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,A=Math.exp(-(1-w)*g);m=v+y/(1-w)*(1-A),d=Math.abs(u.lastPosition-m)<=_,x=y*A}else{x=u.lastVelocity==null?y:u.lastVelocity;const w=s.restVelocity||_/10,A=s.clamp?0:s.bounce,M=!st.und(A),C=v==f?u.v0>0:v<f;let T,E=!1;const P=1,B=Math.ceil(t/P);for(let N=0;N<B&&(T=Math.abs(x)>w,!(!T&&(d=Math.abs(f-m)<=_,d)));++N){M&&(E=m==f||m>f==C,E&&(x=-x*A,m=f));const F=-s.tension*1e-6*(m-f),U=-s.friction*.001*x,O=(F+U)/s.mass;x=x+O*P,m=m+x*P}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=t)),w=(s.progress||0)+g/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),m=v+s.easing(w)*(f-v),x=(m-u.lastPosition)/t,d=w==1}u.lastVelocity=x,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?u.done=!0:e=!1,u.setValue(m,s.round)&&(n=!0)});const a=Bo(this),l=a.getValue();if(e){const u=Cs(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Gt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(cl(this)){const{to:t,config:e}=this.animation;Gt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return st.und(t)?(n=this.queue||[],this.queue=[]):n=[st.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>qC(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Bm(this._state,t&&this._lastCallId),Gt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=st.obj(n)?n[e]:n,(n==null||Hb(n))&&(n=void 0),r=st.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return pS(this)||(t.reverse&&([n,r]=[r,n]),r=Cs(r),st.und(r)?Bo(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,ZC(t,(o,a)=>/^on/.test(a)?gU(o,n):o)),lB(this,t,"onProps"),ip(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return xU(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{np(this)||(oB(this,!0),wp(s.pauseQueue),ip(this,"onPause",no(this,rp(this,this.animation.to)),this))},resume:()=>{np(this)&&(oB(this,!1),cl(this)&&this._resume(),wp(s.resumeQueue),ip(this,"onResume",no(this,rp(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=MU(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(fd(this));const r=!st.und(t.to),i=!st.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(fd(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:f=u}=t;i&&!r&&(!e.default||st.und(c))&&(c=f),e.reverse&&([c,f]=[f,c]);const d=!da(f,u);d&&(a.from=f),f=Cs(f);const m=!da(c,l);m&&this._focus(c);const g=Hb(e.to),{config:v}=a,{decay:y,velocity:x}=v;(r||i)&&(v.velocity=0),e.config&&!g&&lq(v,Hu(e.config,s),e.config!==o.config?Hu(o.config,s):void 0);let _=Bo(this);if(!_||st.und(c))return n(no(this,!0));const w=st.und(e.reset)?i&&!e.default:!st.und(f)&&zp(e.reset,s),A=w?f:this.get(),M=Im(c),C=st.num(M)||st.arr(M)||Rx(M),T=!g&&(!C||zp(o.immediate||e.immediate,s));if(m){const N=Gb(c);if(N!==_.constructor)if(T)_=this._set(M);else throw Error(`Cannot animate between ${_.constructor.name} and ${N.name}, as the "to" prop suggests`)}const E=_.constructor;let P=Do(c),B=!1;if(!P){const N=w||!pS(this)&&d;(m||N)&&(B=da(Im(A),M),P=!B),(!da(a.immediate,T)&&!T||!da(v.decay,y)||!da(v.velocity,x))&&(P=!0)}if(B&&cl(this)&&(a.changed&&!w?P=!0:P||this._stop(l)),!g&&((P||Do(l))&&(a.values=_.getPayload(),a.toValues=Do(c)?null:E==Pm?[1]:ks(M)),a.immediate!=T&&(a.immediate=T,!T&&!w&&this._set(l)),P)){const{onRest:N}=a;mn(hq,U=>lB(this,e,U));const F=no(this,rp(this,l));wp(this._pendingCalls,F),this._pendingCalls.add(n),a.changed&&Gt.batchedUpdates(()=>{var U;a.changed=!w,N==null||N(F,this),w?Hu(o.onRest,F):(U=a.onStart)==null||U.call(a,F,this)})}w&&this._set(A),g?n(wU(e.to,e,this._state,this)):P?this._start():cl(this)&&!m?this._pendingCalls.add(n):n(_U(A))}_focus(t){const e=this.animation;t!==e.to&&(KI(this)&&this._detach(),e.to=t,KI(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Do(e)&&(_g(e,this),Wb(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Do(t)&&u1(t,this)}_set(t,e=!0){const n=Cs(t);if(!st.und(n)){const r=Bo(this);if(!r||!da(n,r.getValue())){const i=Gb(n);!r||r.constructor!=i?YC(this,i.create(n)):r.setValue(n),r&&Gt.batchedUpdates(()=>{this._onChange(n,e)})}}return Bo(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,ip(this,"onStart",no(this,rp(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Hu(this.animation.onChange,t,this)),Hu(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Bo(this).reset(Cs(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),cl(this)||(sB(this,!0),np(this)||this._resume())}_resume(){ho.skipAnimation?this.finish():Ex.start(this)}_stop(t,e){if(cl(this)){sB(this,!1);const n=this.animation;mn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),l1(this,{type:"idle",parent:this});const r=e?fd(this.get()):no(this.get(),rp(this,t??n.to));wp(this._pendingCalls,r),n.changed&&(n.changed=!1,ip(this,"onRest",r,this))}}};function rp(t,e){const n=Im(e),r=Im(t.get());return da(r,n)}function MU(t,e=t.loop,n=t.to){const r=Hu(e);if(r){const i=r!==!0&&yU(r),s=(i||t).reverse,o=!i||i.reset;return Dm({...t,loop:e,default:!1,pause:void 0,to:!s||Hb(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function Dm(t){const{to:e,from:n}=t=yU(t),r=new Set;return st.obj(e)&&aB(e,r),st.obj(n)&&aB(n,r),t.keys=r.size?Array.from(r):null,t}function dq(t){const e=Dm(t);return st.und(e.default)&&(e.default=ZC(e)),e}function aB(t,e){Na(t,(n,r)=>n!=null&&e.add(r))}var hq=["onStart","onRest","onChange","onPause","onResume"];function lB(t,e,n){t.animation[n]=e[n]!==vU(e,n)?gU(e[n],t.key):void 0}function ip(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var pq=["onStart","onChange","onRest"],mq=1,gq=class{constructor(t,e){this.id=mq++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];st.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(Dm(t)),this}start(t){let{queue:e}=this;return t?e=ks(t).map(Dm):this.queue=[],this._flush?this._flush(this,e):(PU(this,e),jb(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;mn(ks(e),r=>n[r].stop(!!t))}else Bm(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(st.und(t))this.start({pause:!0});else{const e=this.springs;mn(ks(t),n=>e[n].pause())}return this}resume(t){if(st.und(t))this.start({pause:!1});else{const e=this.springs;mn(ks(t),n=>e[n].resume())}return this}each(t){Na(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Np(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&Np(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Np(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Gt.onFrame(this._onFrame)}};function jb(t,e){return Promise.all(e.map(n=>EU(t,n))).then(n=>qC(t,n))}async function EU(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=st.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=st.arr(i)||st.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):mn(pq,v=>{const y=e[v];if(st.fun(y)){const x=t._events[v];e[v]=({finished:_,cancelled:w})=>{const A=x.get(y);A?(_||(A.finished=!1),w&&(A.cancelled=!0)):x.set(y,{value:null,finished:_||!1,cancelled:w||!1})},u&&(u[v]=e[v])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,wp(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const d=(r||Object.keys(t.springs)).map(v=>t.springs[v].start(e)),m=e.cancel===!0||vU(e,"cancel")===!0;(c||m&&f.asyncId)&&d.push(xU(++t._lastAsyncId,{props:e,state:f,actions:{pause:Ub,resume:Ub,start(v,y){m?(Bm(f,t._lastAsyncId),y(fd(t))):(v.onRest=a,y(wU(c,v,f,t)))}}})),f.paused&&await new Promise(v=>{f.resumeQueue.add(v)});const g=qC(t,await Promise.all(d));if(o&&g.finished&&!(n&&g.noop)){const v=MU(e,o,i);if(v)return PU(t,[v]),EU(t,v,!0)}return l&&Gt.batchedUpdates(()=>l(g,t,t.item)),g}function uB(t,e){const n={...t.springs};return e&&mn(ks(e),r=>{st.und(r.keys)&&(r=Dm(r)),st.obj(r.to)||(r={...r,to:void 0}),RU(n,r,i=>TU(i))}),CU(t,n),n}function CU(t,e){Na(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,_g(n,t))})}function TU(t,e){const n=new fq;return n.key=t,e&&_g(n,e),n}function RU(t,e,n){e.keys&&mn(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function PU(t,e){mn(e,n=>{RU(t.springs,n,r=>TU(r,t))})}var Ix=({children:t,...e})=>{const n=I.useContext(f1),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=WZ(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=f1;return I.createElement(s,{value:e},t)},f1=vq(Ix,{});Ix.Provider=f1.Provider;Ix.Consumer=f1.Consumer;function vq(t,e){return Object.assign(t,I.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var yq=()=>{const t=[],e=function(r){HZ();const i=[];return mn(t,(s,o)=>{if(st.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return mn(t,r=>r.pause(...arguments)),this},e.resume=function(){return mn(t,r=>r.resume(...arguments)),this},e.set=function(r){mn(t,(i,s)=>{const o=st.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return mn(t,(s,o)=>{if(st.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return mn(t,r=>r.stop(...arguments)),this},e.update=function(r){return mn(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return st.fun(r)?r(s,i):r};return e._getProps=n,e};function xq(t,e,n){const r=st.fun(e)&&e;r&&!n&&(n=[]);const i=I.useMemo(()=>r||arguments.length==3?yq():void 0,[]),s=I.useRef(0),o=dU(),a=I.useMemo(()=>({ctrls:[],queue:[],flush(x,_){const w=uB(x,_);return s.current>0&&!a.queue.length&&!Object.keys(w).some(M=>!x.springs[M])?jb(x,_):new Promise(M=>{CU(x,w),a.queue.push(()=>{M(jb(x,_))}),o()})}}),[]),l=I.useRef([...a.ctrls]),u=[],c=QI(t)||0;I.useMemo(()=>{mn(l.current.slice(t,c),x=>{iq(x,i),x.stop(!0)}),l.current.length=t,f(c,t)},[t]),I.useMemo(()=>{f(0,Math.min(c,t))},n);function f(x,_){for(let w=x;w<_;w++){const A=l.current[w]||(l.current[w]=new gq(null,a.flush)),M=r?r(w,A):e[w];M&&(u[w]=dq(M))}}const d=l.current.map((x,_)=>uB(x,u[_])),m=I.useContext(Ix),g=QI(m),v=m!==g&&rq(m);KC(()=>{s.current++,a.ctrls=l.current;const{queue:x}=a;x.length&&(a.queue=[],mn(x,_=>_())),mn(l.current,(_,w)=>{i==null||i.add(_),v&&_.start({default:m});const A=u[w];A&&(sq(_,A.ref),_.ref?_.queue.push(A):_.start(A))})}),hU(()=>()=>{mn(a.ctrls,x=>x.stop(!0))});const y=d.map(x=>({...x}));return i?[y,i]:y}function ai(t,e){const n=st.fun(t),[[r],i]=xq(1,n?t:[t],n?[]:e);return n||arguments.length==2?[r,i]:r}var _q=class extends e2{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Cm(...e);const n=this._get(),r=Gb(n);YC(this,r.create(n))}advance(t){const e=this._get(),n=this.get();da(e,n)||(Bo(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&cB(this._active)&&mS(this)}_get(){const t=st.arr(this.source)?this.source.map(Cs):ks(Cs(this.source));return this.calc(...t)}_start(){this.idle&&!cB(this._active)&&(this.idle=!1,mn(Px(this),t=>{t.done=!1}),ho.skipAnimation?(Gt.batchedUpdates(()=>this.advance()),mS(this)):Ex.start(this))}_attach(){let t=1;mn(ks(this.source),e=>{Do(e)&&_g(e,this),Wb(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){mn(ks(this.source),t=>{Do(t)&&u1(t,this)}),this._active.clear(),mS(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ks(this.source).reduce((e,n)=>Math.max(e,(Wb(n)?n.priority:0)+1),0))}};function wq(t){return t.idle!==!1}function cB(t){return!t.size||Array.from(t).every(wq)}function mS(t){t.idle||(t.idle=!0,mn(Px(t),e=>{e.done=!0}),l1(t,{type:"idle",parent:t}))}ho.assign({createStringInterpolator:cU,to:(t,e)=>new _q(t,e)});var Sq=["primitive"].concat(Object.keys(hN).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));ho.assign({createStringInterpolator:cU,colors:yZ,frameLoop:"demand"});dY(()=>{Gt.advance()});var Aq=ZZ(Sq,{applyAnimatedValues:ga}),li=Aq.animated;function bq({enabled:t=!0,snap:e,global:n,domElement:r,cursor:i=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:u=[0,Math.PI/2],azimuth:c=[-1/0,1/0],config:f={mass:1,tension:170,friction:26}}){const d=lo(C=>C.events),m=lo(C=>C.gl),g=r||d.connected||m.domElement,{size:v}=lo(),y=I.useMemo(()=>[a[0]+u[0],a[0]+u[1]],[a[0],u[0],u[1]]),x=I.useMemo(()=>[a[1]+c[0],a[1]+c[1]],[a[1],c[0],c[1]]),_=I.useMemo(()=>[ro.clamp(a[0],...y),ro.clamp(a[1],...x),a[2]],[a[0],a[1],a[2],y,x]),[w,A]=ai(()=>({scale:1,rotation:_,config:f}));I.useEffect(()=>void A.start({scale:1,rotation:_,config:f}),[_]),I.useEffect(()=>{if(n&&i&&t)return g.style.cursor="grab",m.domElement.style.cursor="",()=>{g.style.cursor="default",m.domElement.style.cursor="default"}},[n,i,g,t]);const M=uZ({onHover:({last:C})=>{i&&!n&&t&&(g.style.cursor=C?"auto":"grab")},onDrag:({down:C,delta:[T,E],memo:[P,B]=w.rotation.animation.to||_})=>{if(!t)return[E,T];i&&(g.style.cursor=C?"grabbing":"grab"),T=ro.clamp(B+T/v.width*Math.PI*o,...x),E=ro.clamp(P+E/v.height*Math.PI*o,...y);const N=e&&!C&&typeof e!="boolean"?e:f;return A.start({scale:C&&E>y[1]/2?l:1,rotation:e&&!C?_:[E,T,0],config:F=>F==="scale"?{...N,friction:N.friction*3}:N}),[E,T]}},{target:n?g:void 0});return I.createElement(li.group,Xl({},M==null?void 0:M(),w),s)}const t2=parseInt(Xm.replace(/\D+/g,""));function Mq(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),i=t.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(t.attributes),l={},u={},c=[],f=["getX","getY","getZ","getW"];for(let v=0,y=a.length;v<y;v++){const x=a[v];l[x]=[];const _=t.morphAttributes[x];_&&(u[x]=new Array(_.length).fill(0).map(()=>[]))}const d=Math.log10(1/e),m=Math.pow(10,d);for(let v=0;v<s;v++){const y=r?r.getX(v):v;let x="";for(let _=0,w=a.length;_<w;_++){const A=a[_],M=t.getAttribute(A),C=M.itemSize;for(let T=0;T<C;T++)x+=`${~~(M[f[T]](y)*m)},`}if(x in n)c.push(n[x]);else{for(let _=0,w=a.length;_<w;_++){const A=a[_],M=t.getAttribute(A),C=t.morphAttributes[A],T=M.itemSize,E=l[A],P=u[A];for(let B=0;B<T;B++){const N=f[B];if(E.push(M[N](y)),C)for(let F=0,U=C.length;F<U;F++)P[F].push(C[F][N](y))}}n[x]=o,c.push(o),o++}}const g=t.clone();for(let v=0,y=a.length;v<y;v++){const x=a[v],_=t.getAttribute(x),w=new _.array.constructor(l[x]),A=new rn(w,_.itemSize,_.normalized);if(g.setAttribute(x,A),x in u)for(let M=0;M<u[x].length;M++){const C=t.morphAttributes[x][M],T=new C.array.constructor(u[x][M]),E=new rn(T,C.itemSize,C.normalized);g.morphAttributes[x][M]=E}}return g.setIndex(c),g}function fB(t,e){if(e===d4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===t1||e===YE){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===t1)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var Ds=Uint8Array,El=Uint16Array,$b=Uint32Array,IU=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),BU=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Eq=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DU=function(t,e){for(var n=new El(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new $b(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},LU=DU(IU,2),kU=LU[0],Cq=LU[1];kU[28]=258,Cq[258]=28;var Tq=DU(BU,0),Rq=Tq[0],Jb=new El(32768);for(var In=0;In<32768;++In){var fl=(In&43690)>>>1|(In&21845)<<1;fl=(fl&52428)>>>2|(fl&13107)<<2,fl=(fl&61680)>>>4|(fl&3855)<<4,Jb[In]=((fl&65280)>>>8|(fl&255)<<8)>>>1}var Gp=function(t,e,n){for(var r=t.length,i=0,s=new El(e);i<r;++i)++s[t[i]-1];var o=new El(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new El(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[Jb[f]>>>l]=u}else for(a=new El(r),i=0;i<r;++i)t[i]&&(a[i]=Jb[o[t[i]-1]++]>>>15-t[i]);return a},Sg=new Ds(288);for(var In=0;In<144;++In)Sg[In]=8;for(var In=144;In<256;++In)Sg[In]=9;for(var In=256;In<280;++In)Sg[In]=7;for(var In=280;In<288;++In)Sg[In]=8;var FU=new Ds(32);for(var In=0;In<32;++In)FU[In]=5;var Pq=Gp(Sg,9,1),Iq=Gp(FU,5,1),gS=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Qs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},vS=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Bq=function(t){return(t/8|0)+(t&7&&1)},Dq=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof El?El:t instanceof $b?$b:Ds)(n-e);return r.set(t.subarray(e,n)),r},Lq=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Ds(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ds(r*3));var o=function(Y){var ue=e.length;if(Y>ue){var ce=new Ds(Math.max(ue*2,Y));ce.set(e),e=ce}},a=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,d=n.m,m=n.n,g=r*8;do{if(!c){n.f=a=Qs(t,l,1);var v=Qs(t,l+1,3);if(l+=3,v)if(v==1)c=Pq,f=Iq,d=9,m=5;else if(v==2){var w=Qs(t,l,31)+257,A=Qs(t,l+10,15)+4,M=w+Qs(t,l+5,31)+1;l+=14;for(var C=new Ds(M),T=new Ds(19),E=0;E<A;++E)T[Eq[E]]=Qs(t,l+E*3,7);l+=A*3;for(var P=gS(T),B=(1<<P)-1,N=Gp(T,P,1),E=0;E<M;){var F=N[Qs(t,l,B)];l+=F&15;var y=F>>>4;if(y<16)C[E++]=y;else{var U=0,O=0;for(y==16?(O=3+Qs(t,l,3),l+=2,U=C[E-1]):y==17?(O=3+Qs(t,l,7),l+=3):y==18&&(O=11+Qs(t,l,127),l+=7);O--;)C[E++]=U}}var J=C.subarray(0,w),$=C.subarray(w);d=gS(J),m=gS($),c=Gp(J,d,1),f=Gp($,m,1)}else throw"invalid block type";else{var y=Bq(l)+4,x=t[y-4]|t[y-3]<<8,_=y+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(u+x),e.set(t.subarray(y,_),u),n.b=u+=x,n.p=l=_*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var ie=(1<<d)-1,H=(1<<m)-1,j=l;;j=l){var U=c[vS(t,l)&ie],W=U>>>4;if(l+=U&15,l>g){if(s)throw"unexpected EOF";break}if(!U)throw"invalid length/literal";if(W<256)e[u++]=W;else if(W==256){j=l,c=null;break}else{var G=W-254;if(W>264){var E=W-257,z=IU[E];G=Qs(t,l,(1<<z)-1)+kU[E],l+=z}var X=f[vS(t,l)&H],ne=X>>>4;if(!X)throw"invalid distance";l+=X&15;var $=Rq[ne];if(ne>3){var z=BU[ne];$+=vS(t,l)&(1<<z)-1,l+=z}if(l>g){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var ee=u+G;u<ee;u+=4)e[u]=e[u-$],e[u+1]=e[u+1-$],e[u+2]=e[u+2-$],e[u+3]=e[u+3-$];u=ee}}n.l=c,n.p=j,n.b=u,c&&(a=1,n.m=d,n.d=f,n.n=m)}while(!a);return u==e.length?e:Dq(e,0,u)},kq=new Ds(0),Fq=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Rv(t,e){return Lq((Fq(t),t.subarray(2,-4)),e)}var Oq=typeof TextDecoder<"u"&&new TextDecoder,Nq=0;try{Oq.decode(kq,{stream:!0}),Nq=1}catch{}const Uq=t=>t&&t.isCubeTexture;class zq extends Un{constructor(e,n){var r,i;const s=Uq(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${t2>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,v={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new Kd(1,16),x=new ls({uniforms:v,fragmentShader:g,vertexShader:m,side:ns});super(y,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function d1(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const qu="srgb",Ca="srgb-linear",dB=3001,Gq=3e3;class n2 extends Jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new $q(n)}),this.register(function(n){return new Jq(n)}),this.register(function(n){return new nee(n)}),this.register(function(n){return new ree(n)}),this.register(function(n){return new iee(n)}),this.register(function(n){return new Kq(n)}),this.register(function(n){return new Yq(n)}),this.register(function(n){return new Qq(n)}),this.register(function(n){return new Zq(n)}),this.register(function(n){return new jq(n)}),this.register(function(n){return new qq(n)}),this.register(function(n){return new Xq(n)}),this.register(function(n){return new tee(n)}),this.register(function(n){return new eee(n)}),this.register(function(n){return new Vq(n)}),this.register(function(n){return new see(n)}),this.register(function(n){return new oee(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Fl.extractUrlBase(e);o=Fl.resolveURL(u,this.path)}else o=Fl.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ur(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(d1(new Uint8Array(e.slice(0,4)))===OU){try{o[Qt.KHR_BINARY_GLTF]=new aee(e)}catch(c){i&&i(c);return}s=JSON.parse(o[Qt.KHR_BINARY_GLTF].content)}else s=JSON.parse(d1(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new _ee(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case Qt.KHR_MATERIALS_UNLIT:o[c]=new Wq;break;case Qt.KHR_DRACO_MESH_COMPRESSION:o[c]=new lee(s,this.dracoLoader);break;case Qt.KHR_TEXTURE_TRANSFORM:o[c]=new uee;break;case Qt.KHR_MESH_QUANTIZATION:o[c]=new cee;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Hq(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Vq{constructor(e){this.parser=e,this.name=Qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new ut(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],Ca);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new EC(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new MC(c),u.distance=f;break;case"spot":u=new bC(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,ha(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Wq{constructor(){this.name=Qt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ai}extendParams(e,n,r){const i=[];e.color=new ut(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ca),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,qu))}return Promise.all(i)}}class jq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class $q{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new je(a,a)}return Promise.all(s)}}class Jq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Xq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Kq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new ut(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Ca)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,qu)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Yq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Qq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new ut().setRGB(a[0],a[1],a[2],Ca),Promise.all(s)}}class Zq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class qq{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new ut().setRGB(a[0],a[1],a[2],Ca),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,qu)),Promise.all(s)}}class eee{constructor(e){this.parser=e,this.name=Qt.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class tee{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hs}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class nee{constructor(e){this.parser=e,this.name=Qt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class ree{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class iee{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class see{constructor(e){this.name=Qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,d,i.mode,i.filter),m})})}else return null}}class oee{constructor(e){this.name=Qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==bs.TRIANGLES&&u.mode!==bs.TRIANGLE_STRIP&&u.mode!==bs.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],d=u[0].count,m=[];for(const g of f){const v=new Lt,y=new Z,x=new si,_=new Z(1,1,1),w=new lC(g.geometry,g.material,d);for(let A=0;A<d;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,A),l.SCALE&&_.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,v.compose(y,x,_));for(const A in l)if(A==="_COLOR_0"){const M=l[A];w.instanceColor=new $l(M.array,M.itemSize,M.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);Zt.prototype.copy.call(w,g),this.parser.assignFinalMaterial(w),m.push(w)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const OU="glTF",sp=12,hB={JSON:1313821514,BIN:5130562};class aee{constructor(e){this.name=Qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,sp);if(this.header={magic:d1(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==OU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-sp,i=new DataView(e,sp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===hB.JSON){const l=new Uint8Array(e,sp+s,o);this.content=d1(l)}else if(a===hB.BIN){const l=sp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class lee{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=Xb[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=Xb[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],m=dd[d.componentType];u[f]=m.name,l[f]=d.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f,d){i.decodeDracoFile(c,function(m){for(const g in m.attributes){const v=m.attributes[g],y=l[g];y!==void 0&&(v.normalized=y)}f(m)},a,u,Ca,d)})})}}class uee{constructor(){this.name=Qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class cee{constructor(){this.name=Qt.KHR_MESH_QUANTIZATION}}class NU extends Zd{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,f=(r-n)/c,d=f*f,m=d*f,g=e*u,v=g-u,y=-2*m+3*d,x=m-d,_=1-y,w=x-d+f;for(let A=0;A!==a;A++){const M=o[v+A+a],C=o[v+A+l]*c,T=o[g+A+a],E=o[g+A]*c;s[A]=_*M+w*C+y*T+x*E}return s}}const fee=new si;class dee extends NU{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return fee.fromArray(s).normalize().toArray(s),s}}const bs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},dd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pB={9728:tr,9729:en,9984:gm,9985:ix,9986:ud,9987:Vo},mB={33071:Pn,33648:bd,10497:Vl},yS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Xb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...t2>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},dl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},hee={CUBICSPLINE:void 0,LINEAR:bc,STEP:Md},xS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function pee(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new hg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ho})),t.DefaultMaterial}function Bu(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ha(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function mee(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function gee(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function vee(t){let e;const n=t.extensions&&t.extensions[Qt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+_S(n.attributes):e=t.indices+":"+_S(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+_S(t.targets[r]);return e}function _S(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Kb(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function yee(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const xee=new Lt;class _ee{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Hq,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new qd(this.options.manager):this.textureLoader=new aN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ur(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Bu(s,a,i),ha(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Fl.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=yS[i.type],a=dd[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new rn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=yS[i.type],u=dd[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==f){const x=Math.floor(d/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=n.cache.get(_);w||(v=new u(a,x*m,i.count*m/c),w=new tg(v,m/c),n.cache.add(_,w)),y=new jl(w,l,d%m/c,g)}else a===null?v=new u(i.count*l):v=new u(a,d,i.count*l),y=new rn(v,l,g);if(i.sparse!==void 0){const x=yS.SCALAR,_=dd[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,M=new _(o[1],w,i.sparse.count*x),C=new u(o[2],A,i.sparse.count*l);a!==null&&(y=new rn(y.array.slice(),y.itemSize,y.normalized));for(let T=0,E=M.length;T<E;T++){const P=M[T];if(y.setX(P,C[T*l]),l>=2&&y.setY(P,C[T*l+1]),l>=3&&y.setZ(P,C[T*l+2]),l>=4&&y.setW(P,C[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=pB[d.magFilter]||en,c.minFilter=pB[d.minFilter]||Vo,c.wrapS=mB[d.wrapS]||Vl,c.wrapT=mB[d.wrapT]||Vl,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(d,m){let g=d;n.isImageBitmapLoader===!0&&(g=function(v){const y=new cn(v);y.needsUpdate=!0,d(y)}),n.load(Fl.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),ha(f,o),f.userData.mimeType=o.mimeType||yee(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Qt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Qt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Qt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===dB?qu:Ca),"colorSpace"in o?o.colorSpace=i:o.encoding=i===qu?dB:Gq),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new mx,br.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ui,br.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return hg}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Qt.KHR_MATERIALS_UNLIT]){const f=i[Qt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ut(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Ca),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,qu)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ns);const c=s.alphaMode||xS.OPAQUE;if(c===xS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===xS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ai&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new je(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==Ai&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ai){const f=s.emissiveFactor;a.emissive=new ut().setRGB(f[0],f[1],f[2],Ca)}return s.emissiveTexture!==void 0&&o!==Ai&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,qu)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),ha(f,s),n.associations.set(f,{materials:e}),s.extensions&&Bu(i,f,s),f})}createUniqueName(e){const n=nn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return gB(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=vee(u),f=i[c];if(f)o.push(f.promise);else{let d;u.extensions&&u.extensions[Qt.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=gB(new $t,u,n),i[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?pee(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,g=c.length;m<g;m++){const v=c[m],y=o[m];let x;const _=u[m];if(y.mode===bs.TRIANGLES||y.mode===bs.TRIANGLE_STRIP||y.mode===bs.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new aC(v,_):new Un(v,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===bs.TRIANGLE_STRIP?x.geometry=fB(x.geometry,YE):y.mode===bs.TRIANGLE_FAN&&(x.geometry=fB(x.geometry,t1));else if(y.mode===bs.LINES)x=new xo(v,_);else if(y.mode===bs.LINE_STRIP)x=new Oa(v,_);else if(y.mode===bs.LINE_LOOP)x=new uC(v,_);else if(y.mode===bs.POINTS)x=new cC(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&gee(x,s),x.name=n.createUniqueName(s.name||"mesh_"+e),ha(x,s),y.extensions&&Bu(i,x,y),n.assignFinalMaterial(x),f.push(x)}for(let m=0,g=f.length;m<g;m++)n.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Bu(i,f[0],s),f[0];const d=new ba;s.extensions&&Bu(i,d,s),n.associations.set(d,{meshes:e});for(let m=0,g=f.length;m<g;m++)d.add(f[m]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new cr(ro.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new ja(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ha(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const d=new Lt;s!==null&&d.fromArray(s.array,u*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new ng(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],c=[];for(let f=0,d=i.channels.length;f<d;f++){const m=i.channels[f],g=i.samplers[m.sampler],v=m.target,y=v.node,x=i.parameters!==void 0?i.parameters[g.input]:g.input,_=i.parameters!==void 0?i.parameters[g.output]:g.output;v.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",_)),u.push(g),c.push(v))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(f){const d=f[0],m=f[1],g=f[2],v=f[3],y=f[4],x=[];for(let _=0,w=d.length;_<w;_++){const A=d[_],M=m[_],C=g[_],T=v[_],E=y[_];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const P=r._createAnimationTracks(A,M,C,T,E);if(P)for(let B=0;B<P.length;B++)x.push(P[B])}return new Cd(s,void 0,x)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],d=u[2];d!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(d,xee)});for(let m=0,g=f.length;m<g;m++)c.add(f[m]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new px:u.length>1?c=new ba:u.length===1?c=u[0]:c=new Zt,c!==u[0])for(let f=0,d=u.length;f<d;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),ha(c,s),s.extensions&&Bu(r,c,s),s.matrix!==void 0){const f=new Lt;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new ba;r.name&&(s.name=i.createUniqueName(r.name)),ha(s,r),r.extensions&&Bu(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[d,m]of i.associations)(d instanceof br||d instanceof cn)&&f.set(d,m);return c.traverse(d=>{const m=i.associations.get(d);m!=null&&f.set(d,m)}),f};return i.associations=u(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];dl[s.path]===dl.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let u;switch(dl[s.path]){case dl.weights:u=Ec;break;case dl.rotation:u=Jl;break;case dl.position:case dl.scale:u=Cc;break;default:switch(r.itemSize){case 1:u=Ec;break;case 2:case 3:default:u=Cc;break}break}const c=i.interpolation!==void 0?hee[i.interpolation]:bc,f=this._getArrayFromAccessor(r);for(let d=0,m=l.length;d<m;d++){const g=new u(l[d]+"."+dl[s.path],n.array,f,c);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=Kb(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Jl?dee:NU;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wee(t,e,n){const r=e.attributes,i=new vo;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new Z(l[0],l[1],l[2]),new Z(u[0],u[1],u[2])),a.normalized){const c=Kb(dd[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const v=Kb(dd[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new $o;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function gB(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=Xb[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return ha(t,e),wee(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?mee(t,e.targets,n):t})}class See extends Xd{constructor(e,n={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:u=1,letterSpacing:c=0,...f}=n;if(o===void 0)super();else{const d=o.generateShapes(e,l,{lineHeight:u,letterSpacing:c});super(d,{...f,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}var Aee=Object.defineProperty,bee=(t,e,n)=>e in t?Aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wS=(t,e,n)=>(bee(t,typeof e!="symbol"?e+"":e,n),n);class Mee extends Jr{constructor(e){super(e)}load(e,n,r,i){const s=new Ur(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);n&&n(l)},r,i)}loadAsync(e,n){return super.loadAsync(e,n)}parse(e){return new Eee(e)}}class Eee{constructor(e){wS(this,"data"),wS(this,"isFont",!0),wS(this,"type","Font"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=Cee(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}function Cee(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<i.length;c++){const f=i[c];if(f===`
`)l=0,u-=o*r.lineHeight;else{const d=Tee(f,s,l,u,n);d&&(l+=d.offsetX+r.letterSpacing,a.push(d.path))}}return a}function Tee(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new dN;let a,l,u,c,f,d,m,g;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,x=v.length;y<x;)switch(v[y++]){case"m":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.lineTo(a,l);break;case"q":u=parseInt(v[y++])*e+n,c=parseInt(v[y++])*e+r,f=parseInt(v[y++])*e+n,d=parseInt(v[y++])*e+r,o.quadraticCurveTo(f,d,u,c);break;case"b":u=parseInt(v[y++])*e+n,c=parseInt(v[y++])*e+r,f=parseInt(v[y++])*e+n,d=parseInt(v[y++])*e+r,m=parseInt(v[y++])*e+n,g=parseInt(v[y++])*e+r,o.bezierCurveTo(f,d,m,g,u,c);break}}return{offsetX:s.ha*e,path:o}}class Ree extends SC{constructor(e){super(e),this.type=Or}parse(e){const o=function(E,P){switch(E){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},c=`
`,f=function(E,P,B){P=P||1024;let F=E.pos,U=-1,O=0,J="",$=String.fromCharCode.apply(null,new Uint16Array(E.subarray(F,F+128)));for(;0>(U=$.indexOf(c))&&O<P&&F<E.byteLength;)J+=$,O+=$.length,F+=128,$+=String.fromCharCode.apply(null,new Uint16Array(E.subarray(F,F+128)));return-1<U?(E.pos+=O+U+1,J+$.slice(0,U)):!1},d=function(E){const P=/^#\?(\S+)/,B=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*FORMAT=(\S+)\s*$/,U=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,O={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let J,$;for((E.pos>=E.byteLength||!(J=f(E)))&&o(1,"no header found"),($=J.match(P))||o(3,"bad initial token"),O.valid|=1,O.programtype=$[1],O.string+=J+`
`;J=f(E),J!==!1;){if(O.string+=J+`
`,J.charAt(0)==="#"){O.comments+=J+`
`;continue}if(($=J.match(B))&&(O.gamma=parseFloat($[1])),($=J.match(N))&&(O.exposure=parseFloat($[1])),($=J.match(F))&&(O.valid|=2,O.format=$[1]),($=J.match(U))&&(O.valid|=4,O.height=parseInt($[1],10),O.width=parseInt($[2],10)),O.valid&2&&O.valid&4)break}return O.valid&2||o(3,"missing format specifier"),O.valid&4||o(3,"missing image size specifier"),O},m=function(E,P,B){const N=P;if(N<8||N>32767||E[0]!==2||E[1]!==2||E[2]&128)return new Uint8Array(E);N!==(E[2]<<8|E[3])&&o(3,"wrong scanline width");const F=new Uint8Array(4*P*B);F.length||o(4,"unable to allocate buffer space");let U=0,O=0;const J=4*N,$=new Uint8Array(4),ie=new Uint8Array(J);let H=B;for(;H>0&&O<E.byteLength;){O+4>E.byteLength&&o(1),$[0]=E[O++],$[1]=E[O++],$[2]=E[O++],$[3]=E[O++],($[0]!=2||$[1]!=2||($[2]<<8|$[3])!=N)&&o(3,"bad rgbe scanline format");let j=0,W;for(;j<J&&O<E.byteLength;){W=E[O++];const z=W>128;if(z&&(W-=128),(W===0||j+W>J)&&o(3,"bad scanline data"),z){const X=E[O++];for(let ne=0;ne<W;ne++)ie[j++]=X}else ie.set(E.subarray(O,O+W),j),j+=W,O+=W}const G=N;for(let z=0;z<G;z++){let X=0;F[U]=ie[z+X],X+=N,F[U+1]=ie[z+X],X+=N,F[U+2]=ie[z+X],X+=N,F[U+3]=ie[z+X],U+=4}H--}return F},g=function(E,P,B,N){const F=E[P+3],U=Math.pow(2,F-128)/255;B[N+0]=E[P+0]*U,B[N+1]=E[P+1]*U,B[N+2]=E[P+2]*U,B[N+3]=1},v=function(E,P,B,N){const F=E[P+3],U=Math.pow(2,F-128)/255;B[N+0]=Qu.toHalfFloat(Math.min(E[P+0]*U,65504)),B[N+1]=Qu.toHalfFloat(Math.min(E[P+1]*U,65504)),B[N+2]=Qu.toHalfFloat(Math.min(E[P+2]*U,65504)),B[N+3]=Qu.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const x=d(y),_=x.width,w=x.height,A=m(y.subarray(y.pos),_,w);let M,C,T;switch(this.type){case Fr:T=A.length/4;const E=new Float32Array(T*4);for(let B=0;B<T;B++)g(A,B*4,E,B*4);M=E,C=Fr;break;case Or:T=A.length/4;const P=new Uint16Array(T*4);for(let B=0;B<T;B++)v(A,B*4,P,B*4);M=P,C=Or;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:w,data:M,header:x.string,gamma:x.gamma,exposure:x.exposure,type:C}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Fr:case Or:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=en,o.magFilter=en,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const op=t2>=152;class Pee extends SC{constructor(e){super(e),this.type=Or}parse(e){const P=Math.pow(2.7182818,2.2);function B(L,V){for(var te=0,de=0;de<65536;++de)(de==0||L[de>>3]&1<<(de&7))&&(V[te++]=de);for(var ye=te-1;te<65536;)V[te++]=0;return ye}function N(L){for(var V=0;V<16384;V++)L[V]={},L[V].len=0,L[V].lit=0,L[V].p=null}const F={l:0,c:0,lc:0};function U(L,V,te,de,ye){for(;te<L;)V=V<<8|Ve(de,ye),te+=8;te-=L,F.l=V>>te&(1<<L)-1,F.c=V,F.lc=te}const O=new Array(59);function J(L){for(var V=0;V<=58;++V)O[V]=0;for(var V=0;V<65537;++V)O[L[V]]+=1;for(var te=0,V=58;V>0;--V){var de=te+O[V]>>1;O[V]=te,te=de}for(var V=0;V<65537;++V){var ye=L[V];ye>0&&(L[V]=ye|O[ye]++<<6)}}function $(L,V,te,de,ye,xe,Ue){for(var He=te,Ke=0,Qe=0;ye<=xe;ye++){if(He.value-te.value>de)return!1;U(6,Ke,Qe,L,He);var qe=F.l;if(Ke=F.c,Qe=F.lc,Ue[ye]=qe,qe==63){if(He.value-te.value>de)throw"Something wrong with hufUnpackEncTable";U(8,Ke,Qe,L,He);var Ae=F.l+6;if(Ke=F.c,Qe=F.lc,ye+Ae>xe+1)throw"Something wrong with hufUnpackEncTable";for(;Ae--;)Ue[ye++]=0;ye--}else if(qe>=59){var Ae=qe-59+2;if(ye+Ae>xe+1)throw"Something wrong with hufUnpackEncTable";for(;Ae--;)Ue[ye++]=0;ye--}}J(Ue)}function ie(L){return L&63}function H(L){return L>>6}function j(L,V,te,de){for(;V<=te;V++){var ye=H(L[V]),xe=ie(L[V]);if(ye>>xe)throw"Invalid table entry";if(xe>14){var Ue=de[ye>>xe-14];if(Ue.len)throw"Invalid table entry";if(Ue.lit++,Ue.p){var He=Ue.p;Ue.p=new Array(Ue.lit);for(var Ke=0;Ke<Ue.lit-1;++Ke)Ue.p[Ke]=He[Ke]}else Ue.p=new Array(1);Ue.p[Ue.lit-1]=V}else if(xe)for(var Qe=0,Ke=1<<14-xe;Ke>0;Ke--){var Ue=de[(ye<<14-xe)+Qe];if(Ue.len||Ue.p)throw"Invalid table entry";Ue.len=xe,Ue.lit=V,Qe++}}return!0}const W={c:0,lc:0};function G(L,V,te,de){L=L<<8|Ve(te,de),V+=8,W.c=L,W.lc=V}const z={c:0,lc:0};function X(L,V,te,de,ye,xe,Ue,He,Ke,Qe){if(L==V){de<8&&(G(te,de,ye,Ue),te=W.c,de=W.lc),de-=8;var qe=te>>de,qe=new Uint8Array([qe])[0];if(Ke.value+qe>Qe)return!1;for(var Ae=He[Ke.value-1];qe-- >0;)He[Ke.value++]=Ae}else if(Ke.value<Qe)He[Ke.value++]=L;else return!1;z.c=te,z.lc=de}function ne(L){return L&65535}function ee(L){var V=ne(L);return V>32767?V-65536:V}const Y={a:0,b:0};function ue(L,V){var te=ee(L),de=ee(V),ye=de,xe=te+(ye&1)+(ye>>1),Ue=xe,He=xe-ye;Y.a=Ue,Y.b=He}function ce(L,V){var te=ne(L),de=ne(V),ye=te-(de>>1)&65535,xe=de+ye-32768&65535;Y.a=xe,Y.b=ye}function Te(L,V,te,de,ye,xe,Ue){for(var He=Ue<16384,Ke=te>ye?ye:te,Qe=1,qe;Qe<=Ke;)Qe<<=1;for(Qe>>=1,qe=Qe,Qe>>=1;Qe>=1;){for(var Ae=0,ht=Ae+xe*(ye-qe),mt=xe*Qe,it=xe*qe,St=de*Qe,Bt=de*qe,Ot,Nt,gt,Ct;Ae<=ht;Ae+=it){for(var Ut=Ae,zt=Ae+de*(te-qe);Ut<=zt;Ut+=Bt){var Dt=Ut+St,fn=Ut+mt,Cn=fn+St;He?(ue(L[Ut+V],L[fn+V]),Ot=Y.a,gt=Y.b,ue(L[Dt+V],L[Cn+V]),Nt=Y.a,Ct=Y.b,ue(Ot,Nt),L[Ut+V]=Y.a,L[Dt+V]=Y.b,ue(gt,Ct),L[fn+V]=Y.a,L[Cn+V]=Y.b):(ce(L[Ut+V],L[fn+V]),Ot=Y.a,gt=Y.b,ce(L[Dt+V],L[Cn+V]),Nt=Y.a,Ct=Y.b,ce(Ot,Nt),L[Ut+V]=Y.a,L[Dt+V]=Y.b,ce(gt,Ct),L[fn+V]=Y.a,L[Cn+V]=Y.b)}if(te&Qe){var fn=Ut+mt;He?ue(L[Ut+V],L[fn+V]):ce(L[Ut+V],L[fn+V]),Ot=Y.a,L[fn+V]=Y.b,L[Ut+V]=Ot}}if(ye&Qe)for(var Ut=Ae,zt=Ae+de*(te-qe);Ut<=zt;Ut+=Bt){var Dt=Ut+St;He?ue(L[Ut+V],L[Dt+V]):ce(L[Ut+V],L[Dt+V]),Ot=Y.a,L[Dt+V]=Y.b,L[Ut+V]=Ot}qe=Qe,Qe>>=1}return Ae}function we(L,V,te,de,ye,xe,Ue,He,Ke,Qe){for(var qe=0,Ae=0,ht=He,mt=Math.trunc(ye.value+(xe+7)/8);ye.value<mt;)for(G(qe,Ae,te,ye),qe=W.c,Ae=W.lc;Ae>=14;){var it=qe>>Ae-14&16383,St=V[it];if(St.len)Ae-=St.len,X(St.lit,Ue,qe,Ae,te,de,ye,Ke,Qe,ht),qe=z.c,Ae=z.lc;else{if(!St.p)throw"hufDecode issues";var Bt;for(Bt=0;Bt<St.lit;Bt++){for(var Ot=ie(L[St.p[Bt]]);Ae<Ot&&ye.value<mt;)G(qe,Ae,te,ye),qe=W.c,Ae=W.lc;if(Ae>=Ot&&H(L[St.p[Bt]])==(qe>>Ae-Ot&(1<<Ot)-1)){Ae-=Ot,X(St.p[Bt],Ue,qe,Ae,te,de,ye,Ke,Qe,ht),qe=z.c,Ae=z.lc;break}}if(Bt==St.lit)throw"hufDecode issues"}}var Nt=8-xe&7;for(qe>>=Nt,Ae-=Nt;Ae>0;){var St=V[qe<<14-Ae&16383];if(St.len)Ae-=St.len,X(St.lit,Ue,qe,Ae,te,de,ye,Ke,Qe,ht),qe=z.c,Ae=z.lc;else throw"hufDecode issues"}return!0}function ve(L,V,te,de,ye,xe){var Ue={value:0},He=te.value,Ke=We(V,te),Qe=We(V,te);te.value+=4;var qe=We(V,te);if(te.value+=4,Ke<0||Ke>=65537||Qe<0||Qe>=65537)throw"Something wrong with HUF_ENCSIZE";var Ae=new Array(65537),ht=new Array(16384);N(ht);var mt=de-(te.value-He);if($(L,V,te,mt,Ke,Qe,Ae),qe>8*(de-(te.value-He)))throw"Something wrong with hufUncompress";j(Ae,Ke,Qe,ht),we(Ae,ht,L,V,te,qe,Qe,xe,ye,Ue)}function oe(L,V,te){for(var de=0;de<te;++de)V[de]=L[V[de]]}function fe(L){for(var V=1;V<L.length;V++){var te=L[V-1]+L[V]-128;L[V]=te}}function Re(L,V){for(var te=0,de=Math.floor((L.length+1)/2),ye=0,xe=L.length-1;!(ye>xe||(V[ye++]=L[te++],ye>xe));)V[ye++]=L[de++]}function Ge(L){for(var V=L.byteLength,te=new Array,de=0,ye=new DataView(L);V>0;){var xe=ye.getInt8(de++);if(xe<0){var Ue=-xe;V-=Ue+1;for(var He=0;He<Ue;He++)te.push(ye.getUint8(de++))}else{var Ue=xe;V-=2;for(var Ke=ye.getUint8(de++),He=0;He<Ue+1;He++)te.push(Ke)}}return te}function Ie(L,V,te,de,ye,xe){var Dt=new DataView(xe.buffer),Ue=te[L.idx[0]].width,He=te[L.idx[0]].height,Ke=3,Qe=Math.floor(Ue/8),qe=Math.ceil(Ue/8),Ae=Math.ceil(He/8),ht=Ue-(qe-1)*8,mt=He-(Ae-1)*8,it={value:0},St=new Array(Ke),Bt=new Array(Ke),Ot=new Array(Ke),Nt=new Array(Ke),gt=new Array(Ke);for(let tn=0;tn<Ke;++tn)gt[tn]=V[L.idx[tn]],St[tn]=tn<1?0:St[tn-1]+qe*Ae,Bt[tn]=new Float32Array(64),Ot[tn]=new Uint16Array(64),Nt[tn]=new Uint16Array(qe*64);for(let tn=0;tn<Ae;++tn){var Ct=8;tn==Ae-1&&(Ct=mt);var Ut=8;for(let on=0;on<qe;++on){on==qe-1&&(Ut=ht);for(let Ht=0;Ht<Ke;++Ht)Ot[Ht].fill(0),Ot[Ht][0]=ye[St[Ht]++],Xe(it,de,Ot[Ht]),Pe(Ot[Ht],Bt[Ht]),ze(Bt[Ht]);Ye(Bt);for(let Ht=0;Ht<Ke;++Ht)Ee(Bt[Ht],Nt[Ht],on*64)}let zn=0;for(let on=0;on<Ke;++on){const Ht=te[L.idx[on]].type;for(let Sn=8*tn;Sn<8*tn+Ct;++Sn){zn=gt[on][Sn];for(let Ti=0;Ti<Qe;++Ti){const rr=Ti*64+(Sn&7)*8;Dt.setUint16(zn+0*2*Ht,Nt[on][rr+0],!0),Dt.setUint16(zn+1*2*Ht,Nt[on][rr+1],!0),Dt.setUint16(zn+2*2*Ht,Nt[on][rr+2],!0),Dt.setUint16(zn+3*2*Ht,Nt[on][rr+3],!0),Dt.setUint16(zn+4*2*Ht,Nt[on][rr+4],!0),Dt.setUint16(zn+5*2*Ht,Nt[on][rr+5],!0),Dt.setUint16(zn+6*2*Ht,Nt[on][rr+6],!0),Dt.setUint16(zn+7*2*Ht,Nt[on][rr+7],!0),zn+=8*2*Ht}}if(Qe!=qe)for(let Sn=8*tn;Sn<8*tn+Ct;++Sn){const Ti=gt[on][Sn]+8*Qe*2*Ht,rr=Qe*64+(Sn&7)*8;for(let Hi=0;Hi<Ut;++Hi)Dt.setUint16(Ti+Hi*2*Ht,Nt[on][rr+Hi],!0)}}}for(var zt=new Uint16Array(Ue),Dt=new DataView(xe.buffer),fn=0;fn<Ke;++fn){te[L.idx[fn]].decoded=!0;var Cn=te[L.idx[fn]].type;if(te[fn].type==2)for(var kn=0;kn<He;++kn){const tn=gt[fn][kn];for(var Fn=0;Fn<Ue;++Fn)zt[Fn]=Dt.getUint16(tn+Fn*2*Cn,!0);for(var Fn=0;Fn<Ue;++Fn)Dt.setFloat32(tn+Fn*2*Cn,se(zt[Fn]),!0)}}}function Xe(L,V,te){for(var de,ye=1;ye<64;)de=V[L.value],de==65280?ye=64:de>>8==255?ye+=de&255:(te[ye]=de,ye++),L.value++}function Pe(L,V){V[0]=se(L[0]),V[1]=se(L[1]),V[2]=se(L[5]),V[3]=se(L[6]),V[4]=se(L[14]),V[5]=se(L[15]),V[6]=se(L[27]),V[7]=se(L[28]),V[8]=se(L[2]),V[9]=se(L[4]),V[10]=se(L[7]),V[11]=se(L[13]),V[12]=se(L[16]),V[13]=se(L[26]),V[14]=se(L[29]),V[15]=se(L[42]),V[16]=se(L[3]),V[17]=se(L[8]),V[18]=se(L[12]),V[19]=se(L[17]),V[20]=se(L[25]),V[21]=se(L[30]),V[22]=se(L[41]),V[23]=se(L[43]),V[24]=se(L[9]),V[25]=se(L[11]),V[26]=se(L[18]),V[27]=se(L[24]),V[28]=se(L[31]),V[29]=se(L[40]),V[30]=se(L[44]),V[31]=se(L[53]),V[32]=se(L[10]),V[33]=se(L[19]),V[34]=se(L[23]),V[35]=se(L[32]),V[36]=se(L[39]),V[37]=se(L[45]),V[38]=se(L[52]),V[39]=se(L[54]),V[40]=se(L[20]),V[41]=se(L[22]),V[42]=se(L[33]),V[43]=se(L[38]),V[44]=se(L[46]),V[45]=se(L[51]),V[46]=se(L[55]),V[47]=se(L[60]),V[48]=se(L[21]),V[49]=se(L[34]),V[50]=se(L[37]),V[51]=se(L[47]),V[52]=se(L[50]),V[53]=se(L[56]),V[54]=se(L[59]),V[55]=se(L[61]),V[56]=se(L[35]),V[57]=se(L[36]),V[58]=se(L[48]),V[59]=se(L[49]),V[60]=se(L[57]),V[61]=se(L[58]),V[62]=se(L[62]),V[63]=se(L[63])}function ze(L){const V=.5*Math.cos(.7853975),te=.5*Math.cos(3.14159/16),de=.5*Math.cos(3.14159/8),ye=.5*Math.cos(3*3.14159/16),xe=.5*Math.cos(5*3.14159/16),Ue=.5*Math.cos(3*3.14159/8),He=.5*Math.cos(7*3.14159/16);for(var Ke=new Array(4),Qe=new Array(4),qe=new Array(4),Ae=new Array(4),ht=0;ht<8;++ht){var mt=ht*8;Ke[0]=de*L[mt+2],Ke[1]=Ue*L[mt+2],Ke[2]=de*L[mt+6],Ke[3]=Ue*L[mt+6],Qe[0]=te*L[mt+1]+ye*L[mt+3]+xe*L[mt+5]+He*L[mt+7],Qe[1]=ye*L[mt+1]-He*L[mt+3]-te*L[mt+5]-xe*L[mt+7],Qe[2]=xe*L[mt+1]-te*L[mt+3]+He*L[mt+5]+ye*L[mt+7],Qe[3]=He*L[mt+1]-xe*L[mt+3]+ye*L[mt+5]-te*L[mt+7],qe[0]=V*(L[mt+0]+L[mt+4]),qe[3]=V*(L[mt+0]-L[mt+4]),qe[1]=Ke[0]+Ke[3],qe[2]=Ke[1]-Ke[2],Ae[0]=qe[0]+qe[1],Ae[1]=qe[3]+qe[2],Ae[2]=qe[3]-qe[2],Ae[3]=qe[0]-qe[1],L[mt+0]=Ae[0]+Qe[0],L[mt+1]=Ae[1]+Qe[1],L[mt+2]=Ae[2]+Qe[2],L[mt+3]=Ae[3]+Qe[3],L[mt+4]=Ae[3]-Qe[3],L[mt+5]=Ae[2]-Qe[2],L[mt+6]=Ae[1]-Qe[1],L[mt+7]=Ae[0]-Qe[0]}for(var it=0;it<8;++it)Ke[0]=de*L[16+it],Ke[1]=Ue*L[16+it],Ke[2]=de*L[48+it],Ke[3]=Ue*L[48+it],Qe[0]=te*L[8+it]+ye*L[24+it]+xe*L[40+it]+He*L[56+it],Qe[1]=ye*L[8+it]-He*L[24+it]-te*L[40+it]-xe*L[56+it],Qe[2]=xe*L[8+it]-te*L[24+it]+He*L[40+it]+ye*L[56+it],Qe[3]=He*L[8+it]-xe*L[24+it]+ye*L[40+it]-te*L[56+it],qe[0]=V*(L[it]+L[32+it]),qe[3]=V*(L[it]-L[32+it]),qe[1]=Ke[0]+Ke[3],qe[2]=Ke[1]-Ke[2],Ae[0]=qe[0]+qe[1],Ae[1]=qe[3]+qe[2],Ae[2]=qe[3]-qe[2],Ae[3]=qe[0]-qe[1],L[0+it]=Ae[0]+Qe[0],L[8+it]=Ae[1]+Qe[1],L[16+it]=Ae[2]+Qe[2],L[24+it]=Ae[3]+Qe[3],L[32+it]=Ae[3]-Qe[3],L[40+it]=Ae[2]-Qe[2],L[48+it]=Ae[1]-Qe[1],L[56+it]=Ae[0]-Qe[0]}function Ye(L){for(var V=0;V<64;++V){var te=L[0][V],de=L[1][V],ye=L[2][V];L[0][V]=te+1.5747*ye,L[1][V]=te-.1873*de-.4682*ye,L[2][V]=te+1.8556*de}}function Ee(L,V,te){for(var de=0;de<64;++de)V[te+de]=Qu.toHalfFloat(K(L[de]))}function K(L){return L<=1?Math.sign(L)*Math.pow(Math.abs(L),2.2):Math.sign(L)*Math.pow(P,Math.abs(L)-1)}function k(L){return new DataView(L.array.buffer,L.offset.value,L.size)}function re(L){var V=L.viewer.buffer.slice(L.offset.value,L.offset.value+L.size),te=new Uint8Array(Ge(V)),de=new Uint8Array(te.length);return fe(te),Re(te,de),new DataView(de.buffer)}function pe(L){var V=L.array.slice(L.offset.value,L.offset.value+L.size),te=Rv(V),de=new Uint8Array(te.length);return fe(te),Re(te,de),new DataView(de.buffer)}function Le(L){for(var V=L.viewer,te={value:L.offset.value},de=new Uint16Array(L.width*L.scanlineBlockSize*(L.channels*L.type)),ye=new Uint8Array(8192),xe=0,Ue=new Array(L.channels),He=0;He<L.channels;He++)Ue[He]={},Ue[He].start=xe,Ue[He].end=Ue[He].start,Ue[He].nx=L.width,Ue[He].ny=L.lines,Ue[He].size=L.type,xe+=Ue[He].nx*Ue[He].ny*Ue[He].size;var Ke=Oe(V,te),Qe=Oe(V,te);if(Qe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ke<=Qe)for(var He=0;He<Qe-Ke+1;He++)ye[He+Ke]=at(V,te);var qe=new Uint16Array(65536),Ae=B(ye,qe),ht=We(V,te);ve(L.array,V,te,ht,de,xe);for(var He=0;He<L.channels;++He)for(var mt=Ue[He],it=0;it<Ue[He].size;++it)Te(de,mt.start+it,mt.nx,mt.size,mt.ny,mt.nx*mt.size,Ae);oe(qe,de,xe);for(var St=0,Bt=new Uint8Array(de.buffer.byteLength),Ot=0;Ot<L.lines;Ot++)for(var Nt=0;Nt<L.channels;Nt++){var mt=Ue[Nt],gt=mt.nx*mt.size,Ct=new Uint8Array(de.buffer,mt.end*2,gt*2);Bt.set(Ct,St),St+=gt*2,mt.end+=gt}return new DataView(Bt.buffer)}function Me(L){var V=L.array.slice(L.offset.value,L.offset.value+L.size),te=Rv(V);const de=L.lines*L.channels*L.width,ye=L.type==1?new Uint16Array(de):new Uint32Array(de);let xe=0,Ue=0;const He=new Array(4);for(let Ke=0;Ke<L.lines;Ke++)for(let Qe=0;Qe<L.channels;Qe++){let qe=0;switch(L.type){case 1:He[0]=xe,He[1]=He[0]+L.width,xe=He[1]+L.width;for(let Ae=0;Ae<L.width;++Ae){const ht=te[He[0]++]<<8|te[He[1]++];qe+=ht,ye[Ue]=qe,Ue++}break;case 2:He[0]=xe,He[1]=He[0]+L.width,He[2]=He[1]+L.width,xe=He[2]+L.width;for(let Ae=0;Ae<L.width;++Ae){const ht=te[He[0]++]<<24|te[He[1]++]<<16|te[He[2]++]<<8;qe+=ht,ye[Ue]=qe,Ue++}break}}return new DataView(ye.buffer)}function Je(L){var V=L.viewer,te={value:L.offset.value},de=new Uint8Array(L.width*L.lines*(L.channels*L.type*2)),ye={version:pt(V,te),unknownUncompressedSize:pt(V,te),unknownCompressedSize:pt(V,te),acCompressedSize:pt(V,te),dcCompressedSize:pt(V,te),rleCompressedSize:pt(V,te),rleUncompressedSize:pt(V,te),rleRawSize:pt(V,te),totalAcUncompressedCount:pt(V,te),totalDcUncompressedCount:pt(V,te),acCompression:pt(V,te)};if(ye.version<2)throw"EXRLoader.parse: "+Se.compression+" version "+ye.version+" is unsupported";for(var xe=new Array,Ue=Oe(V,te)-2;Ue>0;){var He=ke(V.buffer,te),Ke=at(V,te),Qe=Ke>>2&3,qe=(Ke>>4)-1,Ae=new Int8Array([qe])[0],ht=at(V,te);xe.push({name:He,index:Ae,type:ht,compression:Qe}),Ue-=He.length+3}for(var mt=Se.channels,it=new Array(L.channels),St=0;St<L.channels;++St){var Bt=it[St]={},Ot=mt[St];Bt.name=Ot.name,Bt.compression=0,Bt.decoded=!1,Bt.type=Ot.pixelType,Bt.pLinear=Ot.pLinear,Bt.width=L.width,Bt.height=L.lines}for(var Nt={idx:new Array(3)},gt=0;gt<L.channels;++gt)for(var Bt=it[gt],St=0;St<xe.length;++St){var Ct=xe[St];Bt.name==Ct.name&&(Bt.compression=Ct.compression,Ct.index>=0&&(Nt.idx[Ct.index]=gt),Bt.offset=gt)}if(ye.acCompressedSize>0)switch(ye.acCompression){case 0:var Dt=new Uint16Array(ye.totalAcUncompressedCount);ve(L.array,V,te,ye.acCompressedSize,Dt,ye.totalAcUncompressedCount);break;case 1:var Ut=L.array.slice(te.value,te.value+ye.totalAcUncompressedCount),zt=Rv(Ut),Dt=new Uint16Array(zt.buffer);te.value+=ye.totalAcUncompressedCount;break}if(ye.dcCompressedSize>0){var fn={array:L.array,offset:te,size:ye.dcCompressedSize},Cn=new Uint16Array(pe(fn).buffer);te.value+=ye.dcCompressedSize}if(ye.rleRawSize>0){var Ut=L.array.slice(te.value,te.value+ye.rleCompressedSize),zt=Rv(Ut),kn=Ge(zt.buffer);te.value+=ye.rleCompressedSize}for(var Fn=0,tn=new Array(it.length),St=0;St<tn.length;++St)tn[St]=new Array;for(var zn=0;zn<L.lines;++zn)for(var on=0;on<it.length;++on)tn[on].push(Fn),Fn+=it[on].width*L.type*2;Ie(Nt,tn,it,Dt,Cn,de);for(var St=0;St<it.length;++St){var Bt=it[St];if(!Bt.decoded)switch(Bt.compression){case 2:for(var Ht=0,Sn=0,zn=0;zn<L.lines;++zn){for(var Ti=tn[St][Ht],rr=0;rr<Bt.width;++rr){for(var Hi=0;Hi<2*Bt.type;++Hi)de[Ti++]=kn[Sn+Hi*Bt.width*Bt.height];Sn++}Ht++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(de.buffer)}function ke(L,V){for(var te=new Uint8Array(L),de=0;te[V.value+de]!=0;)de+=1;var ye=new TextDecoder().decode(te.slice(V.value,V.value+de));return V.value=V.value+de+1,ye}function be(L,V,te){var de=new TextDecoder().decode(new Uint8Array(L).slice(V.value,V.value+te));return V.value=V.value+te,de}function Ze(L,V){var te=$e(L,V),de=We(L,V);return[te,de]}function rt(L,V){var te=We(L,V),de=We(L,V);return[te,de]}function $e(L,V){var te=L.getInt32(V.value,!0);return V.value=V.value+4,te}function We(L,V){var te=L.getUint32(V.value,!0);return V.value=V.value+4,te}function Ve(L,V){var te=L[V.value];return V.value=V.value+1,te}function at(L,V){var te=L.getUint8(V.value);return V.value=V.value+1,te}const pt=function(L,V){let te;return"getBigInt64"in DataView.prototype?te=Number(L.getBigInt64(V.value,!0)):te=L.getUint32(V.value+4,!0)+Number(L.getUint32(V.value,!0)<<32),V.value+=8,te};function bt(L,V){var te=L.getFloat32(V.value,!0);return V.value+=4,te}function le(L,V){return Qu.toHalfFloat(bt(L,V))}function se(L){var V=(L&31744)>>10,te=L&1023;return(L>>15?-1:1)*(V?V===31?te?NaN:1/0:Math.pow(2,V-15)*(1+te/1024):6103515625e-14*(te/1024))}function Oe(L,V){var te=L.getUint16(V.value,!0);return V.value+=2,te}function ot(L,V){return se(Oe(L,V))}function tt(L,V,te,de){for(var ye=te.value,xe=[];te.value<ye+de-1;){var Ue=ke(V,te),He=$e(L,te),Ke=at(L,te);te.value+=3;var Qe=$e(L,te),qe=$e(L,te);xe.push({name:Ue,pixelType:He,pLinear:Ke,xSampling:Qe,ySampling:qe})}return te.value+=1,xe}function ft(L,V){var te=bt(L,V),de=bt(L,V),ye=bt(L,V),xe=bt(L,V),Ue=bt(L,V),He=bt(L,V),Ke=bt(L,V),Qe=bt(L,V);return{redX:te,redY:de,greenX:ye,greenY:xe,blueX:Ue,blueY:He,whiteX:Ke,whiteY:Qe}}function Ft(L,V){var te=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],de=at(L,V);return te[de]}function kt(L,V){var te=We(L,V),de=We(L,V),ye=We(L,V),xe=We(L,V);return{xMin:te,yMin:de,xMax:ye,yMax:xe}}function Mt(L,V){var te=["INCREASING_Y"],de=at(L,V);return te[de]}function Et(L,V){var te=bt(L,V),de=bt(L,V);return[te,de]}function hn(L,V){var te=bt(L,V),de=bt(L,V),ye=bt(L,V);return[te,de,ye]}function sn(L,V,te,de,ye){if(de==="string"||de==="stringvector"||de==="iccProfile")return be(V,te,ye);if(de==="chlist")return tt(L,V,te,ye);if(de==="chromaticities")return ft(L,te);if(de==="compression")return Ft(L,te);if(de==="box2i")return kt(L,te);if(de==="lineOrder")return Mt(L,te);if(de==="float")return bt(L,te);if(de==="v2f")return Et(L,te);if(de==="v3f")return hn(L,te);if(de==="int")return $e(L,te);if(de==="rational")return Ze(L,te);if(de==="timecode")return rt(L,te);if(de==="preview")return te.value+=ye,"skipped";te.value+=ye}function wn(L,V,te){const de={};if(L.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";de.version=L.getUint8(4);const ye=L.getUint8(5);de.spec={singleTile:!!(ye&2),longName:!!(ye&4),deepFormat:!!(ye&8),multiPart:!!(ye&16)},te.value=8;for(var xe=!0;xe;){var Ue=ke(V,te);if(Ue==0)xe=!1;else{var He=ke(V,te),Ke=We(L,te),Qe=sn(L,V,te,He,Ke);Qe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${He}'.`):de[Ue]=Qe}}if(ye&-5)throw console.error("EXRHeader:",de),"THREE.EXRLoader: provided file is currently unsupported.";return de}function zr(L,V,te,de,ye){const xe={size:0,viewer:V,array:te,offset:de,width:L.dataWindow.xMax-L.dataWindow.xMin+1,height:L.dataWindow.yMax-L.dataWindow.yMin+1,channels:L.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:L.channels[0].pixelType,uncompress:null,getter:null,format:null,[op?"colorSpace":"encoding"]:null};switch(L.compression){case"NO_COMPRESSION":xe.lines=1,xe.uncompress=k;break;case"RLE_COMPRESSION":xe.lines=1,xe.uncompress=re;break;case"ZIPS_COMPRESSION":xe.lines=1,xe.uncompress=pe;break;case"ZIP_COMPRESSION":xe.lines=16,xe.uncompress=pe;break;case"PIZ_COMPRESSION":xe.lines=32,xe.uncompress=Le;break;case"PXR24_COMPRESSION":xe.lines=16,xe.uncompress=Me;break;case"DWAA_COMPRESSION":xe.lines=32,xe.uncompress=Je;break;case"DWAB_COMPRESSION":xe.lines=256,xe.uncompress=Je;break;default:throw"EXRLoader.parse: "+L.compression+" is unsupported"}if(xe.scanlineBlockSize=xe.lines,xe.type==1)switch(ye){case Fr:xe.getter=ot,xe.inputSize=2;break;case Or:xe.getter=Oe,xe.inputSize=2;break}else if(xe.type==2)switch(ye){case Fr:xe.getter=bt,xe.inputSize=4;break;case Or:xe.getter=le,xe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+xe.type+" for "+L.compression+".";xe.blockCount=(L.dataWindow.yMax+1)/xe.scanlineBlockSize;for(var Ue=0;Ue<xe.blockCount;Ue++)pt(V,de);xe.outputChannels=xe.channels==3?4:xe.channels;const He=xe.width*xe.height*xe.outputChannels;switch(ye){case Fr:xe.byteArray=new Float32Array(He),xe.channels<xe.outputChannels&&xe.byteArray.fill(1,0,He);break;case Or:xe.byteArray=new Uint16Array(He),xe.channels<xe.outputChannels&&xe.byteArray.fill(15360,0,He);break;default:console.error("THREE.EXRLoader: unsupported type: ",ye);break}return xe.bytesPerLine=xe.width*xe.inputSize*xe.channels,xe.outputChannels==4?xe.format=Sr:xe.format=XE,op?xe.colorSpace="srgb-linear":xe.encoding=3e3,xe}const Cr=new DataView(e),Gr=new Uint8Array(e),Q={value:0},Se=wn(Cr,e,Q),_e=zr(Se,Cr,Gr,Q,this.type),me={value:0},Ne={R:0,G:1,B:2,A:3,Y:0};for(let L=0;L<_e.height/_e.scanlineBlockSize;L++){const V=We(Cr,Q);_e.size=We(Cr,Q),_e.lines=V+_e.scanlineBlockSize>_e.height?_e.height-V:_e.scanlineBlockSize;const de=_e.size<_e.lines*_e.bytesPerLine?_e.uncompress(_e):k(_e);Q.value+=_e.size;for(let ye=0;ye<_e.scanlineBlockSize;ye++){const xe=ye+L*_e.scanlineBlockSize;if(xe>=_e.height)break;for(let Ue=0;Ue<_e.channels;Ue++){const He=Ne[Se.channels[Ue].name];for(let Ke=0;Ke<_e.width;Ke++){me.value=(ye*(_e.channels*_e.width)+Ue*_e.width+Ke)*_e.inputSize;const Qe=(_e.height-1-xe)*(_e.width*_e.outputChannels)+Ke*_e.outputChannels+He;_e.byteArray[Qe]=_e.getter(de,me)}}}}return{header:Se,width:_e.width,height:_e.height,data:_e.byteArray,format:_e.format,[op?"colorSpace":"encoding"]:_e[op?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){op?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=en,o.magFilter=en,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const SS=new WeakMap;class Iee extends Jr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Ur(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(SS.has(e)){const l=SS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),SS.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new $t;e.index&&n.setIndex(new rn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new rn(o,a))}return n}_loadLibrary(e,n){const r=new Ur(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Bee.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Bee(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=n(f,d,m,u),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(d)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in c){const x=self[f[y]];let _,w;if(u.useUniqueIDs)w=c[y],_=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[c[y]]),w===-1)continue;_=a.GetAttribute(d,w)}v.attributes.push(i(o,a,d,y,x,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const c=l.num_faces()*3,f=c*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const m=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const d=f.num_components(),g=l.num_points()*d,v=g*c.BYTES_PER_ELEMENT,y=s(o,c),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,x);const _=new c(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:u,array:_,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Pv;const AS=()=>{if(Pv)return Pv;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<f.length;++g)d[m++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(f,d,m,g,v,y){const x=s.exports.sbrk,_=m+3&-4,w=x(_*g),A=x(v.length),M=new Uint8Array(s.exports.memory.buffer);M.set(v,A);const C=f(w,m,g,A,v.length);if(C===0&&y&&y(w,_,g),d.set(M.subarray(w,w+m*g)),x(w-x(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Pv={ready:o,supported:!0,decodeVertexBuffer(f,d,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,m,g,s.exports[u[v]])},decodeIndexBuffer(f,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,m,g)},decodeIndexSequence(f,d,m,g){l(s.exports.meshopt_decodeIndexSequence,f,d,m,g)},decodeGltfBuffer(f,d,m,g,v,y){l(s.exports[c[v]],f,d,m,g,s.exports[u[y]])}},Pv};function Dee(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(m){if(m instanceof Error)throw m}),d=t[d.id].value),d}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var d=t[a].getTransferables&&t[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function Lee(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var UU=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return UU=function(){return t},t},kee=0,Fee=0,bS=!1,Hp=Object.create(null),Vp=Object.create(null),Yb=Object.create(null);function eh(t){if((!t||typeof t.init!="function")&&!bS)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=Lee(t);i==null&&(i="#default");var o="workerModule"+ ++kee,a=t.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(bS=!0,c=eh({workerId:i,name:"<"+a+"> function dependency: "+c.name,init:`function(){return (
`+xy(c)+`
)}`}),bS=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!UU())return s.apply(void 0,c);if(!l){l=vB(i,"registerModule",u.workerModuleData);var d=function(){l=null,Vp[i].delete(d)};(Vp[i]||(Vp[i]=new Set)).add(d)}return l.then(function(m){var g=m.isCallable;if(g)return vB(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:xy(n),getTransferables:r&&xy(r)},u.onMainThread=s,u}function Oee(t){Vp[t]&&Vp[t].forEach(function(e){e()}),Hp[t]&&(Hp[t].terminate(),delete Hp[t])}function xy(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Nee(t){var e=Hp[t];if(!e){var n=xy(Dee);e=Hp[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=Yb[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete Yb[s],o(i)}}return e}function vB(t,e,n){return new Promise(function(r,i){var s=++Fee;Yb[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Nee(t).postMessage({messageId:s,action:e,data:n})})}function zU(){var t=function(e){function n(j,W,G,z,X,ne,ee,Y){var ue=1-ee;Y.x=ue*ue*j+2*ue*ee*G+ee*ee*X,Y.y=ue*ue*W+2*ue*ee*z+ee*ee*ne}function r(j,W,G,z,X,ne,ee,Y,ue,ce){var Te=1-ue;ce.x=Te*Te*Te*j+3*Te*Te*ue*G+3*Te*ue*ue*X+ue*ue*ue*ee,ce.y=Te*Te*Te*W+3*Te*Te*ue*z+3*Te*ue*ue*ne+ue*ue*ue*Y}function i(j,W){for(var G=/([MLQCZ])([^MLQCZ]*)/g,z,X,ne,ee,Y;z=G.exec(j);){var ue=z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ce){return parseFloat(ce)});switch(z[1]){case"M":ee=X=ue[0],Y=ne=ue[1];break;case"L":(ue[0]!==ee||ue[1]!==Y)&&W("L",ee,Y,ee=ue[0],Y=ue[1]);break;case"Q":{W("Q",ee,Y,ee=ue[2],Y=ue[3],ue[0],ue[1]);break}case"C":{W("C",ee,Y,ee=ue[4],Y=ue[5],ue[0],ue[1],ue[2],ue[3]);break}case"Z":(ee!==X||Y!==ne)&&W("L",ee,Y,X,ne);break}}}function s(j,W,G){G===void 0&&(G=16);var z={x:0,y:0};i(j,function(X,ne,ee,Y,ue,ce,Te,we,ve){switch(X){case"L":W(ne,ee,Y,ue);break;case"Q":{for(var oe=ne,fe=ee,Re=1;Re<G;Re++)n(ne,ee,ce,Te,Y,ue,Re/(G-1),z),W(oe,fe,z.x,z.y),oe=z.x,fe=z.y;break}case"C":{for(var Ge=ne,Ie=ee,Xe=1;Xe<G;Xe++)r(ne,ee,ce,Te,we,ve,Y,ue,Xe/(G-1),z),W(Ge,Ie,z.x,z.y),Ge=z.x,Ie=z.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(j,W){var G=j.getContext?j.getContext("webgl",u):j,z=l.get(G);if(!z){let Ge=function(Ee){var K=ne[Ee];if(!K&&(K=ne[Ee]=G.getExtension(Ee),!K))throw new Error(Ee+" not supported");return K},Ie=function(Ee,K){var k=G.createShader(K);return G.shaderSource(k,Ee),G.compileShader(k),k},Xe=function(Ee,K,k,re){if(!ee[Ee]){var pe={},Le={},Me=G.createProgram();G.attachShader(Me,Ie(K,G.VERTEX_SHADER)),G.attachShader(Me,Ie(k,G.FRAGMENT_SHADER)),G.linkProgram(Me),ee[Ee]={program:Me,transaction:function(ke){G.useProgram(Me),ke({setUniform:function(Ze,rt){for(var $e=[],We=arguments.length-2;We-- >0;)$e[We]=arguments[We+2];var Ve=Le[rt]||(Le[rt]=G.getUniformLocation(Me,rt));G["uniform"+Ze].apply(G,[Ve].concat($e))},setAttribute:function(Ze,rt,$e,We,Ve){var at=pe[Ze];at||(at=pe[Ze]={buf:G.createBuffer(),loc:G.getAttribLocation(Me,Ze),data:null}),G.bindBuffer(G.ARRAY_BUFFER,at.buf),G.vertexAttribPointer(at.loc,rt,G.FLOAT,!1,0,0),G.enableVertexAttribArray(at.loc),X?G.vertexAttribDivisor(at.loc,We):Ge("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(at.loc,We),Ve!==at.data&&(G.bufferData(G.ARRAY_BUFFER,Ve,$e),at.data=Ve)}})}}}ee[Ee].transaction(re)},Pe=function(Ee,K){ue++;try{G.activeTexture(G.TEXTURE0+ue);var k=Y[Ee];k||(k=Y[Ee]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,k),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,k),K(k,ue)}finally{ue--}},ze=function(Ee,K,k){var re=G.createFramebuffer();ce.push(re),G.bindFramebuffer(G.FRAMEBUFFER,re),G.activeTexture(G.TEXTURE0+K),G.bindTexture(G.TEXTURE_2D,Ee),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,Ee,0);try{k(re)}finally{G.deleteFramebuffer(re),G.bindFramebuffer(G.FRAMEBUFFER,ce[--ce.length-1]||null)}},Ye=function(){ne={},ee={},Y={},ue=-1,ce.length=0};var Te=Ge,we=Ie,ve=Xe,oe=Pe,fe=ze,Re=Ye,X=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,ne={},ee={},Y={},ue=-1,ce=[];G.canvas.addEventListener("webglcontextlost",function(Ee){Ye(),Ee.preventDefault()},!1),l.set(G,z={gl:G,isWebGL2:X,getExtension:Ge,withProgram:Xe,withTexture:Pe,withTextureFramebuffer:ze,handleContextLoss:Ye})}W(z)}function f(j,W,G,z,X,ne,ee,Y){ee===void 0&&(ee=15),Y===void 0&&(Y=null),c(j,function(ue){var ce=ue.gl,Te=ue.withProgram,we=ue.withTexture;we("copy",function(ve,oe){ce.texImage2D(ce.TEXTURE_2D,0,ce.RGBA,X,ne,0,ce.RGBA,ce.UNSIGNED_BYTE,W),Te("copy",o,a,function(fe){var Re=fe.setUniform,Ge=fe.setAttribute;Ge("aUV",2,ce.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Re("1i","image",oe),ce.bindFramebuffer(ce.FRAMEBUFFER,Y||null),ce.disable(ce.BLEND),ce.colorMask(ee&8,ee&4,ee&2,ee&1),ce.viewport(G,z,X,ne),ce.scissor(G,z,X,ne),ce.drawArrays(ce.TRIANGLES,0,3)})})})}function d(j,W,G){var z=j.width,X=j.height;c(j,function(ne){var ee=ne.gl,Y=new Uint8Array(z*X*4);ee.readPixels(0,0,z,X,ee.RGBA,ee.UNSIGNED_BYTE,Y),j.width=W,j.height=G,f(ee,Y,0,0,z,X)})}var m=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(j,W,G,z,X,ne){ne===void 0&&(ne=1);var ee=new Uint8Array(j*W),Y=z[2]-z[0],ue=z[3]-z[1],ce=[];s(G,function(Ge,Ie,Xe,Pe){ce.push({x1:Ge,y1:Ie,x2:Xe,y2:Pe,minX:Math.min(Ge,Xe),minY:Math.min(Ie,Pe),maxX:Math.max(Ge,Xe),maxY:Math.max(Ie,Pe)})}),ce.sort(function(Ge,Ie){return Ge.maxX-Ie.maxX});for(var Te=0;Te<j;Te++)for(var we=0;we<W;we++){var ve=fe(z[0]+Y*(Te+.5)/j,z[1]+ue*(we+.5)/W),oe=Math.pow(1-Math.abs(ve)/X,ne)/2;ve<0&&(oe=1-oe),oe=Math.max(0,Math.min(255,Math.round(oe*255))),ee[we*j+Te]=oe}return ee;function fe(Ge,Ie){for(var Xe=1/0,Pe=1/0,ze=ce.length;ze--;){var Ye=ce[ze];if(Ye.maxX+Pe<=Ge)break;if(Ge+Pe>Ye.minX&&Ie-Pe<Ye.maxY&&Ie+Pe>Ye.minY){var Ee=x(Ge,Ie,Ye.x1,Ye.y1,Ye.x2,Ye.y2);Ee<Xe&&(Xe=Ee,Pe=Math.sqrt(Xe))}}return Re(Ge,Ie)&&(Pe=-Pe),Pe}function Re(Ge,Ie){for(var Xe=0,Pe=ce.length;Pe--;){var ze=ce[Pe];if(ze.maxX<=Ge)break;var Ye=ze.y1>Ie!=ze.y2>Ie&&Ge<(ze.x2-ze.x1)*(Ie-ze.y1)/(ze.y2-ze.y1)+ze.x1;Ye&&(Xe+=ze.y1<ze.y2?1:-1)}return Xe!==0}}function v(j,W,G,z,X,ne,ee,Y,ue,ce){ne===void 0&&(ne=1),Y===void 0&&(Y=0),ue===void 0&&(ue=0),ce===void 0&&(ce=0),y(j,W,G,z,X,ne,ee,null,Y,ue,ce)}function y(j,W,G,z,X,ne,ee,Y,ue,ce,Te){ne===void 0&&(ne=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),Te===void 0&&(Te=0);for(var we=g(j,W,G,z,X,ne),ve=new Uint8Array(we.length*4),oe=0;oe<we.length;oe++)ve[oe*4+Te]=we[oe];f(ee,ve,ue,ce,j,W,1<<3-Te,Y)}function x(j,W,G,z,X,ne){var ee=X-G,Y=ne-z,ue=ee*ee+Y*Y,ce=ue?Math.max(0,Math.min(1,((j-G)*ee+(W-z)*Y)/ue)):0,Te=j-(G+ce*ee),we=W-(z+ce*Y);return Te*Te+we*we}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),T=null,E=!1,P={},B=new WeakMap;function N(j){if(!E&&!J(j))throw new Error("WebGL generation not supported")}function F(j,W,G,z,X,ne,ee){if(ne===void 0&&(ne=1),ee===void 0&&(ee=null),!ee&&(ee=T,!ee)){var Y=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Y)throw new Error("OffscreenCanvas or DOM canvas not supported");ee=T=Y.getContext("webgl",{depth:!1})}N(ee);var ue=new Uint8Array(j*W*4);c(ee,function(ve){var oe=ve.gl,fe=ve.withTexture,Re=ve.withTextureFramebuffer;fe("readable",function(Ge,Ie){oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,j,W,0,oe.RGBA,oe.UNSIGNED_BYTE,null),Re(Ge,Ie,function(Xe){O(j,W,G,z,X,ne,oe,Xe,0,0,0),oe.readPixels(0,0,j,W,oe.RGBA,oe.UNSIGNED_BYTE,ue)})})});for(var ce=new Uint8Array(j*W),Te=0,we=0;Te<ue.length;Te+=4)ce[we++]=ue[Te];return ce}function U(j,W,G,z,X,ne,ee,Y,ue,ce){ne===void 0&&(ne=1),Y===void 0&&(Y=0),ue===void 0&&(ue=0),ce===void 0&&(ce=0),O(j,W,G,z,X,ne,ee,null,Y,ue,ce)}function O(j,W,G,z,X,ne,ee,Y,ue,ce,Te){ne===void 0&&(ne=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),Te===void 0&&(Te=0),N(ee);var we=[];s(G,function(ve,oe,fe,Re){we.push(ve,oe,fe,Re)}),we=new Float32Array(we),c(ee,function(ve){var oe=ve.gl,fe=ve.isWebGL2,Re=ve.getExtension,Ge=ve.withProgram,Ie=ve.withTexture,Xe=ve.withTextureFramebuffer,Pe=ve.handleContextLoss;if(Ie("rawDistances",function(ze,Ye){(j!==ze._lastWidth||W!==ze._lastHeight)&&oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,ze._lastWidth=j,ze._lastHeight=W,0,oe.RGBA,oe.UNSIGNED_BYTE,null),Ge("main",w,A,function(Ee){var K=Ee.setAttribute,k=Ee.setUniform,re=!fe&&Re("ANGLE_instanced_arrays"),pe=!fe&&Re("EXT_blend_minmax");K("aUV",2,oe.STATIC_DRAW,0,C),K("aLineSegment",4,oe.DYNAMIC_DRAW,1,we),k.apply(void 0,["4f","uGlyphBounds"].concat(z)),k("1f","uMaxDistance",X),k("1f","uExponent",ne),Xe(ze,Ye,function(Le){oe.enable(oe.BLEND),oe.colorMask(!0,!0,!0,!0),oe.viewport(0,0,j,W),oe.scissor(0,0,j,W),oe.blendFunc(oe.ONE,oe.ONE),oe.blendEquationSeparate(oe.FUNC_ADD,fe?oe.MAX:pe.MAX_EXT),oe.clear(oe.COLOR_BUFFER_BIT),fe?oe.drawArraysInstanced(oe.TRIANGLES,0,3,we.length/4):re.drawArraysInstancedANGLE(oe.TRIANGLES,0,3,we.length/4)})}),Ge("post",o,M,function(Ee){Ee.setAttribute("aUV",2,oe.STATIC_DRAW,0,C),Ee.setUniform("1i","tex",Ye),oe.bindFramebuffer(oe.FRAMEBUFFER,Y),oe.disable(oe.BLEND),oe.colorMask(Te===0,Te===1,Te===2,Te===3),oe.viewport(ue,ce,j,W),oe.scissor(ue,ce,j,W),oe.drawArrays(oe.TRIANGLES,0,3)})}),oe.isContextLost())throw Pe(),new Error("webgl context lost")})}function J(j){var W=!j||j===T?P:j.canvas||j,G=B.get(W);if(G===void 0){E=!0;var z=null;try{var X=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ne=F(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);G=ne&&X.length===ne.length&&ne.every(function(ee,Y){return ee===X[Y]}),G||(z="bad trial run results",console.info(X,ne))}catch(ee){G=!1,z=ee.message}z&&console.warn("WebGL SDF generation not supported:",z),E=!1,B.set(W,G)}return G}var $=Object.freeze({__proto__:null,generate:F,generateIntoCanvas:U,generateIntoFramebuffer:O,isSupported:J});function ie(j,W,G,z,X,ne){X===void 0&&(X=Math.max(z[2]-z[0],z[3]-z[1])/2),ne===void 0&&(ne=1);try{return F.apply($,arguments)}catch(ee){return console.info("WebGL SDF generation failed, falling back to JS",ee),g.apply(_,arguments)}}function H(j,W,G,z,X,ne,ee,Y,ue,ce){X===void 0&&(X=Math.max(z[2]-z[0],z[3]-z[1])/2),ne===void 0&&(ne=1),Y===void 0&&(Y=0),ue===void 0&&(ue=0),ce===void 0&&(ce=0);try{return U.apply($,arguments)}catch(Te){return console.info("WebGL SDF generation failed, falling back to JS",Te),v.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=ie,e.generateIntoCanvas=H,e.javascript=_,e.pathToLineSegments=s,e.webgl=$,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Uee(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Pe,ze){r[Pe]=1<<ze+1,i[r[Pe]]=Pe}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Pe=function(Ye){if(n.hasOwnProperty(Ye)){var Ee=0;n[Ye].split(",").forEach(function(K){var k=K.split("+"),re=k[0],pe=k[1];re=parseInt(re,36),pe=pe?parseInt(pe,36):0,c.set(Ee+=re,r[Ye]);for(var Le=0;Le<pe;Le++)c.set(++Ee,r[Ye])})}};for(var ze in n)Pe(ze)}}function d(Pe){return f(),c.get(Pe.codePointAt(0))||r.L}function m(Pe){return i[d(Pe)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Pe,ze){var Ye=36,Ee=0,K=new Map,k=ze&&new Map,re;return Pe.split(",").forEach(function pe(Le){if(Le.indexOf("+")!==-1)for(var Me=+Le;Me--;)pe(re);else{re=Le;var Je=Le.split(">"),ke=Je[0],be=Je[1];ke=String.fromCodePoint(Ee+=parseInt(ke,Ye)),be=String.fromCodePoint(Ee+=parseInt(be,Ye)),K.set(ke,be),ze&&k.set(be,ke)}}),{map:K,reverseMap:k}}var y,x,_;function w(){if(!y){var Pe=v(g.pairs,!0),ze=Pe.map,Ye=Pe.reverseMap;y=ze,x=Ye,_=v(g.canonical,!1).map}}function A(Pe){return w(),y.get(Pe)||null}function M(Pe){return w(),x.get(Pe)||null}function C(Pe){return w(),_.get(Pe)||null}var T=r.L,E=r.R,P=r.EN,B=r.ES,N=r.ET,F=r.AN,U=r.CS,O=r.B,J=r.S,$=r.ON,ie=r.BN,H=r.NSM,j=r.AL,W=r.LRO,G=r.RLO,z=r.LRE,X=r.RLE,ne=r.PDF,ee=r.LRI,Y=r.RLI,ue=r.FSI,ce=r.PDI;function Te(Pe,ze){for(var Ye=125,Ee=new Uint32Array(Pe.length),K=0;K<Pe.length;K++)Ee[K]=d(Pe[K]);var k=new Map;function re(Rr,pi){var ir=Ee[Rr];Ee[Rr]=pi,k.set(ir,k.get(ir)-1),ir&a&&k.set(a,k.get(a)-1),k.set(pi,(k.get(pi)||0)+1),pi&a&&k.set(a,(k.get(a)||0)+1)}for(var pe=new Uint8Array(Pe.length),Le=new Map,Me=[],Je=null,ke=0;ke<Pe.length;ke++)Je||Me.push(Je={start:ke,end:Pe.length-1,level:ze==="rtl"?1:ze==="ltr"?0:Jc(ke,!1)}),Ee[ke]&O&&(Je.end=ke,Je=null);for(var be=X|z|G|W|s|ce|ne|O,Ze=function(Rr){return Rr+(Rr&1?1:2)},rt=function(Rr){return Rr+(Rr&1?2:1)},$e=0;$e<Me.length;$e++){Je=Me[$e];var We=[{_level:Je.level,_override:0,_isolate:0}],Ve=void 0,at=0,pt=0,bt=0;k.clear();for(var le=Je.start;le<=Je.end;le++){var se=Ee[le];if(Ve=We[We.length-1],k.set(se,(k.get(se)||0)+1),se&a&&k.set(a,(k.get(a)||0)+1),se&be)if(se&(X|z)){pe[le]=Ve._level;var Oe=(se===X?rt:Ze)(Ve._level);Oe<=Ye&&!at&&!pt?We.push({_level:Oe,_override:0,_isolate:0}):at||pt++}else if(se&(G|W)){pe[le]=Ve._level;var ot=(se===G?rt:Ze)(Ve._level);ot<=Ye&&!at&&!pt?We.push({_level:ot,_override:se&G?E:T,_isolate:0}):at||pt++}else if(se&s){se&ue&&(se=Jc(le+1,!0)===1?Y:ee),pe[le]=Ve._level,Ve._override&&re(le,Ve._override);var tt=(se===Y?rt:Ze)(Ve._level);tt<=Ye&&at===0&&pt===0?(bt++,We.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:le})):at++}else if(se&ce){if(at>0)at--;else if(bt>0){for(pt=0;!We[We.length-1]._isolate;)We.pop();var ft=We[We.length-1]._isolInitIndex;ft!=null&&(Le.set(ft,le),Le.set(le,ft)),We.pop(),bt--}Ve=We[We.length-1],pe[le]=Ve._level,Ve._override&&re(le,Ve._override)}else se&ne?(at===0&&(pt>0?pt--:!Ve._isolate&&We.length>1&&(We.pop(),Ve=We[We.length-1])),pe[le]=Ve._level):se&O&&(pe[le]=Je.level);else pe[le]=Ve._level,Ve._override&&se!==ie&&re(le,Ve._override)}for(var Ft=[],kt=null,Mt=Je.start;Mt<=Je.end;Mt++){var Et=Ee[Mt];if(!(Et&l)){var hn=pe[Mt],sn=Et&s,wn=Et===ce;kt&&hn===kt._level?(kt._end=Mt,kt._endsWithIsolInit=sn):Ft.push(kt={_start:Mt,_end:Mt,_level:hn,_startsWithPDI:wn,_endsWithIsolInit:sn})}}for(var zr=[],Cr=0;Cr<Ft.length;Cr++){var Gr=Ft[Cr];if(!Gr._startsWithPDI||Gr._startsWithPDI&&!Le.has(Gr._start)){for(var Q=[kt=Gr],Se=void 0;kt&&kt._endsWithIsolInit&&(Se=Le.get(kt._end))!=null;)for(var _e=Cr+1;_e<Ft.length;_e++)if(Ft[_e]._start===Se){Q.push(kt=Ft[_e]);break}for(var me=[],Ne=0;Ne<Q.length;Ne++)for(var L=Q[Ne],V=L._start;V<=L._end;V++)me.push(V);for(var te=pe[me[0]],de=Je.level,ye=me[0]-1;ye>=0;ye--)if(!(Ee[ye]&l)){de=pe[ye];break}var xe=me[me.length-1],Ue=pe[xe],He=Je.level;if(!(Ee[xe]&s)){for(var Ke=xe+1;Ke<=Je.end;Ke++)if(!(Ee[Ke]&l)){He=pe[Ke];break}}zr.push({_seqIndices:me,_sosType:Math.max(de,te)%2?E:T,_eosType:Math.max(He,Ue)%2?E:T})}}for(var Qe=0;Qe<zr.length;Qe++){var qe=zr[Qe],Ae=qe._seqIndices,ht=qe._sosType,mt=qe._eosType,it=pe[Ae[0]]&1?E:T;if(k.get(H))for(var St=0;St<Ae.length;St++){var Bt=Ae[St];if(Ee[Bt]&H){for(var Ot=ht,Nt=St-1;Nt>=0;Nt--)if(!(Ee[Ae[Nt]]&l)){Ot=Ee[Ae[Nt]];break}re(Bt,Ot&(s|ce)?$:Ot)}}if(k.get(P))for(var gt=0;gt<Ae.length;gt++){var Ct=Ae[gt];if(Ee[Ct]&P)for(var Ut=gt-1;Ut>=-1;Ut--){var zt=Ut===-1?ht:Ee[Ae[Ut]];if(zt&o){zt===j&&re(Ct,F);break}}}if(k.get(j))for(var Dt=0;Dt<Ae.length;Dt++){var fn=Ae[Dt];Ee[fn]&j&&re(fn,E)}if(k.get(B)||k.get(U))for(var Cn=1;Cn<Ae.length-1;Cn++){var kn=Ae[Cn];if(Ee[kn]&(B|U)){for(var Fn=0,tn=0,zn=Cn-1;zn>=0&&(Fn=Ee[Ae[zn]],!!(Fn&l));zn--);for(var on=Cn+1;on<Ae.length&&(tn=Ee[Ae[on]],!!(tn&l));on++);Fn===tn&&(Ee[kn]===B?Fn===P:Fn&(P|F))&&re(kn,Fn)}}if(k.get(P))for(var Ht=0;Ht<Ae.length;Ht++){var Sn=Ae[Ht];if(Ee[Sn]&P){for(var Ti=Ht-1;Ti>=0&&Ee[Ae[Ti]]&(N|l);Ti--)re(Ae[Ti],P);for(Ht++;Ht<Ae.length&&Ee[Ae[Ht]]&(N|l|P);Ht++)Ee[Ae[Ht]]!==P&&re(Ae[Ht],P)}}if(k.get(N)||k.get(B)||k.get(U))for(var rr=0;rr<Ae.length;rr++){var Hi=Ae[rr];if(Ee[Hi]&(N|B|U)){re(Hi,$);for(var Xo=rr-1;Xo>=0&&Ee[Ae[Xo]]&l;Xo--)re(Ae[Xo],$);for(var Ko=rr+1;Ko<Ae.length&&Ee[Ae[Ko]]&l;Ko++)re(Ae[Ko],$)}}if(k.get(P))for(var Yo=0,uu=ht;Yo<Ae.length;Yo++){var Dg=Ae[Yo],uh=Ee[Dg];uh&P?uu===T&&re(Dg,T):uh&o&&(uu=uh)}if(k.get(a)){var Qo=E|P|F,Wc=Qo|T,Ao=[];{for(var Xa=[],bo=0;bo<Ae.length;bo++)if(Ee[Ae[bo]]&a){var Yt=Pe[Ae[bo]],ch=void 0;if(A(Yt)!==null)if(Xa.length<63)Xa.push({char:Yt,seqIndex:bo});else break;else if((ch=M(Yt))!==null)for(var Zo=Xa.length-1;Zo>=0;Zo--){var jc=Xa[Zo].char;if(jc===ch||jc===M(C(Yt))||A(C(jc))===Yt){Ao.push([Xa[Zo].seqIndex,bo]),Xa.length=Zo;break}}}Ao.sort(function(Rr,pi){return Rr[0]-pi[0]})}for(var fh=0;fh<Ao.length;fh++){for(var Lg=Ao[fh],Gn=Lg[0],cu=Lg[1],kg=!1,fi=0,dh=Gn+1;dh<cu;dh++){var fu=Ae[dh];if(Ee[fu]&Wc){kg=!0;var Vi=Ee[fu]&Qo?E:T;if(Vi===it){fi=Vi;break}}}if(kg&&!fi){fi=ht;for(var hh=Gn-1;hh>=0;hh--){var Fg=Ae[hh];if(Ee[Fg]&Wc){var Wi=Ee[Fg]&Qo?E:T;Wi!==it?fi=Wi:fi=it;break}}}if(fi){if(Ee[Ae[Gn]]=Ee[Ae[cu]]=fi,fi!==it){for(var di=Gn+1;di<Ae.length;di++)if(!(Ee[Ae[di]]&l)){d(Pe[Ae[di]])&H&&(Ee[Ae[di]]=fi);break}}if(fi!==it){for(var Mo=cu+1;Mo<Ae.length;Mo++)if(!(Ee[Ae[Mo]]&l)){d(Pe[Ae[Mo]])&H&&(Ee[Ae[Mo]]=fi);break}}}}for(var hs=0;hs<Ae.length;hs++)if(Ee[Ae[hs]]&a){for(var ph=hs,mh=hs,Ri=ht,du=hs-1;du>=0;du--)if(Ee[Ae[du]]&l)ph=du;else{Ri=Ee[Ae[du]]&Qo?E:T;break}for(var hu=mt,pu=hs+1;pu<Ae.length;pu++)if(Ee[Ae[pu]]&(a|l))mh=pu;else{hu=Ee[Ae[pu]]&Qo?E:T;break}for(var hi=ph;hi<=mh;hi++)Ee[Ae[hi]]=Ri===hu?Ri:it;hs=mh}}}for(var Tr=Je.start;Tr<=Je.end;Tr++){var $c=pe[Tr],js=Ee[Tr];if($c&1?js&(T|P|F)&&pe[Tr]++:js&E?pe[Tr]++:js&(F|P)&&(pe[Tr]+=2),js&l&&(pe[Tr]=Tr===0?Je.level:pe[Tr-1]),Tr===Je.end||d(Pe[Tr])&(J|O))for(var Ka=Tr;Ka>=0&&d(Pe[Ka])&u;Ka--)pe[Ka]=Je.level}}return{levels:pe,paragraphs:Me};function Jc(Rr,pi){for(var ir=Rr;ir<Pe.length;ir++){var sr=Ee[ir];if(sr&(E|j))return 1;if(sr&(O|T)||pi&&sr===ce)return 0;if(sr&s){var ji=Og(ir);ir=ji===-1?Pe.length:ji}}return 0}function Og(Rr){for(var pi=1,ir=Rr+1;ir<Pe.length;ir++){var sr=Ee[ir];if(sr&O)break;if(sr&ce){if(--pi===0)return ir}else sr&s&&pi++}return-1}}var we="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ve;function oe(){if(!ve){var Pe=v(we,!0),ze=Pe.map,Ye=Pe.reverseMap;Ye.forEach(function(Ee,K){ze.set(K,Ee)}),ve=ze}}function fe(Pe){return oe(),ve.get(Pe)||null}function Re(Pe,ze,Ye,Ee){var K=Pe.length;Ye=Math.max(0,Ye==null?0:+Ye),Ee=Math.min(K-1,Ee==null?K-1:+Ee);for(var k=new Map,re=Ye;re<=Ee;re++)if(ze[re]&1){var pe=fe(Pe[re]);pe!==null&&k.set(re,pe)}return k}function Ge(Pe,ze,Ye,Ee){var K=Pe.length;Ye=Math.max(0,Ye==null?0:+Ye),Ee=Math.min(K-1,Ee==null?K-1:+Ee);var k=[];return ze.paragraphs.forEach(function(re){var pe=Math.max(Ye,re.start),Le=Math.min(Ee,re.end);if(pe<Le){for(var Me=ze.levels.slice(pe,Le+1),Je=Le;Je>=pe&&d(Pe[Je])&u;Je--)Me[Je]=re.level;for(var ke=re.level,be=1/0,Ze=0;Ze<Me.length;Ze++){var rt=Me[Ze];rt>ke&&(ke=rt),rt<be&&(be=rt|1)}for(var $e=ke;$e>=be;$e--)for(var We=0;We<Me.length;We++)if(Me[We]>=$e){for(var Ve=We;We+1<Me.length&&Me[We+1]>=$e;)We++;We>Ve&&k.push([Ve+pe,We+pe])}}}),k}function Ie(Pe,ze,Ye,Ee){var K=Xe(Pe,ze,Ye,Ee),k=[].concat(Pe);return K.forEach(function(re,pe){k[pe]=(ze.levels[re]&1?fe(Pe[re]):null)||Pe[re]}),k.join("")}function Xe(Pe,ze,Ye,Ee){for(var K=Ge(Pe,ze,Ye,Ee),k=[],re=0;re<Pe.length;re++)k[re]=re;return K.forEach(function(pe){for(var Le=pe[0],Me=pe[1],Je=k.slice(Le,Me+1),ke=Je.length;ke--;)k[Me-ke]=Je[ke]}),k}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=m,e.getCanonicalBracket=C,e.getEmbeddingLevels=Te,e.getMirroredCharacter=fe,e.getMirroredCharactersMap=Re,e.getReorderSegments=Ge,e.getReorderedIndices=Xe,e.getReorderedString=Ie,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const GU=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Qb(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=jt[i];return s?Qb(s):r}return t.replace(e,n)}const Vr=[];for(let t=0;t<256;t++)Vr[t]=(t<16?"0":"")+t.toString(16);function zee(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vr[t&255]+Vr[t>>8&255]+Vr[t>>16&255]+Vr[t>>24&255]+"-"+Vr[e&255]+Vr[e>>8&255]+"-"+Vr[e>>16&15|64]+Vr[e>>24&255]+"-"+Vr[n&63|128]+Vr[n>>8&255]+"-"+Vr[n>>16&255]+Vr[n>>24&255]+Vr[r&255]+Vr[r>>8&255]+Vr[r>>16&255]+Vr[r>>24&255]).toUpperCase()}const Du=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Gee=Date.now(),yB=new WeakMap,xB=new Map;let Hee=1e10;function Zb(t,e){const n=$ee(e);let r=yB.get(t);if(r||yB.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let d=xB[f];if(!d){const m=Vee(this,u,e,n);d=xB[f]=m}u.vertexShader=d.vertexShader,u.fragmentShader=d.fragmentShader,Du(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Gee}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Hee++}),c.uuid=zee(),c.uniforms=Du({},u.uniforms,e.uniforms),c.defines=Du({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Du({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Du(this.extensions,u.extensions),Du(this.defines,u.defines),Du(this.uniforms,rC.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=Zb(t.isDerivedMaterial?t.getDepthMaterial():new ux({depthPacking:QE}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=Zb(t.isDerivedMaterial?t.getDistanceMaterial():new cx,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Vee(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||m)&&(e=Qb(e)),(d||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=Qb(n)),m){let v=m({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(d){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,u=v+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=_B(e,i,s,o,a),n=_B(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function _B(t,e,n,r,i){return(r||i||n)&&(t=t.replace(GU,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Wee(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let jee=0;const wB=new Map;function $ee(t){const e=JSON.stringify(t,Wee);let n=wB.get(e);return n==null&&wB.set(e,n=++jee),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Jee(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},d=0;d<l;d++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[m]={offset:g,length:v}}for(d=0;d<u.length;d++){var y=u[d];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var d=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var d=u.readUshort(i,s);s+=2;var m=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+d),c.featureList=e._lctf.readFeatureList(i,f+m),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+d,o);u.push(m)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,d=0;d<c;d++){var m=a.readUshort(i,s);s+=2;var g=o(i,f,l+m,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+d);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,a+u));var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(c=0;c<f.length-1;c++)d.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var m=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(c=0;c<g.length-1;c++)v.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(c=0;c<g.length-1;c++)y.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),m.FDArray=[],c=0;c<x.length-1;c++){var _=e.CFF.readDict(i,s+x[c],s+x[c+1]);e.CFF._readFDict(i,_,v),m.FDArray.push(_)}s+=x[x.length-1],s=m.FDSelect,m.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var A=a.readUshort(i,s);for(s+=2,c=0;c<A+1;c++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,v),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(u==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),c=0;c<=d;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,d=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(d=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(d=l-139,c=1),247<=l&&l<=250&&(d=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(d=256*-(l-251)-u-108,c=2),l==255&&(d=a.readInt(i,s+1)/65535,c=5),o.val=d??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;c<=20&&(m=c,d=1),c==12&&(m=100*c+f,d=2),c!=19&&c!=20||(m=c,d=2),21<=c&&c<=27&&(m=c,d=1),c==28&&(g=l.readShort(i,s+1),d=3),29<=c&&c<=31&&(m=c,d=1),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255&&(g=l.readInt(i,s+1)/65535,d=5),u.push(g??"o"+m),s+=d}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;if(c==28&&(g=a.readShort(i,s+1),d=3),c==29&&(g=a.readInt(i,s+1),d=5),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(c==30){var v=[];for(d=1;;){var y=i[s+d];d++;var x=y>>4,_=15&y;if(x!=15&&v.push(x),_!=15&&v.push(_),_==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<v.length;M++)w+=A[v[M]];g=parseFloat(w)}c<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],d=1,c==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),m!=null?(l[m]=u.length==1?u[0]:u,u=[]):u.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+m,y=c.indexOf(g);if(y==-1){var x;y=l.tables.length,c.push(g);var _=a.readUshort(i,g);_==0?x=e.cmap.parse0(i,g):_==4?x=e.cmap.parse4(i,g):_==6?x=e.cmap.parse6(i,g):_==12?x=e.cmap.parse12(i,g):console.debug("unknown format: "+_,d,m,g),l.tables.push(x)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),d=o.readUint(i,c+4),m=o.readUint(i,c+8);a.groups.push([f,d,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var d=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<d;c++){var m=a[l];if(l++,u.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var v=0;v<g;v++)u.flags.push(m),c++}}for(u.xs=[],c=0;c<d;c++){var y=(2&u.flags[c])!=0,x=(16&u.flags[c])!=0;y?(u.xs.push(x?a[l]:-a[l]),l++):x?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<d;c++)y=(4&u.flags[c])!=0,x=(32&u.flags[c])!=0,y?(u.ys.push(x?a[l]:-a[l]),l++):x?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var _=0,w=0;for(c=0;c<d;c++)_+=u.xs[c],w+=u.ys[c],u.xs[c]=_,u.ys[c]=w}else{var A;u.parts=[];do{A=o.readUshort(a,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(M),M.glyphIndex=o.readUshort(a,l),l+=2,1&A){var C=o.readShort(a,l);l+=2;var T=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,T=o.readInt8(a,l),l++;2&A?(M.m.tx=C,M.m.ty=T):(M.p1=C,M.p2=T),8&A?(M.m.a=M.m.d=o.readF2dot14(a,l),l+=2):64&A?(M.m.a=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2):128&A&&(M.m.a=o.readF2dot14(a,l),l+=2,M.m.b=o.readF2dot14(a,l),l+=2,M.m.c=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2)}while(32&A);if(256&A){var E=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<E;c++)u.instr.push(a[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var u=e._bin.readUshort(i,s);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var d=l.readUshort(i,o);o+=2,d!=0&&(c.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&c.fmt>=1&&c.fmt<=2){d=l.readUshort(i,o),o+=2;var m=l.readUshort(i,o);o+=2;var g=e._lctf.numOfOnes(d),v=e._lctf.numOfOnes(m);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=u+l.readUshort(i,o);o+=2;var w=l.readUshort(i,_);_+=2;for(var A=[],M=0;M<w;M++){var C=l.readUshort(i,_);_+=2,d!=0&&(F=e.GPOS.readValueRecord(i,_,d),_+=2*g),m!=0&&(U=e.GPOS.readValueRecord(i,_,m),_+=2*v),A.push({gid2:C,val1:F,val2:U})}c.pairsets.push(A)}}if(c.fmt==2){var T=l.readUshort(i,o);o+=2;var E=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+T),c.classDef2=e._lctf.readClassDef(i,u+E),c.matrix=[],x=0;x<P;x++){var N=[];for(M=0;M<B;M++){var F=null,U=null;d!=0&&(F=e.GPOS.readValueRecord(i,o,d),o+=2*g),m!=0&&(U=e.GPOS.readValueRecord(i,o,m),o+=2*v),N.push({val1:F,val2:U})}c.matrix.push(N)}}}else if(s==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else if(s==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else{if(s==9&&c.fmt==1){var O=l.readUshort(i,o);o+=2;var J=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=O;else if(a.ltype!=O)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+J)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],u=s,c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){for(var d=[],m=0;m<o;m++)d.push(e.GPOS.readAnchorRecord(i,u+a.readUshort(i,s))),s+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);f.markClass=o.readUshort(i,s),a.push(f),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var d=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,d),o+=2*c.newg.length}}else if(s==2&&c.fmt==1){d=l.readUshort(i,o),o+=2,c.seqs=[];for(var m=0;m<d;m++){var g=l.readUshort(i,o)+u;o+=2;var v=l.readUshort(i,g);c.seqs.push(l.readUshorts(i,g+2,v))}}else if(s==4)for(c.vals=[],d=l.readUshort(i,o),o+=2,m=0;m<d;m++){var y=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+y))}else if(s==5&&c.fmt==2){if(c.fmt==2){var x=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+x),c.scset=[];var _=l.readUshort(i,o);for(o+=2,m=0;m<_;m++){var w=l.readUshort(i,o);o+=2,c.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(m=0;m<3;m++){d=l.readUshort(i,o),o+=2;for(var A=[],M=0;M<d;M++)A.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*M)));o+=2*d,m==0&&(c.backCvg=A),m==1&&(c.inptCvg=A),m==2&&(c.ahedCvg=A)}d=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&c.fmt==1){var C=l.readUshort(i,o);o+=2;var T=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=C;else if(a.ltype!=C)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+T)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<c;d++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=d>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var d=0;d<f;d++)u.push(l.readUshort(i,s+(d<<1))<<1);if(c==1)for(d=0;d<f;d++)u.push(l.readUint(i,s+(d<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,m=0;m<u;m++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var A,M=f[x],C=d+12*u+w;if(g==0)A=a.readUnicode(i,C,_/2);else if(g==3&&v==0)A=a.readUnicode(i,C,_/2);else if(v==0)A=a.readASCII(i,C,_);else if(v==1)A=a.readUnicode(i,C,_/2);else if(v==3)A=a.readUnicode(i,C,_/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;A=a.readASCII(i,C,_),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var T="p"+g+","+y.toString(16);l[T]==null&&(l[T]={}),l[T][M!==void 0?M:x]=A,l[T]._lang=y}for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==1033)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==0)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==3084)return l[E];for(var E in l)if(l[E].postScriptName!=null)return l[E];for(var E in l){c=E;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,d=1&i.flags[u],m=1&i.flags[c],g=1&i.flags[f],v=i.xs[u],y=i.ys[u];if(u==a)if(d){if(!m){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else m?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+v)/2,(i.ys[c]+y)/2);d?m&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],m=l.crds[f+1];o.crds.push(d*c.a+m*c.b+c.tx),o.crds.push(d*c.c+m*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var d=f.vals[c],m=0;m<d.length;m++){var g=d[m],v=g.chain.length;if(!(v>l)){for(var y=!0,x=0,_=0;_<v;_++){for(;i[s+x+(1+_)]==-1;)x++;g.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=g.nglyph,_=0;_<v+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),A=f.cDef[w+2],M=f.scset[A],C=0;C<M.length;C++){var T=M[C],E=T.input;if(!(E.length>l)){for(y=!0,_=0;_<E.length;_++){var P=e._lctf.getInterval(f.cDef,i[s+1+_]);if(w==-1&&f.cDef[P+2]!=E[_]){y=!1;break}}if(y){var B=T.substLookupRecords;for(m=0;m<B.length;m+=2)B[m],B[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var N=f.lookupRec;for(C=0;C<N.length;C+=2){w=N[C];var F=a[N[C+1]];e.U._applySubs(i,s+w,F,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,d=e.U.glyphToPath(i,c),m=0;m<d.crds.length;m+=2)a.crds.push(d.crds[m]+l),a.crds.push(d.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<d.cmds.length;m++)a.cmds.push(d.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open,g=0,v=s.x,y=s.y,x=0,_=0,w=0,A=0,M=0,C=0,T=0,E=0,P=0,B=0,N={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,N);var F=N.val;if(g+=N.size,F=="o1"||F=="o18")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o3"||F=="o23")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o4")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,v,y),m=!0;else if(F=="o5")for(;u.length>0;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);else if(F=="o6"||F=="o7")for(var U=u.length,O=F=="o6",J=0;J<U;J++){var $=u.shift();O?v+=$:y+=$,O=!O,e.U.P.lineTo(l,v,y)}else if(F=="o8"||F=="o24"){U=u.length;for(var ie=0;ie+6<=U;)x=v+u.shift(),_=y+u.shift(),w=x+u.shift(),A=_+u.shift(),v=w+u.shift(),y=A+u.shift(),e.U.P.curveTo(l,x,_,w,A,v,y),ie+=6;F=="o24"&&(v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y))}else{if(F=="o11")break;if(F=="o1234"||F=="o1235"||F=="o1236"||F=="o1237")F=="o1234"&&(_=y,w=(x=v+u.shift())+u.shift(),B=A=_+u.shift(),C=A,E=y,v=(T=(M=(P=w+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,x,_,w,A,P,B),e.U.P.curveTo(l,M,C,T,E,v,y)),F=="o1235"&&(x=v+u.shift(),_=y+u.shift(),w=x+u.shift(),A=_+u.shift(),P=w+u.shift(),B=A+u.shift(),M=P+u.shift(),C=B+u.shift(),T=M+u.shift(),E=C+u.shift(),v=T+u.shift(),y=E+u.shift(),u.shift(),e.U.P.curveTo(l,x,_,w,A,P,B),e.U.P.curveTo(l,M,C,T,E,v,y)),F=="o1236"&&(x=v+u.shift(),_=y+u.shift(),w=x+u.shift(),B=A=_+u.shift(),C=A,T=(M=(P=w+u.shift())+u.shift())+u.shift(),E=C+u.shift(),v=T+u.shift(),e.U.P.curveTo(l,x,_,w,A,P,B),e.U.P.curveTo(l,M,C,T,E,v,y)),F=="o1237"&&(x=v+u.shift(),_=y+u.shift(),w=x+u.shift(),A=_+u.shift(),P=w+u.shift(),B=A+u.shift(),M=P+u.shift(),C=B+u.shift(),T=M+u.shift(),E=C+u.shift(),Math.abs(T-v)>Math.abs(E-y)?v=T+u.shift():y=E+u.shift(),e.U.P.curveTo(l,x,_,w,A,P,B),e.U.P.curveTo(l,M,C,T,E,v,y));else if(F=="o14"){if(u.length>0&&!f&&(d=u.shift()+o.nominalWidthX,f=!0),u.length==4){var H=u.shift(),j=u.shift(),W=u.shift(),G=u.shift(),z=e.CFF.glyphBySE(o,W),X=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[z],s,o,a,l),s.x=H,s.y=j,e.U._drawCFF(o.CharStrings[X],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(F=="o19"||F=="o20")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(F=="o21")u.length>2&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(F=="o22")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(F=="o25"){for(;u.length>6;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);x=v+u.shift(),_=y+u.shift(),w=x+u.shift(),A=_+u.shift(),v=w+u.shift(),y=A+u.shift(),e.U.P.curveTo(l,x,_,w,A,v,y)}else if(F=="o26")for(u.length%2&&(v+=u.shift());u.length>0;)x=v,_=y+u.shift(),v=w=x+u.shift(),y=(A=_+u.shift())+u.shift(),e.U.P.curveTo(l,x,_,w,A,v,y);else if(F=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)_=y,w=(x=v+u.shift())+u.shift(),A=_+u.shift(),v=w+u.shift(),y=A,e.U.P.curveTo(l,x,_,w,A,v,y);else if(F=="o10"||F=="o29"){var ne=F=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var ee=u.pop(),Y=ne.Subrs[ee+ne.Bias];s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m,e.U._drawCFF(Y,s,o,a,l),v=s.x,y=s.y,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open}}else if(F=="o30"||F=="o31"){var ue=u.length,ce=(ie=0,F=="o31");for(ie+=ue-(U=-3&ue);ie<U;)ce?(_=y,w=(x=v+u.shift())+u.shift(),y=(A=_+u.shift())+u.shift(),U-ie==5?(v=w+u.shift(),ie++):v=w,ce=!1):(x=v,_=y+u.shift(),w=x+u.shift(),A=_+u.shift(),v=w+u.shift(),U-ie==5?(y=A+u.shift(),ie++):y=A,ce=!0),e.U.P.curveTo(l,x,_,w,A,v,y),ie+=4}else{if((F+"").charAt(0)=="o")throw console.debug("Unknown operation: "+F,i),F;u.push(F)}}}s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Xee(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(F,U){for(var O=new n(31),J=0;J<31;++J)O[J]=U+=1<<F[J-1];var $=new r(O[30]);for(J=1;J<30;++J)for(var ie=O[J];ie<O[J+1];++ie)$[ie]=ie-O[J]<<5|J;return[O,$]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],d=new n(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(F,U,O){for(var J=F.length,$=0,ie=new n(U);$<J;++$)++ie[F[$]-1];var H,j=new n(U);for($=0;$<U;++$)j[$]=j[$-1]+ie[$-1]<<1;{H=new n(1<<U);var W=15-U;for($=0;$<J;++$)if(F[$])for(var G=$<<4|F[$],z=U-F[$],X=j[F[$]-1]++<<z,ne=X|(1<<z)-1;X<=ne;++X)H[d[X]>>>W]=G}return H},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var x=new e(32);for(m=0;m<32;++m)x[m]=5;var _=v(y,9),w=v(x,5),A=function(F){for(var U=F[0],O=1;O<F.length;++O)F[O]>U&&(U=F[O]);return U},M=function(F,U,O){var J=U/8|0;return(F[J]|F[J+1]<<8)>>(7&U)&O},C=function(F,U){var O=U/8|0;return(F[O]|F[O+1]<<8|F[O+2]<<16)>>(7&U)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(F,U,O){var J=new Error(U||T[F]);if(J.code=F,Error.captureStackTrace&&Error.captureStackTrace(J,E),!O)throw J;return J},P=function(F,U,O){var J=F.length;if(!J||O&&!O.l&&J<5)return U||new e(0);var $=!U||O,ie=!O||O.i;O||(O={}),U||(U=new e(3*J));var H,j=function(Ve){var at=U.length;if(Ve>at){var pt=new e(Math.max(2*at,Ve));pt.set(U),U=pt}},W=O.f||0,G=O.p||0,z=O.b||0,X=O.l,ne=O.d,ee=O.m,Y=O.n,ue=8*J;do{if(!X){O.f=W=M(F,G,1);var ce=M(F,G+1,3);if(G+=3,!ce){var Te=F[(Ye=((H=G)/8|0)+(7&H&&1)+4)-4]|F[Ye-3]<<8,we=Ye+Te;if(we>J){ie&&E(0);break}$&&j(z+Te),U.set(F.subarray(Ye,we),z),O.b=z+=Te,O.p=G=8*we;continue}if(ce==1)X=_,ne=w,ee=9,Y=5;else if(ce==2){var ve=M(F,G,31)+257,oe=M(F,G+10,15)+4,fe=ve+M(F,G+5,31)+1;G+=14;for(var Re=new e(fe),Ge=new e(19),Ie=0;Ie<oe;++Ie)Ge[o[Ie]]=M(F,G+3*Ie,7);G+=3*oe;var Xe=A(Ge),Pe=(1<<Xe)-1,ze=v(Ge,Xe);for(Ie=0;Ie<fe;){var Ye,Ee=ze[M(F,G,Pe)];if(G+=15&Ee,(Ye=Ee>>>4)<16)Re[Ie++]=Ye;else{var K=0,k=0;for(Ye==16?(k=3+M(F,G,3),G+=2,K=Re[Ie-1]):Ye==17?(k=3+M(F,G,7),G+=3):Ye==18&&(k=11+M(F,G,127),G+=7);k--;)Re[Ie++]=K}}var re=Re.subarray(0,ve),pe=Re.subarray(ve);ee=A(re),Y=A(pe),X=v(re,ee),ne=v(pe,Y)}else E(1);if(G>ue){ie&&E(0);break}}$&&j(z+131072);for(var Le=(1<<ee)-1,Me=(1<<Y)-1,Je=G;;Je=G){var ke=(K=X[C(F,G)&Le])>>>4;if((G+=15&K)>ue){ie&&E(0);break}if(K||E(2),ke<256)U[z++]=ke;else{if(ke==256){Je=G,X=null;break}var be=ke-254;if(ke>264){var Ze=i[Ie=ke-257];be=M(F,G,(1<<Ze)-1)+u[Ie],G+=Ze}var rt=ne[C(F,G)&Me],$e=rt>>>4;if(rt||E(3),G+=15&rt,pe=f[$e],$e>3&&(Ze=s[$e],pe+=C(F,G)&(1<<Ze)-1,G+=Ze),G>ue){ie&&E(0);break}$&&j(z+131072);for(var We=z+be;z<We;z+=4)U[z]=U[z-pe],U[z+1]=U[z+1-pe],U[z+2]=U[z+2-pe],U[z+3]=U[z+3-pe];z=We}}O.l=X,O.p=Je,O.b=z,X&&(W=1,O.m=ee,O.d=ne,O.n=Y)}while(!W);return z==U.length?U:function(Ve,at,pt){(pt==null||pt>Ve.length)&&(pt=Ve.length);var bt=new(Ve instanceof n?n:Ve instanceof r?r:e)(pt-at);return bt.set(Ve.subarray(at,pt)),bt}(U,0,z)},B=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(B,{stream:!0})}catch{}return t.convert_streams=function(F){var U=new DataView(F),O=0;function J(){var ve=U.getUint16(O);return O+=2,ve}function $(){var ve=U.getUint32(O);return O+=4,ve}function ie(ve){Te.setUint16(we,ve),we+=2}function H(ve){Te.setUint32(we,ve),we+=4}for(var j={signature:$(),flavor:$(),length:$(),numTables:J(),reserved:J(),totalSfntSize:$(),majorVersion:J(),minorVersion:J(),metaOffset:$(),metaLength:$(),metaOrigLength:$(),privOffset:$(),privLength:$()},W=0;Math.pow(2,W)<=j.numTables;)W++;W--;for(var G=16*Math.pow(2,W),z=16*j.numTables-G,X=12,ne=[],ee=0;ee<j.numTables;ee++)ne.push({tag:$(),offset:$(),compLength:$(),origLength:$(),origChecksum:$()}),X+=16;var Y,ue=new Uint8Array(12+16*ne.length+ne.reduce(function(ve,oe){return ve+oe.origLength+4},0)),ce=ue.buffer,Te=new DataView(ce),we=0;return H(j.flavor),ie(j.numTables),ie(G),ie(W),ie(z),ne.forEach(function(ve){H(ve.tag),H(ve.origChecksum),H(X),H(ve.origLength),ve.outOffset=X,(X+=ve.origLength)%4!=0&&(X+=4-X%4)}),ne.forEach(function(ve){var oe,fe=F.slice(ve.offset,ve.offset+ve.compLength);if(ve.compLength!=ve.origLength){var Re=new Uint8Array(ve.origLength);oe=new Uint8Array(fe,2),P(oe,Re)}else Re=new Uint8Array(fe);ue.set(Re,ve.outOffset);var Ge=0;(X=ve.outOffset+ve.origLength)%4!=0&&(Ge=4-X%4),ue.set(new Uint8Array(Ge).buffer,ve.outOffset+ve.origLength),Y=X+Ge}),ce.slice(0,Y)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Kee(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(T){if(!c){const E={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let P in r){let B=0;r[P].split(",").forEach(N=>{let[F,U]=N.split("+");F=parseInt(F,36),U=U?parseInt(U,36):0,c.set(B+=F,E[P]);for(let O=U;O--;)c.set(++B,E[P])})}}return c.get(T)||u}const d=1,m=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function x(T){const E=new Uint8Array(T.length);let P=u,B=d,N=-1;for(let F=0;F<T.length;F++){const U=T.codePointAt(F);let O=f(U)|0,J=d;O&a||(P&(i|o|l)?O&(s|o|l)?(J=g,(B===d||B===g)&&E[N]++):O&(i|u)&&(B===m||B===v)&&E[N]--:P&(s|u)&&(B===m||B===v)&&E[N]--,B=E[F]=J,P=O,N=F,U>65535&&F++)}return E}function _(T,E){const P=[];for(let N=0;N<E.length;N++){const F=E.codePointAt(N);F>65535&&N++,P.push(t.U.codeToGlyph(T,F))}const B=T.GSUB;if(B){const{lookupList:N,featureList:F}=B;let U;const O=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,J=[];F.forEach($=>{if(O.test($.tag))for(let ie=0;ie<$.tab.length;ie++){if(J[$.tab[ie]])continue;J[$.tab[ie]]=!0;const H=N[$.tab[ie]],j=/^(isol|init|fina|medi)$/.test($.tag);j&&!U&&(U=x(E));for(let W=0;W<P.length;W++)(!U||!j||y[U[W]]===$.tag)&&t.U._applySubs(P,W,H,N)}})}return P}function w(T,E){const P=new Int16Array(E.length*3);let B=0;for(;B<E.length;B++){const O=E[B];if(O===-1)continue;P[B*3+2]=T.hmtx.aWidth[O];const J=T.GPOS;if(J){const $=J.lookupList;for(let ie=0;ie<$.length;ie++){const H=$[ie];for(let j=0;j<H.tabs.length;j++){const W=H.tabs[j];if(H.ltype===1){if(t._lctf.coverageIndex(W.coverage,O)!==-1&&W.pos){U(W.pos,B);break}}else if(H.ltype===2){let G=null,z=N();if(z!==-1){const X=t._lctf.coverageIndex(W.coverage,E[z]);if(X!==-1){if(W.fmt===1){const ne=W.pairsets[X];for(let ee=0;ee<ne.length;ee++)ne[ee].gid2===O&&(G=ne[ee])}else if(W.fmt===2){const ne=t.U._getGlyphClass(E[z],W.classDef1),ee=t.U._getGlyphClass(O,W.classDef2);G=W.matrix[ne][ee]}if(G){G.val1&&U(G.val1,z),G.val2&&U(G.val2,B);break}}}}else if(H.ltype===4){const G=t._lctf.coverageIndex(W.markCoverage,O);if(G!==-1){const z=N(F),X=z===-1?-1:t._lctf.coverageIndex(W.baseCoverage,E[z]);if(X!==-1){const ne=W.markArray[G],ee=W.baseArray[X][ne.markClass];P[B*3]=ee.x-ne.x+P[z*3]-P[z*3+2],P[B*3+1]=ee.y-ne.y+P[z*3+1];break}}}else if(H.ltype===6){const G=t._lctf.coverageIndex(W.mark1Coverage,O);if(G!==-1){const z=N();if(z!==-1){const X=E[z];if(A(T,X)===3){const ne=t._lctf.coverageIndex(W.mark2Coverage,X);if(ne!==-1){const ee=W.mark1Array[G],Y=W.mark2Array[ne][ee.markClass];P[B*3]=Y.x-ee.x+P[z*3]-P[z*3+2],P[B*3+1]=Y.y-ee.y+P[z*3+1];break}}}}}}}}else if(T.kern&&!T.cff){const $=N();if($!==-1){const ie=T.kern.glyph1.indexOf(E[$]);if(ie!==-1){const H=T.kern.rval[ie].glyph2.indexOf(O);H!==-1&&(P[$*3+2]+=T.kern.rval[ie].vals[H])}}}}return P;function N(O){for(let J=B-1;J>=0;J--)if(E[J]!==-1&&(!O||O(E[J])))return J;return-1}function F(O){return A(T,O)===1}function U(O,J){for(let $=0;$<3;$++)P[J*3+$]+=O[$]||0}}function A(T,E){const P=T.GDEF&&T.GDEF.glyphClassDef;return P?t.U._getGlyphClass(E,P):0}function M(...T){for(let E=0;E<T.length;E++)if(typeof T[E]=="number")return T[E]}function C(T){const E=Object.create(null),P=T["OS/2"],B=T.hhea,N=T.head.unitsPerEm,F=M(P&&P.sTypoAscender,B&&B.ascender,N),U={unitsPerEm:N,ascender:F,descender:M(P&&P.sTypoDescender,B&&B.descender,0),capHeight:M(P&&P.sCapHeight,F),xHeight:M(P&&P.sxHeight,F),lineGap:M(P&&P.sTypoLineGap,B&&B.lineGap),supportsCodePoint(O){return t.U.codeToGlyph(T,O)>0},forEachGlyph(O,J,$,ie){let H=0;const j=1/U.unitsPerEm*J,W=_(T,O);let G=0;const z=w(T,W);return W.forEach((X,ne)=>{if(X!==-1){let ee=E[X];if(!ee){const{cmds:Y,crds:ue}=t.U.glyphToPath(T,X);let ce="",Te=0;for(let Re=0,Ge=Y.length;Re<Ge;Re++){const Ie=n[Y[Re]];ce+=Y[Re];for(let Xe=1;Xe<=Ie;Xe++)ce+=(Xe>1?",":"")+ue[Te++]}let we,ve,oe,fe;if(ue.length){we=ve=1/0,oe=fe=-1/0;for(let Re=0,Ge=ue.length;Re<Ge;Re+=2){let Ie=ue[Re],Xe=ue[Re+1];Ie<we&&(we=Ie),Xe<ve&&(ve=Xe),Ie>oe&&(oe=Ie),Xe>fe&&(fe=Xe)}}else we=oe=ve=fe=0;ee=E[X]={index:X,advanceWidth:T.hmtx.aWidth[X],xMin:we,yMin:ve,xMax:oe,yMax:fe,path:ce}}ie.call(null,ee,H+z[ne*3]*j,z[ne*3+1]*j,G),H+=z[ne*3+2]*j,$&&(H+=$*J)}G+=O.codePointAt(G)>65535?2:1}),H}};return U}return function(E){const P=new Uint8Array(E,0,4),B=t._bin.readASCII(P,0,4);if(B==="wOFF")E=e(E);else if(B==="wOF2")throw new Error("woff2 fonts not supported");return C(t.parse(E)[0])}}const Yee=eh({name:"Typr Font Parser",dependencies:[Jee,Xee,Kee],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Qee(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var A=w>>5;this.buckets.set(A,(this.buckets.get(A)||0)|1<<(31&w))},e.prototype.has=function(w){var A=this.buckets.get(w>>5);return A!==void 0&&(A&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(A,M){w.push((+M).toString(36)+":"+A.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var A=this;this.buckets.clear(),w.split(",").forEach(function(M){var C=M.split(":");A.buckets.set(parseInt(C[0],36),parseInt(C[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(w){var A=function(C){return C&i}(w).toString(16),M=function(C){return(C&i)+n-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+A+"-"+M+".json"}function o(w,A){var M=w&r,C=A.codePointAt(M/6|0);return((C=(C||48)-48)&1<<M%6)!=0}function a(w,A){var M;(M=w,M.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(C){return C.split("-").map(function(T){return parseInt(T.trim(),16)})})).forEach(function(C){var T=C[0],E=C[1];E===void 0&&(E=T),A(T,E)})}function l(w,A){a(w,function(M,C){for(var T=M;T<=C;T++)A(T)})}var u={},c={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(w){var A=f.get(w);return A||(A=new e,l(w.ranges,function(M){return A.add(M)}),f.set(w,A)),A}var g,v=new Map;function y(w,A,M){return w[A]?A:w[M]?M:function(C){for(var T in C)return T}(w)}function x(w,A){var M=A;if(!w.includes(M)){M=1/0;for(var C=0;C<w.length;C++)Math.abs(w[C]-A)<Math.abs(M-A)&&(M=w[C])}return M}function _(w){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(A){g.add(A)})),g.has(w)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(w,A){A===void 0&&(A={});var M,C=A.lang;C===void 0&&(C=new RegExp("\\p{Script=Hangul}","u").test(M=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(M)?"ja":"en");var T=A.category;T===void 0&&(T="sans-serif");var E=A.style;E===void 0&&(E="normal");var P=A.weight;P===void 0&&(P=400);var B=(A.dataUrl||d).replace(/\/$/g,""),N=new Map,F=new Uint8Array(w.length),U={},O={},J=new Array(w.length),$=new Map,ie=!1;function H(G){var z=v.get(G);return z||(z=fetch(B+"/"+G).then(function(X){if(!X.ok)throw new Error(X.statusText);return X.json().then(function(ne){if(!Array.isArray(ne)||ne[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ne[0]);return ne[1]})}).catch(function(X){if(B!==d)return ie||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+B+'", trying default CDN. '+X.message),ie=!0),B=d,v.delete(G),H(G);throw X}),v.set(G,z)),z}for(var j=function(G){var z=w.codePointAt(G),X=s(z);J[G]=X,u[X]||$.has(X)||$.set(X,H(X).then(function(ne){u[X]=ne})),z>65535&&(G++,W=G)},W=0;W<w.length;W++)j(W);return Promise.all($.values()).then(function(){$.clear();for(var G=function(X){var ne=w.codePointAt(X),ee=null,Y=u[J[X]],ue=void 0;for(var ce in Y){var Te=O[ce];if(Te===void 0&&(Te=O[ce]=new RegExp(ce).test(C||"en")),Te){for(var we in ue=ce,Y[ce])if(o(ne,Y[ce][we])){ee=we;break}break}}if(!ee){e:for(var ve in Y)if(ve!==ue){for(var oe in Y[ve])if(o(ne,Y[ve][oe])){ee=oe;break e}}}ee||(console.debug("No font coverage for U+"+ne.toString(16)),ee="latin"),J[X]=ee,c[ee]||$.has(ee)||$.set(ee,H("font-meta/"+ee+".json").then(function(fe){c[ee]=fe})),ne>65535&&(X++,z=X)},z=0;z<w.length;z++)G(z);return Promise.all($.values())}).then(function(){for(var G,z=null,X=0;X<w.length;X++){var ne=w.codePointAt(X);if(z&&(_(ne)||m(z).has(ne)))F[X]=F[X-1];else{z=c[J[X]];var ee=U[z.id];if(!ee){var Y=z.typeforms,ue=y(Y,T,"sans-serif"),ce=y(Y[ue],E,"normal"),Te=x((G=Y[ue])===null||G===void 0?void 0:G[ce],P);ee=U[z.id]=B+"/font-files/"+z.id+"/"+ue+"."+ce+"."+Te+".woff"}var we=N.get(ee);we==null&&(we=N.size,N.set(ee,we)),F[X]=we}ne>65535&&(X++,F[X]=F[X-1])}return{fontUrls:Array.from(N.keys()),chars:F}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function Zee(t,e){const n=Object.create(null),r=Object.create(null);function i(o,a){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=o,a(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function s(o,a){let l=n[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(c=>c(u)),delete r[o]}))}return function(o,a,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:d}={}){const m=new Uint8Array(o.length),g=[];o.length||_();const v=new Map,y=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(A=>!A.lang||A.lang.test(l)).reverse(),u.length){let T=0;(function E(P=0){for(let B=P,N=o.length;B<N;B++){const F=o.codePointAt(B);if(T===1&&g[m[B-1]].supportsCodePoint(F)||B>0&&/\s/.test(o[B]))m[B]=m[B-1],T===2&&(y[y.length-1][1]=B);else for(let U=m[B],O=u.length;U<=O;U++)if(U===O){const J=T===2?y[y.length-1]:y[y.length]=[B,B];J[1]=B,T=2}else{m[B]=U;const{src:J,unicodeRange:$}=u[U];if(!$||w(F,$)){const ie=n[J];if(!ie){s(J,()=>{E(B)});return}if(ie.supportsCodePoint(F)){let H=v.get(ie);typeof H!="number"&&(H=g.length,g.push(ie),v.set(ie,H)),m[B]=H,T=1;break}}}F>65535&&B+1<N&&(m[B+1]=m[B],B++,T===2&&(y[y.length-1][1]=B))}x()})()}else y.push([0,o.length-1]),x();function x(){if(y.length){const A=y.map(M=>o.substring(M[0],M[1]+1)).join(`
`);e.getFontsForString(A,{lang:l||void 0,style:c,weight:f,dataUrl:d}).then(({fontUrls:M,chars:C})=>{const T=g.length;let E=0;y.forEach(B=>{for(let N=0,F=B[1]-B[0];N<=F;N++)m[B[0]+N]=C[E++]+T;E++});let P=0;M.forEach((B,N)=>{s(B,F=>{g[N+T]=F,++P===M.length&&_()})})})}else _()}function _(){a({chars:m,fonts:g})}function w(A,M){for(let C=0;C<M.length;C++){const[T,E=T]=M[C];if(T<=A&&A<=E)return!0}return!1}}}const qee=eh({name:"FontResolver",dependencies:[Zee,Yee,Qee],init(t,e,n){return t(e,n())}});function ete(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:g,lang:v,fonts:y,style:x,weight:_,preResolvedFonts:w,unicodeFontsURL:A},M){const C=({chars:T,fonts:E})=>{let P,B;const N=[];for(let F=0;F<T.length;F++)T[F]!==B?(B=T[F],N.push(P={start:F,end:F,fontObj:E[T[F]]})):P.end=F;M(N)};w?C(w):t(g,C,{lang:v,fonts:y,style:x,weight:_,unicodeFontsURL:A})}function a({text:g="",font:v,lang:y,sdfGlyphSize:x=64,fontSize:_=400,fontWeight:w=1,fontStyle:A="normal",letterSpacing:M=0,lineHeight:C="normal",maxWidth:T=1/0,direction:E,textAlign:P="left",textIndent:B=0,whiteSpace:N="normal",overflowWrap:F="normal",anchorX:U=0,anchorY:O=0,metricsOnly:J=!1,unicodeFontsURL:$,preResolvedFonts:ie=null,includeCaretPositions:H=!1,chunkedBoundsSize:j=8192,colorRanges:W=null},G){const z=f(),X={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,M=+M,T=+T,C=C||"normal",B=+B,o({text:g,lang:y,style:A,weight:w,fonts:typeof v=="string"?[{src:v}]:v,unicodeFontsURL:$,preResolvedFonts:ie},ne=>{X.fontLoad=f()-z;const ee=isFinite(T);let Y=null,ue=null,ce=null,Te=null,we=null,ve=null,oe=null,fe=null,Re=0,Ge=0,Ie=N!=="nowrap";const Xe=new Map,Pe=f();let ze=B,Ye=0,Ee=new d;const K=[Ee];ne.forEach(Me=>{const{fontObj:Je}=Me,{ascender:ke,descender:be,unitsPerEm:Ze,lineGap:rt,capHeight:$e,xHeight:We}=Je;let Ve=Xe.get(Je);if(!Ve){const se=_/Ze,Oe=C==="normal"?(ke-be+rt)*se:C*_,ot=(Oe-(ke-be)*se)/2,tt=Math.min(Oe,(ke-be)*se),ft=(ke+be)/2*se+tt/2;Ve={index:Xe.size,src:Je.src,fontObj:Je,fontSizeMult:se,unitsPerEm:Ze,ascender:ke*se,descender:be*se,capHeight:$e*se,xHeight:We*se,lineHeight:Oe,baseline:-ot-ke*se,caretTop:ft,caretBottom:ft-tt},Xe.set(Je,Ve)}const{fontSizeMult:at}=Ve,pt=g.slice(Me.start,Me.end+1);let bt,le;Je.forEachGlyph(pt,_,M,(se,Oe,ot,tt)=>{Oe+=Ye,tt+=Me.start,bt=Oe,le=se;const ft=g.charAt(tt),Ft=se.advanceWidth*at,kt=Ee.count;let Mt;if("isEmpty"in se||(se.isWhitespace=!!ft&&new RegExp(i).test(ft),se.canBreakAfter=!!ft&&s.test(ft),se.isEmpty=se.xMin===se.xMax||se.yMin===se.yMax||r.test(ft)),!se.isWhitespace&&!se.isEmpty&&Ge++,Ie&&ee&&!se.isWhitespace&&Oe+Ft+ze>T&&kt){if(Ee.glyphAt(kt-1).glyphObj.canBreakAfter)Mt=new d,ze=-Oe;else for(let hn=kt;hn--;)if(hn===0&&F==="break-word"){Mt=new d,ze=-Oe;break}else if(Ee.glyphAt(hn).glyphObj.canBreakAfter){Mt=Ee.splitAt(hn+1);const sn=Mt.glyphAt(0).x;ze-=sn;for(let wn=Mt.count;wn--;)Mt.glyphAt(wn).x-=sn;break}Mt&&(Ee.isSoftWrapped=!0,Ee=Mt,K.push(Ee),Re=T)}let Et=Ee.glyphAt(Ee.count);Et.glyphObj=se,Et.x=Oe+ze,Et.y=ot,Et.width=Ft,Et.charIndex=tt,Et.fontData=Ve,ft===`
`&&(Ee=new d,K.push(Ee),ze=-(Oe+Ft+M*_)+B)}),Ye=bt+le.advanceWidth*at+M*_});let k=0;K.forEach(Me=>{let Je=!0;for(let ke=Me.count;ke--;){const be=Me.glyphAt(ke);Je&&!be.glyphObj.isWhitespace&&(Me.width=be.x+be.width,Me.width>Re&&(Re=Me.width),Je=!1);let{lineHeight:Ze,capHeight:rt,xHeight:$e,baseline:We}=be.fontData;Ze>Me.lineHeight&&(Me.lineHeight=Ze);const Ve=We-Me.baseline;Ve<0&&(Me.baseline+=Ve,Me.cap+=Ve,Me.ex+=Ve),Me.cap=Math.max(Me.cap,Me.baseline+rt),Me.ex=Math.max(Me.ex,Me.baseline+$e)}Me.baseline-=k,Me.cap-=k,Me.ex-=k,k+=Me.lineHeight});let re=0,pe=0;if(U&&(typeof U=="number"?re=-U:typeof U=="string"&&(re=-Re*(U==="left"?0:U==="center"?.5:U==="right"?1:u(U)))),O&&(typeof O=="number"?pe=-O:typeof O=="string"&&(pe=O==="top"?0:O==="top-baseline"?-K[0].baseline:O==="top-cap"?-K[0].cap:O==="top-ex"?-K[0].ex:O==="middle"?k/2:O==="bottom"?k:O==="bottom-baseline"?-K[K.length-1].baseline:u(O)*k)),!J){const Me=e.getEmbeddingLevels(g,E);Y=new Uint16Array(Ge),ue=new Uint8Array(Ge),ce=new Float32Array(Ge*2),Te={},oe=[1/0,1/0,-1/0,-1/0],fe=[],H&&(ve=new Float32Array(g.length*4)),W&&(we=new Uint8Array(Ge*3));let Je=0,ke=-1,be=-1,Ze,rt;if(K.forEach(($e,We)=>{let{count:Ve,width:at}=$e;if(Ve>0){let pt=0;for(let tt=Ve;tt--&&$e.glyphAt(tt).glyphObj.isWhitespace;)pt++;let bt=0,le=0;if(P==="center")bt=(Re-at)/2;else if(P==="right")bt=Re-at;else if(P==="justify"&&$e.isSoftWrapped){let tt=0;for(let ft=Ve-pt;ft--;)$e.glyphAt(ft).glyphObj.isWhitespace&&tt++;le=(Re-at)/tt}if(le||bt){let tt=0;for(let ft=0;ft<Ve;ft++){let Ft=$e.glyphAt(ft);const kt=Ft.glyphObj;Ft.x+=bt+tt,le!==0&&kt.isWhitespace&&ft<Ve-pt&&(tt+=le,Ft.width+=le)}}const se=e.getReorderSegments(g,Me,$e.glyphAt(0).charIndex,$e.glyphAt($e.count-1).charIndex);for(let tt=0;tt<se.length;tt++){const[ft,Ft]=se[tt];let kt=1/0,Mt=-1/0;for(let Et=0;Et<Ve;Et++)if($e.glyphAt(Et).charIndex>=ft){let hn=Et,sn=Et;for(;sn<Ve;sn++){let wn=$e.glyphAt(sn);if(wn.charIndex>Ft)break;sn<Ve-pt&&(kt=Math.min(kt,wn.x),Mt=Math.max(Mt,wn.x+wn.width))}for(let wn=hn;wn<sn;wn++){const zr=$e.glyphAt(wn);zr.x=Mt-(zr.x+zr.width-kt)}break}}let Oe;const ot=tt=>Oe=tt;for(let tt=0;tt<Ve;tt++){const ft=$e.glyphAt(tt);Oe=ft.glyphObj;const Ft=Oe.index,kt=Me.levels[ft.charIndex]&1;if(kt){const Mt=e.getMirroredCharacter(g[ft.charIndex]);Mt&&ft.fontData.fontObj.forEachGlyph(Mt,0,0,ot)}if(H){const{charIndex:Mt,fontData:Et}=ft,hn=ft.x+re,sn=ft.x+ft.width+re;ve[Mt*4]=kt?sn:hn,ve[Mt*4+1]=kt?hn:sn,ve[Mt*4+2]=$e.baseline+Et.caretBottom+pe,ve[Mt*4+3]=$e.baseline+Et.caretTop+pe;const wn=Mt-ke;wn>1&&c(ve,ke,wn),ke=Mt}if(W){const{charIndex:Mt}=ft;for(;Mt>be;)be++,W.hasOwnProperty(be)&&(rt=W[be])}if(!Oe.isWhitespace&&!Oe.isEmpty){const Mt=Je++,{fontSizeMult:Et,src:hn,index:sn}=ft.fontData,wn=Te[hn]||(Te[hn]={});wn[Ft]||(wn[Ft]={path:Oe.path,pathBounds:[Oe.xMin,Oe.yMin,Oe.xMax,Oe.yMax]});const zr=ft.x+re,Cr=ft.y+$e.baseline+pe;ce[Mt*2]=zr,ce[Mt*2+1]=Cr;const Gr=zr+Oe.xMin*Et,Q=Cr+Oe.yMin*Et,Se=zr+Oe.xMax*Et,_e=Cr+Oe.yMax*Et;Gr<oe[0]&&(oe[0]=Gr),Q<oe[1]&&(oe[1]=Q),Se>oe[2]&&(oe[2]=Se),_e>oe[3]&&(oe[3]=_e),Mt%j===0&&(Ze={start:Mt,end:Mt,rect:[1/0,1/0,-1/0,-1/0]},fe.push(Ze)),Ze.end++;const me=Ze.rect;if(Gr<me[0]&&(me[0]=Gr),Q<me[1]&&(me[1]=Q),Se>me[2]&&(me[2]=Se),_e>me[3]&&(me[3]=_e),Y[Mt]=Ft,ue[Mt]=sn,W){const Ne=Mt*3;we[Ne]=rt>>16&255,we[Ne+1]=rt>>8&255,we[Ne+2]=rt&255}}}}}),ve){const $e=g.length-ke;$e>1&&c(ve,ke,$e)}}const Le=[];Xe.forEach(({index:Me,src:Je,unitsPerEm:ke,ascender:be,descender:Ze,lineHeight:rt,capHeight:$e,xHeight:We})=>{Le[Me]={src:Je,unitsPerEm:ke,ascender:be,descender:Ze,lineHeight:rt,capHeight:$e,xHeight:We}}),X.typesetting=f()-Pe,G({glyphIds:Y,glyphFontIndices:ue,glyphPositions:ce,glyphData:Te,fontData:Le,caretPositions:ve,glyphColors:we,chunkedBounds:fe,fontSize:_,topBaseline:pe+K[0].baseline,blockBounds:[re,pe-k,re+Re,pe],visibleBounds:oe,timings:X})})}function l(g,v){a({...g,metricsOnly:!0},y=>{const[x,_,w,A]=y.blockBounds;v({width:w-x,height:A-_})})}function u(g){let v=g.match(/^([\d.]+)%$/),y=v?parseFloat(v[1]):NaN;return isNaN(y)?0:y/100}function c(g,v,y){const x=g[v*4],_=g[v*4+1],w=g[v*4+2],A=g[v*4+3],M=(_-x)/y;for(let C=0;C<y;C++){const T=(v+C)*4;g[T]=x+M*C,g[T+1]=x+M*(C+1),g[T+2]=w,g[T+3]=A}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(g){let v=d.flyweight;return v.data=this.data,v.index=g,v},splitAt(g){let v=new d;return v.data=this.data.splice(g*m.length),v}},d.flyweight=m.reduce((g,v,y,x)=>(Object.defineProperty(g,v,{get(){return this.data[this.index*m.length+y]},set(_){this.data[this.index*m.length+y]=_}}),g),{data:null,index:0}),{typeset:a,measure:l}}const dc=()=>(self.performance||Date).now(),Bx=zU();let SB;function tte(t,e,n,r,i,s,o,a,l,u,c=!0){return c?rte(t,e,n,r,i,s,o,a,l,u).then(null,f=>(SB||(console.warn("WebGL SDF generation failed, falling back to JS",f),SB=!0),bB(t,e,n,r,i,s,o,a,l,u))):bB(t,e,n,r,i,s,o,a,l,u)}const _y=[],nte=5;let qb=0;function HU(){const t=dc();for(;_y.length&&dc()-t<nte;)_y.shift()();qb=_y.length?setTimeout(HU,0):0}const rte=(...t)=>new Promise((e,n)=>{_y.push(()=>{const r=dc();try{Bx.webgl.generateIntoCanvas(...t),e({timing:dc()-r})}catch(i){n(i)}}),qb||(qb=setTimeout(HU,0))}),ite=4,ste=2e3,AB={};let ote=0;function bB(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+ote++%ite;let f=AB[c];return f||(f=AB[c]={workerModule:eh({name:c,workerId:c,dependencies:[zU,dc],init(d,m){const g=d().javascript.generate;return function(...v){const y=m();return{textureData:g(...v),timing:m()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:d,timing:m})=>{const g=dc(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+u]=d[y];return Bx.webglUtils.renderImageData(o,v,a,l,t,e,1<<3-u),m+=dc()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Oee(c)},ste)),{timing:m}})}function ate(t){t._warm||(Bx.webgl.isSupported(t),t._warm=!0)}const lte=Bx.webglUtils.resizeWebGLCanvasWithoutClearing,Lf={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},ute=new ut;function Tf(){return(self.performance||Date).now()}const MB=Object.create(null);function VU(t,e){t=dte({},t);const n=Tf(),{defaultFontURL:r}=Lf,i=[];if(r&&i.push({label:"default",src:EB(r)}),t.font&&i.push({label:"user",src:EB(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Lf.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Lf.unicodeFontsURL,t.colorRanges!=null){let m={};for(let g in t.colorRanges)if(t.colorRanges.hasOwnProperty(g)){let v=t.colorRanges[g];typeof v!="number"&&(v=ute.set(v).getHex()),m[g]=v}t.colorRanges=m}Object.freeze(t);const{textureWidth:s,sdfExponent:o}=Lf,{sdfGlyphSize:a}=t,l=s/a*4;let u=MB[a];if(!u){const m=document.createElement("canvas");m.width=s,m.height=a*256/l,u=MB[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:m,sdfTexture:new cn(m,void 0,void 0,void 0,en,en),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,cte(u)}const{sdfTexture:c,sdfCanvas:f}=u;$U(t).then(m=>{const{glyphIds:g,glyphFontIndices:v,fontData:y,glyphPositions:x,fontSize:_,timings:w}=m,A=[],M=new Float32Array(g.length*4);let C=0,T=0;const E=Tf(),P=y.map(O=>{let J=u.glyphsByFont.get(O.src);return J||u.glyphsByFont.set(O.src,J=new Map),J});g.forEach((O,J)=>{const $=v[J],{src:ie,unitsPerEm:H}=y[$];let j=P[$].get(O);if(!j){const{path:ne,pathBounds:ee}=m.glyphData[ie][O],Y=Math.max(ee[2]-ee[0],ee[3]-ee[1])/a*(Lf.sdfMargin*a+.5),ue=u.glyphCount++,ce=[ee[0]-Y,ee[1]-Y,ee[2]+Y,ee[3]+Y];P[$].set(O,j={path:ne,atlasIndex:ue,sdfViewBox:ce}),A.push(j)}const{sdfViewBox:W}=j,G=x[T++],z=x[T++],X=_/H;M[C++]=G+W[0]*X,M[C++]=z+W[1]*X,M[C++]=G+W[2]*X,M[C++]=z+W[3]*X,g[J]=j.atlasIndex}),w.quads=(w.quads||0)+(Tf()-E);const B=Tf();w.sdf={};const N=f.height,F=Math.ceil(u.glyphCount/l),U=Math.pow(2,Math.ceil(Math.log2(F*a)));U>N&&(console.info(`Increasing SDF texture size ${N}->${U}`),lte(f,s,U),c.dispose()),Promise.all(A.map(O=>WU(O,u,t.gpuAccelerateSDF).then(({timing:J})=>{w.sdf[O.atlasIndex]=J}))).then(()=>{A.length&&!u.contextLost&&(jU(u),c.needsUpdate=!0),w.sdfTotal=Tf()-B,w.total=Tf()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:a,sdfExponent:o,glyphBounds:M,glyphAtlasIndices:g,glyphColors:m.glyphColors,caretPositions:m.caretPositions,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{u.contextLost||ate(f)})}function WU({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Lf,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/r)*r,d=Math.floor(c/(a/r))*r,m=e%4;return tte(r,r,t,n,u,l,i,f,d,m,o)}function cte(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(WU(s,t,!0))})}),Promise.all(r).then(()=>{jU(t),t.sdfTexture.needsUpdate=!0})})}function fte({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;VU({font:t,sdfGlyphSize:n,text:i},r)}function dte(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Iv;function EB(t){return Iv||(Iv=typeof document>"u"?{}:document.createElement("a")),Iv.href=t,Iv.href}function jU(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const hte=eh({name:"Typesetter",dependencies:[ete,qee,Uee],init(t,e,n){return t(e,n())}}),$U=eh({name:"Typesetter",dependencies:[hte],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});$U.onMainThread;const CB={};function pte(t){let e=CB[t];return e||(e=CB[t]=new yo(1,1,t,t).translate(.5,.5,0)),e}const mte="aTroikaGlyphBounds",TB="aTroikaGlyphIndex",gte="aTroikaGlyphColor";class vte extends CC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new $o,this.boundingBox=new vo}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=pte(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(mte,e,4),this.updateAttributeData(TB,n,1),this.updateAttributeData(gte,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,d=Math.abs(n),m=e[0]/d,g=e[2]/d,v=s((m+c)/f)!==s((g+c)/f)?-d:o(l(m)*d,l(g)*d),y=s((m-c)/f)!==s((g-c)/f)?d:a(l(m)*d,l(g)*d),x=s((m+i)/f)!==s((g+i)/f)?d*2:a(d-u(m)*d,d-u(g)*d);r.min.set(v,e[1],n<0?-x:0),r.max.set(y,e[3],n<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(TB).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new $l(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const yte=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,xte=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,_te=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,wte=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Ste(t){const e=Zb(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new je},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new dn(0,0,0,0)},uTroikaClipRect:{value:new dn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new je},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ut},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ii},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:yte,vertexTransform:xte,fragmentDefs:_te,fragmentColorTransform:wte,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(GU,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const r2=new Ai({color:16777215,side:ns,transparent:!0}),RB=8421504,PB=new Lt,Bv=new Z,MS=new Z,ap=[],Ate=new Z,ES="+x+y";function IB(t){return Array.isArray(t)?t[0]:t}let JU=()=>{const t=new Un(new yo(1,1),r2);return JU=()=>t,t},XU=()=>{const t=new Un(new yo(1,1,32,1),r2);return XU=()=>t,t};const bte={type:"syncstart"},Mte={type:"synccomplete"},KU=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Ete=KU.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let YU=class extends Un{constructor(){const e=new vte;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=RB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ES,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(bte),VU({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Mte),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Ste(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=r2.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return IB(this.material).getDepthMaterial()}get customDistanceMaterial(){return IB(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,d,m,g,v=0,y=0;if(n){let{outlineWidth:_,outlineOffsetX:w,outlineOffsetY:A,outlineBlur:M,outlineOpacity:C}=this;u=this._parsePercent(_)||0,c=Math.max(0,this._parsePercent(M)||0),d=C,v=this._parsePercent(w)||0,y=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??RB),m=this.strokeOpacity,m==null&&(m=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new ut;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||ES;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==ES&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,d]=l;Bv.set(0,0,0)[c]=u==="-"?1:-1,MS.set(0,0,0)[d]=f==="-"?-1:1,PB.lookAt(Ate,Bv.cross(MS),MS),a.setFromMatrix4(PB)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new je){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new je){return Bv.copy(e),this.localPositionToTextCoords(this.worldToLocal(Bv),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?XU():JU(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const d=s[1]+u.getY(c)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,d,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,ap.length=0,o.raycast(e,ap);for(let c=0;c<ap.length;c++)ap[c].object=this,n.push(ap[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Ete.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};KU.forEach(t=>{const e="_private_"+t;Object.defineProperty(YU.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new vo;new ut;const Dx=I.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=lo(({invalidate:g})=>g),[f]=I.useState(()=>new YU),[d,m]=I.useMemo(()=>{const g=[];let v="";return I.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return Sx(()=>new Promise(g=>fte({font:r,characters:o},g)),["troika-text",r,o]),I.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),I.useEffect(()=>()=>f.dispose(),[f]),I.createElement("primitive",Xl({object:f,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)});let CS=null;async function Cte(t){return typeof t=="string"?await(await fetch(t)).json():t}function Tte(t){return CS||(CS=new Mee),CS.parse(t)}async function QU(t){const e=await Cte(t);return Tte(e)}function i2(t){return Sx(QU,[t])}i2.preload=t=>yN(QU,[t]);i2.clear=t=>xN([t]);const Rte=["string","number"],Pte=t=>{let e="";const n=[];return I.Children.forEach(t,r=>{Rte.includes(typeof r)?e+=r+"":n.push(r)}),[e,...n]},eM=I.forwardRef(({font:t,letterSpacing:e=0,lineHeight:n=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:u=4,curveSegments:c=8,smooth:f,children:d,...m},g)=>{I.useMemo(()=>Ax({RenamedTextGeometry:See}),[]);const v=I.useRef(null),y=i2(t),x=I.useMemo(()=>({font:y,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:u,bevelOffset:l,curveSegments:c,letterSpacing:e,lineHeight:n}),[y,r,i,s,o,a,u,l,c,e,n]),[_,...w]=I.useMemo(()=>Pte(d),[d]),A=I.useMemo(()=>[_,x],[_,x]);return I.useLayoutEffect(()=>{f&&(v.current.geometry=Mq(v.current.geometry,f),v.current.geometry.computeVertexNormals())},[A,f]),I.useImperativeHandle(g,()=>v.current,[]),I.createElement("mesh",Xl({},m,{ref:v}),I.createElement("renamedTextGeometry",{args:A}),w)}),TS=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function s2(t,e){const n=lo(s=>s.gl),r=us(qd,TS(t)?Object.values(t):t);return I.useLayoutEffect(()=>{e==null||e(r)},[e]),I.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(r)?s=r:r instanceof cn?s=[r]:TS(r)&&(s=Object.values(r)),s.forEach(o=>{o instanceof cn&&n.initTexture(o)})}},[n,r]),I.useMemo(()=>{if(TS(t)){const s={};let o=0;for(const a in t)s[a]=r[o++];return s}else return r},[t,r])}s2.preload=t=>us.preload(qd,t);s2.clear=t=>us.clear(qd,t);let Dv=null,ZU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function qU(t=!0,e=!0,n){return r=>{n&&n(r),t&&(Dv||(Dv=new Iee),Dv.setDecoderPath(typeof t=="string"?t:ZU),r.setDRACOLoader(Dv)),e&&r.setMeshoptDecoder(typeof AS=="function"?AS():AS)}}const Wn=(t,e,n,r)=>us(n2,t,qU(e,n,r));Wn.preload=(t,e,n,r)=>us.preload(n2,t,qU(e,n,r));Wn.clear=t=>us.clear(n2,t);Wn.setDecoderPath=t=>{ZU=t};function o2(t,e){const n=I.useRef(),[r]=I.useState(()=>e?e instanceof Zt?{current:e}:e:n),[i]=I.useState(()=>new cN(void 0));I.useLayoutEffect(()=>{e&&(r.current=e instanceof Zt?e:e.current),i._root=r.current});const s=I.useRef({}),o=I.useMemo(()=>{const a={};return t.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:t,actions:a,names:t.map(l=>l.name),mixer:i}},[t]);return Uc((a,l)=>i.update(l)),I.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[t]),o}const Ite=I.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:f,onCentered:d,precise:m=!0,cacheKey:g=0,...v},y){const x=I.useRef(null),_=I.useRef(null),w=I.useRef(null);return I.useLayoutEffect(()=>{_.current.matrixWorld.identity();const A=new vo().setFromObject(w.current,m),M=new Z,C=new $o,T=A.max.x-A.min.x,E=A.max.y-A.min.y,P=A.max.z-A.min.z;A.getCenter(M),A.getBoundingSphere(C);const B=l?E/2:u?-E/2:0,N=o?-T/2:a?T/2:0,F=c?P/2:f?-P/2:0;_.current.position.set(n||r?0:-M.x+N,n||i?0:-M.y+B,n||s?0:-M.z+F),typeof d<"u"&&d({parent:x.current.parent,container:x.current,width:T,height:E,depth:P,boundingBox:A,boundingSphere:C,center:M,verticalAlignment:B,horizontalAlignment:N,depthAlignment:F})},[g,d,l,o,c,n,r,i,s,m,a,u,f]),I.useImperativeHandle(y,()=>x.current,[]),I.createElement("group",Xl({ref:x},v),I.createElement("group",{ref:_},I.createElement("group",{ref:w},e)))});var e5={exports:{}},Bte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dte=Bte,Lte=Dte;function t5(){}function n5(){}n5.resetWarningCache=t5;var kte=function(){function t(r,i,s,o,a,l){if(l!==Lte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n5,resetWarningCache:t5};return n.PropTypes=n,n};e5.exports=kte();var Fte=e5.exports;const An=Gd(Fte),Ote=3e3,Nte=3001,Ute=I.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const u=I.useRef(null);I.useImperativeHandle(l,()=>u.current,[]);const c=I.useRef(Math.random()*1e4);return Uc(f=>{var d,m;if(!e||n===0)return;o&&f.invalidate();const g=c.current+f.clock.getElapsedTime();u.current.rotation.x=Math.cos(g/4*n)/8*r,u.current.rotation.y=Math.sin(g/4*n)/8*r,u.current.rotation.z=Math.sin(g/4*n)/20*r;let v=Math.sin(g/4*n)/10;v=ro.mapLinear(v,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),u.current.position.y=v*i,u.current.updateMatrix()}),I.createElement("group",a,I.createElement("group",{ref:u,matrixAutoUpdate:!1},t))}),r5=(t,e,n)=>{let r;switch(t){case zs:r=new Uint8ClampedArray(e*n*4);break;case Or:r=new Uint16Array(e*n*4);break;case Sa:r=new Uint32Array(e*n*4);break;case WE:r=new Int8Array(e*n*4);break;case jE:r=new Int16Array(e*n*4);break;case JE:r=new Int32Array(e*n*4);break;case Fr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Lv;const zte=(t,e,n,r)=>{if(Lv!==void 0)return Lv;const i=new as(1,1,r);e.setRenderTarget(i);const s=new Un(new yo,new Ai({color:16777215}));e.render(s,n),e.setRenderTarget(null);const o=r5(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),Lv=o[0]!==0,Lv};class a2{constructor(e){var n,r,i,s,o,a,l,u,c,f,d,m,g,v,y,x;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(w){throw this._renderer.setRenderTarget(null),w}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const _={format:Sr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:en,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:en,samples:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Pn,wrapT:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT:Pn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=a2.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new eg,this._camera=new ja,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!zte(this._type,this._renderer,this._camera,_)){let w;switch(this._type){case Or:w=this._renderer.extensions.has("EXT_color_buffer_float")?Fr:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Fr}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Un(new yo,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new as(this.width,this.height,_),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping:Gl}static instantiateRenderer(){const e=new fx;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=r5(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new cc(this.toArray(),this.width,this.height,Sr,this._type,(e==null?void 0:e.mapping)||Gl,(e==null?void 0:e.wrapS)||Pn,(e==null?void 0:e.wrapT)||Pn,(e==null?void 0:e.magFilter)||en,(e==null?void 0:e.minFilter)||en,(e==null?void 0:e.anisotropy)||1,Fa);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof ls&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof cn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof cn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Gte=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Hte=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Vte extends ls{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:Gte,fragmentShader:Hte,uniforms:{sdr:{value:u},gainMap:{value:c},gamma:{value:new Z(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Z().fromArray(n)},offsetSdr:{value:new Z().fromArray(r)},gainMapMin:{value:new Z().fromArray(i)},gainMapMax:{value:new Z().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:No,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class i5 extends Error{}class s5 extends Error{}const lp=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Wte=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=lp(i,"hdrgm:GainMapMin","0"),o=lp(i,"hdrgm:GainMapMax"),a=lp(i,"hdrgm:Gamma","1"),l=lp(i,"hdrgm:OffsetSDR","0.015625"),u=lp(i,"hdrgm:OffsetHDR","0.015625"),c=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=c?c[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!d)throw new Error("Incomplete gainmap metadata");const m=d[1];return{gainMapMin:Array.isArray(s)?s.map(g=>parseFloat(g)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(g=>parseFloat(g)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(g=>parseFloat(g)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(g=>parseFloat(g)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(g=>parseFloat(g)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(m)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class jte{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,u;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(u=s.getUint8(a+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const c=a+4;if(s.getUint32(c)===1297106432){const f=c+4;let d;if(s.getUint16(f)===18761)d=!1;else if(s.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(f+4,!d);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const g=f+m,v=s.getUint16(g,!d),y=g+2;let x=0;for(let M=y;M<y+12*v;M+=12)s.getUint16(M,!d)===45057&&(x=s.getUint32(M+8,!d));const w=g+2+v*12+4,A=[];for(let M=w;M<w+x*16;M+=16){const C={MPType:s.getUint32(M,!d),size:s.getUint32(M+4,!d),dataOffset:s.getUint32(M+8,!d),dependantImages:s.getUint32(M+12,!d),start:-1,end:-1,isFII:!1};C.dataOffset?(C.start=f+C.dataOffset,C.isFII=!1):(C.start=0,C.isFII=!0),C.end=C.start+C.size,A.push(C)}if(this.options.extractNonFII&&A.length){const M=new Blob([s]),C=[];for(const T of A){if(T.isFII&&!this.options.extractFII)continue;const E=M.slice(T.start,T.end+1,"image/jpeg");C.push(E)}n(C)}}}a+=2+s.getUint16(a+2)}})}}const $te=async t=>{const e=Wte(t);if(!e)throw new s5("Gain map XMP metadata not found");const r=await new jte({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new i5("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},BB=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class o5 extends Jr{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new xx}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Vte({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new cn,sdr:new cn});return new a2({width:16,height:16,type:Or,colorSpace:Fa,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,u=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([s?BB(s):Promise.resolve(void 0),BB(o)]);l=d[0],a=d[1],u=!0}else{const d=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=d[0],a=d[1]}const c=new cn(l||new ImageData(2,2),Gl,Pn,Pn,en,ZA,Sr,zs,1,Fa);c.flipY=u,c.needsUpdate=!0;const f=new cn(a,Gl,Pn,Pn,en,ZA,Sr,zs,1,Es);f.flipY=u,f.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=c,e.material.sdr=f,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Jte extends o5{load([e,n,r],i,s,o){const a=this.prepareQuadRenderer();let l,u,c;const f=async()=>{if(l&&u&&c){try{await this.render(a,c,l,u)}catch(P){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(P),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let d=!0,m=0,g=0,v=!0,y=0,x=0,_=!0,w=0,A=0;const M=()=>{if(typeof s=="function"){const P=m+y+w,B=g+x+A,N=d&&v&&_;s(new ProgressEvent("progress",{lengthComputable:N,loaded:B,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const C=new Ur(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");l=P,await f()},P=>{d=P.lengthComputable,g=P.loaded,m=P.total,M()},P=>{this.manager.itemError(e),typeof o=="function"&&o(P)});const T=new Ur(this._internalLoadingManager);T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(n,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");u=P,await f()},P=>{v=P.lengthComputable,x=P.loaded,y=P.total,M()},P=>{this.manager.itemError(n),typeof o=="function"&&o(P)});const E=new Ur(this._internalLoadingManager);return E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(r,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");c=JSON.parse(P),await f()},P=>{_=P.lengthComputable,A=P.loaded,w=P.total,M()},P=>{this.manager.itemError(r),typeof o=="function"&&o(P)}),a}}class Xte extends o5{load(e,n,r,i){const s=this.prepareQuadRenderer(),o=new Ur(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let u,c,f;try{const d=await $te(l);u=d.sdr,c=d.gainMap,f=d.metadata}catch(d){if(d instanceof s5||d instanceof i5)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw d}try{await this.render(s,f,u,c)}catch(d){this.manager.itemError(e),typeof i=="function"&&i(d),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const Lm={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},a5="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",hd=t=>Array.isArray(t),l2=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Lx({files:t=l2,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;n&&(u2(n),t=Lm[n],e=a5),o=hd(t);const{extension:a,isCubemap:l}=c2(t);if(s=f2(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=lo(m=>m.gl);I.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){us.clear(s,o?[t]:t)}u.domElement.addEventListener("webglcontextlost",m,{once:!0})},[t,u.domElement]);const c=us(s,o?[t]:t,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(u),m.setPath==null||m.setPath(e),i&&i(m)});let f=o?c[0]:c;if(a==="jpg"||a==="jpeg"||a==="webp"){var d;f=(d=f.renderTarget)==null?void 0:d.texture}return f.mapping=l?ka:Ad,"colorSpace"in f?f.colorSpace=r??l?"srgb":"srgb-linear":f.encoding=r??l?Nte:Ote,f}const Kte={files:l2,path:"",preset:void 0,extensions:void 0};Lx.preload=t=>{const e={...Kte,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(u2(i),n=Lm[i],r=a5);const{extension:o}=c2(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=f2(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);us.preload(a,hd(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const Yte={files:l2,preset:void 0};Lx.clear=t=>{const e={...Yte,...t};let{files:n}=e;const{preset:r}=e;r&&(u2(r),n=Lm[r]);const{extension:i}=c2(n),s=f2(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);us.clear(s,hd(n)?[n]:n)};function u2(t){if(!(t in Lm))throw new Error("Preset must be one of: "+Object.keys(Lm).join(", "))}function c2(t){var e;const n=hd(t)&&t.length===6,r=hd(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=hd(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function f2(t){return t==="cube"?tN:t==="hdr"?Ree:t==="exr"?Pee:t==="jpg"||t==="jpeg"?Xte:t==="webp"?Jte:null}const Qte=t=>t.current&&t.current.isScene,Zte=t=>Qte(t)?t.current:t;function d2(t,e,n,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=Zte(e||n),c=u.background,f=u.environment,d={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),ga(u,i),()=>{t!=="only"&&(u.environment=f),t&&(u.background=c),ga(u,d)}}function h2({scene:t,background:e=!1,map:n,...r}){const i=lo(s=>s.scene);return I.useLayoutEffect(()=>{if(n)return d2(e,t,i,n,r)}),null}function l5({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const u=Lx(l),c=lo(f=>f.scene);return I.useLayoutEffect(()=>d2(t,e,c,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),I.useEffect(()=>()=>{u.dispose()},[u]),null}function qte({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:d,scene:m,files:g,path:v,preset:y=void 0,extensions:x}){const _=lo(E=>E.gl),w=lo(E=>E.scene),A=I.useRef(null),[M]=I.useState(()=>new eg),C=I.useMemo(()=>{const E=new iC(r);return E.texture.type=Or,E},[r]);I.useEffect(()=>()=>{C.dispose()},[C]),I.useLayoutEffect(()=>{if(i===1){const E=_.autoClear;_.autoClear=!0,A.current.update(_,M),_.autoClear=E}return d2(o,m,w,C.texture,{backgroundBlurriness:a??l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:d})},[t,M,C.texture,m,w,o,i,_]);let T=1;return Uc(()=>{if(i===1/0||T<i){const E=_.autoClear;_.autoClear=!0,A.current.update(_,M),_.autoClear=E,T++}}),I.createElement(I.Fragment,null,yY(I.createElement(I.Fragment,null,t,I.createElement("cubeCamera",{ref:A,args:[e,n,C]}),g||y?I.createElement(l5,{background:!0,files:g,preset:y,path:v,extensions:x}):s?I.createElement(h2,{background:!0,map:s,extensions:x}):null),M))}function ene(t){var e,n,r,i;const s=Lx(t),o=t.map||s;I.useMemo(()=>Ax({GroundProjectedEnvImpl:zq}),[]),I.useEffect(()=>()=>{s.dispose()},[s]);const a=I.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return I.createElement(I.Fragment,null,I.createElement(h2,Xl({},t,{map:o})),I.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function tne(t){return t.ground?I.createElement(ene,t):t.map?I.createElement(h2,t):t.children?I.createElement(qte,t):I.createElement(l5,t)}function nne(t){switch(t){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}const rne="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json",ine="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d";function sne(t=0,e=1024,n){const r=Sx(()=>fetch(rne).then(c=>c.json()),["matcapList"]),i=r[0],s=I.useMemo(()=>Object.keys(r).length,[]),a=`${I.useMemo(()=>typeof t=="string"?t:typeof t=="number"?r[t]:null,[t])||i}${nne(e)}.png`,l=`${ine}/${e}/${a}`;return[s2(l,n),l,s]}const kv=I.memo(function({color:e,finalY:n,finalX:r,finalZ:i,finalRotationZ:s,label:o,link:a,onAnimationFinish:l,textColor:u,textFontSize:c,textRotation:f,textOffset:d=[0,0,0],scale:m=8,...g}){const{scene:v}=Wn("./models/one_part_logo.glb"),y=I.useRef(),[x,_]=I.useState(!1),[w,A]=I.useState(!1);I.useState(!0);const M=m*1.3,C=m,T=m,{scale:E}=ai({scale:[M,C,T],config:{tension:170,friction:26}});return I.useEffect(()=>{const P=v.clone(!0);P.traverse(B=>{B.isMesh&&(B.castShadow=!0,B.receiveShadow=!0,B.material=B.material.clone(),B.material.color.set(e))}),y.current.add(P)},[v,e]),I.useEffect(()=>{const P=setTimeout(()=>{_(!0)},2e3);return()=>clearTimeout(P)},[]),Uc(()=>{if(x&&y.current&&!w){const P=y.current.rotation.z,B=y.current.position.x,N=y.current.position.y,F=y.current.position.z;y.current.rotation.z=ro.lerp(P,s,.05),y.current.position.y=ro.lerp(N,n,.05),y.current.position.x=ro.lerp(B,r,.05),y.current.position.z=ro.lerp(F,i,.05);const U=Math.abs(y.current.rotation.z-s);Math.sqrt(Math.pow(y.current.position.x-r,2)+Math.pow(y.current.position.y-n,2)+Math.pow(y.current.position.z-i,2))<.01&&U<.01&&(A(!0),l&&l({label:o,link:a,x:r,y:n,z:i,textColor:u,textFontSize:c*.5,textRotation:f,textOffset:Array.isArray(d)?d.map(J=>J*.5):[0,0,0]}))}}),De.jsx("group",{ref:y,position:[0,0,0],...g,children:De.jsx(li.primitive,{object:v,scale:E,onClick:()=>{a&&(a.startsWith("http")?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a)}})})});function DB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function u5(...t){return e=>{let n=!1;const r=t.map(i=>{const s=DB(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():DB(t[i],null)}}}}function Gc(...t){return I.useCallback(u5(...t),t)}var c5=I.forwardRef((t,e)=>{const{children:n,...r}=t,i=I.Children.toArray(n),s=i.find(one);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return De.jsx(tM,{...r,ref:e,children:I.isValidElement(o)?I.cloneElement(o,void 0,a):null})}return De.jsx(tM,{...r,ref:e,children:n})});c5.displayName="Slot";var tM=I.forwardRef((t,e)=>{const{children:n,...r}=t;if(I.isValidElement(n)){const i=lne(n);return I.cloneElement(n,{...ane(r,n.props),ref:e?u5(e,i):i})}return I.Children.count(n)>1?I.Children.only(null):null});tM.displayName="SlotClone";var f5=({children:t})=>De.jsx(De.Fragment,{children:t});function one(t){return I.isValidElement(t)&&t.type===f5}function ane(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function lne(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var une=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],au=une.reduce((t,e)=>{const n=I.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?c5:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),De.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cne(t,e){t&&nx.flushSync(()=>t.dispatchEvent(e))}var Pc=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},fne="Portal",d5=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=I.useState(!1);Pc(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?AO.createPortal(De.jsx(au.div,{...r,ref:e}),o):null});d5.displayName=fne;var dne=d5,LB=Object.prototype.hasOwnProperty;function km(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&km(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(LB.call(t,n)&&++r&&!LB.call(e,n)||!(n in e)||!km(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function kx(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Fx=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};Fx.prototype._test=function(e){var n=this.fn;try{pd(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return pd(this.modifiers.slice(),n,this)(e)}catch{return!1}};Fx.prototype._check=function(e){try{pd(this.modifiers.slice(),this.fn,this)(e)}catch{if(pd(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!pd(this.modifiers.slice(),this.fn,this)(e))throw null};Fx.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){p5(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function h5(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function pd(t,e,n){if(t.length){var r=t.shift(),i=pd(t,e,n);return r.perform(i,n)}else return h5(e)}function p5(t,e,n){if(t.length){var r=t.shift(),i=p5(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(h5(e,"async")(s))}}var hne=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},p2=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Wo=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Wo.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Fx(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Wo.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new hne(n,e.simple,e.async)),this};Wo.prototype._clone=function(){return new Wo(this.chain.slice(),this.nextRuleModifiers.slice())};Wo.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Wo.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new p2(r,e,i))}}),n};Wo.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new p2(n,e,r)}})};Wo.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){m5(e,n.chain.slice(),r,i)})};function m5(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){m5(t,e,n,r)},function(s){r(new p2(i,t,s))})}else n(t)}var kB=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function pne(t,e){return e===void 0&&(e=!1),{simple:function(n){return kB(n,e)||t.check(n)===void 0},async:function(n){return kB(n,e)||t.testAsync(n)}}}function ki(){return typeof Proxy<"u"?g5(new Wo):nM(new Wo)}var Fm={};ki.extend=function(t){Object.assign(Fm,t)};ki.clearCustomRules=function(){Fm={}};function g5(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=g5(t._clone());if(r in h1)return i._applyModifier(h1[r],r);if(r in Fm)return i._applyRule(Fm[r],r);if(r in rM)return i._applyRule(rM[r],r)}})}function nM(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=nM(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},n=e(rM,t),r=e(Fm,n);return Object.keys(h1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=nM(r._clone());return s._applyModifier(h1[i],i)}})}),r}var h1={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Fv(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Fv(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Fv(e).every(t)}},async:function(t){return function(e){return Promise.all(Fv(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return FB(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return FB(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function FB(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Fv(t){return typeof t=="string"?t.split(""):t}var rM={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||mne;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Rf("string")},boolean:function(){return Rf("boolean")},undefined:function(){return Rf("undefined")},null:function(){return Rf("null")},array:function(){return Rf("array")},object:function(){return Rf("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return gne(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:pne};function Rf(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function mne(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function gne(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var vn="colors",yi="sizes",xt="space",vne={gap:xt,gridGap:xt,columnGap:xt,gridColumnGap:xt,rowGap:xt,gridRowGap:xt,inset:xt,insetBlock:xt,insetBlockEnd:xt,insetBlockStart:xt,insetInline:xt,insetInlineEnd:xt,insetInlineStart:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,marginBlock:xt,marginBlockEnd:xt,marginBlockStart:xt,marginInline:xt,marginInlineEnd:xt,marginInlineStart:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,paddingBlock:xt,paddingBlockEnd:xt,paddingBlockStart:xt,paddingInline:xt,paddingInlineEnd:xt,paddingInlineStart:xt,top:xt,right:xt,bottom:xt,left:xt,scrollMargin:xt,scrollMarginTop:xt,scrollMarginRight:xt,scrollMarginBottom:xt,scrollMarginLeft:xt,scrollMarginX:xt,scrollMarginY:xt,scrollMarginBlock:xt,scrollMarginBlockEnd:xt,scrollMarginBlockStart:xt,scrollMarginInline:xt,scrollMarginInlineEnd:xt,scrollMarginInlineStart:xt,scrollPadding:xt,scrollPaddingTop:xt,scrollPaddingRight:xt,scrollPaddingBottom:xt,scrollPaddingLeft:xt,scrollPaddingX:xt,scrollPaddingY:xt,scrollPaddingBlock:xt,scrollPaddingBlockEnd:xt,scrollPaddingBlockStart:xt,scrollPaddingInline:xt,scrollPaddingInlineEnd:xt,scrollPaddingInlineStart:xt,fontSize:"fontSizes",background:vn,backgroundColor:vn,backgroundImage:vn,borderImage:vn,border:vn,borderBlock:vn,borderBlockEnd:vn,borderBlockStart:vn,borderBottom:vn,borderBottomColor:vn,borderColor:vn,borderInline:vn,borderInlineEnd:vn,borderInlineStart:vn,borderLeft:vn,borderLeftColor:vn,borderRight:vn,borderRightColor:vn,borderTop:vn,borderTopColor:vn,caretColor:vn,color:vn,columnRuleColor:vn,fill:vn,outline:vn,outlineColor:vn,stroke:vn,textDecorationColor:vn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:yi,minBlockSize:yi,maxBlockSize:yi,inlineSize:yi,minInlineSize:yi,maxInlineSize:yi,width:yi,minWidth:yi,maxWidth:yi,height:yi,minHeight:yi,maxHeight:yi,flexBasis:yi,gridTemplateColumns:yi,gridTemplateRows:yi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},yne=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,th=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,yne))(e);return i in t?t[i]:t[i]=n(e,...r)}},hc=Symbol.for("sxs.internal"),m2=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),OB=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:xne}=Object.prototype,iM=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),_ne=/\s+(?![^()]*\))/,Pf=t=>e=>t(...typeof e=="string"?String(e).split(_ne):[e]),NB={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Pf((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Pf((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Pf((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Pf((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Pf((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Pf((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},RS=/([\d.]+)([^]*)/,wne=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,Sne=(t,e)=>t in Ane&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${iM(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${iM(t)}:${r}fit-content`)+s):String(e),Ane={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ua=t=>t?t+"-":"",v5=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ua(e)+(a.includes("$")?"":Ua(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),bne=/\s*,\s*(?![^()]*\))/,Mne=Object.prototype.toString,Qf=(t,e,n,r,i)=>{let s,o,a;const l=(u,c,f)=>{let d,m;const g=v=>{for(d in v){const _=d.charCodeAt(0)===64,w=_&&Array.isArray(v[d])?v[d]:[v[d]];for(m of w){const A=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,C=>C[1].toUpperCase()),M=typeof m=="object"&&m&&m.toString===Mne&&(!r.utils[A]||!c.length);if(A in r.utils&&!M){const C=r.utils[A];if(C!==o){o=C,g(C(m)),o=null;continue}}else if(A in NB){const C=NB[A];if(C!==a){a=C,g(C(m)),a=null;continue}}if(_&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,T,E,P,B,N)=>{const F=RS.test(T),U=.0625*(F?-1:1),[O,J]=F?[P,T]:[T,P];return"("+(E[0]==="="?"":E[0]===">"===F?"max-":"min-")+O+":"+(E[0]!=="="&&E.length===1?J.replace(RS,($,ie,H)=>Number(ie)+U*(E===">"?1:-1)+H):J)+(B?") and ("+(B[0]===">"?"min-":"max-")+O+":"+(B.length===1?N.replace(RS,($,ie,H)=>Number(ie)+U*(B===">"?-1:1)+H):N):"")+")"})),M){const C=_?f.concat(d):[...f],T=_?[...c]:wne(c,d.split(bne));s!==void 0&&i(UB(...s)),s=void 0,l(m,T,C)}else s===void 0&&(s=[[],c,f]),d=_||d.charCodeAt(0)!==36?d:`--${Ua(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,m=M?m:typeof m=="number"?m&&A in Ene?String(m)+"px":String(m):v5(Sne(A,m??""),r.prefix,r.themeMap[A]),s[0].push(`${_?`${d} `:`${iM(d)}:`}${m}`)}}var y,x};g(u),s!==void 0&&i(UB(...s)),s=void 0};l(t,e,n)},UB=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Ene={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},zB=t=>String.fromCharCode(t+(t>25?39:97)),pc=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=zB(n%52)+r;return zB(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Sp=["themed","global","styled","onevar","resonevar","allvar","inline"],Cne=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Tne=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(Cne(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=c;if(!d.startsWith("--sxs"))continue;const m=d.slice(14,-3).trim().split(/\s+/),g=Sp[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[g]={group:f,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=Sp.length-1;a>=0;--a){const l=Sp[a];if(!o[l]){const u=Sp[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}Rne(o[l])}};return r(),e},Rne=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},up=Symbol(),Pne=th(),GB=(t,e)=>Pne(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[hc]){r.type==null&&(r.type=i[hc].type);for(const s of i[hc].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Ine(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Bne(t,r,e)}),Ine=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${Ua(i.prefix)}c-${pc(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const d in n)l[d]=String(n[d]);if(typeof t=="object"&&t)for(const d in t){c=l,f=d,xne.call(c,f)||(l[d]="undefined");const m=t[d];for(const g in m){const v={[d]:String(g)};String(g)==="undefined"&&u.push(d);const y=m[g],x=[v,y,!OB(y)];o.push(x)}}var c,f;if(typeof e=="object"&&e)for(const d of e){let{css:m,...g}=d;m=typeof m=="object"&&m||{};for(const y in g)g[y]=String(g[y]);const v=[g,m,!OB(m)];a.push(v)}return[s,r,o,a,l,u]},Bne=(t,e,n)=>{const[r,i,s,o]=Dne(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let m=0;m<d[up].length;m++){const[g,v]=d[up][m];f.rules[g].apply(v)}return d[up]=[],null}return d[up]=[],d.rules={},Sp.forEach(m=>d.rules[m]={apply:g=>d[up].push([m,g])}),d})(n):null,l=(a||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||Lne;const{css:d,...m}=f,g={};for(const x in s)if(delete m[x],x in f){let _=f[x];typeof _=="object"&&_?g[x]={"@initial":s[x],..._}:(_=String(_),g[x]=_!=="undefined"||o.has(x)?_:s[x])}else g[x]=s[x];const v=new Set([...i]);for(const[x,_,w,A]of e.composers){n.rules.styled.cache.has(x)||(n.rules.styled.cache.add(x),Qf(_,[`.${x}`],[],t,T=>{l.styled.apply(T)}));const M=HB(w,g,t.media),C=HB(A,g,t.media,!0);for(const T of M)if(T!==void 0)for(const[E,P,B]of T){const N=`${x}-${pc(P)}-${E}`;v.add(N);const F=(B?n.rules.resonevar:n.rules.onevar).cache,U=B?l.resonevar:l.onevar;F.has(N)||(F.add(N),Qf(P,[`.${N}`],[],t,O=>{U.apply(O)}))}for(const T of C)if(T!==void 0)for(const[E,P]of T){const B=`${x}-${pc(P)}-${E}`;v.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),Qf(P,[`.${B}`],[],t,N=>{l.allvar.apply(N)}))}}if(typeof d=="object"&&d){const x=`${r}-i${pc(d)}-css`;v.add(x),n.rules.inline.cache.has(x)||(n.rules.inline.cache.add(x),Qf(d,[`.${x}`],[],t,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&v.add(x);const y=m.className=[...v].join(" ");return{type:e.type,className:y,selector:u,props:m,toString:()=>y,deferredInjector:a}};return m2(c,{className:r,selector:u,[hc]:e,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},Dne=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,n,r,new Set(i)]},HB=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let m,g,v=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const x=y.slice(1);(g=g||[]).push(x in n?n[x]:y.replace(/^@media ?/,"")),c=!0}u+=v,m=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},Lne={},kne=th(),Fne=(t,e)=>kne(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=pc(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Qf(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return m2(r,{toString:r})}),One=th(),Nne=(t,e)=>One(t,()=>n=>{const r=`${Ua(t.prefix)}k-${pc(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Qf(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return m2(i,{get name(){return i()},toString:i})}),Une=class{constructor(e,n,r,i){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ua(this.prefix)+Ua(this.scale)+this.token}toString(){return this.computedValue}},zne=th(),Gne=(t,e)=>zne(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${Ua(t.prefix)}t-${pc(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${Ua(t.prefix)}${l}-${u}`,f=v5(String(r[l][u]),t.prefix,l);s[l][u]=new Une(u,f,l,t.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),Hne=th(),Vne=th(),Wne=t=>{const e=(n=>{let r=!1;const i=Hne(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...vne},utils:typeof s.utils=="object"&&s.utils||{}},f=Tne(l),d={css:GB(c,f),globalCss:Fne(c,f),keyframes:Nne(c,f),createTheme:Gne(c,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:c,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(u)),d});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>Vne(n,()=>{const i=GB(n,r);return(...s)=>{const o=i(...s),a=o[hc].type,l=ae.forwardRef((u,c)=>{const f=u&&u.as||a,{props:d,deferredInjector:m}=o(u);return delete d.as,d.ref=c,m?ae.createElement(ae.Fragment,null,ae.createElement(f,d),ae.createElement(m,null)):ae.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[hc]=o[hc],l}}))(e),e};function va(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function y5(t,e=[]){let n=[];function r(s,o){const a=I.createContext(o),l=n.length;n=[...n,o];const u=f=>{var x;const{scope:d,children:m,...g}=f,v=((x=d==null?void 0:d[t])==null?void 0:x[l])||a,y=I.useMemo(()=>g,Object.values(g));return De.jsx(v.Provider,{value:y,children:m})};u.displayName=s+"Provider";function c(f,d){var v;const m=((v=d==null?void 0:d[t])==null?void 0:v[l])||a,g=I.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,c]}const i=()=>{const s=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jne(i,...e)]}function jne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nh(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $ne(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Jne="DismissableLayer",sM="dismissableLayer.update",Xne="dismissableLayer.pointerDownOutside",Kne="dismissableLayer.focusOutside",VB,x5=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_5=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=I.useContext(x5),[c,f]=I.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=I.useState({}),g=Gc(e,T=>f(T)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),_=c?v.indexOf(c):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,A=_>=x,M=Zne(T=>{const E=T.target,P=[...u.branches].some(B=>B.contains(E));!A||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),C=qne(T=>{const E=T.target;[...u.branches].some(B=>B.contains(E))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return $ne(T=>{_===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),I.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VB=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),WB(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=VB)}},[c,d,n,u]),I.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),WB())},[c,u]),I.useEffect(()=>{const T=()=>m({});return document.addEventListener(sM,T),()=>document.removeEventListener(sM,T)},[]),De.jsx(au.div,{...l,ref:g,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:va(t.onFocusCapture,C.onFocusCapture),onBlurCapture:va(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:va(t.onPointerDownCapture,M.onPointerDownCapture)})});_5.displayName=Jne;var Yne="DismissableLayerBranch",Qne=I.forwardRef((t,e)=>{const n=I.useContext(x5),r=I.useRef(null),i=Gc(e,r);return I.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),De.jsx(au.div,{...t,ref:i})});Qne.displayName=Yne;function Zne(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){w5(Xne,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qne(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&w5(Kne,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WB(){const t=new CustomEvent(sM);document.dispatchEvent(t)}function w5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cne(i,s):i.dispatchEvent(s)}var ere=V8.useId||(()=>{}),tre=0;function nre(t){const[e,n]=I.useState(ere());return Pc(()=>{n(r=>r??String(tre++))},[t]),e?`radix-${e}`:""}const rre=["top","right","bottom","left"],Kl=Math.min,es=Math.max,p1=Math.round,Ov=Math.floor,zo=t=>({x:t,y:t}),ire={left:"right",right:"left",bottom:"top",top:"bottom"},sre={start:"end",end:"start"};function oM(t,e,n){return es(t,Kl(e,n))}function za(t,e){return typeof t=="function"?t(e):t}function Ga(t){return t.split("-")[0]}function rh(t){return t.split("-")[1]}function g2(t){return t==="x"?"y":"x"}function v2(t){return t==="y"?"height":"width"}function Yl(t){return["top","bottom"].includes(Ga(t))?"y":"x"}function y2(t){return g2(Yl(t))}function ore(t,e,n){n===void 0&&(n=!1);const r=rh(t),i=y2(t),s=v2(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=m1(o)),[o,m1(o)]}function are(t){const e=m1(t);return[aM(t),e,aM(e)]}function aM(t){return t.replace(/start|end/g,e=>sre[e])}function lre(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ure(t,e,n,r){const i=rh(t);let s=lre(Ga(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(aM)))),s}function m1(t){return t.replace(/left|right|bottom|top/g,e=>ire[e])}function cre(t){return{top:0,right:0,bottom:0,left:0,...t}}function S5(t){return typeof t!="number"?cre(t):{top:t,right:t,bottom:t,left:t}}function g1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function jB(t,e,n){let{reference:r,floating:i}=t;const s=Yl(e),o=y2(e),a=v2(o),l=Ga(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-i.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(rh(e)){case"start":m[o]-=d*(n&&u?-1:1);break;case"end":m[o]+=d*(n&&u?-1:1);break}return m}const fre=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=jB(u,r,l),d=r,m={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:x}=a[v],{x:_,y:w,data:A,reset:M}=await x({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});c=_??c,f=w??f,m={...m,[y]:{...m[y],...A}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:c,y:f}=jB(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:m}};async function Om(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=za(e,t),g=S5(m),y=a[d?f==="floating"?"reference":"floating":f],x=g1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},M=g1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(x.top-M.top+g.top)/A.y,bottom:(M.bottom-x.bottom+g.bottom)/A.y,left:(x.left-M.left+g.left)/A.x,right:(M.right-x.right+g.right)/A.x}}const dre=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=za(t,e)||{};if(u==null)return{};const f=S5(c),d={x:n,y:r},m=y2(i),g=v2(m),v=await o.getDimensions(u),y=m==="y",x=y?"top":"left",_=y?"bottom":"right",w=y?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[m]-d[m]-s.floating[g],M=d[m]-s.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=C?C[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(C)))&&(T=a.floating[w]||s.floating[g]);const E=A/2-M/2,P=T/2-v[g]/2-1,B=Kl(f[x],P),N=Kl(f[_],P),F=B,U=T-v[g]-N,O=T/2-v[g]/2+E,J=oM(F,O,U),$=!l.arrow&&rh(i)!=null&&O!==J&&s.reference[g]/2-(O<F?B:N)-v[g]/2<0,ie=$?O<F?O-F:O-U:0;return{[m]:d[m]+ie,data:{[m]:J,centerOffset:O-J-ie,...$&&{alignmentOffset:ie}},reset:$}}}),hre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=za(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Ga(i),_=Yl(a),w=Ga(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=d||(w||!v?[m1(a)]:are(a)),C=g!=="none";!d&&C&&M.push(...ure(a,v,g,A));const T=[a,...M],E=await Om(e,y),P=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&P.push(E[x]),f){const O=ore(i,o,A);P.push(E[O[0]],E[O[1]])}if(B=[...B,{placement:i,overflows:P}],!P.every(O=>O<=0)){var N,F;const O=(((N=s.flip)==null?void 0:N.index)||0)+1,J=T[O];if(J)return{data:{index:O,overflows:B},reset:{placement:J}};let $=(F=B.filter(ie=>ie.overflows[0]<=0).sort((ie,H)=>ie.overflows[1]-H.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(m){case"bestFit":{var U;const ie=(U=B.filter(H=>{if(C){const j=Yl(H.placement);return j===_||j==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((H,j)=>H[1]-j[1])[0])==null?void 0:U[0];ie&&($=ie);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function $B(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JB(t){return rre.some(e=>t[e]>=0)}const pre=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=za(t,e);switch(r){case"referenceHidden":{const s=await Om(e,{...i,elementContext:"reference"}),o=$B(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JB(o)}}}case"escaped":{const s=await Om(e,{...i,altBoundary:!0}),o=$B(s,n.floating);return{data:{escapedOffsets:o,escaped:JB(o)}}}default:return{}}}}};async function mre(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ga(n),a=rh(n),l=Yl(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=za(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*c,y:d*u}:{x:d*u,y:m*c}}const gre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await mre(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},vre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=za(t,e),u={x:n,y:r},c=await Om(e,l),f=Yl(Ga(i)),d=g2(f);let m=u[d],g=u[f];if(s){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",_=m+c[y],w=m-c[x];m=oM(_,m,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+c[y],w=g-c[x];g=oM(_,g,w)}const v=a.fn({...e,[d]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:s,[f]:o}}}}}},yre=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=za(t,e),c={x:n,y:r},f=Yl(i),d=g2(f);let m=c[d],g=c[f];const v=za(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=d==="y"?"height":"width",A=s.reference[d]-s.floating[w]+y.mainAxis,M=s.reference[d]+s.reference[w]-y.mainAxis;m<A?m=A:m>M&&(m=M)}if(u){var x,_;const w=d==="y"?"width":"height",A=["top","left"].includes(Ga(i)),M=s.reference[f]-s.floating[w]+(A&&((x=o.offset)==null?void 0:x[f])||0)+(A?0:y.crossAxis),C=s.reference[f]+s.reference[w]+(A?0:((_=o.offset)==null?void 0:_[f])||0)-(A?y.crossAxis:0);g<M?g=M:g>C&&(g=C)}return{[d]:m,[f]:g}}}},xre=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=za(t,e),c=await Om(e,u),f=Ga(i),d=rh(i),m=Yl(i)==="y",{width:g,height:v}=s.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,y=d==="end"?"top":"bottom");const _=v-c.top-c.bottom,w=g-c.left-c.right,A=Kl(v-c[y],_),M=Kl(g-c[x],w),C=!e.middlewareData.shift;let T=A,E=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=_),C&&!d){const B=es(c.left,0),N=es(c.right,0),F=es(c.top,0),U=es(c.bottom,0);m?E=g-2*(B!==0||N!==0?B+N:es(c.left,c.right)):T=v-2*(F!==0||U!==0?F+U:es(c.top,c.bottom))}await l({...e,availableWidth:E,availableHeight:T});const P=await o.getDimensions(a.floating);return g!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Ox(){return typeof window<"u"}function ih(t){return A5(t)?(t.nodeName||"").toLowerCase():"#document"}function ss(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jo(t){var e;return(e=(A5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function A5(t){return Ox()?t instanceof Node||t instanceof ss(t).Node:!1}function po(t){return Ox()?t instanceof Element||t instanceof ss(t).Element:!1}function jo(t){return Ox()?t instanceof HTMLElement||t instanceof ss(t).HTMLElement:!1}function XB(t){return!Ox()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ss(t).ShadowRoot}function Ag(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _re(t){return["table","td","th"].includes(ih(t))}function Nx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function x2(t){const e=_2(),n=po(t)?mo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wre(t){let e=Ql(t);for(;jo(e)&&!Id(e);){if(x2(e))return e;if(Nx(e))return null;e=Ql(e)}return null}function _2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Id(t){return["html","body","#document"].includes(ih(t))}function mo(t){return ss(t).getComputedStyle(t)}function Ux(t){return po(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ql(t){if(ih(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XB(t)&&t.host||Jo(t);return XB(e)?e.host:e}function b5(t){const e=Ql(t);return Id(e)?t.ownerDocument?t.ownerDocument.body:t.body:jo(e)&&Ag(e)?e:b5(e)}function Nm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=b5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ss(i);if(s){const a=lM(o);return e.concat(o,o.visualViewport||[],Ag(i)?i:[],a&&n?Nm(a):[])}return e.concat(i,Nm(i,[],n))}function lM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function M5(t){const e=mo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=p1(n)!==s||p1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function w2(t){return po(t)?t:t.contextElement}function md(t){const e=w2(t);if(!jo(e))return zo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=M5(e);let o=(s?p1(n.width):n.width)/r,a=(s?p1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Sre=zo(0);function E5(t){const e=ss(t);return!_2()||!e.visualViewport?Sre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Are(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ss(t)?!1:e}function Ic(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=w2(t);let o=zo(1);e&&(r?po(r)&&(o=md(r)):o=md(t));const a=Are(s,n,r)?E5(s):zo(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=ss(s),m=r&&po(r)?ss(r):r;let g=d,v=lM(g);for(;v&&r&&m!==g;){const y=md(v),x=v.getBoundingClientRect(),_=mo(v),w=x.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,A=x.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,u*=y.y,c*=y.x,f*=y.y,l+=w,u+=A,g=ss(v),v=lM(g)}}return g1({width:c,height:f,x:l,y:u})}function S2(t,e){const n=Ux(t).scrollLeft;return e?e.left+n:Ic(Jo(t)).left+n}function C5(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:S2(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function bre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Jo(r),a=e?Nx(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=zo(1);const c=zo(0),f=jo(r);if((f||!f&&!s)&&((ih(r)!=="body"||Ag(o))&&(l=Ux(r)),jo(r))){const m=Ic(r);u=md(r),c.x=m.x+r.clientLeft,c.y=m.y+r.clientTop}const d=o&&!f&&!s?C5(o,l,!0):zo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Mre(t){return Array.from(t.getClientRects())}function Ere(t){const e=Jo(t),n=Ux(t),r=t.ownerDocument.body,i=es(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=es(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+S2(t);const a=-n.scrollTop;return mo(r).direction==="rtl"&&(o+=es(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Cre(t,e){const n=ss(t),r=Jo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=_2();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Tre(t,e){const n=Ic(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=jo(t)?md(t):zo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function KB(t,e,n){let r;if(e==="viewport")r=Cre(t,n);else if(e==="document")r=Ere(Jo(t));else if(po(e))r=Tre(e,n);else{const i=E5(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return g1(r)}function T5(t,e){const n=Ql(t);return n===e||!po(n)||Id(n)?!1:mo(n).position==="fixed"||T5(n,e)}function Rre(t,e){const n=e.get(t);if(n)return n;let r=Nm(t,[],!1).filter(a=>po(a)&&ih(a)!=="body"),i=null;const s=mo(t).position==="fixed";let o=s?Ql(t):t;for(;po(o)&&!Id(o);){const a=mo(o),l=x2(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ag(o)&&!l&&T5(t,o))?r=r.filter(c=>c!==o):i=a,o=Ql(o)}return e.set(t,r),r}function Pre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Nx(e)?[]:Rre(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=KB(e,c,i);return u.top=es(f.top,u.top),u.right=Kl(f.right,u.right),u.bottom=Kl(f.bottom,u.bottom),u.left=es(f.left,u.left),u},KB(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ire(t){const{width:e,height:n}=M5(t);return{width:e,height:n}}function Bre(t,e,n){const r=jo(e),i=Jo(e),s=n==="fixed",o=Ic(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=zo(0);if(r||!r&&!s)if((ih(e)!=="body"||Ag(i))&&(a=Ux(e)),r){const d=Ic(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=S2(i));const u=i&&!r&&!s?C5(i,a):zo(0),c=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:c,y:f,width:o.width,height:o.height}}function PS(t){return mo(t).position==="static"}function YB(t,e){if(!jo(t)||mo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jo(t)===n&&(n=n.ownerDocument.body),n}function R5(t,e){const n=ss(t);if(Nx(t))return n;if(!jo(t)){let i=Ql(t);for(;i&&!Id(i);){if(po(i)&&!PS(i))return i;i=Ql(i)}return n}let r=YB(t,e);for(;r&&_re(r)&&PS(r);)r=YB(r,e);return r&&Id(r)&&PS(r)&&!x2(r)?n:r||wre(t)||n}const Dre=async function(t){const e=this.getOffsetParent||R5,n=this.getDimensions,r=await n(t.floating);return{reference:Bre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lre(t){return mo(t).direction==="rtl"}const kre={convertOffsetParentRelativeRectToViewportRelativeRect:bre,getDocumentElement:Jo,getClippingRect:Pre,getOffsetParent:R5,getElementRects:Dre,getClientRects:Mre,getDimensions:Ire,getScale:md,isElement:po,isRTL:Lre};function P5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fre(t,e){let n=null,r;const i=Jo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:f,width:d,height:m}=u;if(a||e(),!d||!m)return;const g=Ov(f),v=Ov(i.clientWidth-(c+d)),y=Ov(i.clientHeight-(f+m)),x=Ov(c),w={rootMargin:-g+"px "+-v+"px "+-y+"px "+-x+"px",threshold:es(0,Kl(1,l))||1};let A=!0;function M(C){const T=C[0].intersectionRatio;if(T!==l){if(!A)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!P5(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(M,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,w)}n.observe(t)}return o(!0),s}function Ore(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=w2(t),c=i||s?[...u?Nm(u):[],...Nm(e)]:[];c.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&a?Fre(u,n):null;let d=-1,m=null;o&&(m=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let g,v=l?Ic(t):null;l&&y();function y(){const x=Ic(t);v&&!P5(v,x)&&n(),v=x,g=requestAnimationFrame(y)}return n(),()=>{var x;c.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Nre=gre,Ure=vre,zre=hre,Gre=xre,Hre=pre,QB=dre,Vre=yre,Wre=(t,e,n)=>{const r=new Map,i={platform:kre,...n},s={...i.platform,_c:r};return fre(t,e,{...i,platform:s})};var wy=typeof document<"u"?I.useLayoutEffect:I.useEffect;function v1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!v1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!v1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function I5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZB(t,e){const n=I5(t);return Math.round(e*n)/n}function IS(t){const e=I.useRef(t);return wy(()=>{e.current=t}),e}function jre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,f]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=I.useState(r);v1(d,r)||m(r);const[g,v]=I.useState(null),[y,x]=I.useState(null),_=I.useCallback(H=>{H!==C.current&&(C.current=H,v(H))},[]),w=I.useCallback(H=>{H!==T.current&&(T.current=H,x(H))},[]),A=s||g,M=o||y,C=I.useRef(null),T=I.useRef(null),E=I.useRef(c),P=l!=null,B=IS(l),N=IS(i),F=IS(u),U=I.useCallback(()=>{if(!C.current||!T.current)return;const H={placement:e,strategy:n,middleware:d};N.current&&(H.platform=N.current),Wre(C.current,T.current,H).then(j=>{const W={...j,isPositioned:F.current!==!1};O.current&&!v1(E.current,W)&&(E.current=W,nx.flushSync(()=>{f(W)}))})},[d,e,n,N,F]);wy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const O=I.useRef(!1);wy(()=>(O.current=!0,()=>{O.current=!1}),[]),wy(()=>{if(A&&(C.current=A),M&&(T.current=M),A&&M){if(B.current)return B.current(A,M,U);U()}},[A,M,U,B,P]);const J=I.useMemo(()=>({reference:C,floating:T,setReference:_,setFloating:w}),[_,w]),$=I.useMemo(()=>({reference:A,floating:M}),[A,M]),ie=I.useMemo(()=>{const H={position:n,left:0,top:0};if(!$.floating)return H;const j=ZB($.floating,c.x),W=ZB($.floating,c.y);return a?{...H,transform:"translate("+j+"px, "+W+"px)",...I5($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,a,$.floating,c.x,c.y]);return I.useMemo(()=>({...c,update:U,refs:J,elements:$,floatingStyles:ie}),[c,U,J,$,ie])}const $re=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QB({element:r.current,padding:i}).fn(n):{}:r?QB({element:r,padding:i}).fn(n):{}}}},Jre=(t,e)=>({...Nre(t),options:[t,e]}),Xre=(t,e)=>({...Ure(t),options:[t,e]}),Kre=(t,e)=>({...Vre(t),options:[t,e]}),Yre=(t,e)=>({...zre(t),options:[t,e]}),Qre=(t,e)=>({...Gre(t),options:[t,e]}),Zre=(t,e)=>({...Hre(t),options:[t,e]}),qre=(t,e)=>({...$re(t),options:[t,e]});var eie="Arrow",B5=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return De.jsx(au.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:De.jsx("polygon",{points:"0,0 30,0 15,10"})})});B5.displayName=eie;var tie=B5;function nie(t){const[e,n]=I.useState(void 0);return Pc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var A2="Popper",[D5,L5]=y5(A2),[rie,k5]=D5(A2),F5=t=>{const{__scopePopper:e,children:n}=t,[r,i]=I.useState(null);return De.jsx(rie,{scope:e,anchor:r,onAnchorChange:i,children:n})};F5.displayName=A2;var O5="PopperAnchor",N5=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=k5(O5,n),o=I.useRef(null),a=Gc(e,o);return I.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:De.jsx(au.div,{...i,ref:a})});N5.displayName=O5;var b2="PopperContent",[iie,sie]=D5(b2),U5=I.forwardRef((t,e)=>{var ue,ce,Te,we,ve,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=t,y=k5(b2,n),[x,_]=I.useState(null),w=Gc(e,fe=>_(fe)),[A,M]=I.useState(null),C=nie(A),T=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,P=r+(s!=="center"?"-"+s:""),B=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(u)?u:[u],F=N.length>0,U={padding:B,boundary:N.filter(aie),altBoundary:F},{refs:O,floatingStyles:J,placement:$,isPositioned:ie,middlewareData:H}=jre({strategy:"fixed",placement:P,whileElementsMounted:(...fe)=>Ore(...fe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Jre({mainAxis:i+E,alignmentAxis:o}),l&&Xre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kre():void 0,...U}),l&&Yre({...U}),Qre({...U,apply:({elements:fe,rects:Re,availableWidth:Ge,availableHeight:Ie})=>{const{width:Xe,height:Pe}=Re.reference,ze=fe.floating.style;ze.setProperty("--radix-popper-available-width",`${Ge}px`),ze.setProperty("--radix-popper-available-height",`${Ie}px`),ze.setProperty("--radix-popper-anchor-width",`${Xe}px`),ze.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),A&&qre({element:A,padding:a}),lie({arrowWidth:T,arrowHeight:E}),d&&Zre({strategy:"referenceHidden",...U})]}),[j,W]=H5($),G=nh(g);Pc(()=>{ie&&(G==null||G())},[ie,G]);const z=(ue=H.arrow)==null?void 0:ue.x,X=(ce=H.arrow)==null?void 0:ce.y,ne=((Te=H.arrow)==null?void 0:Te.centerOffset)!==0,[ee,Y]=I.useState();return Pc(()=>{x&&Y(window.getComputedStyle(x).zIndex)},[x]),De.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ie?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(we=H.transformOrigin)==null?void 0:we.x,(ve=H.transformOrigin)==null?void 0:ve.y].join(" "),...((oe=H.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:De.jsx(iie,{scope:n,placedSide:j,onArrowChange:M,arrowX:z,arrowY:X,shouldHideArrow:ne,children:De.jsx(au.div,{"data-side":j,"data-align":W,...v,ref:w,style:{...v.style,animation:ie?void 0:"none"}})})})});U5.displayName=b2;var z5="PopperArrow",oie={top:"bottom",right:"left",bottom:"top",left:"right"},G5=I.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=sie(z5,r),o=oie[s.placedSide];return De.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:De.jsx(tie,{...i,ref:n,style:{...i.style,display:"block"}})})});G5.displayName=z5;function aie(t){return t!==null}var lie=t=>({name:"transformOrigin",options:t,fn(e){var y,x,_;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=H5(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let g="",v="";return u==="bottom"?(g=o?f:`${d}px`,v=`${-l}px`):u==="top"?(g=o?f:`${d}px`,v=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,v=o?f:`${m}px`):u==="left"&&(g=`${r.floating.width+l}px`,v=o?f:`${m}px`),{data:{x:g,y:v}}}});function H5(t){const[e,n="center"]=t.split("-");return[e,n]}var uie=F5,cie=N5,fie=U5,die=G5;function hie(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var V5=t=>{const{present:e,children:n}=t,r=pie(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),s=Gc(r.ref,mie(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};V5.displayName="Presence";function pie(t){const[e,n]=I.useState(),r=I.useRef({}),i=I.useRef(t),s=I.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=Nv(r.current);s.current=a==="mounted"?u:"none"},[a]),Pc(()=>{const u=r.current,c=i.current;if(c!==t){const d=s.current,m=Nv(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Pc(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=m=>{const v=Nv(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=m=>{m.target===e&&(s.current=Nv(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Nv(t){return(t==null?void 0:t.animationName)||"none"}function mie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gie({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=vie({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=nh(n),l=I.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function vie({defaultProp:t,onChange:e}){const n=I.useState(t),[r]=n,i=I.useRef(r),s=nh(e);return I.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var yie="VisuallyHidden",W5=I.forwardRef((t,e)=>De.jsx(au.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));W5.displayName=yie;var xie=W5,[zx,Fme]=y5("Tooltip",[L5]),Gx=L5(),_ie="TooltipProvider",uM="tooltip.open",[Ome,M2]=zx(_ie),Hx="Tooltip",[wie,Vx]=zx(Hx),j5=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=M2(Hx,t.__scopeTooltip),u=Gx(e),[c,f]=I.useState(null),d=nre(),m=I.useRef(0),g=o??l.disableHoverableContent,v=a??l.delayDuration,y=I.useRef(!1),[x=!1,_]=gie({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(uM))):l.onClose(),s==null||s(T)}}),w=I.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),A=I.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,_(!0)},[_]),M=I.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_(!1)},[_]),C=I.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,_(!0),m.current=0},v)},[v,_]);return I.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),De.jsx(uie,{...u,children:De.jsx(wie,{scope:e,contentId:d,open:x,stateAttribute:w,trigger:c,onTriggerChange:f,onTriggerEnter:I.useCallback(()=>{l.isOpenDelayed?C():A()},[l.isOpenDelayed,C,A]),onTriggerLeave:I.useCallback(()=>{g?M():(window.clearTimeout(m.current),m.current=0)},[M,g]),onOpen:A,onClose:M,disableHoverableContent:g,children:n})})};j5.displayName=Hx;var cM="TooltipTrigger",$5=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vx(cM,n),s=M2(cM,n),o=Gx(n),a=I.useRef(null),l=Gc(e,a,i.onTriggerChange),u=I.useRef(!1),c=I.useRef(!1),f=I.useCallback(()=>u.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),De.jsx(cie,{asChild:!0,...o,children:De.jsx(au.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:va(t.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:va(t.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:va(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:va(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:va(t.onBlur,i.onClose),onClick:va(t.onClick,i.onClose)})})});$5.displayName=cM;var Sie="TooltipPortal",[Nme,Aie]=zx(Sie,{forceMount:void 0}),Bd="TooltipContent",J5=I.forwardRef((t,e)=>{const n=Aie(Bd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Vx(Bd,t.__scopeTooltip);return De.jsx(V5,{present:r||o.open,children:o.disableHoverableContent?De.jsx(X5,{side:i,...s,ref:e}):De.jsx(bie,{side:i,...s,ref:e})})}),bie=I.forwardRef((t,e)=>{const n=Vx(Bd,t.__scopeTooltip),r=M2(Bd,t.__scopeTooltip),i=I.useRef(null),s=Gc(e,i),[o,a]=I.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:f}=r,d=I.useCallback(()=>{a(null),f(!1)},[f]),m=I.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},_=Cie(x,y.getBoundingClientRect()),w=Tie(x,_),A=Rie(v.getBoundingClientRect()),M=Iie([...w,...A]);a(M),f(!0)},[f]);return I.useEffect(()=>()=>d(),[d]),I.useEffect(()=>{if(l&&c){const g=y=>m(y,c),v=y=>m(y,l);return l.addEventListener("pointerleave",g),c.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",v)}}},[l,c,m,d]),I.useEffect(()=>{if(o){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(y))||(c==null?void 0:c.contains(y)),w=!Pie(x,o);_?d():w&&(d(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,c,o,u,d]),De.jsx(X5,{...t,ref:s})}),[Mie,Eie]=zx(Hx,{isInside:!1}),X5=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Vx(Bd,n),u=Gx(n),{onClose:c}=l;return I.useEffect(()=>(document.addEventListener(uM,c),()=>document.removeEventListener(uM,c)),[c]),I.useEffect(()=>{if(l.trigger){const f=d=>{const m=d.target;m!=null&&m.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),De.jsx(_5,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:De.jsxs(fie,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[De.jsx(f5,{children:r}),De.jsx(Mie,{scope:n,isInside:!0,children:De.jsx(xie,{id:l.contentId,role:"tooltip",children:i||r})})]})})});J5.displayName=Bd;var K5="TooltipArrow",Y5=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Gx(n);return Eie(K5,n).isInside?null:De.jsx(die,{...i,...r,ref:e})});Y5.displayName=K5;function Cie(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Tie(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Rie(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Pie(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,c=e[o].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(i=!i)}return i}function Iie(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Bie(e)}function Bie(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Die=j5,Lie=$5,kie=J5,Fie=Y5;function Oie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yn(t,e){if(t==null)return{};var n=Oie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let jn;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(jn||(jn={}));const Nie={[jn.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[jn.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[jn.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[jn.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[jn.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[jn.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[jn.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[jn.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[jn.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[jn.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[jn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Q5(t,e,...n){const[r,...i]=Nie[e](...n);console[t]("LEVA: "+r,...i)}const xa=Q5.bind(null,"warn"),Uie=Q5.bind(null,"log"),zie=["value"],Gie=["schema"],Hie=["value"],Z5=[],Bc={};function qB(t){let{value:e}=t,n=yn(t,zie);for(let r of Z5){const i=r(e,n);if(i)return i}}function Ja(t,e){let{schema:n}=e,r=yn(e,Gie);if(t in Bc){xa(jn.ALREADY_REGISTERED_TYPE,t);return}Z5.push((i,s)=>n(i,s)&&t),Bc[t]=r}function BS(t,e,n,r){const{normalize:i}=Bc[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=yn(e,Hie);return{value:s,settings:o}}function Vie(t,e,n,r,i,s){const{sanitize:o}=Bc[t];return o?o(e,n,r,i,s):e}function eD(t,e,n){const{format:r}=Bc[t];return r?r(e,n):e}function Wie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Zl=(t,e,n)=>t>n?n:t<e?e:t,jie=t=>{if(t===""||typeof t=="number")return t;try{const e=hl(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},$ie=Math.log(10);function nD(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/$ie)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const y1=(t,e,n)=>n===e?0:(Zl(t,e,n)-e)/(n-e),x1=(t,e,n)=>t*(n-e)+e,Jie=()=>"_"+Math.random().toString(36).substr(2,9),rD=/\(([0-9+\-*/^ .]+)\)/,iD=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,sD=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,oD=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,aD=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,lD=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function hl(t){if(isNaN(Number(t)))if(rD.test(t)){const e=t.replace(rD,(n,r)=>String(hl(r)));return hl(e)}else if(iD.test(t)){const e=t.replace(iD,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return hl(e)}else if(sD.test(t)){const e=t.replace(sD,(n,r,i)=>String(Number(r)*Number(i)));return hl(e)}else if(oD.test(t)){const e=t.replace(oD,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return hl(e)}else if(aD.test(t)){const e=t.replace(aD,(n,r,i)=>String(Number(r)+Number(i)));return hl(e)}else if(lD.test(t)){const e=t.replace(lD,(n,r,i)=>String(Number(r)-Number(i)));return hl(e)}else return Number(t);return Number(t)}function Xie(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function Kie(t,e){const n=It({},t);return e.forEach(r=>r in t&&delete n[r]),n}function Yie(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function q5(t){return Object.prototype.toString.call(t)==="[object Object]"}const Qie=t=>q5(t)&&Object.keys(t).length===0;let uo;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(uo||(uo={}));let go;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(go||(go={}));const Zie=["type","__customInput"],qie=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],ese=["type"];function ez(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:It({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:M,__customInput:C}=t,T=yn(t,Zie);return ez(C,e,T,M)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:f,onChange:d,onEditStart:m,onEditEnd:g,transient:v}=t,y=yn(t,qie),x=It({render:o,key:e,label:a??e,hint:f,transient:v??!!d,onEditStart:m,onEditEnd:g,disabled:c,optional:l,order:u},n);let{type:_}=y,w=yn(y,ese);if(_=r??_,_ in uo)return{type:_,input:w,options:x};let A;return r&&q5(w)&&"value"in w?A=w.value:A=Qie(w)?void 0:w,{type:_,input:A,options:It(It({},x),{},{onChange:d,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function tse(t,e,n,r){const i=ez(t,e),{type:s,input:o,options:a}=i;if(s)return s in uo?i:{type:s,input:BS(s,o,n,r),options:a};let l=qB(o);return l?{type:l,input:BS(l,o,n,r),options:a}:(l=qB({value:o}),l?{type:l,input:BS(l,{value:o},n,r),options:a}:!1)}function uD(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=tz({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const nse=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function tz({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Vie(t,o,n,e,i,s)}catch(l){throw new nse(`The value \`${r}\` did not result in a correct value.`,e,l)}return km(a,e)?e:a}const nz=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},rz=t=>t.shiftKey?5:t.altKey?1/5:1;function rse(t,e){const n=console.error;console.error=()=>{},AO.render(t,e),console.error=n}const ise=["value"],sse=["min","max"],ose=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},iz=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=Zl(i,e,n);return r?s+r:s},ase=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},sz=t=>{let{value:e}=t,n=yn(t,ise);const{min:r=-1/0,max:i=1/0}=n,s=yn(n,sse);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Zl(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?nD(l)*10:nD(o);l=l||u/10;const c=Math.round(Zl(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:It({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},oz=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var az=Object.freeze({__proto__:null,schema:ose,sanitize:iz,format:ase,normalize:sz,sanitizeStep:oz});function nr(){return nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nr.apply(this,arguments)}const lz=I.createContext({});function ci(){return I.useContext(lz)}const E2=I.createContext(null),uz=I.createContext(null),cz=I.createContext(null);function bg(){return I.useContext(uz)}function lse(){return I.useContext(cz)}const fz=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Uv(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const cp={$inputStyle:()=>t=>Uv(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>Uv(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>Uv(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>Uv(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Rt,css:Ume,createTheme:use,globalCss:cse,keyframes:zme}=Wne({prefix:"leva",theme:fz(),utils:It(It({},cp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":cp.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":cp.$focusStyle()(t)}),$hover:t=>({"&:hover":cp.$hoverStyle()(t)}),$active:t=>({"&:active":cp.$activeStyle()(t)})})}),fse=cse({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function dse(t){const e=fz();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=use(e);return{theme:e,className:n.className}}function Ta(t,e){const{theme:n}=I.useContext(E2);if(!(t in n)||!(e in n[t]))return xa(jn.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const dz=Rt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),hz=Rt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${dz}`]:{paddingLeft:0}}),hse=Rt(hz,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),pse=Rt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),mse=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],gse=["onUpdate"];function C2(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=t,c=yn(t,mse);const{id:f,emitOnEditStart:d,emitOnEditEnd:m,disabled:g}=ci(),v=a||f,y=I.useRef(null),x=u>0,_=x?"textarea":"input",w=I.useCallback(C=>T=>{const E=T.currentTarget.value;C(E)},[]);ae.useEffect(()=>{const C=y.current,T=w(E=>{r(E),m()});return C==null||C.addEventListener("blur",T),()=>C==null?void 0:C.removeEventListener("blur",T)},[w,r,m]);const A=I.useCallback(C=>{C.key==="Enter"&&w(r)(C)},[w,r]),M=Object.assign({as:_},x?{rows:u}:{},c);return ae.createElement(pse,{textArea:x},e&&typeof e=="string"?ae.createElement(hz,null,e):e,ae.createElement(dz,nr({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:w(i),onFocus:()=>d(),onKeyPress:A,onKeyDown:s,disabled:g},M)))}function vse(t){let{onUpdate:e}=t,n=yn(t,gse);const r=I.useCallback(s=>e(jie(s)),[e]),i=I.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ae.createElement(C2,nr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const _1=Rt("div",{}),fM=Rt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),yse=Rt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${fM}::after`]:{opacity:.6},[`${_1}:hover > & + ${fM}::after`]:{opacity:.6},[`${_1}:hover > & > svg`]:{opacity:1}}),pz=Rt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${_1}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),mz=Rt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${pz} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),gz=Rt(mz,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),xse=Rt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),_se=Rt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),dM=Rt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),wse=Rt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${dM}`]:{pointerEvents:"auto"}}}}}),vz=Rt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Sse=Rt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Ase=Rt(Fie,{fill:"$toolTipBackground"});function T2({children:t}){const{className:e}=I.useContext(E2);return ae.createElement(dne,{className:e},t)}const bse=["align"];function Mse(){const{id:t,disable:e,disabled:n}=ci();return ae.createElement(ae.Fragment,null,ae.createElement(_se,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),ae.createElement("label",{htmlFor:t+"__disable"}))}function Ese(t){const{id:e,optional:n,hint:r}=ci(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return ae.createElement(ae.Fragment,null,n&&ae.createElement(Mse,null),r!==void 0?ae.createElement(Die,null,ae.createElement(Lie,{asChild:!0},ae.createElement(dM,nr({},i,t))),ae.createElement(kie,{side:"top",sideOffset:2},ae.createElement(Sse,null,r,ae.createElement(Ase,null)))):ae.createElement(dM,nr({},i,s,t)))}function So(t){let{align:e}=t,n=yn(t,bse);const{value:r,label:i,key:s,disabled:o}=ci(),{hideCopyButton:a}=lse(),l=!a&&s!==void 0,[u,c]=I.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{xa(jn.CLIPBOARD_ERROR,{[s]:r})}};return ae.createElement(xse,{align:e,onPointerLeave:()=>c(!1)},ae.createElement(Ese,n),l&&!o&&ae.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ae.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ae.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ae.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Cse=["toggled"],Tse=Rt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function R2(t){let{toggled:e}=t,n=yn(t,Cse);return ae.createElement(Tse,nr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),ae.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Rse=["input"];function Vs(t){let{input:e}=t,n=yn(t,Rse);return e?ae.createElement(gz,n):ae.createElement(mz,n)}function yz({value:t,type:e,settings:n,setValue:r}){const[i,s]=I.useState(eD(e,t,n)),o=I.useRef(t),a=I.useRef(n);a.current=n;const l=I.useCallback(c=>s(eD(e,c,a.current)),[e]),u=I.useCallback(c=>{try{r(c)}catch(f){const{type:d,previousValue:m}=f;if(d!=="LEVA_ERROR")throw f;l(m)}},[l,r]);return I.useEffect(()=>{km(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:u}}function Mg(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=ci();return aZ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Pse(t){const e=I.useRef(null),n=I.useRef(null),r=I.useRef(!1);return I.useEffect(()=>{const i=nz(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),I.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function xz(){const t=I.useRef(null),e=I.useRef({x:0,y:0}),n=I.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const Ise=["__refCount"],DS=(t,e)=>{if(!t[e])return null;const n=t[e];return yn(n,Ise)};function Bse(t){const e=bg(),[n,r]=I.useState(DS(e.getData(),t)),i=I.useCallback(u=>e.setValueAtPath(t,u,!0),[t,e]),s=I.useCallback(u=>e.setSettingsAtPath(t,u),[t,e]),o=I.useCallback(u=>e.disableInputAtPath(t,u),[t,e]),a=I.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=I.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return I.useEffect(()=>{r(DS(e.getData(),t));const u=e.useStore.subscribe(c=>DS(c.data,t),r,{equalityFn:kx});return()=>u()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Dse=Rt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),_z=Rt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),hM=Rt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),wz=Rt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Sz=Rt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Lse({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=I.useRef(null),a=I.useRef(null),l=I.useRef(0),u=Ta("sizes","scrubberWidth"),c=Mg(({event:d,first:m,xy:[g],movement:[v],memo:y})=>{if(m){const{width:_,left:w}=o.current.getBoundingClientRect();l.current=_-parseFloat(u),y=(d==null?void 0:d.target)===a.current?t:x1((g-w)/_,e,n)}const x=y+x1(v/l.current,0,n-e);return r(oz(x,{step:i,initialValue:s})),y}),f=y1(t,e,n);return ae.createElement(wz,nr({ref:o},c()),ae.createElement(_z,null,ae.createElement(Sz,{style:{left:0,right:`${(1-f)*100}%`}})),ae.createElement(hM,{ref:a,style:{left:`calc(${f} * (100% - ${u}))`}}))}const kse=ae.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=I.useState(!1),o=Mg(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(f=>parseFloat(f)+Math.floor(c)*n*rz(u)),c=0),c));return ae.createElement(hse,nr({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function Az({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ae.createElement(kse,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return ae.createElement(vse,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function Fse(){const t=ci(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return ae.createElement(Vs,{input:!0},ae.createElement(So,null,e),ae.createElement(Dse,{hasRange:l},l&&ae.createElement(Lse,nr({value:parseFloat(n),onDrag:r},i)),ae.createElement(Az,nr({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Ose}=az,Nse=yn(az,["sanitizeStep"]);var Use=It({component:Fse},Nse);const zse=(t,e)=>ki().schema({options:ki().passesAnyOf(ki().object(),ki().array())}).test(e),Gse=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},Hse=(t,{values:e})=>e.indexOf(t),Vse=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Wse=Object.freeze({__proto__:null,schema:zse,sanitize:Gse,format:Hse,normalize:Vse});const jse=Rt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),pM=Rt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),$se=Rt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${pM}:focus + &`]:{$focusStyle:""},[`${pM}:hover + &`]:{$hoverStyle:""}});function Jse({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=I.useRef();return e===a[t]&&(l.current=o[t]),ae.createElement(jse,null,ae.createElement(pM,{id:r,value:t,onChange:u=>n(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>ae.createElement("option",{key:u,value:c},u))),ae.createElement($se,null,l.current),ae.createElement(R2,{toggled:!0}))}function Xse(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(Jse,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var Kse=It({component:Xse},Wse);const Yse=t=>ki().string().test(t),Qse=t=>{if(typeof t!="string")throw Error("Invalid string");return t},Zse=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var qse=Object.freeze({__proto__:null,schema:Yse,sanitize:Qse,normalize:Zse});const eoe=["displayValue","onUpdate","onChange","editable"],toe=Rt("div",{whiteSpace:"pre-wrap"});function noe(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=yn(t,eoe);return i?ae.createElement(C2,nr({value:e,onUpdate:n,onChange:r},s)):ae.createElement(toe,null,e)}function roe(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(noe,nr({displayValue:n,onUpdate:r,onChange:i},e)))}var ioe=It({component:roe},qse);const soe=t=>ki().boolean().test(t),ooe=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var aoe=Object.freeze({__proto__:null,schema:soe,sanitize:ooe});const loe=Rt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function uoe({value:t,onUpdate:e,id:n,disabled:r}){return ae.createElement(loe,null,ae.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),ae.createElement("label",{htmlFor:n},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ae.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function coe(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(uoe,{value:e,onUpdate:n,id:i,disabled:r}))}var foe=It({component:coe},aoe);const doe=["locked"];function hoe({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=I.useRef(t[n]);o.current=t[n];const a=I.useCallback(u=>i({[n]:tz({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,n]),l=yz({type:"NUMBER",value:t[n],settings:r,setValue:a});return ae.createElement(Az,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const poe=Rt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function moe(t){let{locked:e}=t,n=yn(t,doe);return ae.createElement("svg",nr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?ae.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ae.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function P2({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=ci(),{lock:o,locked:a}=n;return ae.createElement(poe,{withLock:o},o&&ae.createElement(moe,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,u)=>ae.createElement(hoe,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const bz=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=sz(It({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},goe=["lock"],voe=["value"];function yoe(t){const e=ki().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function xoe(t){return Array.isArray(t)?"array":"object"}function Wp(t,e,n){return xoe(t)===e?t:e==="array"?Object.values(t):Yie(t,n)}const _oe=(t,e,n)=>{const r=Wp(t,"object",e.keys);for(let o in r)r[o]=iz(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Wp(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*c}else s=It(It({},o),r)}return Wp(s,e.format,e.keys)},woe=(t,e)=>Wp(t,"object",e.keys),Soe=t=>!!t&&("step"in t||"min"in t||"max"in t);function Aoe(t,e,n=[]){const{lock:r=!1}=e,i=yn(e,goe),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=Wp(t,"object",o),l=Soe(i)?o.reduce((c,f)=>Object.assign(c,{[f]:i}),{}):i,u=bz(a,l);return{value:s==="array"?t:a,settings:It(It({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function Mz(t){return{schema:yoe(t.length),normalize:e=>{let{value:n}=e,r=yn(e,voe);return Aoe(n,r,t)},format:(e,n)=>woe(e,n),sanitize:(e,n,r)=>_oe(e,n,r)}}var boe={grad:.9,turn:360,rad:360/(2*Math.PI)},ca=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Lr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Fs=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Ez=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},cD=function(t){return{r:Fs(t.r,0,255),g:Fs(t.g,0,255),b:Fs(t.b,0,255),a:Fs(t.a)}},LS=function(t){return{r:Lr(t.r),g:Lr(t.g),b:Lr(t.b),a:Lr(t.a,3)}},Moe=/^#([0-9a-f]{3,8})$/i,zv=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Cz=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Tz=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},fD=function(t){return{h:Ez(t.h),s:Fs(t.s,0,100),l:Fs(t.l,0,100),a:Fs(t.a)}},dD=function(t){return{h:Lr(t.h),s:Lr(t.s),l:Lr(t.l),a:Lr(t.a,3)}},hD=function(t){return Tz((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},jp=function(t){return{h:(e=Cz(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Eoe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Coe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Toe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Roe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mM={string:[[function(t){var e=Moe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Lr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Lr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Toe.exec(t)||Roe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:cD({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Eoe.exec(t)||Coe.exec(t);if(!e)return null;var n,r,i=fD({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(boe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return hD(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return ca(e)&&ca(n)&&ca(r)?cD({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!ca(e)||!ca(n)||!ca(r))return null;var o=fD({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return hD(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!ca(e)||!ca(n)||!ca(r))return null;var o=function(a){return{h:Ez(a.h),s:Fs(a.s,0,100),v:Fs(a.v,0,100),a:Fs(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Tz(o)},"hsv"]]},pD=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},Rz=function(t){return typeof t=="string"?pD(t.trim(),mM.string):typeof t=="object"&&t!==null?pD(t,mM.object):[null,void 0]},Poe=function(t){return Rz(t)[1]},kS=function(t,e){var n=jp(t);return{h:n.h,s:Fs(n.s+100*e,0,100),l:n.l,a:n.a}},FS=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},mD=function(t,e){var n=jp(t);return{h:n.h,s:n.s,l:Fs(n.l+100*e,0,100),a:n.a}},gM=function(){function t(e){this.parsed=Rz(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Lr(FS(this.rgba),2)},t.prototype.isDark=function(){return FS(this.rgba)<.5},t.prototype.isLight=function(){return FS(this.rgba)>=.5},t.prototype.toHex=function(){return e=LS(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?zv(Lr(255*s)):"","#"+zv(n)+zv(r)+zv(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return LS(this.rgba)},t.prototype.toRgbString=function(){return e=LS(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return dD(jp(this.rgba))},t.prototype.toHslString=function(){return e=dD(jp(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=Cz(this.rgba),{h:Lr(e.h),s:Lr(e.s),v:Lr(e.v),a:Lr(e.a,3)};var e},t.prototype.invert=function(){return Si({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Si(kS(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Si(kS(this.rgba,-e))},t.prototype.grayscale=function(){return Si(kS(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Si(mD(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Si(mD(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Si({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Lr(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=jp(this.rgba);return typeof e=="number"?Si({h:e,s:n.s,l:n.l,a:n.a}):Lr(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Si(e).toHex()},t}(),Si=function(t){return t instanceof gM?t:new gM(t)},gD=[],Ioe=function(t){t.forEach(function(e){gD.indexOf(e)<0&&(e(gM,mM),gD.push(e))})};function Boe(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,d="black";if(!s.length)for(var m in n)s[m]=new t(n[m]).toRgb();for(var g in n){var v=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function sh(){return(sh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function I2(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function vM(t){var e=I.useRef(t),n=I.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Dd=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},$p=function(t){return"touches"in t},yM=function(t){return t&&t.ownerDocument.defaultView||self},vD=function(t,e,n){var r=t.getBoundingClientRect(),i=$p(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:Dd((i.pageX-(r.left+yM(t).pageXOffset))/r.width),top:Dd((i.pageY-(r.top+yM(t).pageYOffset))/r.height)}},yD=function(t){!$p(t)&&t.preventDefault()},B2=ae.memo(function(t){var e=t.onMove,n=t.onKey,r=I2(t,["onMove","onKey"]),i=I.useRef(null),s=vM(e),o=vM(n),a=I.useRef(null),l=I.useRef(!1),u=I.useMemo(function(){var m=function(y){yD(y),($p(y)?y.touches.length>0:y.buttons>0)&&i.current?s(vD(i.current,y,a.current)):v(!1)},g=function(){return v(!1)};function v(y){var x=l.current,_=yM(i.current),w=y?_.addEventListener:_.removeEventListener;w(x?"touchmove":"mousemove",m),w(x?"touchend":"mouseup",g)}return[function(y){var x=y.nativeEvent,_=i.current;if(_&&(yD(x),!function(A,M){return M&&!$p(A)}(x,l.current)&&_)){if($p(x)){l.current=!0;var w=x.changedTouches||[];w.length&&(a.current=w[0].identifier)}_.focus(),s(vD(_,x,a.current)),v(!0)}},function(y){var x=y.which||y.keyCode;x<37||x>40||(y.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},v]},[o,s]),c=u[0],f=u[1],d=u[2];return I.useEffect(function(){return d},[d]),ae.createElement("div",sh({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Eg=function(t){return t.filter(Boolean).join(" ")},D2=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=Eg(["react-colorful__pointer",t.className]);return ae.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},ae.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},bi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},Pz=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:bi(t.h),s:bi(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:bi(i/2),a:bi(r,2)}},xM=function(t){var e=Pz(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},OS=function(t){var e=Pz(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Iz=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:bi(255*[r,a,o,o,l,r][u]),g:bi(255*[l,r,r,a,o,o][u]),b:bi(255*[o,o,l,r,r,a][u]),a:bi(i,2)}},Bz=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:bi(60*(a<0?a+6:a)),s:bi(s?o/s*100:0),v:bi(s/255*100),a:i}},Dz=ae.memo(function(t){var e=t.hue,n=t.onChange,r=Eg(["react-colorful__hue",t.className]);return ae.createElement("div",{className:r},ae.createElement(B2,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Dd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":bi(e),"aria-valuemax":"360","aria-valuemin":"0"},ae.createElement(D2,{className:"react-colorful__hue-pointer",left:e/360,color:xM({h:e,s:100,v:100,a:1})})))}),Lz=ae.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:xM({h:e.h,s:100,v:100,a:1})};return ae.createElement("div",{className:"react-colorful__saturation",style:r},ae.createElement(B2,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Dd(e.s+100*i.left,0,100),v:Dd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+bi(e.s)+"%, Brightness "+bi(e.v)+"%"},ae.createElement(D2,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:xM(e)})))}),L2=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function kz(t,e,n){var r=vM(n),i=I.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=I.useRef({color:e,hsva:s});I.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),I.useEffect(function(){var u;L2(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,t,r]);var l=I.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var Doe=typeof window<"u"?I.useLayoutEffect:I.useEffect,Loe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},xD=new Map,Fz=function(t){Doe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!xD.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,xD.set(e,n);var r=Loe();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},koe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=I2(t,["className","colorModel","color","onChange"]),a=I.useRef(null);Fz(a);var l=kz(n,i,s),u=l[0],c=l[1],f=Eg(["react-colorful",e]);return ae.createElement("div",sh({},o,{ref:a,className:f}),ae.createElement(Lz,{hsva:u,onChange:c}),ae.createElement(Dz,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Foe=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+OS(Object.assign({},n,{a:0}))+", "+OS(Object.assign({},n,{a:1}))+")"},s=Eg(["react-colorful__alpha",e]),o=bi(100*n.a);return ae.createElement("div",{className:s},ae.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ae.createElement(B2,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Dd(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ae.createElement(D2,{className:"react-colorful__alpha-pointer",left:n.a,color:OS(n)})))},Ooe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=I2(t,["className","colorModel","color","onChange"]),a=I.useRef(null);Fz(a);var l=kz(n,i,s),u=l[0],c=l[1],f=Eg(["react-colorful",e]);return ae.createElement("div",sh({},o,{ref:a,className:f}),ae.createElement(Lz,{hsva:u,onChange:c}),ae.createElement(Dz,{hue:u.h,onChange:c}),ae.createElement(Foe,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},Noe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Bz,fromHsva:Iz,equal:L2},Uoe=function(t){return ae.createElement(Ooe,sh({},t,{colorModel:Noe}))},zoe={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return Bz({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=Iz(t)).r,g:e.g,b:e.b};var e},equal:L2},Goe=function(t){return ae.createElement(koe,sh({},t,{colorModel:zoe}))};function oh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function ah(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Hoe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Voe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hoe(arguments[e]));return t}var Woe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Cg(t,e){var n=joe(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function joe(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Woe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var $oe=[".DS_Store","Thumbs.db"];function Joe(t){return oh(this,void 0,void 0,function(){return ah(this,function(e){return w1(t)&&Xoe(t)?[2,Zoe(t.dataTransfer,t.type)]:Koe(t)?[2,Yoe(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Qoe(t)]:[2,[]]})})}function Xoe(t){return w1(t.dataTransfer)}function Koe(t){return w1(t)&&w1(t.target)}function w1(t){return typeof t=="object"&&t!==null}function Yoe(t){return _M(t.target.files).map(function(e){return Cg(e)})}function Qoe(t){return oh(this,void 0,void 0,function(){var e;return ah(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Cg(r)})]}})})}function Zoe(t,e){return oh(this,void 0,void 0,function(){var n,r;return ah(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=_M(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(qoe))]):[3,2];case 1:return r=i.sent(),[2,_D(Oz(r))];case 2:return[2,_D(_M(t.files).map(function(s){return Cg(s)}))]}})})}function _D(t){return t.filter(function(e){return $oe.indexOf(e.name)===-1})}function _M(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function qoe(t){if(typeof t.webkitGetAsEntry!="function")return wD(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Nz(e):wD(t)}function Oz(t){return t.reduce(function(e,n){return Voe(e,Array.isArray(n)?Oz(n):[n])},[])}function wD(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Cg(e);return Promise.resolve(n)}function eae(t){return oh(this,void 0,void 0,function(){return ah(this,function(e){return[2,t.isDirectory?Nz(t):tae(t)]})})}function Nz(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return oh(o,void 0,void 0,function(){var l,u,c;return ah(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(eae)),i.push(c),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function tae(t){return oh(this,void 0,void 0,function(){return ah(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=Cg(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var nae=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Uz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bD(t,e){return oae(t)||sae(t,e)||iae(t,e)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iae(t,e){if(t){if(typeof t=="string")return MD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MD(t,e)}}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function oae(t){if(Array.isArray(t))return t}var aae="file-invalid-type",lae="file-too-large",uae="file-too-small",cae="too-many-files",fae=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:aae,message:"File type must be ".concat(n)}},ED=function(e){return{code:lae,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},CD=function(e){return{code:uae,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},dae={code:cae,message:"Too many files"};function zz(t,e){var n=t.type==="application/x-moz-file"||nae(t,e);return[n,n?null:fae(e)]}function Gz(t,e,n){if(fp(t.size))if(fp(e)&&fp(n)){if(t.size>n)return[!1,ED(n)];if(t.size<e)return[!1,CD(e)]}else{if(fp(e)&&t.size<e)return[!1,CD(e)];if(fp(n)&&t.size>n)return[!1,ED(n)]}return[!0,null]}function fp(t){return t!=null}function hae(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=zz(a,n),u=bD(l,1),c=u[0],f=Gz(a,r,i),d=bD(f,1),m=d[0];return c&&m})}function S1(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Gv(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function TD(t){t.preventDefault()}function pae(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function mae(t){return t.indexOf("Edge/")!==-1}function gae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return pae(t)||mae(t)}function Po(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!S1(r)&&a&&a.apply(void 0,[r].concat(s)),S1(r)})}}function vae(){return"showOpenFilePicker"in window}function yae(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return AD(AD({},e),{},Uz({},n,[]))},{}):{}}]}function xae(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function _ae(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var wae=["children"],Sae=["open"],Aae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bae=["refKey","onChange","onClick"];function Mae(t){return Tae(t)||Cae(t)||Hz(t)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tae(t){if(Array.isArray(t))return wM(t)}function NS(t,e){return Iae(t)||Pae(t,e)||Hz(t,e)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return wM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Iae(t){if(Array.isArray(t))return t}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){SM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1(t,e){if(t==null)return{};var n=Bae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var k2=I.forwardRef(function(t,e){var n=t.children,r=A1(t,wae),i=Wz(r),s=i.open,o=A1(i,Sae);return I.useImperativeHandle(e,function(){return{open:s}},[s]),ae.createElement(I.Fragment,null,n(Vn(Vn({},o),{},{open:s})))});k2.displayName="Dropzone";var Vz={disabled:!1,getFilesFromEvent:Joe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};k2.defaultProps=Vz;k2.propTypes={children:An.func,accept:An.oneOfType([An.string,An.arrayOf(An.string)]),multiple:An.bool,preventDropOnDocument:An.bool,noClick:An.bool,noKeyboard:An.bool,noDrag:An.bool,noDragEventsBubbling:An.bool,minSize:An.number,maxSize:An.number,maxFiles:An.number,disabled:An.bool,getFilesFromEvent:An.func,onFileDialogCancel:An.func,onFileDialogOpen:An.func,useFsAccessApi:An.bool,onDragEnter:An.func,onDragLeave:An.func,onDragOver:An.func,onDrop:An.func,onDropAccepted:An.func,onDropRejected:An.func,validator:An.func};var AM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Wz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Vn(Vn({},Vz),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,d=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,w=e.noClick,A=e.noKeyboard,M=e.noDrag,C=e.noDragEventsBubbling,T=e.validator,E=I.useMemo(function(){return typeof y=="function"?y:PD},[y]),P=I.useMemo(function(){return typeof v=="function"?v:PD},[v]),B=I.useRef(null),N=I.useRef(null),F=I.useReducer(Dae,AM),U=NS(F,2),O=U[0],J=U[1],$=O.isFocused,ie=O.isFileDialogActive,H=O.draggedFiles,j=I.useRef(typeof window<"u"&&window.isSecureContext&&x&&vae()),W=function(){!j.current&&ie&&setTimeout(function(){if(N.current){var re=N.current.files;re.length||(J({type:"closeDialog"}),P())}},300)};I.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[N,ie,P,j]);var G=I.useRef([]),z=function(re){B.current&&B.current.contains(re.target)||(re.preventDefault(),G.current=[])};I.useEffect(function(){return _&&(document.addEventListener("dragover",TD,!1),document.addEventListener("drop",z,!1)),function(){_&&(document.removeEventListener("dragover",TD),document.removeEventListener("drop",z))}},[B,_]);var X=I.useCallback(function(k){k.preventDefault(),k.persist(),Ie(k),G.current=[].concat(Mae(G.current),[k.target]),Gv(k)&&Promise.resolve(i(k)).then(function(re){S1(k)&&!C||(J({draggedFiles:re,isDragActive:!0,type:"setDraggedFiles"}),u&&u(k))})},[i,u,C]),ne=I.useCallback(function(k){k.preventDefault(),k.persist(),Ie(k);var re=Gv(k);if(re&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return re&&f&&f(k),!1},[f,C]),ee=I.useCallback(function(k){k.preventDefault(),k.persist(),Ie(k);var re=G.current.filter(function(Le){return B.current&&B.current.contains(Le)}),pe=re.indexOf(k.target);pe!==-1&&re.splice(pe,1),G.current=re,!(re.length>0)&&(J({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Gv(k)&&c&&c(k))},[B,c,C]),Y=I.useCallback(function(k,re){var pe=[],Le=[];k.forEach(function(Me){var Je=zz(Me,n),ke=NS(Je,2),be=ke[0],Ze=ke[1],rt=Gz(Me,o,s),$e=NS(rt,2),We=$e[0],Ve=$e[1],at=T?T(Me):null;if(be&&We&&!at)pe.push(Me);else{var pt=[Ze,Ve];at&&(pt=pt.concat(at)),Le.push({file:Me,errors:pt.filter(function(bt){return bt})})}}),(!a&&pe.length>1||a&&l>=1&&pe.length>l)&&(pe.forEach(function(Me){Le.push({file:Me,errors:[dae]})}),pe.splice(0)),J({acceptedFiles:pe,fileRejections:Le,type:"setFiles"}),d&&d(pe,Le,re),Le.length>0&&g&&g(Le,re),pe.length>0&&m&&m(pe,re)},[J,a,n,o,s,l,d,m,g,T]),ue=I.useCallback(function(k){k.preventDefault(),k.persist(),Ie(k),G.current=[],Gv(k)&&Promise.resolve(i(k)).then(function(re){S1(k)&&!C||Y(re,k)}),J({type:"reset"})},[i,Y,C]),ce=I.useCallback(function(){if(j.current){J({type:"openDialog"}),E();var k={multiple:a,types:yae(n)};window.showOpenFilePicker(k).then(function(re){return i(re)}).then(function(re){Y(re,null),J({type:"closeDialog"})}).catch(function(re){xae(re)?(P(re),J({type:"closeDialog"})):_ae(re)&&(j.current=!1,N.current&&(N.current.value=null,N.current.click()))});return}N.current&&(J({type:"openDialog"}),E(),N.current.value=null,N.current.click())},[J,E,P,x,Y,n,a]),Te=I.useCallback(function(k){!B.current||!B.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),ce())},[B,ce]),we=I.useCallback(function(){J({type:"focus"})},[]),ve=I.useCallback(function(){J({type:"blur"})},[]),oe=I.useCallback(function(){w||(gae()?setTimeout(ce,0):ce())},[w,ce]),fe=function(re){return r?null:re},Re=function(re){return A?null:fe(re)},Ge=function(re){return M?null:fe(re)},Ie=function(re){C&&re.stopPropagation()},Xe=I.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=k.refKey,pe=re===void 0?"ref":re,Le=k.role,Me=k.onKeyDown,Je=k.onFocus,ke=k.onBlur,be=k.onClick,Ze=k.onDragEnter,rt=k.onDragOver,$e=k.onDragLeave,We=k.onDrop,Ve=A1(k,Aae);return Vn(Vn(SM({onKeyDown:Re(Po(Me,Te)),onFocus:Re(Po(Je,we)),onBlur:Re(Po(ke,ve)),onClick:fe(Po(be,oe)),onDragEnter:Ge(Po(Ze,X)),onDragOver:Ge(Po(rt,ne)),onDragLeave:Ge(Po($e,ee)),onDrop:Ge(Po(We,ue)),role:typeof Le=="string"&&Le!==""?Le:"button"},pe,B),!r&&!A?{tabIndex:0}:{}),Ve)}},[B,Te,we,ve,oe,X,ne,ee,ue,A,M,r]),Pe=I.useCallback(function(k){k.stopPropagation()},[]),ze=I.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=k.refKey,pe=re===void 0?"ref":re,Le=k.onChange,Me=k.onClick,Je=A1(k,bae),ke=SM({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:fe(Po(Le,ue)),onClick:fe(Po(Me,Pe)),tabIndex:-1},pe,N);return Vn(Vn({},ke),Je)}},[N,n,a,ue,r]),Ye=H.length,Ee=Ye>0&&hae({files:H,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),K=Ye>0&&!Ee;return Vn(Vn({},O),{},{isDragAccept:Ee,isDragReject:K,isFocused:$&&!r,getRootProps:Xe,getInputProps:ze,rootRef:B,inputRef:N,open:fe(ce)})}function Dae(t,e){switch(e.type){case"focus":return Vn(Vn({},t),{},{isFocused:!0});case"blur":return Vn(Vn({},t),{},{isFocused:!1});case"openDialog":return Vn(Vn({},AM),{},{isFileDialogActive:!0});case"closeDialog":return Vn(Vn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return Vn(Vn({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Vn(Vn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Vn({},AM);default:return t}}function PD(){}function Lae(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const g=c(e);if(!f(d,g)){const v=d;u(d=g,v)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const kae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ID=kae?I.useEffect:I.useLayoutEffect;function Fae(t){const e=typeof t=="function"?Lae(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=I.useReducer(y=>y+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(r),u=I.useRef(i),c=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),m=!i(f.current,d)),ID(()=>{m&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const g=I.useRef(o);ID(()=>{const y=()=>{try{const _=e.getState(),w=l.current(_);u.current(f.current,w)||(a.current=_,f.current=w,s())}catch{c.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?d:f.current;return I.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Oae=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=d=>{const m=o(d);if(!c(f,m)){const g=f;a(f=m,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Nae=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Uae=Nae;function BD(t){return Uae(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var jz=function(e){var n,r;return!(BD(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,BD(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zae=jz,F2=function(e){return zae(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Gae=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},Hae=F2,Vae=Gae;function $z(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];bM(i)&&Vae(i,Wae,t)}return t}function Wae(t,e){if(jae(e)){var n=this[e];bM(t)&&bM(n)?$z(n,t):this[e]=t}}function bM(t){return Hae(t)&&!Array.isArray(t)}function jae(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var $ae=$z;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Jae=function(t,e,n,r,i){if(!Xae(t)||!e)return t;if(e=Hv(e),n&&(e+="."+Hv(n)),r&&(e+="."+Hv(r)),i&&(e+="."+Hv(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function Xae(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Hv(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Kae=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];n.call(o,u)&&(r[u]=o[u])}return r},Yae=F2,Qae=Kae,Zae=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");DD(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];ele(n)&&(n=tle(n)),DD(n)&&(qae(t,n),Qae(t,n))}return t};function qae(t,e){for(var n in e)nle(e,n)&&(t[n]=e[n])}function ele(t){return t&&typeof t=="string"}function tle(t){var e={};for(var n in t)e[n]=t[n];return e}function DD(t){return t&&typeof t=="object"||Yae(t)}function nle(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var rle=Zae,ile=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=rle({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=t.length,f=-1,d;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<c;){var g=t[f],v=t[f+1],y={val:g,idx:f,arr:l,str:t};if(o.push(y),g==="\\"){y.val=ole(r,t,f)===!0?g+v:v,y.escaped=!0,typeof n=="function"&&n(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var x=m(),_=f+1;if(t.indexOf(x,_+1)!==-1)for(;a.length&&_<c;){var w=t[++_];if(w==="\\"){w++;continue}if(i.indexOf(w)!==-1){_=MM(t,w,_+1);continue}if(x=m(),a.length&&t.indexOf(x,_+1)===-1)break;if(s[w]){a.push(w);continue}x===w&&a.pop()}if(d=_,d===-1){l[l.length-1]+=g;continue}g=t.slice(f,d+1),y.val=g,y.idx=f=d}if(i.indexOf(g)!==-1){if(d=MM(t,g,f+1),d===-1){l[l.length-1]+=g;continue}sle(g,r)===!0?g=t.slice(f,d+1):g=t.slice(f+1,d),y.val=g,y.idx=f=d}if(typeof n=="function"&&(n(y,o),g=y.val,f=y.idx),y.val===u&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function MM(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?MM(t,e,i+1):i}function sle(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function ole(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var ale=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},LD=ale,lle=function(e){LD(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];LD(i)&&ule(e,i)}return e};function ule(t,e){for(var n in e)cle(e,n)&&(t[n]=e[n])}function cle(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var fle=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dle=ile,hle=lle,kD=jz,FD=fle,ple=function(t,e,n){if(!FD(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=dle(e,{sep:".",brackets:!0}).filter(mle),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){FD(o[a])||(o[a]={}),o=o[a];continue}kD(o[a])&&kD(n)?o[a]=hle({},o[a],n):o[a]=n}return t};function mle(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var US=F2,OD=$ae,gle=Jae,ND=ple,vle=function(e,n,r){if(!US(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return OD.apply(null,arguments);if(typeof r=="string")return ND(e,n,r),e;var i=gle(e,n);return US(r)&&US(i)&&(r=OD({},i,r)),ND(e,n,r),e};const yle=Gd(vle),O2=(...t)=>t.filter(Boolean).join(".");function xle(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function _le(t,e){return Object.entries(Xie(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function wle(t,e){const n=I.useRef();return km(t,n.current)||(n.current=t),n.current}function Jz(t,e){return I.useMemo(t,wle(e))}function Sle(t){const e=I.useRef(null),n=I.useRef(null),r=I.useRef(!0);return I.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),I.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const Ale=t=>{const[e,n]=I.useState(t.getVisiblePaths());return I.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:kx});return()=>r()},[t]),e};function ble(t,e,n){return t.useStore(i=>{const s=It(It({},n),i.data);return _le(s,e)},kx)}function Xz(t=3){const e=I.useRef(null),n=I.useRef(null),[r,i]=I.useState(!1),s=I.useCallback(()=>i(!0),[]),o=I.useCallback(()=>i(!1),[]);return I.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=n.current.getBoundingClientRect(),f=a+c>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}Ioe([Boe]);const Mle={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ki.extend({color:()=>t=>Si(t).isValid()});const Ele=t=>ki().color().test(t);function Kz(t,{format:e,hasAlpha:n,isString:r}){const i=Mle[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?Kie(s,["a"]):s}const Yz=(t,e)=>{const n=Si(t);if(!n.isValid())throw Error("Invalid color");return Kz(n,e)},Cle=(t,e)=>Kz(Si(t),It(It({},e),{},{isString:!0,format:"hex"})),Tle=({value:t})=>{const e=Poe(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:Yz(t,i),settings:i}};var Rle=Object.freeze({__proto__:null,schema:Ele,sanitize:Yz,format:Cle,normalize:Tle});const Ple=Rt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ile=Rt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Ble=Rt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function UD(t,e){return e!=="rgb"?Si(t).toRgb():t}function Dle({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ci(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:u,shown:c,show:f,hide:d}=Xz(),m=I.useRef(0),[g,v]=I.useState(()=>UD(t,o)),y=a?Uoe:Goe,x=()=>{v(UD(t,o)),f(),i()},_=()=>{d(),s(),window.clearTimeout(m.current)},w=()=>{m.current=window.setTimeout(_,500)};return I.useEffect(()=>()=>window.clearTimeout(m.current),[]),ae.createElement(ae.Fragment,null,ae.createElement(Ple,{ref:l,active:c,onClick:()=>x(),style:{color:e}}),c&&ae.createElement(T2,null,ae.createElement(vz,{onPointerUp:_}),ae.createElement(Ble,{ref:u,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:A=>A.buttons===0&&w()},ae.createElement(y,{color:g,onChange:r}))))}function Lle(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,n),ae.createElement(Ile,null,ae.createElement(Dle,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),ae.createElement(C2,{value:e,onChange:r,onUpdate:i})))}var kle=It({component:Lle},Rle);function Fle(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(P2,{value:e,settings:r,onUpdate:n}))}var Ole=It({component:Fle},Mz(["x","y","z"]));const Nle=Rt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Ule=Rt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function zle({value:t,settings:e,onUpdate:n}){const r=I.useRef(),i=I.useRef(0),s=I.useRef(0),o=I.useRef(1),[a,l]=I.useState(!1),[u,c]=I.useState(!1),[f,d]=xz(),m=I.useRef(null),g=I.useRef(null);I.useLayoutEffect(()=>{if(a){const{top:F,left:U,width:O,height:J}=m.current.getBoundingClientRect();g.current.style.left=U+O/2+"px",g.current.style.top=F+J/2+"px"}},[a]);const{keys:[v,y],joystick:x}=e,_=x==="invertY"?1:-1,{[v]:{step:w},[y]:{step:A}}=e,M=Ta("sizes","joystickWidth"),C=Ta("sizes","joystickHeight"),T=parseFloat(M)*.8/2,E=parseFloat(C)*.8/2,P=I.useCallback(()=>{r.current||(c(!0),i.current&&d({x:i.current*T}),s.current&&d({y:s.current*-E}),r.current=window.setInterval(()=>{n(F=>{const U=w*i.current*o.current,O=_*A*s.current*o.current;return Array.isArray(F)?{[v]:F[0]+U,[y]:F[1]+O}:{[v]:F[v]+U,[y]:F[y]+O}})},16))},[T,E,n,d,w,A,v,y,_]),B=I.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);I.useEffect(()=>{function F(U){o.current=rz(U)}return window.addEventListener("keydown",F),window.addEventListener("keyup",F),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",F),window.removeEventListener("keyup",F)}},[]);const N=Mg(({first:F,active:U,delta:[O,J],movement:[$,ie]})=>{F&&l(!0);const H=Zl($,-T,T),j=Zl(ie,-E,E);i.current=Math.abs($)>Math.abs(H)?Math.sign($-H):0,s.current=Math.abs(ie)>Math.abs(j)?Math.sign(j-ie):0;let W=t[v],G=t[y];U?(i.current||(W+=O*w*o.current,d({x:H})),s.current||(G-=_*J*A*o.current,d({y:j})),i.current||s.current?P():B(),n({[v]:W,[y]:G})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),B())});return ae.createElement(Nle,nr({ref:m},N()),a&&ae.createElement(T2,null,ae.createElement(Ule,{ref:g,isOutOfBounds:u},ae.createElement("div",null),ae.createElement("span",{ref:f}))))}const Gle=Rt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Hle(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ci();return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(Gle,{withJoystick:!!r.joystick},r.joystick&&ae.createElement(zle,{value:e,settings:r,onUpdate:n}),ae.createElement(P2,{value:e,settings:r,onUpdate:n})))}const Vle=["joystick"],Qz=Mz(["x","y"]),Wle=t=>{let{joystick:e=!0}=t,n=yn(t,Vle);const{value:r,settings:i}=Qz.normalize(n);return{value:r,settings:It(It({},i),{},{joystick:e})}};var jle=It(It({component:Hle},Qz),{},{normalize:Wle});const $le=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},Jle=(t,e)=>typeof e=="object"&&"image"in e,Xle=({image:t})=>({value:t});var Kle=Object.freeze({__proto__:null,sanitize:$le,schema:Jle,normalize:Xle});const Yle=Rt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Qle=Rt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Zle=Rt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),qle=Rt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),eue=Rt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),tue=Rt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function nue(){const{label:t,value:e,onUpdate:n,disabled:r}=ci(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=Xz(),u=I.useCallback(g=>{g.length&&n(g[0])},[n]),c=I.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:d,isDragAccept:m}=Wz({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(Yle,null,ae.createElement(Zle,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ae.createElement(T2,null,ae.createElement(vz,{onPointerUp:l,style:{cursor:"pointer"}}),ae.createElement(qle,{ref:s,style:{backgroundImage:`url(${e})`}})),ae.createElement(Qle,f({isDragAccept:m}),ae.createElement("input",d()),ae.createElement(eue,null,m?"drop image":"click or drop")),ae.createElement(tue,{onClick:c,disabled:!e})))}var rue=It({component:nue},Kle);const zD=ki().number(),iue=(t,e)=>ki().array().length(2).every.number().test(t)&&ki().schema({min:zD,max:zD}).test(e),b1=t=>({min:t[0],max:t[1]}),Zz=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?b1(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=It(It({},s),i);return[Zl(Number(o),e,Math.max(e,a)),Zl(Number(a),Math.min(n,o),n)]},sue=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=bz(b1(t),{min:r,max:r}),s=[e,n],o=It(It({},i),{},{bounds:s});return{value:Zz(b1(t),o,t),settings:o}};var oue=Object.freeze({__proto__:null,schema:iue,format:b1,sanitize:Zz,normalize:sue});const aue=["value","bounds","onDrag"],lue=["bounds"],uue=Rt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function cue(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=yn(t,aue);const o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),u=I.useRef(0),c=Ta("sizes","scrubberWidth"),f=Mg(({event:g,first:v,xy:[y],movement:[x],memo:_={}})=>{if(v){const{width:A,left:M}=o.current.getBoundingClientRect();u.current=A-parseFloat(c);const C=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=x1((y-M)/A,n,r);const T=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=T<0||T===0&&_.pos<=e.min?"min":"max",C&&(_.pos=e[_.key])}const w=_.pos+x1(x/u.current,0,r-n);return i({[_.key]:Ose(w,s[_.key])}),_}),d=`calc(${y1(e.min,n,r)} * (100% - ${c} - 8px) + 4px)`,m=`calc(${1-y1(e.max,n,r)} * (100% - ${c} - 8px) + 4px)`;return ae.createElement(wz,nr({ref:o},f()),ae.createElement(_z,null,ae.createElement(Sz,{style:{left:d,right:m}})),ae.createElement(hM,{position:"left",ref:a,style:{left:d}}),ae.createElement(hM,{position:"right",ref:l,style:{right:m}}))}function fue(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ci(),i=yn(r,lue);return ae.createElement(ae.Fragment,null,ae.createElement(Vs,{input:!0},ae.createElement(So,null,t),ae.createElement(uue,null,ae.createElement(cue,nr({value:e},r,{onDrag:n})),ae.createElement(P2,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var due=It({component:fue},oue);const hue=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},pue=["type","value"],mue=["onChange","transient","onEditStart","onEditEnd"],gue=function(){const e=Fae(Oae(()=>({data:{}}))),n=hue();this.storeId=Jie(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,f])=>{f.render&&a.some(d=>d.indexOf(c)===0)&&!f.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(f=>c.indexOf(f)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in uo&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{let d=u[c];if(d){const{type:m,value:g}=f,v=yn(f,pue);m!==d.type?xa(jn.INPUT_TYPE_OVERRIDE,m):((d.__refCount===0||a)&&Object.assign(d,v),d.__refCount++)}else u[c]=It(It({},f),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return uD(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=It(It({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{try{uD(u[c],f,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{xa(jn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,It(It({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,It(It({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,f])=>{if(c==="")return xa(jn.EMPTY_KEY);let d=O2(a,c);if(f.type===uo.FOLDER){const m=s(f.schema,d,l);Object.assign(u,m),d in r||(r[d]=f.settings)}else if(c in l)xa(jn.DUPLICATE_KEYS,c,d,l[c].path);else{const m=tse(f,c,d,u);if(m){const{type:g,options:v,input:y}=m,{onChange:x,transient:_,onEditStart:w,onEditEnd:A}=v,M=yn(v,mue);u[d]=It(It(It({type:g},M),y),{},{fromPanel:!0}),l[c]={path:d,onChange:x,transient:_,onEditStart:w,onEditEnd:A}}else xa(jn.UNKNOWN_INPUT,d,f)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},qz=new gue,vue={collapsed:!1};function yue(t,e){return{type:uo.FOLDER,schema:t,settings:It(It({},vue),e)}}const GD=t=>"__levaInput"in t,xue=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=xle(i);(!r||s.toLowerCase().indexOf(r)>-1)&&yle(n,o,{[s]:{__levaInput:!0,path:i}})}),n},_ue=["type","label","path","valueKey","value","settings","setValue","disabled"];function wue(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,u=yn(t,_ue);const{displayValue:c,onChange:f,onUpdate:d}=yz({type:e,value:s,settings:o,setValue:a}),m=Bc[e].component;return m?ae.createElement(lz.Provider,{value:It({key:i,path:r,id:""+r,label:n,displayValue:c,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},u)},ae.createElement(wse,{disabled:l},ae.createElement(m,null))):(xa(jn.NO_COMPONENT_FOR_TYPE,e,r),null)}const Sue=Rt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Aue({onClick:t,settings:e,label:n}){const r=bg();return ae.createElement(Vs,null,ae.createElement(Sue,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const bue=Rt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Mue=Rt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Eue=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Cue(t){const{label:e,opts:n}=Eue(t),r=bg();return ae.createElement(Vs,{input:!!e},e&&ae.createElement(So,null,e),ae.createElement(bue,null,Object.entries(n).map(([i,s])=>ae.createElement(Mue,{key:i,onClick:()=>s(r.get)},i))))}const Tue=Rt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),eG=100;function Rue(t,e){t.push(e),t.length>eG&&t.shift()}const Pue=I.forwardRef(function({initialValue:t},e){const n=Ta("colors","highlight3"),r=Ta("colors","elevation2"),i=Ta("colors","highlight1"),[s,o]=I.useMemo(()=>[Si(i).alpha(.4).toRgbString(),Si(i).alpha(.1).toRgbString()],[i]),a=I.useRef([t]),l=I.useRef(t),u=I.useRef(t),c=I.useRef(),f=I.useCallback((g,v)=>{if(!g)return;const{width:y,height:x}=g,_=new Path2D,w=y/eG,A=x*.05;for(let T=0;T<a.current.length;T++){const E=y1(a.current[T],l.current,u.current),P=w*T,B=x-E*(x-A*2)-A;_.lineTo(P,B)}v.clearRect(0,0,y,x);const M=new Path2D(_);M.lineTo(w*(a.current.length+1),x),M.lineTo(0,x),M.lineTo(0,0);const C=v.createLinearGradient(0,0,0,x);C.addColorStop(0,s),C.addColorStop(1,o),v.fillStyle=C,v.fill(M),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(_),v.strokeStyle=n,v.lineWidth=2,v.stroke(_)},[n,r,s,o]),[d,m]=Pse(f);return I.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),Rue(a.current,g),c.current=requestAnimationFrame(()=>f(d.current,m.current))}}),[d,m,f]),I.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),ae.createElement(Tue,{ref:d})}),HD=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),Iue=I.forwardRef(function({initialValue:t},e){const[n,r]=I.useState(HD(t));return I.useImperativeHandle(e,()=>({frame:i=>r(HD(i))}),[]),ae.createElement("div",null,n)});function VD(t){return typeof t=="function"?t():t.current}function Bue({label:t,objectOrFn:e,settings:n}){const r=I.useRef(),i=I.useRef(VD(e));return I.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(VD(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),ae.createElement(Vs,{input:!0},ae.createElement(So,{align:"top"},t),n.graph?ae.createElement(Pue,{ref:r,initialValue:i.current}):ae.createElement(Iue,{ref:r,initialValue:i.current}))}const Due=["type","label","key"],Lue={[uo.BUTTON]:Aue,[uo.BUTTON_GROUP]:Cue,[uo.MONITOR]:Bue},kue=ae.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Bse(t);if(!e)return null;const{type:l,label:u,key:c}=e,f=yn(e,Due);if(l in uo){const d=Lue[l];return ae.createElement(d,nr({label:u,path:t},f))}return l in Bc?ae.createElement(wue,nr({key:s+t,type:l,label:u,storeId:s,path:t,valueKey:c,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Uie(jn.UNSUPPORTED_INPUT,l,t),null)});function Fue({toggle:t,toggled:e,name:n}){return ae.createElement(yse,{onClick:()=>t()},ae.createElement(R2,{toggled:e}),ae.createElement("div",null,n))}const Oue=({name:t,path:e,tree:n})=>{const r=bg(),i=O2(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=I.useState(!s),u=I.useRef(null),c=Ta("colors","folderWidgetColor"),f=Ta("colors","folderTextColor");return I.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,c,f]),ae.createElement(_1,{ref:u},ae.createElement(Fue,{name:t,toggled:a,toggle:()=>l(d=>!d)}),ae.createElement(tG,{parent:i,tree:n,toggled:a}))},tG=ae.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Sle(s),l=bg(),u=([f,d])=>{var m;return(GD(d)?(m=l.getInput(d.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(O2(r,f)).order)||0},c=Object.entries(i).sort((f,d)=>u(f)-u(d));return ae.createElement(fM,{ref:o,isRoot:t,fill:e,flat:n},ae.createElement(pz,{ref:a,isRoot:t,toggled:s},c.map(([f,d])=>GD(d)?ae.createElement(kue,{key:d.path,valueKey:d.valueKey,path:d.path}):ae.createElement(Oue,{key:f,name:f,path:r,tree:d}))))}),Nue=Rt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${gz}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),nG=40,M1=Rt("i",{$flexCenter:"",width:nG,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Uue=Rt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),zue=Rt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${M1}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Gue=Rt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Hue=Rt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:nG}}}}),Vue=ae.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=I.useState(""),s=I.useMemo(()=>nz(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return I.useEffect(()=>{s(r)},[r,s]),ae.createElement(ae.Fragment,null,ae.createElement(Gue,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ae.createElement(M1,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Wue({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,f]=I.useState(!1),d=I.useRef(null);I.useEffect(()=>{var g,v;c?(g=d.current)===null||g===void 0||g.focus():(v=d.current)===null||v===void 0||v.blur()},[c]);const m=Mg(({offset:[g,v],first:y,last:x})=>{e({x:g,y:v}),y&&n({x:g,y:v}),x&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||v]});return I.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),ae.createElement(ae.Fragment,null,ae.createElement(Uue,{mode:a?"drag":void 0},ae.createElement(M1,{active:!s,onClick:()=>i()},ae.createElement(R2,{toggled:s,width:12,height:8})),ae.createElement(Hue,nr({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?ae.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("circle",{cx:"2",cy:"2",r:"2"}),ae.createElement("circle",{cx:"14",cy:"2",r:"2"}),ae.createElement("circle",{cx:"26",cy:"2",r:"2"}),ae.createElement("circle",{cx:"2",cy:"12",r:"2"}),ae.createElement("circle",{cx:"14",cy:"12",r:"2"}),ae.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&ae.createElement(M1,{active:c,onClick:()=>f(g=>!g)},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ae.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ae.createElement(zue,{toggled:c},ae.createElement(Vue,{ref:d,setFilter:t,toggle:i})))}const jue=["store","hidden","theme","collapsed"];function $ue(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=yn(t,jue);const o=Jz(()=>dse(r),[r]),[a,l]=I.useState(!i),u=typeof i=="object"?!i.collapsed:a,c=I.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||n?null:ae.createElement(E2.Provider,{value:o},ae.createElement(Jue,nr({store:e},s,{toggled:u,setToggle:c,rootClass:o.className})))}const Jue=ae.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,f;const d=Ale(t),[m,g]=I.useState(""),v=I.useMemo(()=>xue(d,m),[d,m]),[y,x]=xz(),_=i||d.length>0,w=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,C=typeof o=="object"&&o.position||void 0,T=typeof o=="object"&&o.onDrag||void 0,E=typeof o=="object"&&o.onDragStart||void 0,P=typeof o=="object"&&o.onDragEnd||void 0;return ae.useEffect(()=>{x({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,x]),fse(),ae.createElement(cz.Provider,{value:{hideCopyButton:a}},ae.createElement(Nue,{ref:y,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&ae.createElement(Wue,{onDrag:B=>{x(B),T==null||T(B)},onDragStart:B=>E==null?void 0:E(B),onDragEnd:B=>P==null?void 0:P(B),setFilter:g,toggle:B=>u(N=>B??!N),toggled:l,title:w,drag:A,filterEnabled:M,from:C}),_&&ae.createElement(uz.Provider,{value:t},ae.createElement(tG,{isRoot:!0,fill:n,flat:r,tree:v,toggled:l}))))}),Xue=["isRoot"];let E1=!1,ec=null;function rG(t){let{isRoot:e=!1}=t,n=yn(t,Xue);return I.useEffect(()=>(E1=!0,!e&&ec&&(ec.remove(),ec=null),()=>{e||(E1=!1)}),[e]),ae.createElement($ue,nr({store:qz},n))}function Kue(t){I.useEffect(()=>{t&&!E1&&(ec||(ec=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(ec),rse(ae.createElement(rG,{isRoot:!0}),ec))),E1=!0)},[t])}function Yue(t,e,n,r,i){let s,o,a,l,u;return typeof t=="string"?(o=t,s=e,Array.isArray(n)&&(u=n)):(s=t,Array.isArray(e)?u=e:(l=e,u=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function Ws(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=Yue(t,e,n),c=typeof o=="function",f=I.useRef(!1),d=I.useRef(!0),m=Jz(()=>{f.current=!0;const N=typeof o=="function"?o():o;return s?{[s]:yue(N,a)}:N},u),g=!(l!=null&&l.store);Kue(g);const[v]=I.useState(()=>(l==null?void 0:l.store)||qz),[y,x]=I.useMemo(()=>v.getDataFromSchema(m),[v,m]),[_,w,A,M,C]=I.useMemo(()=>{const N=[],F=[],U={},O={},J={};return Object.values(x).forEach(({path:$,onChange:ie,onEditStart:H,onEditEnd:j,transient:W})=>{N.push($),ie?(U[$]=ie,W||F.push($)):F.push($),H&&(O[$]=H),j&&(J[$]=j)}),[N,F,U,O,J]},[x]),T=I.useMemo(()=>v.orderPaths(_),[_,v]),E=ble(v,w,y),P=I.useCallback(N=>{const F=Object.entries(N).reduce((U,[O,J])=>Object.assign(U,{[x[O].path]:J}),{});v.set(F,!1)},[v,x]),B=I.useCallback(N=>v.get(x[N].path),[v,x]);return I.useEffect(()=>{const N=!d.current&&f.current;return v.addData(y,N),d.current=!1,f.current=!1,()=>v.disposePaths(T)},[v,T,y]),I.useEffect(()=>{const N=[];return Object.entries(A).forEach(([F,U])=>{U(v.get(F),F,It({initial:!0,get:v.get},v.getInput(F)));const O=v.useStore.subscribe(J=>{const $=J.data[F];return[$.disabled?void 0:$.value,$]},([J,$])=>U(J,F,It({initial:!1,get:v.get},$)),{equalityFn:kx});N.push(O)}),()=>N.forEach(F=>F())},[v,A]),I.useEffect(()=>{const N=[];return Object.entries(M).forEach(([F,U])=>N.push(v.subscribeToEditStart(F,U))),Object.entries(C).forEach(([F,U])=>N.push(v.subscribeToEditEnd(F,U))),()=>N.forEach(F=>F())},[M,C,v]),c?[E,P,B]:E}Ja(go.SELECT,Kse);Ja(go.IMAGE,rue);Ja(go.NUMBER,Use);Ja(go.COLOR,kle);Ja(go.STRING,ioe);Ja(go.BOOLEAN,foe);Ja(go.INTERVAL,due);Ja(go.VECTOR3D,Ole);Ja(go.VECTOR2D,jle);function Que(){const{scene:t,animations:e}=Wn("./models/MillWithAnimation.glb"),[n,r]=I.useState(!1),i=I.useRef(),s=o2(e,t),o=Ws("WindMil",{positionX:{value:-2.74,min:-3,max:1,step:.001},positionY:{value:-.49,min:-1,max:1,step:.001},positionZ:{value:2.12,min:0,max:4,step:.001},rotationY:{value:3.78,min:0,max:Math.PI*2,step:.001},scaleValue:{value:.05,min:0,max:.2,step:.001}});I.useEffect(()=>{s.actions.CircleAction.play()},[s.actions]),I.useEffect(()=>{const l=setTimeout(()=>{r(!0)},4450);return()=>clearTimeout(l)},[]),I.useEffect(()=>{t.traverse(l=>{l.isMesh&&(l.material.color=new ut("#ffffff"))})},[t]);const a=ai({scale:n?o.scaleValue:0,position:[o.positionX,o.positionY,o.positionZ],rotation:[0,o.rotationY,0],config:{tension:170,friction:26}});return De.jsx(li.primitive,{ref:i,visible:n,object:t,scale:a.scale,position:a.position,rotation:a.rotation})}function Zue({externalHover:t=!1}){const{scene:e}=Wn("./models/Technologie.glb"),[n,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef();I.useEffect(()=>{const g=setTimeout(()=>{r(!0)},3950);return()=>clearTimeout(g)},[]),I.useEffect(()=>{e.traverse(g=>{g.isMesh&&(g.material.transparent=!1,g.material.opacity=1,g.material.needsUpdate=!0,g.castShadow=!0,g.receiveShadow=!0)})},[e]);const{positionX:a,positionY:l,positionZ:u,rotationY:c}=Ws("Technologies",{positionX:{value:-.6,min:-5,max:5,step:.1},positionY:{value:-.5,min:-5,max:5,step:.1},positionZ:{value:2.1,min:-5,max:5,step:.1},rotationY:{value:2.2,min:0,max:Math.PI*2,step:.1}}),{scale:f,position:d,rotation:m}=ai({scale:n?.34:0,position:[a,i||t?l+.2:l,u],rotation:[0,i||t?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return De.jsx(li.primitive,{ref:o,visible:n,object:e,scale:f,position:d,rotation:m,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function que({externalHover:t=!1}){const{scene:e,animations:n}=Wn("./models/Auta.glb"),[r,i]=I.useState(!1),[s,o]=I.useState(!1),a=I.useRef(),l=o2(n,e),{positionX:u,positionY:c,positionZ:f,rotationY:d}=Ws("Auta",{positionX:{value:.59,min:-5,max:5,step:.001},positionY:{value:-.515,min:-5,max:5,step:.001},positionZ:{value:2.08,min:-5,max:5,step:.001},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}}),m=l.actions["Car.Low.003Action"];I.useEffect(()=>(m&&m.play(),()=>{m&&(m.stop(),m.reset())}),[l.actions]),I.useEffect(()=>{s?m.stop():m.play()},[s]),I.useEffect(()=>{const x=setTimeout(()=>{i(!0)},4350);return()=>clearTimeout(x)},[]),I.useEffect(()=>{e.traverse(x=>{x.isMesh&&(x.material.transparent=!1,x.material.opacity=1,x.material.needsUpdate=!0,x.castShadow=!0,x.receiveShadow=!0)})},[e]);const{scale:g,position:v,rotation:y}=ai({scale:r?.3:0,position:[u,s||t?c+.2:c,f],rotation:[0,s||t?d+Math.PI*.1:d,0],config:{tension:170,friction:26}});return De.jsx(De.Fragment,{children:De.jsx(li.primitive,{ref:a,visible:r,object:e,scale:g,position:v,rotation:y,onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1)})})}function ece({externalHover:t=!1}){const{scene:e}=Wn("./models/Hala.glb"),[n,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef(),{positionX:a,positionY:l,positionZ:u,rotationY:c}=Ws("Hala",{positionX:{value:2.8,min:-5,max:5,step:.1},positionY:{value:-.48,min:-5,max:5,step:.01},positionZ:{value:2,min:-5,max:5,step:.1},rotationY:{value:0,min:0,max:Math.PI*2,step:.1}});I.useEffect(()=>{const g=setTimeout(()=>{r(!0)},4550);return()=>clearTimeout(g)},[]),I.useEffect(()=>{e.traverse(g=>{g.isMesh&&(g.material.transparent=!1,g.material.opacity=1,g.material.needsUpdate=!0,g.castShadow=!0,g.receiveShadow=!0)})},[e]);const{scale:f,position:d,rotation:m}=ai({scale:n?.37:0,position:[a,i||t?l+.2:l,u],rotation:[0,i||t?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return De.jsx(li.primitive,{ref:o,visible:n,object:e,scale:f,position:d,rotation:m,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function tce({externalHover:t=!1}){const{scene:e,animations:n}=Wn("./models/wodorowy_hub.glb"),[r,i]=I.useState(!1),[s,o]=I.useState(!1),a=I.useRef(),{positionX:l,positionY:u,positionZ:c,rotationY:f}=Ws("Wodorowy Hub",{positionX:{value:-2.85,min:-5,max:5,step:.01},positionY:{value:-.42,min:-5,max:5,step:.01},positionZ:{value:2.5,min:-5,max:5,step:.01},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}});I.useEffect(()=>{const v=setTimeout(()=>{i(!0)},3850);return()=>clearTimeout(v)},[]),I.useEffect(()=>{e.traverse(v=>{v.isMesh&&(v.material.transparent=!1,v.material.opacity=1,v.material.needsUpdate=!0,v.castShadow=!0,v.receiveShadow=!0)})},[e]),I.useEffect(()=>{e.traverse(v=>{v.isMesh&&(v.geometry.computeBoundingSphere(),v.geometry.computeBoundingBox())})},[e]);const{scale:d,position:m,rotation:g}=ai({scale:r?.35:0,position:[l,s||t?u+.2:u,c],rotation:[0,s||t?f+Math.PI*.1:f,0],config:{tension:170,friction:26}});return De.jsx(De.Fragment,{children:De.jsx(li.primitive,{ref:a,visible:r,object:e,scale:d,position:m,rotation:g,onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),onClick:()=>window.open("https://teamid.f.pl/","_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},frustumCulled:!0})})}function nce({externalHover:t=!1}){const{scene:e}=Wn("./models/wodorowy_tir.glb"),[n,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef(),{positionX:a,positionY:l,positionZ:u,rotationY:c}=Ws("HydrogenTruck",{positionX:{value:1.25,min:-5,max:5,step:.001},positionY:{value:-.527,min:-5,max:5,step:.001},positionZ:{value:2.1,min:-5,max:5,step:.001},rotationY:{value:-1.7,min:-2,max:Math.PI*2,step:.1}});I.useEffect(()=>{e.traverse(g=>{g.isMesh&&(g.material.transparent=!1,g.material.opacity=1,g.material.needsUpdate=!0,g.castShadow=!0,g.receiveShadow=!0)})},[e]),I.useEffect(()=>{const g=setTimeout(()=>{r(!0)},4250);return()=>clearTimeout(g)},[]);const{scale:f,position:d,rotation:m}=ai({scale:n?.27:0,position:[a,i||t?l+.2:l,u],rotation:[0,i||t?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return De.jsx(De.Fragment,{children:De.jsx(li.primitive,{ref:o,visible:n,object:e,scale:f,position:d,rotation:m,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})})}function rce({count:t=500,texturePath:e="/textures/star_04.png"}){const n=I.useRef();I.useMemo(()=>new Zt,[]);const r=us(qd,e),i=I.useMemo(()=>{const l=new Float32Array(t*3);for(let u=0;u<t;u++)l.set([(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],u*3);return l},[t]);Uc(()=>{n.current&&(n.current.rotation.y+=7e-4)});const{alphaTest:s,size:o,opacity:a}=Ws("Particles",{alphaTest:{value:.3,min:0,max:1,step:.01},size:{value:.25,min:.01,max:1,step:.01},opacity:{value:.79,min:0,max:1,step:.01}});return De.jsxs("points",{ref:n,children:[De.jsx("bufferGeometry",{children:De.jsx("bufferAttribute",{attach:"attributes-position",array:i,itemSize:3,count:i.length/3})}),De.jsx("pointsMaterial",{map:r,transparent:!0,alphaTest:s,size:o,sizeAttenuation:!0,opacity:a,depthWrite:!1,blending:qy,vertexColors:!1,fog:!0,toneMapped:!1})]})}function ice(){return De.jsxs(De.Fragment,{children:[De.jsx("directionalLight",{castShadow:!0,position:[4,4,1],intensity:.7,"shadow-mapSize":[1024,1024],"shadow-camera-near":1,"shadow-camera-far":10,"shadow-camera-top":10,"shadow-camera-right":10,"shadow-camera-bottom":-10,"shadow-camera-left":-10,"shadow-normalBias":.04}),De.jsx("ambientLight",{intensity:.4})]})}Ax({DreiText3D:eM});const sce=()=>{const[t,e]=I.useState(!1);sne("7B5254_E9DCC7_B19986_C8AC91",256),I.useEffect(()=>{const i=setTimeout(()=>{e(!0)},3e3);return()=>clearTimeout(i)},[]);const n="CARBON".split("").map((i,s)=>ai({position:t?[s*.6-2.2,0,0]:[-5-s,Math.random()*2-1,-5],rotation:t?[0,0,0]:[0,-Math.PI*2,0],scale:t?1.5:0,config:{mass:1,tension:280,friction:60},delay:t?s*100:0})),r="TAX".split("").map((i,s)=>ai({position:t?[s*.5+2.2,0,0]:[10+s,Math.random()*2-1,5],rotation:t?[0,0,0]:[0,Math.PI*2,0],scale:t?1.5:0,config:{mass:1,tension:280,friction:60},delay:t?(s+6)*100:0}));return De.jsx(I.Suspense,{fallback:null,children:De.jsx(Ite,{position:[0,1.2,0],children:De.jsxs("group",{children:["CARBON".split("").map((i,s)=>De.jsx(li.group,{position:n[s].position,rotation:n[s].rotation,scale:n[s].scale,children:De.jsxs(eM,{font:"/fonts/Ubuntu_Regular.json",size:.4,height:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.01,bevelSize:.01,bevelOffset:0,bevelSegments:5,children:[i,De.jsx("meshStandardMaterial",{color:"#ffffff",metalness:.8,roughness:.2})]})},`carbon-${s}`)),"TAX".split("").map((i,s)=>De.jsx(li.group,{position:r[s].position,rotation:r[s].rotation,scale:r[s].scale,children:De.jsxs(eM,{font:"/fonts/Ubuntu_Regular.json",size:.4,height:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.01,bevelSize:.01,bevelOffset:0,bevelSegments:5,children:[i,De.jsx("meshStandardMaterial",{color:"#ffffff",metalness:.8,roughness:.2})]})},`tax-${s}`))]})})})},iG=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Wx=I.createContext({}),N2=I.createContext(null),jx=typeof document<"u",oce=jx?I.useLayoutEffect:I.useEffect,sG=I.createContext({strict:!1}),U2=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ace="framerAppearId",oG="data-"+U2(ace);function lce(t,e,n,r){const{visualElement:i}=I.useContext(Wx),s=I.useContext(sG),o=I.useContext(N2),a=I.useContext(iG).reducedMotion,l=I.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;I.useInsertionEffect(()=>{u&&u.update(n,o)});const c=I.useRef(!!(n[oG]&&!window.HandoffComplete));return oce(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Zf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uce(t,e,n){return I.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zf(n)&&(n.current=r))},[e])}function Um(t){return typeof t=="string"||Array.isArray(t)}function $x(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const z2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G2=["initial",...z2];function Jx(t){return $x(t.animate)||G2.some(e=>Um(t[e]))}function aG(t){return!!(Jx(t)||t.variants)}function cce(t,e){if(Jx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Um(n)?n:void 0,animate:Um(r)?r:void 0}}return t.inherit!==!1?e:{}}function fce(t){const{initial:e,animate:n}=cce(t,I.useContext(Wx));return I.useMemo(()=>({initial:e,animate:n}),[WD(e),WD(n)])}function WD(t){return Array.isArray(t)?t.join(" "):t}const jD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zm={};for(const t in jD)zm[t]={isEnabled:e=>jD[t].some(n=>!!e[n])};function dce(t){for(const e in t)zm[e]={...zm[e],...t[e]}}const lG=I.createContext({}),uG=I.createContext({}),hce=Symbol.for("motionComponentSymbol");function pce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&dce(t);function s(a,l){let u;const c={...I.useContext(iG),...a,layoutId:mce(a)},{isStatic:f}=c,d=fce(a),m=r(a,f);if(!f&&jx){d.visualElement=lce(i,m,c,e);const g=I.useContext(uG),v=I.useContext(sG).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,v,t,g))}return I.createElement(Wx.Provider,{value:d},u&&d.visualElement?I.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,uce(m,d.visualElement,l),m,f,d.visualElement))}const o=I.forwardRef(s);return o[hce]=i,o}function mce({layoutId:t}){const e=I.useContext(lG).id;return e&&t!==void 0?e+"-"+t:t}function gce(t){function e(r,i={}){return pce(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const vce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H2(t){return typeof t!="string"||t.includes("-")?!1:!!(vce.indexOf(t)>-1||/[A-Z]/.test(t))}const C1={};function yce(t){Object.assign(C1,t)}const Tg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hc=new Set(Tg);function cG(t,{layout:e,layoutId:n}){return Hc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!C1[t]||t==="opacity")}const Gi=t=>!!(t&&t.getVelocity),xce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_ce=Tg.length;function wce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<_ce;o++){const a=Tg[o];if(t[a]!==void 0){const l=xce[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const fG=t=>e=>typeof e=="string"&&e.startsWith(t),dG=fG("--"),EM=fG("var(--"),Sce=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Ace=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ql=(t,e,n)=>Math.min(Math.max(n,t),e),Vc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jp={...Vc,transform:t=>ql(0,1,t)},Vv={...Vc,default:1},Xp=t=>Math.round(t*1e5)/1e5,Xx=/(-)?([\d]*\.?[\d])+/g,hG=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rg(t){return typeof t=="string"}const Pg=t=>({test:e=>Rg(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pl=Pg("deg"),Go=Pg("%"),Pt=Pg("px"),Mce=Pg("vh"),Ece=Pg("vw"),$D={...Go,parse:t=>Go.parse(t)/100,transform:t=>Go.transform(t*100)},JD={...Vc,transform:Math.round},pG={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,size:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,rotate:pl,rotateX:pl,rotateY:pl,rotateZ:pl,scale:Vv,scaleX:Vv,scaleY:Vv,scaleZ:Vv,skew:pl,skewX:pl,skewY:pl,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:Jp,originX:$D,originY:$D,originZ:Pt,zIndex:JD,fillOpacity:Jp,strokeOpacity:Jp,numOctaves:JD};function V2(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const f in e){const d=e[f];if(dG(f)){s[f]=d;continue}const m=pG[f],g=Ace(d,m);if(Hc.has(f)){if(l=!0,o[f]=g,!c)continue;d!==(m.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=wce(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${d} ${m}`}}const W2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mG(t,e,n){for(const r in e)!Gi(e[r])&&!cG(r,n)&&(t[r]=e[r])}function Cce({transformTemplate:t},e,n){return I.useMemo(()=>{const r=W2();return V2(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Tce(t,e,n){const r=t.style||{},i={};return mG(i,r,t),Object.assign(i,Cce(t,e,n)),t.transformValues?t.transformValues(i):i}function Rce(t,e,n){const r={},i=Tce(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Pce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function T1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pce.has(t)}let gG=t=>!T1(t);function Ice(t){t&&(gG=e=>e.startsWith("on")?!T1(e):t(e))}try{Ice(require("@emotion/is-prop-valid").default)}catch{}function Bce(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(gG(i)||n===!0&&T1(i)||!e&&!T1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function XD(t,e,n){return typeof t=="string"?t:Pt.transform(e+n*t)}function Dce(t,e,n){const r=XD(e,t.x,t.width),i=XD(n,t.y,t.height);return`${r} ${i}`}const Lce={offset:"stroke-dashoffset",array:"stroke-dasharray"},kce={offset:"strokeDashoffset",array:"strokeDasharray"};function Fce(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Lce:kce;t[s.offset]=Pt.transform(-r);const o=Pt.transform(e),a=Pt.transform(n);t[s.array]=`${o} ${a}`}function j2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(V2(t,u,c,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:v}=t;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Dce(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Fce(m,o,a,l,!1)}const vG=()=>({...W2(),attrs:{}}),$2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Oce(t,e,n,r){const i=I.useMemo(()=>{const s=vG();return j2(s,e,{enableHardwareAcceleration:!1},$2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};mG(s,t.style,t),i.style={...s,...i.style}}return i}function Nce(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(H2(n)?Oce:Rce)(r,s,o,n),c={...Bce(r,typeof n=="string",t),...l,ref:i},{children:f}=r,d=I.useMemo(()=>Gi(f)?f.get():f,[f]);return I.createElement(n,{...c,children:d})}}function yG(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const xG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _G(t,e,n,r){yG(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xG.has(i)?i:U2(i),e.attrs[i])}function J2(t,e){const{style:n}=t,r={};for(const i in n)(Gi(n[i])||e.style&&Gi(e.style[i])||cG(i,t))&&(r[i]=n[i]);return r}function wG(t,e){const n=J2(t,e);for(const r in t)if(Gi(t[r])||Gi(e[r])){const i=Tg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function X2(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Uce(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const R1=t=>Array.isArray(t),zce=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Gce=t=>R1(t)?t[t.length-1]||0:t;function Sy(t){const e=Gi(t)?t.get():t;return zce(e)?e.toValue():e}function Hce({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Vce(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const SG=t=>(e,n)=>{const r=I.useContext(Wx),i=I.useContext(N2),s=()=>Hce(t,e,r,i);return n?s():Uce(s)};function Vce(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Sy(s[d]);let{initial:o,animate:a}=t;const l=Jx(t),u=aG(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!$x(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=X2(t,m);if(!g)return;const{transitionEnd:v,transition:y,...x}=g;for(const _ in x){let w=x[_];if(Array.isArray(w)){const A=c?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}),i}const fr=t=>t;class KD{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Wce(t){let e=new KD,n=new KD,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?e:n;return u&&o.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Wv=["prepare","read","update","preRender","render","postRender"],jce=40;function $ce(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Wv.reduce((f,d)=>(f[d]=Wce(()=>n=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,jce),1),i.timestamp=f,i.isProcessing=!0,Wv.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Wv.reduce((f,d)=>{const m=s[d];return f[d]=(g,v=!1,y=!1)=>(n||l(),m.schedule(g,v,y)),f},{}),cancel:f=>Wv.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:Ln,cancel:Ha,state:ni,steps:zS}=$ce(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0),Jce={useVisualState:SG({scrapeMotionValuesFromProps:wG,createRenderState:vG,onMount:(t,e,{renderState:n,latestValues:r})=>{Ln.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ln.render(()=>{j2(n,r,{enableHardwareAcceleration:!1},$2(e.tagName),t.transformTemplate),_G(e,n)})}})},Xce={useVisualState:SG({scrapeMotionValuesFromProps:J2,createRenderState:W2})};function Kce(t,{forwardMotionProps:e=!1},n,r){return{...H2(t)?Jce:Xce,preloadedFeatures:n,useRender:Nce(e),createVisualElement:r,Component:t}}function Ma(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const AG=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Kx(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Yce=t=>e=>AG(e)&&t(e,Kx(e));function Ra(t,e,n,r){return Ma(t,e,Yce(n),r)}const Qce=(t,e)=>n=>e(t(n)),Nl=(...t)=>t.reduce(Qce);function bG(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const YD=bG("dragHorizontal"),QD=bG("dragVertical");function MG(t){let e=!1;if(t==="y")e=QD();else if(t==="x")e=YD();else{const n=YD(),r=QD();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function EG(){const t=MG(!0);return t?(t(),!1):!0}class lu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ZD(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||EG())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ln.update(()=>a[r](s,o))};return Ra(t.current,n,i,{passive:!t.getProps()[r]})}class Zce extends lu{mount(){this.unmount=Nl(ZD(this.node,!0),ZD(this.node,!1))}unmount(){}}class qce extends lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nl(Ma(this.node.current,"focus",()=>this.onFocus()),Ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CG=(t,e)=>e?t===e?!0:CG(t,e.parentElement):!1;function GS(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Kx(n))}class efe extends lu{constructor(){super(...arguments),this.removeStartListeners=fr,this.removeEndListeners=fr,this.removeAccessibleListeners=fr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ra(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();Ln.update(()=>{!f&&!CG(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ra(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Nl(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||GS("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ln.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ma(this.node.current,"keyup",o),GS("down",(a,l)=>{this.startPress(a,l)})},n=Ma(this.node.current,"keydown",e),r=()=>{this.isPressing&&GS("cancel",(s,o)=>this.cancelPress(s,o))},i=Ma(this.node.current,"blur",r);this.removeAccessibleListeners=Nl(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ln.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!EG()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ln.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ra(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ma(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Nl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const CM=new WeakMap,HS=new WeakMap,tfe=t=>{const e=CM.get(t.target);e&&e(t)},nfe=t=>{t.forEach(tfe)};function rfe({root:t,...e}){const n=t||document;HS.has(n)||HS.set(n,{});const r=HS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nfe,{root:t,...e})),r[i]}function ife(t,e,n){const r=rfe(e);return CM.set(t,n),r.observe(t),()=>{CM.delete(t),r.unobserve(t)}}const sfe={some:0,all:1};class ofe extends lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sfe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return ife(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(afe(e,n))&&this.startObserver()}unmount(){}}function afe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lfe={inView:{Feature:ofe},tap:{Feature:efe},focus:{Feature:qce},hover:{Feature:Zce}};function TG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ufe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function cfe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Yx(t,e,n){const r=t.getProps();return X2(r,e,n!==void 0?n:r.custom,ufe(t),cfe(t))}let P1=fr;const mc=t=>t*1e3,Pa=t=>t/1e3,ffe={current:!1},RG=t=>Array.isArray(t)&&typeof t[0]=="number";function PG(t){return!!(!t||typeof t=="string"&&IG[t]||RG(t)||Array.isArray(t)&&t.every(PG))}const Ap=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,IG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ap([0,.65,.55,1]),circOut:Ap([.55,0,1,.45]),backIn:Ap([.31,.01,.66,-.59]),backOut:Ap([.33,1.53,.69,.99])};function BG(t){if(t)return RG(t)?Ap(t):Array.isArray(t)?t.map(BG):IG[t]}function dfe(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=BG(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function hfe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const DG=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pfe=1e-7,mfe=12;function gfe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=DG(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>pfe&&++a<mfe);return o}function Ig(t,e,n,r){if(t===e&&n===r)return fr;const i=s=>gfe(s,0,1,t,n);return s=>s===0||s===1?s:DG(i(s),e,r)}const vfe=Ig(.42,0,1,1),yfe=Ig(0,0,.58,1),LG=Ig(.42,0,.58,1),xfe=t=>Array.isArray(t)&&typeof t[0]!="number",kG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FG=t=>e=>1-t(1-e),K2=t=>1-Math.sin(Math.acos(t)),OG=FG(K2),_fe=kG(K2),NG=Ig(.33,1.53,.69,.99),Y2=FG(NG),wfe=kG(Y2),Sfe=t=>(t*=2)<1?.5*Y2(t):.5*(2-Math.pow(2,-10*(t-1))),qD={linear:fr,easeIn:vfe,easeInOut:LG,easeOut:yfe,circIn:K2,circInOut:_fe,circOut:OG,backIn:Y2,backInOut:wfe,backOut:NG,anticipate:Sfe},eL=t=>{if(Array.isArray(t)){P1(t.length===4);const[e,n,r,i]=t;return Ig(e,n,r,i)}else if(typeof t=="string")return P1(qD[t]!==void 0),qD[t];return t},Q2=(t,e)=>n=>!!(Rg(n)&&bce.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),UG=(t,e,n)=>r=>{if(!Rg(r))return r;const[i,s,o,a]=r.match(Xx);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Afe=t=>ql(0,255,t),VS={...Vc,transform:t=>Math.round(Afe(t))},tc={test:Q2("rgb","red"),parse:UG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+VS.transform(t)+", "+VS.transform(e)+", "+VS.transform(n)+", "+Xp(Jp.transform(r))+")"};function bfe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const TM={test:Q2("#"),parse:bfe,transform:tc.transform},qf={test:Q2("hsl","hue"),parse:UG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Go.transform(Xp(e))+", "+Go.transform(Xp(n))+", "+Xp(Jp.transform(r))+")"},_i={test:t=>tc.test(t)||TM.test(t)||qf.test(t),parse:t=>tc.test(t)?tc.parse(t):qf.test(t)?qf.parse(t):TM.parse(t),transform:t=>Rg(t)?t:t.hasOwnProperty("red")?tc.transform(t):qf.transform(t)},Xn=(t,e,n)=>-n*t+n*e+t;function WS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Mfe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=WS(l,a,t+1/3),s=WS(l,a,t),o=WS(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const jS=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Efe=[TM,tc,qf],Cfe=t=>Efe.find(e=>e.test(t));function tL(t){const e=Cfe(t);let n=e.parse(t);return e===qf&&(n=Mfe(n)),n}const zG=(t,e)=>{const n=tL(t),r=tL(e),i={...n};return s=>(i.red=jS(n.red,r.red,s),i.green=jS(n.green,r.green,s),i.blue=jS(n.blue,r.blue,s),i.alpha=Xn(n.alpha,r.alpha,s),tc.transform(i))};function Tfe(t){var e,n;return isNaN(t)&&Rg(t)&&(((e=t.match(Xx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hG))===null||n===void 0?void 0:n.length)||0)>0}const GG={regex:Sce,countKey:"Vars",token:"${v}",parse:fr},HG={regex:hG,countKey:"Colors",token:"${c}",parse:_i.parse},VG={regex:Xx,countKey:"Numbers",token:"${n}",parse:Vc.parse};function $S(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function I1(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&$S(n,GG),$S(n,HG),$S(n,VG),n}function WG(t){return I1(t).values}function jG(t){const{values:e,numColors:n,numVars:r,tokenised:i}=I1(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(GG.token,o[l]):l<r+n?a=a.replace(HG.token,_i.transform(o[l])):a=a.replace(VG.token,Xp(o[l]));return a}}const Rfe=t=>typeof t=="number"?0:t;function Pfe(t){const e=WG(t);return jG(t)(e.map(Rfe))}const eu={test:Tfe,parse:WG,createTransformer:jG,getAnimatableNone:Pfe},$G=(t,e)=>n=>`${n>0?e:t}`;function JG(t,e){return typeof t=="number"?n=>Xn(t,e,n):_i.test(t)?zG(t,e):t.startsWith("var(")?$G(t,e):KG(t,e)}const XG=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>JG(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Ife=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=JG(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},KG=(t,e)=>{const n=eu.createTransformer(e),r=I1(t),i=I1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Nl(XG(r.values,i.values),n):$G(t,e)},Gm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nL=(t,e)=>n=>Xn(t,e,n);function Bfe(t){return typeof t=="number"?nL:typeof t=="string"?_i.test(t)?zG:KG:Array.isArray(t)?XG:typeof t=="object"?Ife:nL}function Dfe(t,e,n){const r=[],i=n||Bfe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||fr:e;a=Nl(l,a)}r.push(a)}return r}function YG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(P1(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Dfe(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=Gm(t[c],t[c+1],u);return o[c](f)};return n?u=>l(ql(t[0],t[s-1],u)):l}function Lfe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Gm(0,e,r);t.push(Xn(n,1,i))}}function kfe(t){const e=[0];return Lfe(e,t.length-1),e}function Ffe(t,e){return t.map(n=>n*e)}function Ofe(t,e){return t.map(()=>e||LG).splice(0,t.length-1)}function B1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=xfe(r)?r.map(eL):eL(r),s={done:!1,value:e[0]},o=Ffe(n&&n.length===e.length?n:kfe(e),t),a=YG(o,e,{ease:Array.isArray(i)?i:Ofe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function QG(t,e){return e?t*(1e3/e):0}const Nfe=5;function ZG(t,e,n){const r=Math.max(e-Nfe,0);return QG(n-t(r),e-r)}const rL=.001,Ufe=.01,zfe=10,Gfe=.05,Hfe=1;function Vfe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ql(Gfe,Hfe,o),t=ql(Ufe,zfe,Pa(t)),o<1?(i=u=>{const c=u*o,f=c*t,d=c-n,m=RM(u,o),g=Math.exp(-f);return rL-d/m*g},s=u=>{const f=u*o*t,d=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),v=RM(Math.pow(u,2),o);return(-i(u)+rL>0?-1:1)*((d-m)*g)/v}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-.001+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=jfe(i,s,a);if(t=mc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Wfe=12;function jfe(t,e,n){let r=n;for(let i=1;i<Wfe;i++)r=r-t(r)/e(r);return r}function RM(t,e){return t*Math.sqrt(1-e*e)}const $fe=["duration","bounce"],Jfe=["stiffness","damping","mass"];function iL(t,e){return e.some(n=>t[n]!==void 0)}function Xfe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!iL(t,Jfe)&&iL(t,$fe)){const n=Vfe(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function qG({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=Xfe({...r,velocity:-Pa(r.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(a*u)),v=s-i,y=Pa(Math.sqrt(a/u)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let _;if(g<1){const w=RM(y,g);_=A=>{const M=Math.exp(-g*y*A);return s-M*((m+g*y*v)/w*Math.sin(w*A)+v*Math.cos(w*A))}}else if(g===1)_=w=>s-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(g*g-1);_=A=>{const M=Math.exp(-g*y*A),C=Math.min(w*A,300);return s-M*((m+g*y*v)*Math.sinh(C)+w*v*Math.cosh(C))/w}}return{calculatedDuration:d&&c||null,next:w=>{const A=_(w);if(d)o.done=w>=c;else{let M=m;w!==0&&(g<1?M=ZG(_,w,A):M=0);const C=Math.abs(M)<=n,T=Math.abs(s-A)<=e;o.done=C&&T}return o.value=o.done?s:A,o}}}function sL({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,g=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const y=f+v,x=o===void 0?y:o(y);x!==y&&(v=x-f);const _=E=>-v*Math.exp(-E/r),w=E=>x+_(E),A=E=>{const P=_(E),B=w(E);d.done=Math.abs(P)<=u,d.value=d.done?x:B};let M,C;const T=E=>{m(d.value)&&(M=E,C=qG({keyframes:[d.value,g(d.value)],velocity:ZG(w,E,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:E=>{let P=!1;return!C&&M===void 0&&(P=!0,A(E),T(E)),M!==void 0&&E>M?C.next(E-M):(!P&&A(E),d)}}}const Kfe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ln.update(e,!0),stop:()=>Ha(e),now:()=>ni.isProcessing?ni.timestamp:performance.now()}},oL=2e4;function aL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<oL;)e+=n,r=t.next(e);return e>=oL?1/0:e}const Yfe={decay:sL,inertia:sL,tween:B1,keyframes:B1,spring:qG};function D1({autoplay:t=!0,delay:e=0,driver:n=Kfe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let m=1,g=!1,v,y;const x=()=>{y=new Promise(G=>{v=G})};x();let _;const w=Yfe[i]||B1;let A;w!==B1&&typeof r[0]!="number"&&(A=YG([0,100],r,{clamp:!1}),r=[0,100]);const M=w({...d,keyframes:r});let C;a==="mirror"&&(C=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let T="idle",E=null,P=null,B=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=aL(M));const{calculatedDuration:N}=M;let F=1/0,U=1/0;N!==null&&(F=N+o,U=F*(s+1)-o);let O=0;const J=G=>{if(P===null)return;m>0&&(P=Math.min(P,G)),m<0&&(P=Math.min(G-U/m,P)),E!==null?O=E:O=Math.round(G-P)*m;const z=O-e*(m>=0?1:-1),X=m>=0?z<0:z>U;O=Math.max(z,0),T==="finished"&&E===null&&(O=U);let ne=O,ee=M;if(s){const Te=Math.min(O,U)/F;let we=Math.floor(Te),ve=Te%1;!ve&&Te>=1&&(ve=1),ve===1&&we--,we=Math.min(we,s+1),!!(we%2)&&(a==="reverse"?(ve=1-ve,o&&(ve-=o/F)):a==="mirror"&&(ee=C)),ne=ql(0,1,ve)*F}const Y=X?{done:!1,value:r[0]}:ee.next(ne);A&&(Y.value=A(Y.value));let{done:ue}=Y;!X&&N!==null&&(ue=m>=0?O>=U:O<=0);const ce=E===null&&(T==="finished"||T==="running"&&ue);return f&&f(Y.value),ce&&H(),Y},$=()=>{_&&_.stop(),_=void 0},ie=()=>{T="idle",$(),v(),x(),P=B=null},H=()=>{T="finished",c&&c(),$(),v()},j=()=>{if(g)return;_||(_=n(J));const G=_.now();l&&l(),E!==null?P=G-E:(!P||T==="finished")&&(P=G),T==="finished"&&x(),B=P,E=null,T="running",_.start()};t&&j();const W={then(G,z){return y.then(G,z)},get time(){return Pa(O)},set time(G){G=mc(G),O=G,E!==null||!_||m===0?E=G:P=_.now()-G/m},get duration(){const G=M.calculatedDuration===null?aL(M):M.calculatedDuration;return Pa(G)},get speed(){return m},set speed(G){G===m||!_||(m=G,W.time=Pa(O))},get state(){return T},play:j,pause:()=>{T="paused",E=O},stop:()=>{g=!0,T!=="idle"&&(T="idle",u&&u(),ie())},cancel:()=>{B!==null&&J(B),ie()},complete:()=>{T="finished"},sample:G=>(P=0,J(G))};return W}function Qfe(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zfe=Qfe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qfe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jv=10,ede=2e4,tde=(t,e)=>e.type==="spring"||t==="backgroundColor"||!PG(e.ease);function nde(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Zfe()&&qfe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(w=>{a=w})};c();let{keyframes:f,duration:d=300,ease:m,times:g}=i;if(tde(e,i)){const w=D1({...i,repeat:0,delay:0});let A={done:!1,value:f[0]};const M=[];let C=0;for(;!A.done&&C<ede;)A=w.sample(C),M.push(A.value),C+=jv;g=void 0,f=M,d=C-jv,m="linear"}const v=dfe(t.owner.current,e,f,{...i,duration:d,ease:m,times:g}),y=()=>{u=!1,v.cancel()},x=()=>{u=!0,Ln.update(y),a(),c()};return v.onfinish=()=>{u||(t.set(hfe(f,i)),r&&r(),x())},{then(w,A){return l.then(w,A)},attachTimeline(w){return v.timeline=w,v.onfinish=null,fr},get time(){return Pa(v.currentTime||0)},set time(w){v.currentTime=mc(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return Pa(d)},play:()=>{o||(v.play(),Ha(y))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const A=D1({...i,autoplay:!1});t.setWithVelocity(A.sample(w-jv).value,A.sample(w).value,jv)}x()},complete:()=>{u||v.finish()},cancel:x}}function rde({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:fr,pause:fr,stop:fr,then:s=>(s(),Promise.resolve()),cancel:fr,complete:fr});return e?D1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ide={type:"spring",stiffness:500,damping:25,restSpeed:10},sde=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ode={type:"keyframes",duration:.8},ade={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lde=(t,{keyframes:e})=>e.length>2?ode:Hc.has(t)?t.startsWith("scale")?sde(e[1]):ide:ade,PM=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(eu.test(e)||e==="0")&&!e.startsWith("url(")),ude=new Set(["brightness","contrast","saturate","opacity"]);function cde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xx)||[];if(!r)return t;const i=n.replace(r,"");let s=ude.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const fde=/([a-z-]*)\(.*?\)/g,IM={...eu,getAnimatableNone:t=>{const e=t.match(fde);return e?e.map(cde).join(" "):t}},dde={...pG,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:IM,WebkitFilter:IM},Z2=t=>dde[t];function e6(t,e){let n=Z2(t);return n!==IM&&(n=eu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const t6=t=>/^0[^.\s]+$/.test(t);function hde(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||t6(t)}function pde(t,e,n,r){const i=PM(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),hde(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=e6(e,a)}return s}function mde({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function q2(t,e){return t[e]||t.default||t}const gde={skipAnimations:!1},eT=(t,e,n,r={})=>i=>{const s=q2(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-mc(o);const l=pde(e,t,n,s),u=l[0],c=l[l.length-1],f=PM(t,u),d=PM(t,c);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(mde(s)||(m={...m,...lde(t,m)}),m.duration&&(m.duration=mc(m.duration)),m.repeatDelay&&(m.repeatDelay=mc(m.repeatDelay)),!f||!d||ffe.current||s.type===!1||gde.skipAnimations)return rde(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=nde(e,t,m);if(g)return g}return D1(m)};function L1(t){return!!(Gi(t)&&t.add)}const n6=t=>/^\-?\d*\.?\d+$/.test(t);function tT(t,e){t.indexOf(e)===-1&&t.push(e)}function nT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rT{constructor(){this.subscriptions=[]}add(e){return tT(this.subscriptions,e),()=>nT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vde=t=>!isNaN(parseFloat(t));class yde{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ni;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ln.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ln.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=vde(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?QG(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ld(t,e){return new yde(t,e)}const r6=t=>e=>e.test(t),xde={test:t=>t==="auto",parse:t=>t},i6=[Vc,Pt,Go,pl,Ece,Mce,xde],dp=t=>i6.find(r6(t)),_de=[...i6,_i,eu],wde=t=>_de.find(r6(t));function Sde(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ld(n))}function Ade(t,e){const n=Yx(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Gce(s[o]);Sde(t,o,a)}}function bde(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(n6(c)||t6(c))?c=parseFloat(c):!wde(c)&&eu.test(u)&&(c=e6(l,u)),t.addValue(l,Ld(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function Mde(t,e){return e?(e[t]||e.default||e).from:void 0}function Ede(t,e,n){const r={};for(const i in t){const s=Mde(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Cde({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Tde(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function s6(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const d=t.getValue(f),m=a[f];if(!d||m===void 0||c&&Cde(c,f))continue;const g={delay:n,elapsed:0,...q2(s||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[oG];if(x){const _=window.HandoffAppearAnimations(x,f,d,Ln);_!==null&&(g.elapsed=_,g.isHandoff=!0)}}let v=!g.isHandoff&&!Tde(d,m);if(g.type==="spring"&&(d.getVelocity()||g.velocity)&&(v=!1),d.animation&&(v=!1),v)continue;d.start(eT(f,d,m,t.shouldReduceMotion&&Hc.has(f)?{type:!1}:g));const y=d.animation;L1(l)&&(l.add(f),y.then(()=>l.remove(f))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&Ade(t,o)}),u}function BM(t,e,n={}){const r=Yx(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(s6(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return Rde(t,e,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Rde(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Pde).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(BM(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Pde(t,e){return t.sortNodePosition(e)}function Ide(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>BM(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=BM(t,e,n);else{const i=typeof e=="function"?Yx(t,e,n.custom):e;r=Promise.all(s6(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Bde=[...z2].reverse(),Dde=z2.length;function Lde(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ide(t,n,r)))}function kde(t){let e=Lde(t);const n=Ode();let r=!0;const i=(l,u)=>{const c=Yx(t,u);if(c){const{transition:f,transitionEnd:d,...m}=c;l={...l,...m,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),f=t.getVariantContext(!0)||{},d=[],m=new Set;let g={},v=1/0;for(let x=0;x<Dde;x++){const _=Bde[x],w=n[_],A=c[_]!==void 0?c[_]:f[_],M=Um(A),C=_===u?w.isActive:null;C===!1&&(v=x);let T=A===f[_]&&A!==c[_]&&M;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...g},!w.isActive&&C===null||!A&&!w.prevProp||$x(A)||typeof A=="boolean")continue;let P=Fde(w.prevProp,A)||_===u&&w.isActive&&!T&&M||x>v&&M,B=!1;const N=Array.isArray(A)?A:[A];let F=N.reduce(i,{});C===!1&&(F={});const{prevResolvedValues:U={}}=w,O={...U,...F},J=$=>{P=!0,m.has($)&&(B=!0,m.delete($)),w.needsAnimating[$]=!0};for(const $ in O){const ie=F[$],H=U[$];if(g.hasOwnProperty($))continue;let j=!1;R1(ie)&&R1(H)?j=!TG(ie,H):j=ie!==H,j?ie!==void 0?J($):m.add($):ie!==void 0&&m.has($)?J($):w.protectedKeys[$]=!0}w.prevProp=A,w.prevResolvedValues=F,w.isActive&&(g={...g,...F}),r&&t.blockInitialAnimation&&(P=!1),P&&(!T||B)&&d.push(...N.map($=>({animation:$,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const w=t.getBaseTarget(_);w!==void 0&&(x[_]=w)}),d.push({animation:x})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Fde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TG(e,t):!1}function Lu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ode(){return{animate:Lu(!0),whileInView:Lu(),whileHover:Lu(),whileTap:Lu(),whileDrag:Lu(),whileFocus:Lu(),exit:Lu()}}class Nde extends lu{constructor(e){super(e),e.animationState||(e.animationState=kde(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),$x(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ude=0;class zde extends lu{constructor(){super(...arguments),this.id=Ude++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Gde={animation:{Feature:Nde},exit:{Feature:zde}},lL=(t,e)=>Math.abs(t-e);function Hde(t,e){const n=lL(t.x,e.x),r=lL(t.y,e.y);return Math.sqrt(n**2+r**2)}class o6{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=XS(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=Hde(f.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:g}=f,{timestamp:v}=ni;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=JS(d,this.transformPagePoint),Ln.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=XS(f.type==="pointercancel"?this.lastMoveEventInfo:JS(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!AG(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Kx(e),a=JS(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ni;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,XS(a,this.history)),this.removeListeners=Nl(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ha(this.updatePoint)}}function JS(t,e){return e?{point:e(t.point)}:t}function uL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XS({point:t},e){return{point:t,delta:uL(t,a6(e)),offset:uL(t,Vde(e)),velocity:Wde(e,.1)}}function Vde(t){return t[0]}function a6(t){return t[t.length-1]}function Wde(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=a6(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mc(e)));)n--;if(!r)return{x:0,y:0};const s=Pa(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cs(t){return t.max-t.min}function DM(t,e=0,n=.01){return Math.abs(t-e)<=n}function cL(t,e,n,r=.5){t.origin=r,t.originPoint=Xn(e.min,e.max,t.origin),t.scale=cs(n)/cs(e),(DM(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Xn(n.min,n.max,t.origin)-t.originPoint,(DM(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Kp(t,e,n,r){cL(t.x,e.x,n.x,r?r.originX:void 0),cL(t.y,e.y,n.y,r?r.originY:void 0)}function fL(t,e,n){t.min=n.min+e.min,t.max=t.min+cs(e)}function jde(t,e,n){fL(t.x,e.x,n.x),fL(t.y,e.y,n.y)}function dL(t,e,n){t.min=e.min-n.min,t.max=t.min+cs(e)}function Yp(t,e,n){dL(t.x,e.x,n.x),dL(t.y,e.y,n.y)}function $de(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xn(n,t,r.max):Math.min(t,n)),t}function hL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Jde(t,{top:e,left:n,bottom:r,right:i}){return{x:hL(t.x,n,i),y:hL(t.y,e,r)}}function pL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Xde(t,e){return{x:pL(t.x,e.x),y:pL(t.y,e.y)}}function Kde(t,e){let n=.5;const r=cs(t),i=cs(e);return i>r?n=Gm(e.min,e.max-r,t.min):r>i&&(n=Gm(t.min,t.max-i,e.min)),ql(0,1,n)}function Yde(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const LM=.35;function Qde(t=LM){return t===!1?t=0:t===!0&&(t=LM),{x:mL(t,"left","right"),y:mL(t,"top","bottom")}}function mL(t,e,n){return{min:gL(t,e),max:gL(t,n)}}function gL(t,e){return typeof t=="number"?t:t[e]||0}const vL=()=>({translate:0,scale:1,origin:0,originPoint:0}),ed=()=>({x:vL(),y:vL()}),yL=()=>({min:0,max:0}),mr=()=>({x:yL(),y:yL()});function As(t){return[t("x"),t("y")]}function l6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Zde({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qde(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function KS(t){return t===void 0||t===1}function kM({scale:t,scaleX:e,scaleY:n}){return!KS(t)||!KS(e)||!KS(n)}function Nu(t){return kM(t)||u6(t)||t.z||t.rotate||t.rotateX||t.rotateY}function u6(t){return xL(t.x)||xL(t.y)}function xL(t){return t&&t!=="0%"}function k1(t,e,n){const r=t-n,i=e*r;return n+i}function _L(t,e,n,r,i){return i!==void 0&&(t=k1(t,i,r)),k1(t,n,r)+e}function FM(t,e=0,n=1,r,i){t.min=_L(t.min,e,n,r,i),t.max=_L(t.max,e,n,r,i)}function c6(t,{x:e,y:n}){FM(t.x,e.translate,e.scale,e.originPoint),FM(t.y,n.translate,n.scale,n.originPoint)}function ehe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&td(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,c6(t,o)),r&&Nu(s.latestValues)&&td(t,s.latestValues))}e.x=wL(e.x),e.y=wL(e.y)}function wL(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function xl(t,e){t.min=t.min+e,t.max=t.max+e}function SL(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Xn(t.min,t.max,s);FM(t,e[n],e[r],o,e.scale)}const the=["x","scaleX","originX"],nhe=["y","scaleY","originY"];function td(t,e){SL(t.x,e,the),SL(t.y,e,nhe)}function f6(t,e){return l6(qde(t.getBoundingClientRect(),e))}function rhe(t,e,n){const r=f6(t,n),{scroll:i}=e;return i&&(xl(r.x,i.offset.x),xl(r.y,i.offset.y)),r}const d6=({current:t})=>t?t.ownerDocument.defaultView:null,ihe=new WeakMap;class she{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kx(c,"page").point)},s=(c,f)=>{const{drag:d,dragPropagation:m,onDragStart:g}=this.getProps();if(d&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=MG(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),As(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Go.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[y];w&&(x=cs(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Ln.update(()=>g(c,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=ohe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(c,f)},a=(c,f)=>this.stop(c,f),l=()=>As(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new o6(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:d6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ln.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$v(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$de(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Zf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Jde(i.layoutBox,n):this.constraints=!1,this.elastic=Qde(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&As(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Yde(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rhe(r,i.root,this.visualElement.getTransformPagePoint());let o=Xde(i.layout.layoutBox,s);if(n){const a=n(Zde(o));this.hasMutatedConstraints=!!a,a&&(o=l6(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=As(c=>{if(!$v(c,n,this.currentDirection))return;let f=l[c]||{};o&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(eT(e,r,0,n))}stopAnimation(){As(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){As(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){As(n=>{const{drag:r}=this.getProps();if(!$v(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Xn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};As(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Kde({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),As(o=>{if(!$v(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Xn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;ihe.set(this.visualElement,this);const e=this.visualElement.current,n=Ra(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(As(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=LM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function $v(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ohe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ahe extends lu{constructor(e){super(e),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new she(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const AL=t=>(e,n)=>{t&&Ln.update(()=>t(e,n))};class lhe extends lu{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(e){this.session=new o6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AL(e),onStart:AL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ln.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uhe(){const t=I.useContext(N2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=I.useId();return I.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Ay={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pt.test(t))t=parseFloat(t);else return t;const n=bL(t,e.target.x),r=bL(t,e.target.y);return`${n}% ${r}%`}},che={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=eu.parse(t);if(i.length>5)return r;const s=eu.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Xn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class fhe extends ae.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;yce(dhe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ay.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ln.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h6(t){const[e,n]=uhe(),r=I.useContext(lG);return ae.createElement(fhe,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(uG),isPresent:e,safeToRemove:n})}const dhe={borderRadius:{...hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hp,borderTopRightRadius:hp,borderBottomLeftRadius:hp,borderBottomRightRadius:hp,boxShadow:che},p6=["TopLeft","TopRight","BottomLeft","BottomRight"],hhe=p6.length,ML=t=>typeof t=="string"?parseFloat(t):t,EL=t=>typeof t=="number"||Pt.test(t);function phe(t,e,n,r,i,s){i?(t.opacity=Xn(0,n.opacity!==void 0?n.opacity:1,mhe(r)),t.opacityExit=Xn(e.opacity!==void 0?e.opacity:1,0,ghe(r))):s&&(t.opacity=Xn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<hhe;o++){const a=`border${p6[o]}Radius`;let l=CL(e,a),u=CL(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||EL(l)===EL(u)?(t[a]=Math.max(Xn(ML(l),ML(u),r),0),(Go.test(u)||Go.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Xn(e.rotate||0,n.rotate||0,r))}function CL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mhe=m6(0,.5,OG),ghe=m6(.5,.95,fr);function m6(t,e,n){return r=>r<t?0:r>e?1:n(Gm(t,e,r))}function TL(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){TL(t.x,e.x),TL(t.y,e.y)}function RL(t,e,n,r,i){return t-=e,t=k1(t,1/n,r),i!==void 0&&(t=k1(t,1/i,r)),t}function vhe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Go.test(e)&&(e=parseFloat(e),e=Xn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Xn(s.min,s.max,r);t===s&&(a-=e),t.min=RL(t.min,e,n,a,i),t.max=RL(t.max,e,n,a,i)}function PL(t,e,[n,r,i],s,o){vhe(t,e[n],e[r],e[i],e.scale,s,o)}const yhe=["x","scaleX","originX"],xhe=["y","scaleY","originY"];function IL(t,e,n,r){PL(t.x,e,yhe,n?n.x:void 0,r?r.x:void 0),PL(t.y,e,xhe,n?n.y:void 0,r?r.y:void 0)}function BL(t){return t.translate===0&&t.scale===1}function g6(t){return BL(t.x)&&BL(t.y)}function _he(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function v6(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function DL(t){return cs(t.x)/cs(t.y)}class whe{constructor(){this.members=[]}add(e){tT(this.members,e),e.scheduleRender()}remove(e){if(nT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LL(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const She=(t,e)=>t.depth-e.depth;class Ahe{constructor(){this.children=[],this.isDirty=!1}add(e){tT(this.children,e),this.isDirty=!0}remove(e){nT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(She),this.isDirty=!1,this.children.forEach(e)}}function bhe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ha(r),t(s-e))};return Ln.read(r,!0),()=>Ha(r)}function Mhe(t){window.MotionDebug&&window.MotionDebug.record(t)}function Ehe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Che(t,e,n){const r=Gi(t)?t:Ld(t);return r.start(eT("",r,e,n)),r.animation}const kL=["","X","Y","Z"],The={visibility:"hidden"},FL=1e3;let Rhe=0;const Uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function y6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Rhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Uu.totalNodes=Uu.resolvedTargetDeltas=Uu.recalculatedProjection=0,this.nodes.forEach(Bhe),this.nodes.forEach(Ohe),this.nodes.forEach(Nhe),this.nodes.forEach(Dhe),Mhe(Uu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ahe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ehe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=bhe(d,250),Ay.hasAnimatedSinceResize&&(Ay.hasAnimatedSinceResize=!1,this.nodes.forEach(NL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Vhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),_=!this.targetLayout||!v6(this.targetLayout,g)||m,w=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...q2(v,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||NL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OL);return}this.isUpdating||this.nodes.forEach(khe),this.isUpdating=!1,this.nodes.forEach(Fhe),this.nodes.forEach(Phe),this.nodes.forEach(Ihe),this.clearAllSnapshots();const a=performance.now();ni.delta=ql(0,1e3/60,a-ni.timestamp),ni.timestamp=a,ni.isProcessing=!0,zS.update.process(ni),zS.preRender.process(ni),zS.render.process(ni),ni.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Lhe),this.sharedNodes.forEach(zhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!g6(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Nu(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Whe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return mr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(xl(a.x,l.offset.x),xl(a.y,l.offset.y)),a}removeElementScroll(o){const a=mr();Ss(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Ss(a,o);const{scroll:d}=this.root;d&&(xl(a.x,-d.offset.x),xl(a.y,-d.offset.y))}xl(a.x,c.offset.x),xl(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=mr();Ss(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&td(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Nu(c.latestValues)&&td(l,c.latestValues)}return Nu(this.latestValues)&&td(l,this.latestValues),l}removeTransform(o){const a=mr();Ss(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Nu(u.latestValues))continue;kM(u.latestValues)&&u.updateSnapshot();const c=mr(),f=u.measurePageBox();Ss(c,f),IL(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Nu(this.latestValues)&&IL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ni.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ni.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Yp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mr(),this.targetWithTransforms=mr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),c6(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),Yp(this.relativeTargetOrigin,this.target,m.target),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kM(this.parent.latestValues)||u6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ni.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Ss(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;ehe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=ed(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ed(),this.projectionDeltaWithTransform=ed());const v=this.projectionTransform;Kp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=LL(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=ed();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=mr(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,y=this.getStack(),x=!y||y.members.length<=1,_=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Hhe));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const M=A/1e3;UL(f.x,o.x,M),UL(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yp(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ghe(this.relativeTarget,this.relativeTargetOrigin,d,M),w&&_he(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=mr()),Ss(w,this.relativeTarget)),v&&(this.animationValues=c,phe(c,u,this.latestValues,M,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ln.update(()=>{Ay.hasAnimatedSinceResize=!0,this.currentAnimation=Che(0,FL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&x6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mr();const f=cs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=cs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ss(a,l),td(a,c),Kp(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new whe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<kL.length;c++){const f="rotate"+kL[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return The;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sy(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Sy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Nu(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=LL(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in C1){if(d[v]===void 0)continue;const{correct:y,applyTo:x}=C1[v],_=u.transform==="none"?d[v]:y(d[v],f);if(x){const w=x.length;for(let A=0;A<w;A++)u[x[A]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=f===this?Sy(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(OL),this.root.sharedNodes.clear()}}}function Phe(t){t.updateLayout()}function Ihe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?As(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=cs(d);d.min=r[f].min,d.max=d.min+m}):x6(s,n.layoutBox,r)&&As(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=cs(r[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=ed();Kp(a,r,n.layoutBox);const l=ed();o?Kp(l,t.applyTransform(i,!0),n.measuredBox):Kp(l,r,n.layoutBox);const u=!g6(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const g=mr();Yp(g,n.layoutBox,d.layoutBox);const v=mr();Yp(v,r,m.layoutBox),v6(g,v)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Bhe(t){Uu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Dhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Lhe(t){t.clearSnapshot()}function OL(t){t.clearMeasurements()}function khe(t){t.isLayoutDirty=!1}function Fhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function NL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ohe(t){t.resolveTargetDelta()}function Nhe(t){t.calcProjection()}function Uhe(t){t.resetRotation()}function zhe(t){t.removeLeadSnapshot()}function UL(t,e,n){t.translate=Xn(e.translate,0,n),t.scale=Xn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zL(t,e,n,r){t.min=Xn(e.min,n.min,r),t.max=Xn(e.max,n.max,r)}function Ghe(t,e,n,r){zL(t.x,e.x,n.x,r),zL(t.y,e.y,n.y,r)}function Hhe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vhe={duration:.45,ease:[.4,0,.1,1]},GL=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),HL=GL("applewebkit/")&&!GL("chrome/")?Math.round:fr;function VL(t){t.min=HL(t.min),t.max=HL(t.max)}function Whe(t){VL(t.x),VL(t.y)}function x6(t,e,n){return t==="position"||t==="preserve-aspect"&&!DM(DL(e),DL(n),.2)}const jhe=y6({attachResizeListener:(t,e)=>Ma(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YS={current:void 0},_6=y6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!YS.current){const t=new jhe({});t.mount(window),t.setOptions({layoutScroll:!0}),YS.current=t}return YS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$he={pan:{Feature:lhe},drag:{Feature:ahe,ProjectionNode:_6,MeasureLayout:h6}},Jhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Xhe(t){const e=Jhe.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function OM(t,e,n=1){const[r,i]=Xhe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return n6(o)?parseFloat(o):o}else return EM(i)?OM(i,e,n+1):i}function Khe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!EM(s))return;const o=OM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!EM(s))continue;const o=OM(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Yhe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),w6=t=>Yhe.has(t),Qhe=t=>Object.keys(t).some(w6),WL=t=>t===Vc||t===Pt,jL=(t,e)=>parseFloat(t.split(", ")[e]),$L=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return jL(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?jL(s[1],t):0}},Zhe=new Set(["x","y","z"]),qhe=Tg.filter(t=>!Zhe.has(t));function epe(t){const e=[];return qhe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const kd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$L(4,13),y:$L(5,14)};kd.translateX=kd.x;kd.translateY=kd.y;const tpe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=kd[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=kd[u](l,s)}),t},npe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(w6);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],f=dp(c);const d=e[l];let m;if(R1(d)){const g=d.length,v=d[0]===null?1:0;c=d[v],f=dp(c);for(let y=v;y<g&&d[y]!==null;y++)m?P1(dp(d[y])===m):m=dp(d[y])}else m=dp(d);if(f!==m)if(WL(f)&&WL(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&m===Pt&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(c===0||d===0)?c===0?u.set(m.transform(c)):e[l]=f.transform(d):(o||(s=epe(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=tpe(e,t,a);return s.length&&s.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),jx&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function rpe(t,e,n,r){return Qhe(e)?npe(t,e,n,r):{target:e,transitionEnd:r}}const ipe=(t,e,n,r)=>{const i=Khe(t,e,r);return e=i.target,r=i.transitionEnd,rpe(t,e,n,r)},NM={current:null},S6={current:!1};function spe(){if(S6.current=!0,!!jx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>NM.current=t.matches;t.addListener(e),e()}else NM.current=!1}function ope(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Gi(s))t.addValue(i,s),L1(r)&&r.add(i);else if(Gi(o))t.addValue(i,Ld(s,{owner:t})),L1(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ld(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const JL=new WeakMap,A6=Object.keys(zm),ape=A6.length,XL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lpe=G2.length;class upe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ln.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Jx(n),this.isVariantNode=aG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];a[f]!==void 0&&Gi(d)&&(d.set(a[f],!1),L1(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,JL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),S6.current||spe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JL.delete(this.current),this.projection&&this.projection.unmount(),Ha(this.notifyUpdate),Ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Hc.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ln.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<ape;l++){const u=A6[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:m}=zm[u];d&&(o=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Zf(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XL.length;r++){const i=XL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ope(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<lpe;r++){const i=G2[r],s=this.props[i];(Um(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ld(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=X2(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Gi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class b6 extends upe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Ede(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){bde(this,r,o);const a=ipe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function cpe(t){return window.getComputedStyle(t)}class fpe extends b6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Hc.has(n)){const r=Z2(n);return r&&r.default||0}else{const r=cpe(e),i=(dG(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f6(e,n)}build(e,n,r,i){V2(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return J2(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){yG(e,n,r,i)}}class dpe extends b6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hc.has(n)){const r=Z2(n);return r&&r.default||0}return n=xG.has(n)?n:U2(n),e.getAttribute(n)}measureInstanceViewportBox(){return mr()}scrapeMotionValuesFromProps(e,n){return wG(e,n)}build(e,n,r,i){j2(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){_G(e,n,r,i)}mount(e){this.isSVGTag=$2(e.tagName),super.mount(e)}}const hpe=(t,e)=>H2(t)?new dpe(e,{enableHardwareAcceleration:!1}):new fpe(e,{enableHardwareAcceleration:!0}),ppe={layout:{ProjectionNode:_6,MeasureLayout:h6}},mpe={...Gde,...lfe,...$he,...ppe},gpe=gce((t,e)=>Kce(t,e,mpe,hpe));var Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fi.apply(this,arguments)};function F1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Rn="-ms-",Qp="-moz-",pn="-webkit-",M6="comm",Qx="rule",iT="decl",vpe="@import",E6="@keyframes",ype="@layer",C6=Math.abs,sT=String.fromCharCode,UM=Object.assign;function xpe(t,e){return kr(t,0)^45?(((e<<2^kr(t,0))<<2^kr(t,1))<<2^kr(t,2))<<2^kr(t,3):0}function T6(t){return t.trim()}function pa(t,e){return(t=e.exec(t))?t[0]:t}function Xt(t,e,n){return t.replace(e,n)}function by(t,e,n){return t.indexOf(e,n)}function kr(t,e){return t.charCodeAt(e)|0}function Fd(t,e,n){return t.slice(e,n)}function Lo(t){return t.length}function R6(t){return t.length}function bp(t,e){return e.push(t),t}function _pe(t,e){return t.map(e).join("")}function KL(t,e){return t.filter(function(n){return!pa(n,e)})}var Zx=1,Od=1,P6=0,Gs=0,vr=0,lh="";function qx(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Zx,column:Od,length:o,return:"",siblings:a}}function ml(t,e){return UM(qx("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function If(t){for(;t.root;)t=ml(t.root,{children:[t]});bp(t,t.siblings)}function wpe(){return vr}function Spe(){return vr=Gs>0?kr(lh,--Gs):0,Od--,vr===10&&(Od=1,Zx--),vr}function co(){return vr=Gs<P6?kr(lh,Gs++):0,Od++,vr===10&&(Od=1,Zx++),vr}function gc(){return kr(lh,Gs)}function My(){return Gs}function e_(t,e){return Fd(lh,t,e)}function zM(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ape(t){return Zx=Od=1,P6=Lo(lh=t),Gs=0,[]}function bpe(t){return lh="",t}function QS(t){return T6(e_(Gs-1,GM(t===91?t+2:t===40?t+1:t)))}function Mpe(t){for(;(vr=gc())&&vr<33;)co();return zM(t)>2||zM(vr)>3?"":" "}function Epe(t,e){for(;--e&&co()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return e_(t,My()+(e<6&&gc()==32&&co()==32))}function GM(t){for(;co();)switch(vr){case t:return Gs;case 34:case 39:t!==34&&t!==39&&GM(vr);break;case 40:t===41&&GM(t);break;case 92:co();break}return Gs}function Cpe(t,e){for(;co()&&t+vr!==57;)if(t+vr===84&&gc()===47)break;return"/*"+e_(e,Gs-1)+"*"+sT(t===47?t:co())}function Tpe(t){for(;!zM(gc());)co();return e_(t,Gs)}function Rpe(t){return bpe(Ey("",null,null,null,[""],t=Ape(t),0,[0],t))}function Ey(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,f=o,d=0,m=0,g=0,v=1,y=1,x=1,_=0,w="",A=i,M=s,C=r,T=w;y;)switch(g=_,_=co()){case 40:if(g!=108&&kr(T,f-1)==58){by(T+=Xt(QS(_),"&","&\f"),"&\f",C6(u?a[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:T+=QS(_);break;case 9:case 10:case 13:case 32:T+=Mpe(g);break;case 92:T+=Epe(My()-1,7);continue;case 47:switch(gc()){case 42:case 47:bp(Ppe(Cpe(co(),My()),e,n,l),l);break;default:T+="/"}break;case 123*v:a[u++]=Lo(T)*x;case 125*v:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:x==-1&&(T=Xt(T,/\f/g,"")),m>0&&Lo(T)-f&&bp(m>32?QL(T+";",r,n,f-1,l):QL(Xt(T," ","")+";",r,n,f-2,l),l);break;case 59:T+=";";default:if(bp(C=YL(T,e,n,u,c,i,a,w,A=[],M=[],f,s),s),_===123)if(c===0)Ey(T,e,C,C,A,s,f,a,M);else switch(d===99&&kr(T,3)===110?100:d){case 100:case 108:case 109:case 115:Ey(t,C,C,r&&bp(YL(t,C,C,0,0,i,a,w,i,A=[],f,M),M),i,M,f,a,r?A:M);break;default:Ey(T,C,C,C,[""],M,0,a,M)}}u=c=m=0,v=x=1,w=T="",f=o;break;case 58:f=1+Lo(T),m=g;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&Spe()==125)continue}switch(T+=sT(_),_*v){case 38:x=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Lo(T)-1)*x,x=1;break;case 64:gc()===45&&(T+=QS(co())),d=gc(),c=f=Lo(w=T+=Tpe(My())),_++;break;case 45:g===45&&Lo(T)==2&&(v=0)}}return s}function YL(t,e,n,r,i,s,o,a,l,u,c,f){for(var d=i-1,m=i===0?s:[""],g=R6(m),v=0,y=0,x=0;v<r;++v)for(var _=0,w=Fd(t,d+1,d=C6(y=o[v])),A=t;_<g;++_)(A=T6(y>0?m[_]+" "+w:Xt(w,/&\f/g,m[_])))&&(l[x++]=A);return qx(t,e,n,i===0?Qx:a,l,u,c,f)}function Ppe(t,e,n,r){return qx(t,e,n,M6,sT(wpe()),Fd(t,2,-2),0,r)}function QL(t,e,n,r,i){return qx(t,e,n,iT,Fd(t,0,r),Fd(t,r+1,-1),r,i)}function I6(t,e,n){switch(xpe(t,e)){case 5103:return pn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pn+t+t;case 4789:return Qp+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pn+t+Qp+t+Rn+t+t;case 5936:switch(kr(t,e+11)){case 114:return pn+t+Rn+Xt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pn+t+Rn+Xt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pn+t+Rn+Xt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return pn+t+Rn+t+t;case 6165:return pn+t+Rn+"flex-"+t+t;case 5187:return pn+t+Xt(t,/(\w+).+(:[^]+)/,pn+"box-$1$2"+Rn+"flex-$1$2")+t;case 5443:return pn+t+Rn+"flex-item-"+Xt(t,/flex-|-self/g,"")+(pa(t,/flex-|baseline/)?"":Rn+"grid-row-"+Xt(t,/flex-|-self/g,""))+t;case 4675:return pn+t+Rn+"flex-line-pack"+Xt(t,/align-content|flex-|-self/g,"")+t;case 5548:return pn+t+Rn+Xt(t,"shrink","negative")+t;case 5292:return pn+t+Rn+Xt(t,"basis","preferred-size")+t;case 6060:return pn+"box-"+Xt(t,"-grow","")+pn+t+Rn+Xt(t,"grow","positive")+t;case 4554:return pn+Xt(t,/([^-])(transform)/g,"$1"+pn+"$2")+t;case 6187:return Xt(Xt(Xt(t,/(zoom-|grab)/,pn+"$1"),/(image-set)/,pn+"$1"),t,"")+t;case 5495:case 3959:return Xt(t,/(image-set\([^]*)/,pn+"$1$`$1");case 4968:return Xt(Xt(t,/(.+:)(flex-)?(.*)/,pn+"box-pack:$3"+Rn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pn+t+t;case 4200:if(!pa(t,/flex-|baseline/))return Rn+"grid-column-align"+Fd(t,e)+t;break;case 2592:case 3360:return Rn+Xt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,pa(r.props,/grid-\w+-end/)})?~by(t+(n=n[e].value),"span",0)?t:Rn+Xt(t,"-start","")+t+Rn+"grid-row-span:"+(~by(n,"span",0)?pa(n,/\d+/):+pa(n,/\d+/)-+pa(t,/\d+/))+";":Rn+Xt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return pa(r.props,/grid-\w+-start/)})?t:Rn+Xt(Xt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Xt(t,/(.+)-inline(.+)/,pn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lo(t)-1-e>6)switch(kr(t,e+1)){case 109:if(kr(t,e+4)!==45)break;case 102:return Xt(t,/(.+:)(.+)-([^]+)/,"$1"+pn+"$2-$3$1"+Qp+(kr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~by(t,"stretch",0)?I6(Xt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Xt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Rn+i+":"+s+u+(o?Rn+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(kr(t,e+6)===121)return Xt(t,":",":"+pn)+t;break;case 6444:switch(kr(t,kr(t,14)===45?18:11)){case 120:return Xt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+pn+(kr(t,14)===45?"inline-":"")+"box$3$1"+pn+"$2$3$1"+Rn+"$2box$3")+t;case 100:return Xt(t,":",":"+Rn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Xt(t,"scroll-","scroll-snap-")+t}return t}function O1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Ipe(t,e,n,r){switch(t.type){case ype:if(t.children.length)break;case vpe:case iT:return t.return=t.return||t.value;case M6:return"";case E6:return t.return=t.value+"{"+O1(t.children,r)+"}";case Qx:if(!Lo(t.value=t.props.join(",")))return""}return Lo(n=O1(t.children,r))?t.return=t.value+"{"+n+"}":""}function Bpe(t){var e=R6(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Dpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Lpe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case iT:t.return=I6(t.value,t.length,n);return;case E6:return O1([ml(t,{value:Xt(t.value,"@","@"+pn)})],r);case Qx:if(t.length)return _pe(n=t.props,function(i){switch(pa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":If(ml(t,{props:[Xt(i,/:(read-\w+)/,":"+Qp+"$1")]})),If(ml(t,{props:[i]})),UM(t,{props:KL(n,r)});break;case"::placeholder":If(ml(t,{props:[Xt(i,/:(plac\w+)/,":"+pn+"input-$1")]})),If(ml(t,{props:[Xt(i,/:(plac\w+)/,":"+Qp+"$1")]})),If(ml(t,{props:[Xt(i,/:(plac\w+)/,Rn+"input-$1")]})),If(ml(t,{props:[i]})),UM(t,{props:KL(n,r)});break}return""})}}var kpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zi={},Nd=typeof process<"u"&&Zi!==void 0&&(Zi.REACT_APP_SC_ATTR||Zi.SC_ATTR)||"data-styled",B6="active",D6="data-styled-version",t_="6.1.14",oT=`/*!sc*/
`,N1=typeof window<"u"&&"HTMLElement"in window,Fpe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Zi!==void 0&&Zi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Zi.REACT_APP_SC_DISABLE_SPEEDY!==""?Zi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Zi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Zi!==void 0&&Zi.SC_DISABLE_SPEEDY!==void 0&&Zi.SC_DISABLE_SPEEDY!==""&&Zi.SC_DISABLE_SPEEDY!=="false"&&Zi.SC_DISABLE_SPEEDY),n_=Object.freeze([]),Ud=Object.freeze({});function Ope(t,e,n){return n===void 0&&(n=Ud),t.theme!==n.theme&&t.theme||e||n.theme}var L6=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Npe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Upe=/(^-|-$)/g;function ZL(t){return t.replace(Npe,"-").replace(Upe,"")}var zpe=/(a)(d)/gi,Jv=52,qL=function(t){return String.fromCharCode(t+(t>25?39:97))};function HM(t){var e,n="";for(e=Math.abs(t);e>Jv;e=e/Jv|0)n=qL(e%Jv)+n;return(qL(e%Jv)+n).replace(zpe,"$1-$2")}var ZS,k6=5381,nd=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},F6=function(t){return nd(k6,t)};function Gpe(t){return HM(F6(t)>>>0)}function Hpe(t){return t.displayName||t.name||"Component"}function qS(t){return typeof t=="string"&&!0}var O6=typeof Symbol=="function"&&Symbol.for,N6=O6?Symbol.for("react.memo"):60115,Vpe=O6?Symbol.for("react.forward_ref"):60112,Wpe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jpe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$pe=((ZS={})[Vpe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZS[N6]=U6,ZS);function ek(t){return("type"in(e=t)&&e.type.$$typeof)===N6?U6:"$$typeof"in t?$pe[t.$$typeof]:Wpe;var e}var Jpe=Object.defineProperty,Xpe=Object.getOwnPropertyNames,tk=Object.getOwnPropertySymbols,Kpe=Object.getOwnPropertyDescriptor,Ype=Object.getPrototypeOf,nk=Object.prototype;function z6(t,e,n){if(typeof e!="string"){if(nk){var r=Ype(e);r&&r!==nk&&z6(t,r,n)}var i=Xpe(e);tk&&(i=i.concat(tk(e)));for(var s=ek(t),o=ek(e),a=0;a<i.length;++a){var l=i[a];if(!(l in jpe||n&&n[l]||o&&l in o||s&&l in s)){var u=Kpe(e,l);try{Jpe(t,l,u)}catch{}}}}return t}function zd(t){return typeof t=="function"}function aT(t){return typeof t=="object"&&"styledComponentId"in t}function nc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function rk(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Hm(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function VM(t,e,n){if(n===void 0&&(n=!1),!n&&!Hm(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=VM(t[r],e[r]);else if(Hm(e))for(var r in e)t[r]=VM(t[r],e[r]);return t}function lT(t,e){Object.defineProperty(t,"toString",{value:e})}function Bg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Qpe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Bg(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(oT);return n},t}(),Cy=new Map,U1=new Map,Ty=1,Xv=function(t){if(Cy.has(t))return Cy.get(t);for(;U1.has(Ty);)Ty++;var e=Ty++;return Cy.set(t,e),U1.set(e,t),e},Zpe=function(t,e){Ty=e+1,Cy.set(t,e),U1.set(e,t)},qpe="style[".concat(Nd,"][").concat(D6,'="').concat(t_,'"]'),eme=new RegExp("^".concat(Nd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tme=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},nme=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(oT),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(eme);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(Zpe(c,u),tme(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},ik=function(t){for(var e=document.querySelectorAll(qpe),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Nd)!==B6&&(nme(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function rme(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var G6=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Nd,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Nd,B6),r.setAttribute(D6,t_);var o=rme();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},ime=function(){function t(e){this.element=G6(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Bg(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),sme=function(){function t(e){this.element=G6(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),ome=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),sk=N1,ame={isServer:!N1,useCSSOMInjection:!Fpe},H6=function(){function t(e,n,r){e===void 0&&(e=Ud),n===void 0&&(n={});var i=this;this.options=Fi(Fi({},ame),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&N1&&sk&&(sk=!1,ik(this)),lT(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(f){var d=function(x){return U1.get(x)}(f);if(d===void 0)return"continue";var m=s.names.get(d),g=o.getGroup(f);if(m===void 0||!m.size||g.length===0)return"continue";var v="".concat(Nd,".g").concat(f,'[id="').concat(d,'"]'),y="";m!==void 0&&m.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(g).concat(v,'{content:"').concat(y,'"}').concat(oT)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return Xv(e)},t.prototype.rehydrate=function(){!this.server&&N1&&ik(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Fi(Fi({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new ome(i):r?new ime(i):new sme(i)}(this.options),new Qpe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Xv(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Xv(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Xv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),lme=/&/g,ume=/^\s*\/\/.*$/gm;function V6(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=V6(n.children,e)),n})}function cme(t){var e,n,r,i=Ud,s=i.options,o=s===void 0?Ud:s,a=i.plugins,l=a===void 0?n_:a,u=function(d,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===Qx&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(lme,n).replace(r,u))}),o.prefix&&c.push(Lpe),c.push(Ipe);var f=function(d,m,g,v){m===void 0&&(m=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var y=d.replace(ume,""),x=Rpe(g||m?"".concat(g," ").concat(m," { ").concat(y," }"):y);o.namespace&&(x=V6(x,o.namespace));var _=[];return O1(x,Bpe(c.concat(Dpe(function(w){return _.push(w)})))),_};return f.hash=l.length?l.reduce(function(d,m){return m.name||Bg(15),nd(d,m.name)},k6).toString():"",f}var fme=new H6,WM=cme(),W6=ae.createContext({shouldForwardProp:void 0,styleSheet:fme,stylis:WM});W6.Consumer;ae.createContext(void 0);function ok(){return I.useContext(W6)}var dme=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=WM);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,lT(this,function(){throw Bg(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=WM),this.name+e.hash},t}(),hme=function(t){return t>="A"&&t<="Z"};function ak(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;hme(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var j6=function(t){return t==null||t===!1||t===""},$6=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!j6(s)&&(Array.isArray(s)&&s.isCss||zd(s)?r.push("".concat(ak(i),":"),s,";"):Hm(s)?r.push.apply(r,F1(F1(["".concat(i," {")],$6(s),!1),["}"],!1)):r.push("".concat(ak(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in kpe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function vc(t,e,n,r){if(j6(t))return[];if(aT(t))return[".".concat(t.styledComponentId)];if(zd(t)){if(!zd(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return vc(i,e,n,r)}var s;return t instanceof dme?n?(t.inject(n,r),[t.getName(r)]):[t]:Hm(t)?$6(t):Array.isArray(t)?Array.prototype.concat.apply(n_,t.map(function(o){return vc(o,e,n,r)})):[t.toString()]}function pme(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(zd(n)&&!aT(n))return!1}return!0}var mme=F6(t_),gme=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&pme(e),this.componentId=n,this.baseHash=nd(mme,n),this.baseStyle=r,H6.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=nc(i,this.staticRulesId);else{var s=rk(vc(this.rules,e,n,r)),o=HM(nd(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=nc(i,o),this.staticRulesId=o}else{for(var l=nd(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var d=rk(vc(f,e,n,r));l=nd(l,d+c),u+=d}}if(u){var m=HM(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),i=nc(i,m)}}return i},t}(),J6=ae.createContext(void 0);J6.Consumer;var eA={};function vme(t,e,n){var r=aT(t),i=t,s=!qS(t),o=e.attrs,a=o===void 0?n_:o,l=e.componentId,u=l===void 0?function(A,M){var C=typeof A!="string"?"sc":ZL(A);eA[C]=(eA[C]||0)+1;var T="".concat(C,"-").concat(Gpe(t_+C+eA[C]));return M?"".concat(M,"-").concat(T):T}(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?function(A){return qS(A)?"styled.".concat(A):"Styled(".concat(Hpe(A),")")}(t):c,d=e.displayName&&e.componentId?"".concat(ZL(e.displayName),"-").concat(e.componentId):e.componentId||u,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(A,M){return v(A,M)&&y(A,M)}}else g=v}var x=new gme(n,d,r?i.componentStyle:void 0);function _(A,M){return function(C,T,E){var P=C.attrs,B=C.componentStyle,N=C.defaultProps,F=C.foldedComponentIds,U=C.styledComponentId,O=C.target,J=ae.useContext(J6),$=ok(),ie=C.shouldForwardProp||$.shouldForwardProp,H=Ope(T,J,N)||Ud,j=function(ee,Y,ue){for(var ce,Te=Fi(Fi({},Y),{className:void 0,theme:ue}),we=0;we<ee.length;we+=1){var ve=zd(ce=ee[we])?ce(Te):ce;for(var oe in ve)Te[oe]=oe==="className"?nc(Te[oe],ve[oe]):oe==="style"?Fi(Fi({},Te[oe]),ve[oe]):ve[oe]}return Y.className&&(Te.className=nc(Te.className,Y.className)),Te}(P,T,H),W=j.as||O,G={};for(var z in j)j[z]===void 0||z[0]==="$"||z==="as"||z==="theme"&&j.theme===H||(z==="forwardedAs"?G.as=j.forwardedAs:ie&&!ie(z,W)||(G[z]=j[z]));var X=function(ee,Y){var ue=ok(),ce=ee.generateAndInjectStyles(Y,ue.styleSheet,ue.stylis);return ce}(B,j),ne=nc(F,U);return X&&(ne+=" "+X),j.className&&(ne+=" "+j.className),G[qS(W)&&!L6.has(W)?"class":"className"]=ne,E&&(G.ref=E),I.createElement(W,G)}(w,A,M)}_.displayName=f;var w=ae.forwardRef(_);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=g,w.foldedComponentIds=r?nc(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=d,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(M){for(var C=[],T=1;T<arguments.length;T++)C[T-1]=arguments[T];for(var E=0,P=C;E<P.length;E++)VM(M,P[E],!0);return M}({},i.defaultProps,A):A}}),lT(w,function(){return".".concat(w.styledComponentId)}),s&&z6(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function lk(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var uk=function(t){return Object.assign(t,{isCss:!0})};function yme(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zd(t)||Hm(t))return uk(vc(lk(n_,F1([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?vc(r):uk(vc(lk(r,e)))}function jM(t,e,n){if(n===void 0&&(n=Ud),!e)throw Bg(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,yme.apply(void 0,F1([i],s,!1)))};return r.attrs=function(i){return jM(t,e,Fi(Fi({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return jM(t,e,Fi(Fi({},n),i))},r}var X6=function(t){return jM(vme,t)},K6=X6;L6.forEach(function(t){K6[t]=X6(t)});K6(gpe.div)`
  // ... existing styles ...
`;function xme(){}function _me(){const{progress:t}=ZY();return De.jsxs(JY,{center:!0,children:[t.toFixed(0)," % loaded"]})}const pp=I.memo(({children:t,url:e})=>De.jsx("group",{onClick:()=>window.open(e,"_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:t})),Y6=document.createElement("style");Y6.textContent=`
  @keyframes rotatePhone {
    0% {
      transform: rotate(-90deg);
    }
    20% {
      transform: rotate(0deg);
    }
    80% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(-90deg);
    }
  }
`;document.head.appendChild(Y6);const wme=()=>De.jsx("div",{style:{fontSize:"48px",marginBottom:"30px",animation:"rotatePhone 2s infinite ease-in-out"},children:""}),Sme=()=>De.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,textAlign:"center",margin:0,overflow:"hidden"},children:[De.jsx(wme,{}),De.jsx("div",{style:{fontSize:"24px",marginBottom:"20px",padding:"20px"},children:"Prosz obrci ekran"}),De.jsx("div",{style:{fontSize:"16px",width:"90%",padding:"20px"},children:"Dla lepszego dowiadczenia, zalecamy korzystanie z aplikacji w proporcji szerokoci do wysokoci minimum 3:2."})]}),Ame={width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",position:"fixed",top:0,left:0};function bme({externalHover:t=!1}){var c;const{scene:e}=Wn("./models/euro.glb"),[n,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef();I.useEffect(()=>{const f=setTimeout(()=>{r(!0)},4150);return()=>clearTimeout(f)},[]);const{scale:a,position:l,rotation:u}=ai({scale:n?.5:0,position:[-1.2,i||t?-.4+.2:-.4,2.5],rotation:[0,((c=o.current)==null?void 0:c.rotation.y)||0,i||t?Math.PI*.1:0],config:{tension:170,friction:26}});return Uc((f,d)=>{o.current&&(o.current.rotation.y+=d*.5)}),De.jsx(li.primitive,{ref:o,visible:n,object:e,scale:a,position:l,rotation:u,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function Mme(){const{scene:t,animations:e}=Wn("./models/Fotowolt.glb"),[n,r]=I.useState(!1),i=I.useRef(),s=o2(e,t),{positionX:o,positionY:a,positionZ:l,rotationY:u,scaleValue:c}=Ws("Fotowolt",{positionX:{value:2.96,min:-1,max:4,step:.001},positionY:{value:-.36,min:-1,max:1,step:.001},positionZ:{value:2.62,min:0,max:4,step:.001},rotationY:{value:4.23,min:0,max:Math.PI*2,step:.001},scaleValue:{value:.3,min:0,max:1,step:.001}});I.useEffect(()=>{Object.keys(s.actions).forEach(m=>{s.actions[m].play()})},[s]),I.useEffect(()=>{const d=setTimeout(()=>{r(!0)},4450);return()=>clearTimeout(d)},[]);const{scale:f}=ai({scale:n?c:0,config:{tension:170,friction:26}});return De.jsx(li.primitive,{ref:i,visible:n,object:t,scale:f,position:[o,a,l],"rotation-y":u})}function Eme(){const[t,e]=I.useState(!1),n=Ws("Programy Text",{positionX:{value:-2.6,min:-5,max:5,step:.1},positionY:{value:-.5,min:-5,max:5,step:.001},positionZ:{value:2.812,min:-5,max:5,step:.1},scale:{value:.16,min:0,max:1,step:.01},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}});I.useEffect(()=>{const s=setTimeout(()=>{e(!0)},4350);return()=>clearTimeout(s)},[]);const{scale:r,rotation:i}=ai({scale:t?n.scale:0,rotation:[0,n.rotationY,0],config:{tension:170,friction:26}});return De.jsx(li.mesh,{position:[n.positionX,n.positionY,n.positionZ],scale:r,rotation:i,children:De.jsx(Dx,{font:"/fonts/ubuntu-v20-latin-regular.woff",fontSize:1,color:"white",anchorX:"center",anchorY:"middle",children:"Programy"})})}function Cme(){const[t,e]=I.useState(!1),n=Ws("Finansowanie Text",{positionX:{value:-.8,min:-5,max:5,step:.1},positionY:{value:-.57,min:-5,max:5,step:.1},positionZ:{value:2.818,min:-5,max:5,step:.1},scale:{value:.16,min:0,max:1,step:.01},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}});I.useEffect(()=>{const s=setTimeout(()=>{e(!0)},4350);return()=>clearTimeout(s)},[]);const{scale:r,rotation:i}=ai({scale:t?n.scale:0,rotation:[0,n.rotationY,0],config:{tension:170,friction:26}});return De.jsx(li.mesh,{position:[n.positionX,n.positionY,n.positionZ],scale:r,rotation:i,children:De.jsx(Dx,{font:"/fonts/ubuntu-v20-latin-regular.woff",fontSize:1,color:"white",anchorX:"center",anchorY:"middle",children:"Finansowanie"})})}function Tme(){const[t,e]=I.useState(!1),n=Ws("Technologie Text",{positionX:{value:.6,min:-5,max:5,step:.1},positionY:{value:-.585,min:-5,max:5,step:.1},positionZ:{value:2.89,min:-5,max:5,step:.1},scale:{value:.16,min:0,max:1,step:.01},rotationY:{value:.12,min:0,max:Math.PI*2,step:.01}});I.useEffect(()=>{const s=setTimeout(()=>{e(!0)},4350);return()=>clearTimeout(s)},[]);const{scale:r,rotation:i}=ai({scale:t?n.scale:0,rotation:[0,n.rotationY,0],config:{tension:170,friction:26}});return De.jsx(li.mesh,{position:[n.positionX,n.positionY,n.positionZ],scale:r,rotation:i,children:De.jsx(Dx,{font:"/fonts/ubuntu-v20-latin-regular.woff",fontSize:.9,color:"white",anchorX:"center",anchorY:"middle",children:"Technologie"})})}function Rme(){const[t,e]=I.useState(!1),n=Ws("GreenHub Text",{positionX:{value:2.85,min:-5,max:5,step:.01},positionY:{value:-.52,min:-5,max:5,step:.01},positionZ:{value:2.89,min:-5,max:5,step:.001},scale:{value:.16,min:0,max:1,step:.01},rotationY:{value:-.13,min:-1,max:Math.PI*2,step:.001}});I.useEffect(()=>{const s=setTimeout(()=>{e(!0)},4350);return()=>clearTimeout(s)},[]);const{scale:r,rotation:i}=ai({scale:t?n.scale:0,rotation:[0,n.rotationY,0],config:{tension:170,friction:26}});return De.jsx(li.mesh,{position:[n.positionX,n.positionY,n.positionZ],scale:r,rotation:i,children:De.jsx(Dx,{font:"/fonts/ubuntu-v20-latin-regular.woff",fontSize:.9,color:"white",anchorX:"center",anchorY:"middle",children:"Green Hub PL"})})}const Pme=!1;function Ime(t){const[e,n]=I.useState(!0),[r,i]=I.useState(!1),[s,o]=I.useState([]),[a,l]=I.useState(!1),[u,c]=I.useState(!1),[f,d]=I.useState(!1),[m,g]=I.useState(!1),[v,y]=I.useState(!1),[x,_]=I.useState(!1),[w,A]=I.useState(!1),M=I.useCallback(C=>{C&&o(T=>[...T,C])},[]);return I.useEffect(()=>{(async()=>{try{await Promise.all([Wn.preload("./models/wodorowy_hub.glb"),Wn.preload("./models/wodorowy_tir.glb"),Wn.preload("./models/euro.glb"),Wn.preload("./models/Technologie.glb"),Wn.preload("./models/Auta.glb"),Wn.preload("./models/Hala.glb"),Wn.preload("./models/Fotowolt.glb"),Wn.preload("./models/txt/programy.glb"),Wn.preload("./models/txt/finansowanie.glb"),Wn.preload("./models/txt/technologie.glb"),Wn.preload("./models/txt/greenhub.glb")]),setTimeout(()=>{i(!0)},1500)}catch(T){console.error("Error loading assets:",T)}finally{setTimeout(()=>{n(!1)},2e3)}})()},[]),I.useEffect(()=>{const C=()=>{const E=window.innerWidth/window.innerHeight<1.5;_(E);const P=window.innerWidth<1024;A(P)};return C(),window.addEventListener("resize",C),window.addEventListener("orientationchange",C),()=>{window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C)}},[]),x?De.jsx(Sme,{}):De.jsxs("div",{style:Ame,children:[De.jsx(rG,{hidden:!0,theme:{sizes:{rootWidth:"400px",controlWidth:"70%",numberInputMinWidth:"100px"},space:{sm:"6px",md:"10px",lg:"15px"},fontSizes:{root:"14px"}}}),!r&&De.jsx(xme,{}),De.jsx(OY,{shadows:!0,gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},camera:{position:[0,.5,6],far:50},style:{background:"#000000",width:"100%",height:"100%",display:"block"},dpr:[1,2],children:De.jsxs(I.Suspense,{fallback:De.jsx(_me,{}),children:[Pme,De.jsx(tne,{preset:"night",backgroundBlurriness:.5,backgroundIntensity:.7,resolution:256}),De.jsxs(Ute,{speed:1.1,floatIntensity:1.1,floatingRange:[-.3,.3],rotationIntensity:.1,children:[De.jsx(I.Suspense,{fallback:null,children:De.jsx(rce,{count:1e3})}),De.jsxs(bq,{global:!0,position:[0,-.5,0],rotation:[0,0,0],polar:[-.2,.2],azimuth:[-.2,.2],config:{mass:2,tension:400},snap:{mass:3,tension:200},"touch-action":"auto",children:[De.jsx(I.Suspense,{fallback:null,children:De.jsx(sce,{})}),De.jsx(pp,{url:"https://teamid.f.pl/finansowanie",children:De.jsx(bme,{externalHover:f})}),De.jsx(Que,{onClick:()=>window.open("https://hubid.org/","_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"}}),De.jsx(Mme,{}),De.jsx(pp,{url:"https://teamid.f.pl/technologie",children:De.jsx(Zue,{externalHover:f})}),De.jsx(pp,{url:"https://teamid.f.pl/technologie",children:De.jsx(que,{externalHover:m})}),De.jsx(pp,{url:"https://hubid.org/",children:De.jsx(ece,{externalHover:v})}),De.jsx(pp,{url:"https://teamid.f.pl/technologie",children:De.jsx(tce,{externalHover:u})}),De.jsx(nce,{castShadow:!0,position:[0,a?.5:0,0],externalHover:m}),De.jsx(ice,{}),De.jsx(kv,{onClick:()=>window.open("https://teamid.f.pl/","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#61bc48",scale:8,finalX:-2,finalY:-.6,finalZ:1.5,finalRotationZ:Math.PI*-.5,position:[0,0,0],rotation:[0,-Math.PI/2,0],label:"Programy",link:"https://teamid.f.pl/",onAnimationFinish:M,onPointerEnter:()=>{l(!0),c(!0)},onPointerLeave:()=>{l(!1),c(!1)}}),De.jsx(kv,{onClick:()=>window.open("https://teamid.f.pl/finansowanie","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#f8b643",scale:8,finalX:-1.5,finalY:-.5,finalZ:1.5,finalRotationZ:Math.PI/2,position:[0,0,-.2],rotation:[0,Math.PI/2,0],label:"Finansowanie",link:"https://teamid.f.pl/finansowanie",onAnimationFinish:M,onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1)}),De.jsx(kv,{onClick:()=>window.open("https://teamid.f.pl/technologie","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#2792d0",scale:8,finalX:1.5,finalY:-.5,finalZ:3,finalRotationZ:Math.PI*-.5,position:[0,0,-.2],rotation:[Math.PI,-Math.PI/2,0],label:"Technologie",link:"https://teamid.f.pl/technologie",onAnimationFinish:M,onPointerEnter:()=>g(!0),onPointerLeave:()=>g(!1)}),De.jsx(kv,{onClick:()=>window.open("https://hubid.org/","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#0f9748",scale:8,finalX:2,finalY:-.6,finalZ:3,finalRotationZ:Math.PI*.5,position:[0,0,0],rotation:[Math.PI,Math.PI/2,0],label:"Green Hub PL",link:"https://hubid.org/",onAnimationFinish:M,onPointerEnter:()=>y(!0),onPointerLeave:()=>y(!1)}),De.jsx(Eme,{color:"#000000"}),De.jsx(Cme,{}),De.jsx(Tme,{}),De.jsx(Rme,{})]})]})]})})]})}zE(document.getElementById("root")).render(De.jsx(Ime,{}));
//# sourceMappingURL=index-GvRwDYfr.js.map
