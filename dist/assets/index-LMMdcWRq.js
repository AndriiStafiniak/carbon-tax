function l7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function sp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var UN={exports:{}},Bx={},zN={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=Symbol.for("react.element"),u7=Symbol.for("react.portal"),c7=Symbol.for("react.fragment"),f7=Symbol.for("react.strict_mode"),d7=Symbol.for("react.profiler"),h7=Symbol.for("react.provider"),p7=Symbol.for("react.context"),m7=Symbol.for("react.forward_ref"),g7=Symbol.for("react.suspense"),v7=Symbol.for("react.memo"),y7=Symbol.for("react.lazy"),kI=Symbol.iterator;function _7(n){return n===null||typeof n!="object"?null:(n=kI&&n[kI]||n["@@iterator"],typeof n=="function"?n:null)}var GN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HN=Object.assign,VN={};function op(n,e,t){this.props=n,this.context=e,this.refs=VN,this.updater=t||GN}op.prototype.isReactComponent={};op.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};op.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function WN(){}WN.prototype=op.prototype;function gT(n,e,t){this.props=n,this.context=e,this.refs=VN,this.updater=t||GN}var vT=gT.prototype=new WN;vT.constructor=gT;HN(vT,op.prototype);vT.isPureReactComponent=!0;var OI=Array.isArray,jN=Object.prototype.hasOwnProperty,yT={current:null},$N={key:!0,ref:!0,__self:!0,__source:!0};function XN(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jN.call(e,r)&&!$N.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:E0,type:n,key:s,ref:o,props:i,_owner:yT.current}}function x7(n,e){return{$$typeof:E0,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _T(n){return typeof n=="object"&&n!==null&&n.$$typeof===E0}function w7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var FI=/\/+/g;function VS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?w7(""+n.key):e.toString(36)}function B1(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case E0:case u7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+VS(o,0):r,OI(i)?(t="",n!=null&&(t=n.replace(FI,"$&/")+"/"),B1(i,e,t,"",function(u){return u})):i!=null&&(_T(i)&&(i=x7(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FI,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OI(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+VS(s,a);o+=B1(s,e,t,l,i)}else if(l=_7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+VS(s,a++),o+=B1(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sy(n,e,t){if(n==null)return n;var r=[],i=0;return B1(n,r,"","",function(s){return e.call(t,s,i++)}),r}function S7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Hi={current:null},L1={transition:null},A7={ReactCurrentDispatcher:Hi,ReactCurrentBatchConfig:L1,ReactCurrentOwner:yT};nn.Children={map:sy,forEach:function(n,e,t){sy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return sy(n,function(){e++}),e},toArray:function(n){return sy(n,function(e){return e})||[]},only:function(n){if(!_T(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};nn.Component=op;nn.Fragment=c7;nn.Profiler=d7;nn.PureComponent=gT;nn.StrictMode=f7;nn.Suspense=g7;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A7;nn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=HN({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yT.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)jN.call(e,l)&&!$N.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:E0,type:n.type,key:i,ref:s,props:r,_owner:o}};nn.createContext=function(n){return n={$$typeof:p7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:h7,_context:n},n.Consumer=n};nn.createElement=XN;nn.createFactory=function(n){var e=XN.bind(null,n);return e.type=n,e};nn.createRef=function(){return{current:null}};nn.forwardRef=function(n){return{$$typeof:m7,render:n}};nn.isValidElement=_T;nn.lazy=function(n){return{$$typeof:y7,_payload:{_status:-1,_result:n},_init:S7}};nn.memo=function(n,e){return{$$typeof:v7,type:n,compare:e===void 0?null:e}};nn.startTransition=function(n){var e=L1.transition;L1.transition={};try{n()}finally{L1.transition=e}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(n,e){return Hi.current.useCallback(n,e)};nn.useContext=function(n){return Hi.current.useContext(n)};nn.useDebugValue=function(){};nn.useDeferredValue=function(n){return Hi.current.useDeferredValue(n)};nn.useEffect=function(n,e){return Hi.current.useEffect(n,e)};nn.useId=function(){return Hi.current.useId()};nn.useImperativeHandle=function(n,e,t){return Hi.current.useImperativeHandle(n,e,t)};nn.useInsertionEffect=function(n,e){return Hi.current.useInsertionEffect(n,e)};nn.useLayoutEffect=function(n,e){return Hi.current.useLayoutEffect(n,e)};nn.useMemo=function(n,e){return Hi.current.useMemo(n,e)};nn.useReducer=function(n,e,t){return Hi.current.useReducer(n,e,t)};nn.useRef=function(n){return Hi.current.useRef(n)};nn.useState=function(n){return Hi.current.useState(n)};nn.useSyncExternalStore=function(n,e,t){return Hi.current.useSyncExternalStore(n,e,t)};nn.useTransition=function(){return Hi.current.useTransition()};nn.version="18.2.0";zN.exports=nn;var I=zN.exports;const ue=sp(I),b7=l7({__proto__:null,default:ue},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=I,E7=Symbol.for("react.element"),C7=Symbol.for("react.fragment"),T7=Object.prototype.hasOwnProperty,P7=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R7={key:!0,ref:!0,__self:!0,__source:!0};function JN(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)T7.call(e,r)&&!R7.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:E7,type:n,key:s,ref:o,props:i,_owner:P7.current}}Bx.Fragment=C7;Bx.jsx=JN;Bx.jsxs=JN;UN.exports=Bx;var Ge=UN.exports,KN={exports:{}},Fs={},YN={exports:{}},QN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,j){var H=z.length;z.push(j);e:for(;0<H;){var V=H-1>>>1,G=z[V];if(0<i(G,j))z[V]=j,z[H]=G,H=V;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],H=z.pop();if(H!==j){z[0]=H;e:for(var V=0,G=z.length,J=G>>>1;V<J;){var re=2*(V+1)-1,te=z[re],Y=re+1,ce=z[Y];if(0>i(te,H))Y<G&&0>i(ce,te)?(z[V]=ce,z[Y]=H,V=Y):(z[V]=te,z[re]=H,V=re);else if(Y<G&&0>i(ce,H))z[V]=ce,z[Y]=H,V=Y;else break e}}return j}function i(z,j){var H=z.sortIndex-j.sortIndex;return H!==0?H:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=z)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function A(z){if(g=!1,w(z),!v)if(t(l)!==null)v=!0,X(b);else{var j=t(u);j!==null&&q(A,j.startTime-z)}}function b(z,j){v=!1,g&&(g=!1,_(M),M=-1),p=!0;var H=d;try{for(w(j),f=t(l);f!==null&&(!(f.expirationTime>j)||z&&!F());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var G=V(f.expirationTime<=j);j=n.unstable_now(),typeof G=="function"?f.callback=G:f===t(l)&&r(l),w(j)}else r(l);f=t(l)}if(f!==null)var J=!0;else{var re=t(u);re!==null&&q(A,re.startTime-j),J=!1}return J}finally{f=null,d=H,p=!1}}var E=!1,T=null,M=-1,P=5,D=-1;function F(){return!(n.unstable_now()-D<P)}function O(){if(T!==null){var z=n.unstable_now();D=z;var j=!0;try{j=T(!0,z)}finally{j?U():(E=!1,T=null)}}else E=!1}var U;if(typeof x=="function")U=function(){x(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=O,U=function(){$.postMessage(null)}}else U=function(){y(O,0)};function X(z){T=z,E||(E=!0,U())}function q(z,j){M=y(function(){z(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,X(b))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var H=d;d=j;try{return z()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=d;d=z;try{return j()}finally{d=H}},n.unstable_scheduleCallback=function(z,j,H){var V=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,z={id:c++,callback:j,priorityLevel:z,startTime:H,expirationTime:G,sortIndex:-1},H>V?(z.sortIndex=H,e(u,z),t(l)===null&&z===t(u)&&(g?(_(M),M=-1):g=!0,q(A,H-V))):(z.sortIndex=G,e(l,z),v||p||(v=!0,X(b))),z},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(z){var j=d;return function(){var H=d;d=j;try{return z.apply(this,arguments)}finally{d=H}}}})(QN);YN.exports=QN;var I7=YN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN=I,Is=I7;function rt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qN=new Set,Eg={};function zf(n,e){Th(n,e),Th(n+"Capture",e)}function Th(n,e){for(Eg[n]=e,n=0;n<e.length;n++)qN.add(e[n])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iM=Object.prototype.hasOwnProperty,D7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NI={},UI={};function B7(n){return iM.call(UI,n)?!0:iM.call(NI,n)?!1:D7.test(n)?UI[n]=!0:(NI[n]=!0,!1)}function L7(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k7(n,e,t,r){if(e===null||typeof e>"u"||L7(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){oi[n]=new Vi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];oi[e]=new Vi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){oi[n]=new Vi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){oi[n]=new Vi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){oi[n]=new Vi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){oi[n]=new Vi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){oi[n]=new Vi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){oi[n]=new Vi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){oi[n]=new Vi(n,5,!1,n.toLowerCase(),null,!1,!1)});var xT=/[\-:]([a-z])/g;function wT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(xT,wT);oi[e]=new Vi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(xT,wT);oi[e]=new Vi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(xT,wT);oi[e]=new Vi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){oi[n]=new Vi(n,1,!1,n.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){oi[n]=new Vi(n,1,!1,n.toLowerCase(),null,!0,!0)});function ST(n,e,t,r){var i=oi.hasOwnProperty(e)?oi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k7(e,t,i,r)&&(t=null),r||i===null?B7(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Dl=ZN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oy=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),Hd=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),sM=Symbol.for("react.profiler"),e4=Symbol.for("react.provider"),t4=Symbol.for("react.context"),bT=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.suspense_list"),MT=Symbol.for("react.memo"),iu=Symbol.for("react.lazy"),n4=Symbol.for("react.offscreen"),zI=Symbol.iterator;function em(n){return n===null||typeof n!="object"?null:(n=zI&&n[zI]||n["@@iterator"],typeof n=="function"?n:null)}var rr=Object.assign,WS;function Om(n){if(WS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);WS=e&&e[1]||""}return`
`+WS+n}var jS=!1;function $S(n,e){if(!n||jS)return"";jS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{jS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Om(n):""}function O7(n){switch(n.tag){case 5:return Om(n.type);case 16:return Om("Lazy");case 13:return Om("Suspense");case 19:return Om("SuspenseList");case 0:case 2:case 15:return n=$S(n.type,!1),n;case 11:return n=$S(n.type.render,!1),n;case 1:return n=$S(n.type,!0),n;default:return""}}function lM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Hd:return"Fragment";case Gd:return"Portal";case sM:return"Profiler";case AT:return"StrictMode";case oM:return"Suspense";case aM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case t4:return(n.displayName||"Context")+".Consumer";case e4:return(n._context.displayName||"Context")+".Provider";case bT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case MT:return e=n.displayName||null,e!==null?e:lM(n.type)||"Memo";case iu:e=n._payload,n=n._init;try{return lM(n(e))}catch{}}return null}function F7(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lM(e);case 8:return e===AT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function r4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N7(n){var e=r4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ay(n){n._valueTracker||(n._valueTracker=N7(n))}function i4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=r4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function v_(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function uM(n,e){var t=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function GI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Pu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s4(n,e){e=e.checked,e!=null&&ST(n,"checked",e,!1)}function cM(n,e){s4(n,e);var t=Pu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?fM(n,e.type,t):e.hasOwnProperty("defaultValue")&&fM(n,e.type,Pu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function HI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function fM(n,e,t){(e!=="number"||v_(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Fm=Array.isArray;function dh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Pu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function dM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function VI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(rt(92));if(Fm(t)){if(1<t.length)throw Error(rt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Pu(t)}}function o4(n,e){var t=Pu(e.value),r=Pu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function WI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function a4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?a4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ly,l4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ly=ly||document.createElement("div"),ly.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ly.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Cg(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ym={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U7=["Webkit","ms","Moz","O"];Object.keys(Ym).forEach(function(n){U7.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ym[e]=Ym[n]})});function u4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ym.hasOwnProperty(n)&&Ym[n]?(""+e).trim():e+"px"}function c4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=u4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var z7=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pM(n,e){if(e){if(z7[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function mM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gM=null;function ET(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vM=null,hh=null,ph=null;function jI(n){if(n=P0(n)){if(typeof vM!="function")throw Error(rt(280));var e=n.stateNode;e&&(e=Nx(e),vM(n.stateNode,n.type,e))}}function f4(n){hh?ph?ph.push(n):ph=[n]:hh=n}function d4(){if(hh){var n=hh,e=ph;if(ph=hh=null,jI(n),e)for(n=0;n<e.length;n++)jI(e[n])}}function h4(n,e){return n(e)}function p4(){}var XS=!1;function m4(n,e,t){if(XS)return n(e,t);XS=!0;try{return h4(n,e,t)}finally{XS=!1,(hh!==null||ph!==null)&&(p4(),d4())}}function Tg(n,e){var t=n.stateNode;if(t===null)return null;var r=Nx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(rt(231,e,typeof t));return t}var yM=!1;if(vl)try{var tm={};Object.defineProperty(tm,"passive",{get:function(){yM=!0}}),window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{yM=!1}function G7(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Qm=!1,y_=null,__=!1,_M=null,H7={onError:function(n){Qm=!0,y_=n}};function V7(n,e,t,r,i,s,o,a,l){Qm=!1,y_=null,G7.apply(H7,arguments)}function W7(n,e,t,r,i,s,o,a,l){if(V7.apply(this,arguments),Qm){if(Qm){var u=y_;Qm=!1,y_=null}else throw Error(rt(198));__||(__=!0,_M=u)}}function Gf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function g4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function $I(n){if(Gf(n)!==n)throw Error(rt(188))}function j7(n){var e=n.alternate;if(!e){if(e=Gf(n),e===null)throw Error(rt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return $I(i),n;if(s===r)return $I(i),e;s=s.sibling}throw Error(rt(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(rt(189))}}if(t.alternate!==r)throw Error(rt(190))}if(t.tag!==3)throw Error(rt(188));return t.stateNode.current===t?n:e}function v4(n){return n=j7(n),n!==null?y4(n):null}function y4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=y4(n);if(e!==null)return e;n=n.sibling}return null}var _4=Is.unstable_scheduleCallback,XI=Is.unstable_cancelCallback,$7=Is.unstable_shouldYield,X7=Is.unstable_requestPaint,yr=Is.unstable_now,J7=Is.unstable_getCurrentPriorityLevel,CT=Is.unstable_ImmediatePriority,x4=Is.unstable_UserBlockingPriority,x_=Is.unstable_NormalPriority,K7=Is.unstable_LowPriority,w4=Is.unstable_IdlePriority,Lx=null,ga=null;function Y7(n){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(Lx,n,void 0,(n.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:q7,Q7=Math.log,Z7=Math.LN2;function q7(n){return n>>>=0,n===0?32:31-(Q7(n)/Z7|0)|0}var uy=64,cy=4194304;function Nm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function w_(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Nm(a):(s&=o,s!==0&&(r=Nm(s)))}else o=t&~i,o!==0?r=Nm(o):s!==0&&(r=Nm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Oo(e),i=1<<t,r|=n[t],e&=~i;return r}function ej(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tj(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Oo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=ej(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function xM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function S4(){var n=uy;return uy<<=1,!(uy&4194240)&&(uy=64),n}function JS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function C0(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Oo(e),n[e]=t}function nj(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Oo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function TT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Oo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var yn=0;function A4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var b4,PT,M4,E4,C4,wM=!1,fy=[],gu=null,vu=null,yu=null,Pg=new Map,Rg=new Map,ou=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JI(n,e){switch(n){case"focusin":case"focusout":gu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":Pg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(e.pointerId)}}function nm(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=P0(e),e!==null&&PT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ij(n,e,t,r,i){switch(e){case"focusin":return gu=nm(gu,n,e,t,r,i),!0;case"dragenter":return vu=nm(vu,n,e,t,r,i),!0;case"mouseover":return yu=nm(yu,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Pg.set(s,nm(Pg.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rg.set(s,nm(Rg.get(s)||null,n,e,t,r,i)),!0}return!1}function T4(n){var e=Hc(n.target);if(e!==null){var t=Gf(e);if(t!==null){if(e=t.tag,e===13){if(e=g4(t),e!==null){n.blockedOn=e,C4(n.priority,function(){M4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function k1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=SM(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);gM=r,t.target.dispatchEvent(r),gM=null}else return e=P0(t),e!==null&&PT(e),n.blockedOn=t,!1;e.shift()}return!0}function KI(n,e,t){k1(n)&&t.delete(e)}function sj(){wM=!1,gu!==null&&k1(gu)&&(gu=null),vu!==null&&k1(vu)&&(vu=null),yu!==null&&k1(yu)&&(yu=null),Pg.forEach(KI),Rg.forEach(KI)}function rm(n,e){n.blockedOn===e&&(n.blockedOn=null,wM||(wM=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,sj)))}function Ig(n){function e(i){return rm(i,n)}if(0<fy.length){rm(fy[0],n);for(var t=1;t<fy.length;t++){var r=fy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(gu!==null&&rm(gu,n),vu!==null&&rm(vu,n),yu!==null&&rm(yu,n),Pg.forEach(e),Rg.forEach(e),t=0;t<ou.length;t++)r=ou[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ou.length&&(t=ou[0],t.blockedOn===null);)T4(t),t.blockedOn===null&&ou.shift()}var mh=Dl.ReactCurrentBatchConfig,S_=!0;function oj(n,e,t,r){var i=yn,s=mh.transition;mh.transition=null;try{yn=1,RT(n,e,t,r)}finally{yn=i,mh.transition=s}}function aj(n,e,t,r){var i=yn,s=mh.transition;mh.transition=null;try{yn=4,RT(n,e,t,r)}finally{yn=i,mh.transition=s}}function RT(n,e,t,r){if(S_){var i=SM(n,e,t,r);if(i===null)iA(n,e,r,A_,t),JI(n,r);else if(ij(i,n,e,t,r))r.stopPropagation();else if(JI(n,r),e&4&&-1<rj.indexOf(n)){for(;i!==null;){var s=P0(i);if(s!==null&&b4(s),s=SM(n,e,t,r),s===null&&iA(n,e,r,A_,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else iA(n,e,r,null,t)}}var A_=null;function SM(n,e,t,r){if(A_=null,n=ET(r),n=Hc(n),n!==null)if(e=Gf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=g4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return A_=n,null}function P4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J7()){case CT:return 1;case x4:return 4;case x_:case K7:return 16;case w4:return 536870912;default:return 16}default:return 16}}var lu=null,IT=null,O1=null;function R4(){if(O1)return O1;var n,e=IT,t=e.length,r,i="value"in lu?lu.value:lu.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return O1=i.slice(n,1<r?1-r:void 0)}function F1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function dy(){return!0}function YI(){return!1}function Ns(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dy:YI,this.isPropagationStopped=YI,this}return rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=dy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=dy)},persist:function(){},isPersistent:dy}),e}var ap={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DT=Ns(ap),T0=rr({},ap,{view:0,detail:0}),lj=Ns(T0),KS,YS,im,kx=rr({},T0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==im&&(im&&n.type==="mousemove"?(KS=n.screenX-im.screenX,YS=n.screenY-im.screenY):YS=KS=0,im=n),KS)},movementY:function(n){return"movementY"in n?n.movementY:YS}}),QI=Ns(kx),uj=rr({},kx,{dataTransfer:0}),cj=Ns(uj),fj=rr({},T0,{relatedTarget:0}),QS=Ns(fj),dj=rr({},ap,{animationName:0,elapsedTime:0,pseudoElement:0}),hj=Ns(dj),pj=rr({},ap,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mj=Ns(pj),gj=rr({},ap,{data:0}),ZI=Ns(gj),vj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_j={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=_j[n])?!!e[n]:!1}function BT(){return xj}var wj=rr({},T0,{key:function(n){if(n.key){var e=vj[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=F1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BT,charCode:function(n){return n.type==="keypress"?F1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?F1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sj=Ns(wj),Aj=rr({},kx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qI=Ns(Aj),bj=rr({},T0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BT}),Mj=Ns(bj),Ej=rr({},ap,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=Ns(Ej),Tj=rr({},kx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pj=Ns(Tj),Rj=[9,13,27,32],LT=vl&&"CompositionEvent"in window,Zm=null;vl&&"documentMode"in document&&(Zm=document.documentMode);var Ij=vl&&"TextEvent"in window&&!Zm,I4=vl&&(!LT||Zm&&8<Zm&&11>=Zm),eD=" ",tD=!1;function D4(n,e){switch(n){case"keyup":return Rj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vd=!1;function Dj(n,e){switch(n){case"compositionend":return B4(e);case"keypress":return e.which!==32?null:(tD=!0,eD);case"textInput":return n=e.data,n===eD&&tD?null:n;default:return null}}function Bj(n,e){if(Vd)return n==="compositionend"||!LT&&D4(n,e)?(n=R4(),O1=IT=lu=null,Vd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I4&&e.locale!=="ko"?null:e.data;default:return null}}var Lj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Lj[n.type]:e==="textarea"}function L4(n,e,t,r){f4(r),e=b_(e,"onChange"),0<e.length&&(t=new DT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var qm=null,Dg=null;function kj(n){j4(n,0)}function Ox(n){var e=$d(n);if(i4(e))return n}function Oj(n,e){if(n==="change")return e}var k4=!1;if(vl){var ZS;if(vl){var qS="oninput"in document;if(!qS){var rD=document.createElement("div");rD.setAttribute("oninput","return;"),qS=typeof rD.oninput=="function"}ZS=qS}else ZS=!1;k4=ZS&&(!document.documentMode||9<document.documentMode)}function iD(){qm&&(qm.detachEvent("onpropertychange",O4),Dg=qm=null)}function O4(n){if(n.propertyName==="value"&&Ox(Dg)){var e=[];L4(e,Dg,n,ET(n)),m4(kj,e)}}function Fj(n,e,t){n==="focusin"?(iD(),qm=e,Dg=t,qm.attachEvent("onpropertychange",O4)):n==="focusout"&&iD()}function Nj(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ox(Dg)}function Uj(n,e){if(n==="click")return Ox(e)}function zj(n,e){if(n==="input"||n==="change")return Ox(e)}function Gj(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Go=typeof Object.is=="function"?Object.is:Gj;function Bg(n,e){if(Go(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!iM.call(e,i)||!Go(n[i],e[i]))return!1}return!0}function sD(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oD(n,e){var t=sD(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sD(t)}}function F4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?F4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function N4(){for(var n=window,e=v_();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=v_(n.document)}return e}function kT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Hj(n){var e=N4(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&F4(t.ownerDocument.documentElement,t)){if(r!==null&&kT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=oD(t,s);var o=oD(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Vj=vl&&"documentMode"in document&&11>=document.documentMode,Wd=null,AM=null,eg=null,bM=!1;function aD(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;bM||Wd==null||Wd!==v_(r)||(r=Wd,"selectionStart"in r&&kT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eg&&Bg(eg,r)||(eg=r,r=b_(AM,"onSelect"),0<r.length&&(e=new DT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wd)))}function hy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var jd={animationend:hy("Animation","AnimationEnd"),animationiteration:hy("Animation","AnimationIteration"),animationstart:hy("Animation","AnimationStart"),transitionend:hy("Transition","TransitionEnd")},eA={},U4={};vl&&(U4=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Fx(n){if(eA[n])return eA[n];if(!jd[n])return n;var e=jd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in U4)return eA[n]=e[t];return n}var z4=Fx("animationend"),G4=Fx("animationiteration"),H4=Fx("animationstart"),V4=Fx("transitionend"),W4=new Map,lD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $u(n,e){W4.set(n,e),zf(e,[n])}for(var tA=0;tA<lD.length;tA++){var nA=lD[tA],Wj=nA.toLowerCase(),jj=nA[0].toUpperCase()+nA.slice(1);$u(Wj,"on"+jj)}$u(z4,"onAnimationEnd");$u(G4,"onAnimationIteration");$u(H4,"onAnimationStart");$u("dblclick","onDoubleClick");$u("focusin","onFocus");$u("focusout","onBlur");$u(V4,"onTransitionEnd");Th("onMouseEnter",["mouseout","mouseover"]);Th("onMouseLeave",["mouseout","mouseover"]);Th("onPointerEnter",["pointerout","pointerover"]);Th("onPointerLeave",["pointerout","pointerover"]);zf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zf("onBeforeInput",["compositionend","keypress","textInput","paste"]);zf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$j=new Set("cancel close invalid load scroll toggle".split(" ").concat(Um));function uD(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,W7(r,e,void 0,n),n.currentTarget=null}function j4(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uD(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uD(i,a,u),s=l}}}if(__)throw n=_M,__=!1,_M=null,n}function In(n,e){var t=e[PM];t===void 0&&(t=e[PM]=new Set);var r=n+"__bubble";t.has(r)||($4(e,n,2,!1),t.add(r))}function rA(n,e,t){var r=0;e&&(r|=4),$4(t,n,r,e)}var py="_reactListening"+Math.random().toString(36).slice(2);function Lg(n){if(!n[py]){n[py]=!0,qN.forEach(function(t){t!=="selectionchange"&&($j.has(t)||rA(t,!1,n),rA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[py]||(e[py]=!0,rA("selectionchange",!1,e))}}function $4(n,e,t,r){switch(P4(e)){case 1:var i=oj;break;case 4:i=aj;break;default:i=RT}t=i.bind(null,e,t,n),i=void 0,!yM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function iA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}m4(function(){var u=s,c=ET(t),f=[];e:{var d=W4.get(n);if(d!==void 0){var p=DT,v=n;switch(n){case"keypress":if(F1(t)===0)break e;case"keydown":case"keyup":p=Sj;break;case"focusin":v="focus",p=QS;break;case"focusout":v="blur",p=QS;break;case"beforeblur":case"afterblur":p=QS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Mj;break;case z4:case G4:case H4:p=hj;break;case V4:p=Cj;break;case"scroll":p=lj;break;case"wheel":p=Pj;break;case"copy":case"cut":case"paste":p=mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qI}var g=(e&4)!==0,y=!g&&n==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var x=u,w;x!==null;){w=x;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,_!==null&&(A=Tg(x,_),A!=null&&g.push(kg(x,A,w)))),y)break;x=x.return}0<g.length&&(d=new p(d,v,null,t,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==gM&&(v=t.relatedTarget||t.fromElement)&&(Hc(v)||v[yl]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?Hc(v):null,v!==null&&(y=Gf(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=QI,A="onMouseLeave",_="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(g=qI,A="onPointerLeave",_="onPointerEnter",x="pointer"),y=p==null?d:$d(p),w=v==null?d:$d(v),d=new g(A,x+"leave",p,t,c),d.target=y,d.relatedTarget=w,A=null,Hc(c)===u&&(g=new g(_,x+"enter",v,t,c),g.target=w,g.relatedTarget=y,A=g),y=A,p&&v)t:{for(g=p,_=v,x=0,w=g;w;w=cd(w))x++;for(w=0,A=_;A;A=cd(A))w++;for(;0<x-w;)g=cd(g),x--;for(;0<w-x;)_=cd(_),w--;for(;x--;){if(g===_||_!==null&&g===_.alternate)break t;g=cd(g),_=cd(_)}g=null}else g=null;p!==null&&cD(f,d,p,g,!1),v!==null&&y!==null&&cD(f,y,v,g,!0)}}e:{if(d=u?$d(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var b=Oj;else if(nD(d))if(k4)b=zj;else{b=Nj;var E=Fj}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Uj);if(b&&(b=b(n,u))){L4(f,b,t,c);break e}E&&E(n,d,u),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&fM(d,"number",d.value)}switch(E=u?$d(u):window,n){case"focusin":(nD(E)||E.contentEditable==="true")&&(Wd=E,AM=u,eg=null);break;case"focusout":eg=AM=Wd=null;break;case"mousedown":bM=!0;break;case"contextmenu":case"mouseup":case"dragend":bM=!1,aD(f,t,c);break;case"selectionchange":if(Vj)break;case"keydown":case"keyup":aD(f,t,c)}var T;if(LT)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vd?D4(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(I4&&t.locale!=="ko"&&(Vd||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vd&&(T=R4()):(lu=c,IT="value"in lu?lu.value:lu.textContent,Vd=!0)),E=b_(u,M),0<E.length&&(M=new ZI(M,n,null,t,c),f.push({event:M,listeners:E}),T?M.data=T:(T=B4(t),T!==null&&(M.data=T)))),(T=Ij?Dj(n,t):Bj(n,t))&&(u=b_(u,"onBeforeInput"),0<u.length&&(c=new ZI("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:u}),c.data=T))}j4(f,e)})}function kg(n,e,t){return{instance:n,listener:e,currentTarget:t}}function b_(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tg(n,t),s!=null&&r.unshift(kg(n,s,i)),s=Tg(n,e),s!=null&&r.push(kg(n,s,i))),n=n.return}return r}function cd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cD(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Tg(t,s),l!=null&&o.unshift(kg(t,l,a))):i||(l=Tg(t,s),l!=null&&o.push(kg(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Xj=/\r\n?/g,Jj=/\u0000|\uFFFD/g;function fD(n){return(typeof n=="string"?n:""+n).replace(Xj,`
`).replace(Jj,"")}function my(n,e,t){if(e=fD(e),fD(n)!==e&&t)throw Error(rt(425))}function M_(){}var MM=null,EM=null;function CM(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var TM=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,dD=typeof Promise=="function"?Promise:void 0,Yj=typeof queueMicrotask=="function"?queueMicrotask:typeof dD<"u"?function(n){return dD.resolve(null).then(n).catch(Qj)}:TM;function Qj(n){setTimeout(function(){throw n})}function sA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Ig(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Ig(e)}function _u(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function hD(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var lp=Math.random().toString(36).slice(2),ha="__reactFiber$"+lp,Og="__reactProps$"+lp,yl="__reactContainer$"+lp,PM="__reactEvents$"+lp,Zj="__reactListeners$"+lp,qj="__reactHandles$"+lp;function Hc(n){var e=n[ha];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yl]||t[ha]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=hD(n);n!==null;){if(t=n[ha])return t;n=hD(n)}return e}n=t,t=n.parentNode}return null}function P0(n){return n=n[ha]||n[yl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $d(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(rt(33))}function Nx(n){return n[Og]||null}var RM=[],Xd=-1;function Xu(n){return{current:n}}function kn(n){0>Xd||(n.current=RM[Xd],RM[Xd]=null,Xd--)}function Pn(n,e){Xd++,RM[Xd]=n.current,n.current=e}var Ru={},bi=Xu(Ru),qi=Xu(!1),Af=Ru;function Ph(n,e){var t=n.type.contextTypes;if(!t)return Ru;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function es(n){return n=n.childContextTypes,n!=null}function E_(){kn(qi),kn(bi)}function pD(n,e,t){if(bi.current!==Ru)throw Error(rt(168));Pn(bi,e),Pn(qi,t)}function X4(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,F7(n)||"Unknown",i));return rr({},t,r)}function C_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ru,Af=bi.current,Pn(bi,n),Pn(qi,qi.current),!0}function mD(n,e,t){var r=n.stateNode;if(!r)throw Error(rt(169));t?(n=X4(n,e,Af),r.__reactInternalMemoizedMergedChildContext=n,kn(qi),kn(bi),Pn(bi,n)):kn(qi),Pn(qi,t)}var el=null,Ux=!1,oA=!1;function J4(n){el===null?el=[n]:el.push(n)}function e$(n){Ux=!0,J4(n)}function Ju(){if(!oA&&el!==null){oA=!0;var n=0,e=yn;try{var t=el;for(yn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}el=null,Ux=!1}catch(i){throw el!==null&&(el=el.slice(n+1)),_4(CT,Ju),i}finally{yn=e,oA=!1}}return null}var Jd=[],Kd=0,T_=null,P_=0,to=[],no=0,bf=null,al=1,ll="";function Ic(n,e){Jd[Kd++]=P_,Jd[Kd++]=T_,T_=n,P_=e}function K4(n,e,t){to[no++]=al,to[no++]=ll,to[no++]=bf,bf=n;var r=al;n=ll;var i=32-Oo(r)-1;r&=~(1<<i),t+=1;var s=32-Oo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,al=1<<32-Oo(e)+i|t<<i|r,ll=s+n}else al=1<<s|t<<i|r,ll=n}function OT(n){n.return!==null&&(Ic(n,1),K4(n,1,0))}function FT(n){for(;n===T_;)T_=Jd[--Kd],Jd[Kd]=null,P_=Jd[--Kd],Jd[Kd]=null;for(;n===bf;)bf=to[--no],to[no]=null,ll=to[--no],to[no]=null,al=to[--no],to[no]=null}var Es=null,As=null,Gn=!1,Io=null;function Y4(n,e){var t=ao(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gD(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Es=n,As=_u(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Es=n,As=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=bf!==null?{id:al,overflow:ll}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ao(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Es=n,As=null,!0):!1;default:return!1}}function IM(n){return(n.mode&1)!==0&&(n.flags&128)===0}function DM(n){if(Gn){var e=As;if(e){var t=e;if(!gD(n,e)){if(IM(n))throw Error(rt(418));e=_u(t.nextSibling);var r=Es;e&&gD(n,e)?Y4(r,t):(n.flags=n.flags&-4097|2,Gn=!1,Es=n)}}else{if(IM(n))throw Error(rt(418));n.flags=n.flags&-4097|2,Gn=!1,Es=n}}}function vD(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Es=n}function gy(n){if(n!==Es)return!1;if(!Gn)return vD(n),Gn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!CM(n.type,n.memoizedProps)),e&&(e=As)){if(IM(n))throw Q4(),Error(rt(418));for(;e;)Y4(n,e),e=_u(e.nextSibling)}if(vD(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(rt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){As=_u(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}As=null}}else As=Es?_u(n.stateNode.nextSibling):null;return!0}function Q4(){for(var n=As;n;)n=_u(n.nextSibling)}function Rh(){As=Es=null,Gn=!1}function NT(n){Io===null?Io=[n]:Io.push(n)}var t$=Dl.ReactCurrentBatchConfig;function Po(n,e){if(n&&n.defaultProps){e=rr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var R_=Xu(null),I_=null,Yd=null,UT=null;function zT(){UT=Yd=I_=null}function GT(n){var e=R_.current;kn(R_),n._currentValue=e}function BM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gh(n,e){I_=n,UT=Yd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Yi=!0),n.firstContext=null)}function po(n){var e=n._currentValue;if(UT!==n)if(n={context:n,memoizedValue:e,next:null},Yd===null){if(I_===null)throw Error(rt(308));Yd=n,I_.dependencies={lanes:0,firstContext:n}}else Yd=Yd.next=n;return e}var Vc=null;function HT(n){Vc===null?Vc=[n]:Vc.push(n)}function Z4(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,HT(e)):(t.next=i.next,i.next=t),e.interleaved=t,_l(n,r)}function _l(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var su=!1;function VT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q4(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function dl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function xu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_l(n,t)}return i=r.interleaved,i===null?(e.next=e,HT(r)):(e.next=i.next,i.next=e),r.interleaved=e,_l(n,t)}function N1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,TT(n,t)}}function yD(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function D_(n,e,t,r){var i=n.updateQueue;su=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(d=e,p=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=rr({},f,d);break e;case 2:su=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ef|=o,n.lanes=o,n.memoizedState=f}}function _D(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var eU=new ZN.Component().refs;function LM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:rr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var zx={isMounted:function(n){return(n=n._reactInternals)?Gf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Gi(),i=Su(n),s=dl(r,i);s.payload=e,t!=null&&(s.callback=t),e=xu(n,s,i),e!==null&&(Fo(e,n,i,r),N1(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Gi(),i=Su(n),s=dl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=xu(n,s,i),e!==null&&(Fo(e,n,i,r),N1(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Gi(),r=Su(n),i=dl(t,r);i.tag=2,e!=null&&(i.callback=e),e=xu(n,i,r),e!==null&&(Fo(e,n,r,t),N1(e,n,r))}};function xD(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bg(t,r)||!Bg(i,s):!0}function tU(n,e,t){var r=!1,i=Ru,s=e.contextType;return typeof s=="object"&&s!==null?s=po(s):(i=es(e)?Af:bi.current,r=e.contextTypes,s=(r=r!=null)?Ph(n,i):Ru),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function wD(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&zx.enqueueReplaceState(e,e.state,null)}function kM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=eU,VT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=po(s):(s=es(e)?Af:bi.current,i.context=Ph(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(LM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zx.enqueueReplaceState(i,i.state,null),D_(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function sm(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(rt(309));var r=t.stateNode}if(!r)throw Error(rt(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eU&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(rt(284));if(!t._owner)throw Error(rt(290,n))}return n}function vy(n,e){throw n=Object.prototype.toString.call(e),Error(rt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function SD(n){var e=n._init;return e(n._payload)}function nU(n){function e(_,x){if(n){var w=_.deletions;w===null?(_.deletions=[x],_.flags|=16):w.push(x)}}function t(_,x){if(!n)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=Au(_,x),_.index=0,_.sibling=null,_}function s(_,x,w){return _.index=w,n?(w=_.alternate,w!==null?(w=w.index,w<x?(_.flags|=2,x):w):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,x,w,A){return x===null||x.tag!==6?(x=hA(w,_.mode,A),x.return=_,x):(x=i(x,w),x.return=_,x)}function l(_,x,w,A){var b=w.type;return b===Hd?c(_,x,w.props.children,A,w.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===iu&&SD(b)===x.type)?(A=i(x,w.props),A.ref=sm(_,x,w),A.return=_,A):(A=W1(w.type,w.key,w.props,null,_.mode,A),A.ref=sm(_,x,w),A.return=_,A)}function u(_,x,w,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=pA(w,_.mode,A),x.return=_,x):(x=i(x,w.children||[]),x.return=_,x)}function c(_,x,w,A,b){return x===null||x.tag!==7?(x=sf(w,_.mode,A,b),x.return=_,x):(x=i(x,w),x.return=_,x)}function f(_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hA(""+x,_.mode,w),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oy:return w=W1(x.type,x.key,x.props,null,_.mode,w),w.ref=sm(_,null,x),w.return=_,w;case Gd:return x=pA(x,_.mode,w),x.return=_,x;case iu:var A=x._init;return f(_,A(x._payload),w)}if(Fm(x)||em(x))return x=sf(x,_.mode,w,null),x.return=_,x;vy(_,x)}return null}function d(_,x,w,A){var b=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(_,x,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oy:return w.key===b?l(_,x,w,A):null;case Gd:return w.key===b?u(_,x,w,A):null;case iu:return b=w._init,d(_,x,b(w._payload),A)}if(Fm(w)||em(w))return b!==null?null:c(_,x,w,A,null);vy(_,w)}return null}function p(_,x,w,A,b){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(w)||null,a(x,_,""+A,b);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case oy:return _=_.get(A.key===null?w:A.key)||null,l(x,_,A,b);case Gd:return _=_.get(A.key===null?w:A.key)||null,u(x,_,A,b);case iu:var E=A._init;return p(_,x,w,E(A._payload),b)}if(Fm(A)||em(A))return _=_.get(w)||null,c(x,_,A,b,null);vy(x,A)}return null}function v(_,x,w,A){for(var b=null,E=null,T=x,M=x=0,P=null;T!==null&&M<w.length;M++){T.index>M?(P=T,T=null):P=T.sibling;var D=d(_,T,w[M],A);if(D===null){T===null&&(T=P);break}n&&T&&D.alternate===null&&e(_,T),x=s(D,x,M),E===null?b=D:E.sibling=D,E=D,T=P}if(M===w.length)return t(_,T),Gn&&Ic(_,M),b;if(T===null){for(;M<w.length;M++)T=f(_,w[M],A),T!==null&&(x=s(T,x,M),E===null?b=T:E.sibling=T,E=T);return Gn&&Ic(_,M),b}for(T=r(_,T);M<w.length;M++)P=p(T,_,M,w[M],A),P!==null&&(n&&P.alternate!==null&&T.delete(P.key===null?M:P.key),x=s(P,x,M),E===null?b=P:E.sibling=P,E=P);return n&&T.forEach(function(F){return e(_,F)}),Gn&&Ic(_,M),b}function g(_,x,w,A){var b=em(w);if(typeof b!="function")throw Error(rt(150));if(w=b.call(w),w==null)throw Error(rt(151));for(var E=b=null,T=x,M=x=0,P=null,D=w.next();T!==null&&!D.done;M++,D=w.next()){T.index>M?(P=T,T=null):P=T.sibling;var F=d(_,T,D.value,A);if(F===null){T===null&&(T=P);break}n&&T&&F.alternate===null&&e(_,T),x=s(F,x,M),E===null?b=F:E.sibling=F,E=F,T=P}if(D.done)return t(_,T),Gn&&Ic(_,M),b;if(T===null){for(;!D.done;M++,D=w.next())D=f(_,D.value,A),D!==null&&(x=s(D,x,M),E===null?b=D:E.sibling=D,E=D);return Gn&&Ic(_,M),b}for(T=r(_,T);!D.done;M++,D=w.next())D=p(T,_,M,D.value,A),D!==null&&(n&&D.alternate!==null&&T.delete(D.key===null?M:D.key),x=s(D,x,M),E===null?b=D:E.sibling=D,E=D);return n&&T.forEach(function(O){return e(_,O)}),Gn&&Ic(_,M),b}function y(_,x,w,A){if(typeof w=="object"&&w!==null&&w.type===Hd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case oy:e:{for(var b=w.key,E=x;E!==null;){if(E.key===b){if(b=w.type,b===Hd){if(E.tag===7){t(_,E.sibling),x=i(E,w.props.children),x.return=_,_=x;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===iu&&SD(b)===E.type){t(_,E.sibling),x=i(E,w.props),x.ref=sm(_,E,w),x.return=_,_=x;break e}t(_,E);break}else e(_,E);E=E.sibling}w.type===Hd?(x=sf(w.props.children,_.mode,A,w.key),x.return=_,_=x):(A=W1(w.type,w.key,w.props,null,_.mode,A),A.ref=sm(_,x,w),A.return=_,_=A)}return o(_);case Gd:e:{for(E=w.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(_,x.sibling),x=i(x,w.children||[]),x.return=_,_=x;break e}else{t(_,x);break}else e(_,x);x=x.sibling}x=pA(w,_.mode,A),x.return=_,_=x}return o(_);case iu:return E=w._init,y(_,x,E(w._payload),A)}if(Fm(w))return v(_,x,w,A);if(em(w))return g(_,x,w,A);vy(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(_,x.sibling),x=i(x,w),x.return=_,_=x):(t(_,x),x=hA(w,_.mode,A),x.return=_,_=x),o(_)):t(_,x)}return y}var Ih=nU(!0),rU=nU(!1),R0={},va=Xu(R0),Fg=Xu(R0),Ng=Xu(R0);function Wc(n){if(n===R0)throw Error(rt(174));return n}function WT(n,e){switch(Pn(Ng,e),Pn(Fg,n),Pn(va,R0),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=hM(e,n)}kn(va),Pn(va,e)}function Dh(){kn(va),kn(Fg),kn(Ng)}function iU(n){Wc(Ng.current);var e=Wc(va.current),t=hM(e,n.type);e!==t&&(Pn(Fg,n),Pn(va,t))}function jT(n){Fg.current===n&&(kn(va),kn(Fg))}var Yn=Xu(0);function B_(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aA=[];function $T(){for(var n=0;n<aA.length;n++)aA[n]._workInProgressVersionPrimary=null;aA.length=0}var U1=Dl.ReactCurrentDispatcher,lA=Dl.ReactCurrentBatchConfig,Mf=0,nr=null,Pr=null,Vr=null,L_=!1,tg=!1,Ug=0,n$=0;function di(){throw Error(rt(321))}function XT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Go(n[t],e[t]))return!1;return!0}function JT(n,e,t,r,i,s){if(Mf=s,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U1.current=n===null||n.memoizedState===null?o$:a$,n=t(r,i),tg){s=0;do{if(tg=!1,Ug=0,25<=s)throw Error(rt(301));s+=1,Vr=Pr=null,e.updateQueue=null,U1.current=l$,n=t(r,i)}while(tg)}if(U1.current=k_,e=Pr!==null&&Pr.next!==null,Mf=0,Vr=Pr=nr=null,L_=!1,e)throw Error(rt(300));return n}function KT(){var n=Ug!==0;return Ug=0,n}function la(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?nr.memoizedState=Vr=n:Vr=Vr.next=n,Vr}function mo(){if(Pr===null){var n=nr.alternate;n=n!==null?n.memoizedState:null}else n=Pr.next;var e=Vr===null?nr.memoizedState:Vr.next;if(e!==null)Vr=e,Pr=n;else{if(n===null)throw Error(rt(310));Pr=n,n={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Vr===null?nr.memoizedState=Vr=n:Vr=Vr.next=n}return Vr}function zg(n,e){return typeof e=="function"?e(n):e}function uA(n){var e=mo(),t=e.queue;if(t===null)throw Error(rt(311));t.lastRenderedReducer=n;var r=Pr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Mf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,nr.lanes|=c,Ef|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Go(r,e.memoizedState)||(Yi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,nr.lanes|=s,Ef|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function cA(n){var e=mo(),t=e.queue;if(t===null)throw Error(rt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Go(s,e.memoizedState)||(Yi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function sU(){}function oU(n,e){var t=nr,r=mo(),i=e(),s=!Go(r.memoizedState,i);if(s&&(r.memoizedState=i,Yi=!0),r=r.queue,YT(uU.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Vr!==null&&Vr.memoizedState.tag&1){if(t.flags|=2048,Gg(9,lU.bind(null,t,r,i,e),void 0,null),Kr===null)throw Error(rt(349));Mf&30||aU(t,e,i)}return i}function aU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function lU(n,e,t,r){e.value=t,e.getSnapshot=r,cU(e)&&fU(n)}function uU(n,e,t){return t(function(){cU(e)&&fU(n)})}function cU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Go(n,t)}catch{return!0}}function fU(n){var e=_l(n,1);e!==null&&Fo(e,n,1,-1)}function AD(n){var e=la();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},e.queue=n,n=n.dispatch=s$.bind(null,nr,n),[e.memoizedState,n]}function Gg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function dU(){return mo().memoizedState}function z1(n,e,t,r){var i=la();nr.flags|=n,i.memoizedState=Gg(1|e,t,void 0,r===void 0?null:r)}function Gx(n,e,t,r){var i=mo();r=r===void 0?null:r;var s=void 0;if(Pr!==null){var o=Pr.memoizedState;if(s=o.destroy,r!==null&&XT(r,o.deps)){i.memoizedState=Gg(e,t,s,r);return}}nr.flags|=n,i.memoizedState=Gg(1|e,t,s,r)}function bD(n,e){return z1(8390656,8,n,e)}function YT(n,e){return Gx(2048,8,n,e)}function hU(n,e){return Gx(4,2,n,e)}function pU(n,e){return Gx(4,4,n,e)}function mU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function gU(n,e,t){return t=t!=null?t.concat([n]):null,Gx(4,4,mU.bind(null,e,n),t)}function QT(){}function vU(n,e){var t=mo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&XT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function yU(n,e){var t=mo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&XT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function _U(n,e,t){return Mf&21?(Go(t,e)||(t=S4(),nr.lanes|=t,Ef|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Yi=!0),n.memoizedState=t)}function r$(n,e){var t=yn;yn=t!==0&&4>t?t:4,n(!0);var r=lA.transition;lA.transition={};try{n(!1),e()}finally{yn=t,lA.transition=r}}function xU(){return mo().memoizedState}function i$(n,e,t){var r=Su(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},wU(n))SU(e,t);else if(t=Z4(n,e,t,r),t!==null){var i=Gi();Fo(t,n,r,i),AU(t,e,r)}}function s$(n,e,t){var r=Su(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(wU(n))SU(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Go(a,o)){var l=e.interleaved;l===null?(i.next=i,HT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=Z4(n,e,i,r),t!==null&&(i=Gi(),Fo(t,n,r,i),AU(t,e,r))}}function wU(n){var e=n.alternate;return n===nr||e!==null&&e===nr}function SU(n,e){tg=L_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function AU(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,TT(n,t)}}var k_={readContext:po,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},o$={readContext:po,useCallback:function(n,e){return la().memoizedState=[n,e===void 0?null:e],n},useContext:po,useEffect:bD,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,z1(4194308,4,mU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return z1(4194308,4,n,e)},useInsertionEffect:function(n,e){return z1(4,2,n,e)},useMemo:function(n,e){var t=la();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=la();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=i$.bind(null,nr,n),[r.memoizedState,n]},useRef:function(n){var e=la();return n={current:n},e.memoizedState=n},useState:AD,useDebugValue:QT,useDeferredValue:function(n){return la().memoizedState=n},useTransition:function(){var n=AD(!1),e=n[0];return n=r$.bind(null,n[1]),la().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=nr,i=la();if(Gn){if(t===void 0)throw Error(rt(407));t=t()}else{if(t=e(),Kr===null)throw Error(rt(349));Mf&30||aU(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,bD(uU.bind(null,r,s,n),[n]),r.flags|=2048,Gg(9,lU.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=la(),e=Kr.identifierPrefix;if(Gn){var t=ll,r=al;t=(r&~(1<<32-Oo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ug++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=n$++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},a$={readContext:po,useCallback:vU,useContext:po,useEffect:YT,useImperativeHandle:gU,useInsertionEffect:hU,useLayoutEffect:pU,useMemo:yU,useReducer:uA,useRef:dU,useState:function(){return uA(zg)},useDebugValue:QT,useDeferredValue:function(n){var e=mo();return _U(e,Pr.memoizedState,n)},useTransition:function(){var n=uA(zg)[0],e=mo().memoizedState;return[n,e]},useMutableSource:sU,useSyncExternalStore:oU,useId:xU,unstable_isNewReconciler:!1},l$={readContext:po,useCallback:vU,useContext:po,useEffect:YT,useImperativeHandle:gU,useInsertionEffect:hU,useLayoutEffect:pU,useMemo:yU,useReducer:cA,useRef:dU,useState:function(){return cA(zg)},useDebugValue:QT,useDeferredValue:function(n){var e=mo();return Pr===null?e.memoizedState=n:_U(e,Pr.memoizedState,n)},useTransition:function(){var n=cA(zg)[0],e=mo().memoizedState;return[n,e]},useMutableSource:sU,useSyncExternalStore:oU,useId:xU,unstable_isNewReconciler:!1};function Bh(n,e){try{var t="",r=e;do t+=O7(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function fA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function OM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function bU(n,e,t){t=dl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){F_||(F_=!0,$M=r),OM(n,e)},t}function MU(n,e,t){t=dl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){OM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){OM(n,e),typeof r!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function MD(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=A$.bind(null,n,e,t),e.then(n,n))}function ED(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function CD(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=dl(-1,1),e.tag=2,xu(t,e,1))),t.lanes|=1),n)}var c$=Dl.ReactCurrentOwner,Yi=!1;function Oi(n,e,t,r){e.child=n===null?rU(e,null,t,r):Ih(e,n.child,t,r)}function TD(n,e,t,r,i){t=t.render;var s=e.ref;return gh(e,i),r=JT(n,e,t,r,s,i),t=KT(),n!==null&&!Yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xl(n,e,i)):(Gn&&t&&OT(e),e.flags|=1,Oi(n,e,r,i),e.child)}function PD(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!s2(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,EU(n,e,s,r,i)):(n=W1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Bg,t(o,r)&&n.ref===e.ref)return xl(n,e,i)}return e.flags|=1,n=Au(s,r),n.ref=e.ref,n.return=e,e.child=n}function EU(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Bg(s,r)&&n.ref===e.ref)if(Yi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Yi=!0);else return e.lanes=n.lanes,xl(n,e,i)}return FM(n,e,t,r,i)}function CU(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Zd,_s),_s|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Pn(Zd,_s),_s|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Pn(Zd,_s),_s|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Pn(Zd,_s),_s|=r;return Oi(n,e,i,t),e.child}function TU(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function FM(n,e,t,r,i){var s=es(t)?Af:bi.current;return s=Ph(e,s),gh(e,i),t=JT(n,e,t,r,s,i),r=KT(),n!==null&&!Yi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xl(n,e,i)):(Gn&&r&&OT(e),e.flags|=1,Oi(n,e,t,i),e.child)}function RD(n,e,t,r,i){if(es(t)){var s=!0;C_(e)}else s=!1;if(gh(e,i),e.stateNode===null)G1(n,e),tU(e,t,r),kM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=po(u):(u=es(t)?Af:bi.current,u=Ph(e,u));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wD(e,o,r,u),su=!1;var d=e.memoizedState;o.state=d,D_(e,r,o,i),l=e.memoizedState,a!==r||d!==l||qi.current||su?(typeof c=="function"&&(LM(e,t,c,r),l=e.memoizedState),(a=su||xD(e,t,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q4(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Po(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=po(l):(l=es(t)?Af:bi.current,l=Ph(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&wD(e,o,r,l),su=!1,d=e.memoizedState,o.state=d,D_(e,r,o,i);var v=e.memoizedState;a!==f||d!==v||qi.current||su?(typeof p=="function"&&(LM(e,t,p,r),v=e.memoizedState),(u=su||xD(e,t,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return NM(n,e,t,r,s,i)}function NM(n,e,t,r,i,s){TU(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mD(e,t,!1),xl(n,e,s);r=e.stateNode,c$.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ih(e,n.child,null,s),e.child=Ih(e,null,a,s)):Oi(n,e,a,s),e.memoizedState=r.state,i&&mD(e,t,!0),e.child}function PU(n){var e=n.stateNode;e.pendingContext?pD(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pD(n,e.context,!1),WT(n,e.containerInfo)}function ID(n,e,t,r,i){return Rh(),NT(i),e.flags|=256,Oi(n,e,t,r),e.child}var UM={dehydrated:null,treeContext:null,retryLane:0};function zM(n){return{baseLanes:n,cachePool:null,transitions:null}}function RU(n,e,t){var r=e.pendingProps,i=Yn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Pn(Yn,i&1),n===null)return DM(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wx(o,r,0,null),n=sf(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=zM(t),e.memoizedState=UM,n):ZT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return f$(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Au(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Au(a,s):(s=sf(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?zM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=UM,r}return s=n.child,n=s.sibling,r=Au(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function ZT(n,e){return e=Wx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function yy(n,e,t,r){return r!==null&&NT(r),Ih(e,n.child,null,t),n=ZT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function f$(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=fA(Error(rt(422))),yy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wx({mode:"visible",children:r.children},i,0,null),s=sf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ih(e,n.child,null,o),e.child.memoizedState=zM(o),e.memoizedState=UM,s);if(!(e.mode&1))return yy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(rt(419)),r=fA(s,r,void 0),yy(n,e,o,r)}if(a=(o&n.childLanes)!==0,Yi||a){if(r=Kr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_l(n,i),Fo(r,n,i,-1))}return i2(),r=fA(Error(rt(421))),yy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=b$.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,As=_u(i.nextSibling),Es=e,Gn=!0,Io=null,n!==null&&(to[no++]=al,to[no++]=ll,to[no++]=bf,al=n.id,ll=n.overflow,bf=e),e=ZT(e,r.children),e.flags|=4096,e)}function DD(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),BM(n.return,e,t)}function dA(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function IU(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Oi(n,e,r.children,t),r=Yn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&DD(n,t,e);else if(n.tag===19)DD(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Pn(Yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&B_(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),dA(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&B_(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}dA(e,!0,t,null,s);break;case"together":dA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function G1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function xl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ef|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(rt(153));if(e.child!==null){for(n=e.child,t=Au(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Au(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function d$(n,e,t){switch(e.tag){case 3:PU(e),Rh();break;case 5:iU(e);break;case 1:es(e.type)&&C_(e);break;case 4:WT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pn(R_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pn(Yn,Yn.current&1),e.flags|=128,null):t&e.child.childLanes?RU(n,e,t):(Pn(Yn,Yn.current&1),n=xl(n,e,t),n!==null?n.sibling:null);Pn(Yn,Yn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return IU(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(Yn,Yn.current),r)break;return null;case 22:case 23:return e.lanes=0,CU(n,e,t)}return xl(n,e,t)}var DU,GM,BU,LU;DU=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};GM=function(){};BU=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Wc(va.current);var s=null;switch(t){case"input":i=uM(n,i),r=uM(n,r),s=[];break;case"select":i=rr({},i,{value:void 0}),r=rr({},r,{value:void 0}),s=[];break;case"textarea":i=dM(n,i),r=dM(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=M_)}pM(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&In("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};LU=function(n,e,t,r){t!==r&&(e.flags|=4)};function om(n,e){if(!Gn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function hi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function h$(n,e,t){var r=e.pendingProps;switch(FT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(e),null;case 1:return es(e.type)&&E_(),hi(e),null;case 3:return r=e.stateNode,Dh(),kn(qi),kn(bi),$T(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(gy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Io!==null&&(KM(Io),Io=null))),GM(n,e),hi(e),null;case 5:jT(e);var i=Wc(Ng.current);if(t=e.type,n!==null&&e.stateNode!=null)BU(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return hi(e),null}if(n=Wc(va.current),gy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ha]=e,r[Og]=s,n=(e.mode&1)!==0,t){case"dialog":In("cancel",r),In("close",r);break;case"iframe":case"object":case"embed":In("load",r);break;case"video":case"audio":for(i=0;i<Um.length;i++)In(Um[i],r);break;case"source":In("error",r);break;case"img":case"image":case"link":In("error",r),In("load",r);break;case"details":In("toggle",r);break;case"input":GI(r,s),In("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},In("invalid",r);break;case"textarea":VI(r,s),In("invalid",r)}pM(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&my(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&my(r.textContent,a,n),i=["children",""+a]):Eg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&In("scroll",r)}switch(t){case"input":ay(r),HI(r,s,!0);break;case"textarea":ay(r),WI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=M_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=a4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ha]=e,n[Og]=r,DU(n,e,!1,!1),e.stateNode=n;e:{switch(o=mM(t,r),t){case"dialog":In("cancel",n),In("close",n),i=r;break;case"iframe":case"object":case"embed":In("load",n),i=r;break;case"video":case"audio":for(i=0;i<Um.length;i++)In(Um[i],n);i=r;break;case"source":In("error",n),i=r;break;case"img":case"image":case"link":In("error",n),In("load",n),i=r;break;case"details":In("toggle",n),i=r;break;case"input":GI(n,r),i=uM(n,r),In("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=rr({},r,{value:void 0}),In("invalid",n);break;case"textarea":VI(n,r),i=dM(n,r),In("invalid",n);break;default:i=r}pM(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c4(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&l4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Cg(n,l):typeof l=="number"&&Cg(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&In("scroll",n):l!=null&&ST(n,s,l,o))}switch(t){case"input":ay(n),HI(n,r,!1);break;case"textarea":ay(n),WI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Pu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?dh(n,!!r.multiple,s,!1):r.defaultValue!=null&&dh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=M_)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hi(e),null;case 6:if(n&&e.stateNode!=null)LU(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(t=Wc(Ng.current),Wc(va.current),gy(e)){if(r=e.stateNode,t=e.memoizedProps,r[ha]=e,(s=r.nodeValue!==t)&&(n=Es,n!==null))switch(n.tag){case 3:my(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&my(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ha]=e,e.stateNode=r}return hi(e),null;case 13:if(kn(Yn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Gn&&As!==null&&e.mode&1&&!(e.flags&128))Q4(),Rh(),e.flags|=98560,s=!1;else if(s=gy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[ha]=e}else Rh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hi(e),s=!1}else Io!==null&&(KM(Io),Io=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Yn.current&1?Br===0&&(Br=3):i2())),e.updateQueue!==null&&(e.flags|=4),hi(e),null);case 4:return Dh(),GM(n,e),n===null&&Lg(e.stateNode.containerInfo),hi(e),null;case 10:return GT(e.type._context),hi(e),null;case 17:return es(e.type)&&E_(),hi(e),null;case 19:if(kn(Yn),s=e.memoizedState,s===null)return hi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)om(s,!1);else{if(Br!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=B_(n),o!==null){for(e.flags|=128,om(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Pn(Yn,Yn.current&1|2),e.child}n=n.sibling}s.tail!==null&&yr()>Lh&&(e.flags|=128,r=!0,om(s,!1),e.lanes=4194304)}else{if(!r)if(n=B_(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),om(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gn)return hi(e),null}else 2*yr()-s.renderingStartTime>Lh&&t!==1073741824&&(e.flags|=128,r=!0,om(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yr(),e.sibling=null,t=Yn.current,Pn(Yn,r?t&1|2:t&1),e):(hi(e),null);case 22:case 23:return r2(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_s&1073741824&&(hi(e),e.subtreeFlags&6&&(e.flags|=8192)):hi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function p$(n,e){switch(FT(e),e.tag){case 1:return es(e.type)&&E_(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Dh(),kn(qi),kn(bi),$T(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jT(e),null;case 13:if(kn(Yn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));Rh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return kn(Yn),null;case 4:return Dh(),null;case 10:return GT(e.type._context),null;case 22:case 23:return r2(),null;case 24:return null;default:return null}}var _y=!1,vi=!1,m$=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Qd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ar(n,e,r)}else t.current=null}function HM(n,e,t){try{t()}catch(r){ar(n,e,r)}}var BD=!1;function g$(n,e){if(MM=S_,n=N4(),kT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=n,d=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(EM={focusedElem:n,selectionRange:t},S_=!1,yt=e;yt!==null;)if(e=yt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,yt=n;else for(;yt!==null;){e=yt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Po(e.type,g),y);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(A){ar(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,yt=n;break}yt=e.return}return v=BD,BD=!1,v}function ng(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&HM(e,t,s)}i=i.next}while(i!==r)}}function Hx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function VM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function kU(n){var e=n.alternate;e!==null&&(n.alternate=null,kU(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ha],delete e[Og],delete e[PM],delete e[Zj],delete e[qj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function OU(n){return n.tag===5||n.tag===3||n.tag===4}function LD(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||OU(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function WM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=M_));else if(r!==4&&(n=n.child,n!==null))for(WM(n,e,t),n=n.sibling;n!==null;)WM(n,e,t),n=n.sibling}function jM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(jM(n,e,t),n=n.sibling;n!==null;)jM(n,e,t),n=n.sibling}var ri=null,Ro=!1;function $l(n,e,t){for(t=t.child;t!==null;)FU(n,e,t),t=t.sibling}function FU(n,e,t){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(Lx,t)}catch{}switch(t.tag){case 5:vi||Qd(t,e);case 6:var r=ri,i=Ro;ri=null,$l(n,e,t),ri=r,Ro=i,ri!==null&&(Ro?(n=ri,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ri.removeChild(t.stateNode));break;case 18:ri!==null&&(Ro?(n=ri,t=t.stateNode,n.nodeType===8?sA(n.parentNode,t):n.nodeType===1&&sA(n,t),Ig(n)):sA(ri,t.stateNode));break;case 4:r=ri,i=Ro,ri=t.stateNode.containerInfo,Ro=!0,$l(n,e,t),ri=r,Ro=i;break;case 0:case 11:case 14:case 15:if(!vi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&HM(t,e,o),i=i.next}while(i!==r)}$l(n,e,t);break;case 1:if(!vi&&(Qd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ar(t,e,a)}$l(n,e,t);break;case 21:$l(n,e,t);break;case 22:t.mode&1?(vi=(r=vi)||t.memoizedState!==null,$l(n,e,t),vi=r):$l(n,e,t);break;default:$l(n,e,t)}}function kD(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new m$),e.forEach(function(r){var i=M$.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ao(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ri=a.stateNode,Ro=!1;break e;case 3:ri=a.stateNode.containerInfo,Ro=!0;break e;case 4:ri=a.stateNode.containerInfo,Ro=!0;break e}a=a.return}if(ri===null)throw Error(rt(160));FU(s,o,i),ri=null,Ro=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ar(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NU(e,n),e=e.sibling}function NU(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ao(e,n),oa(n),r&4){try{ng(3,n,n.return),Hx(3,n)}catch(g){ar(n,n.return,g)}try{ng(5,n,n.return)}catch(g){ar(n,n.return,g)}}break;case 1:Ao(e,n),oa(n),r&512&&t!==null&&Qd(t,t.return);break;case 5:if(Ao(e,n),oa(n),r&512&&t!==null&&Qd(t,t.return),n.flags&32){var i=n.stateNode;try{Cg(i,"")}catch(g){ar(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&s4(i,s),mM(a,o);var u=mM(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?c4(i,f):c==="dangerouslySetInnerHTML"?l4(i,f):c==="children"?Cg(i,f):ST(i,c,f,u)}switch(a){case"input":cM(i,s);break;case"textarea":o4(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?dh(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?dh(i,!!s.multiple,s.defaultValue,!0):dh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Og]=s}catch(g){ar(n,n.return,g)}}break;case 6:if(Ao(e,n),oa(n),r&4){if(n.stateNode===null)throw Error(rt(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){ar(n,n.return,g)}}break;case 3:if(Ao(e,n),oa(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Ig(e.containerInfo)}catch(g){ar(n,n.return,g)}break;case 4:Ao(e,n),oa(n);break;case 13:Ao(e,n),oa(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t2=yr())),r&4&&kD(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(vi=(u=vi)||c,Ao(e,n),vi=u):Ao(e,n),oa(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(yt=n,c=n.child;c!==null;){for(f=yt=c;yt!==null;){switch(d=yt,p=d.child,d.tag){case 0:case 11:case 14:case 15:ng(4,d,d.return);break;case 1:Qd(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){ar(r,t,g)}}break;case 5:Qd(d,d.return);break;case 22:if(d.memoizedState!==null){FD(f);continue}}p!==null?(p.return=d,yt=p):FD(f)}c=c.sibling}e:for(c=null,f=n;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u4("display",o))}catch(g){ar(n,n.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ar(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ao(e,n),oa(n),r&4&&kD(n);break;case 21:break;default:Ao(e,n),oa(n)}}function oa(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(OU(t)){var r=t;break e}t=t.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cg(i,""),r.flags&=-33);var s=LD(n);jM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LD(n);WM(n,a,o);break;default:throw Error(rt(161))}}catch(l){ar(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function v$(n,e,t){yt=n,UU(n)}function UU(n,e,t){for(var r=(n.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_y;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vi;a=_y;var u=vi;if(_y=o,(vi=l)&&!u)for(yt=i;yt!==null;)o=yt,l=o.child,o.tag===22&&o.memoizedState!==null?ND(i):l!==null?(l.return=o,yt=l):ND(i);for(;s!==null;)yt=s,UU(s),s=s.sibling;yt=i,_y=a,vi=u}OD(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):OD(n)}}function OD(n){for(;yt!==null;){var e=yt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vi||Hx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vi)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Po(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_D(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}_D(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ig(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}vi||e.flags&512&&VM(e)}catch(d){ar(e,e.return,d)}}if(e===n){yt=null;break}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}}function FD(n){for(;yt!==null;){var e=yt;if(e===n){yt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,yt=t;break}yt=e.return}}function ND(n){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Hx(4,e)}catch(l){ar(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ar(e,i,l)}}var s=e.return;try{VM(e)}catch(l){ar(e,s,l)}break;case 5:var o=e.return;try{VM(e)}catch(l){ar(e,o,l)}}}catch(l){ar(e,e.return,l)}if(e===n){yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,yt=a;break}yt=e.return}}var y$=Math.ceil,O_=Dl.ReactCurrentDispatcher,qT=Dl.ReactCurrentOwner,fo=Dl.ReactCurrentBatchConfig,cn=0,Kr=null,Er=null,si=0,_s=0,Zd=Xu(0),Br=0,Hg=null,Ef=0,Vx=0,e2=0,rg=null,Ki=null,t2=0,Lh=1/0,Ka=null,F_=!1,$M=null,wu=null,xy=!1,uu=null,N_=0,ig=0,XM=null,H1=-1,V1=0;function Gi(){return cn&6?yr():H1!==-1?H1:H1=yr()}function Su(n){return n.mode&1?cn&2&&si!==0?si&-si:t$.transition!==null?(V1===0&&(V1=S4()),V1):(n=yn,n!==0||(n=window.event,n=n===void 0?16:P4(n.type)),n):1}function Fo(n,e,t,r){if(50<ig)throw ig=0,XM=null,Error(rt(185));C0(n,t,r),(!(cn&2)||n!==Kr)&&(n===Kr&&(!(cn&2)&&(Vx|=t),Br===4&&au(n,si)),ts(n,r),t===1&&cn===0&&!(e.mode&1)&&(Lh=yr()+500,Ux&&Ju()))}function ts(n,e){var t=n.callbackNode;tj(n,e);var r=w_(n,n===Kr?si:0);if(r===0)t!==null&&XI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&XI(t),e===1)n.tag===0?e$(UD.bind(null,n)):J4(UD.bind(null,n)),Yj(function(){!(cn&6)&&Ju()}),t=null;else{switch(A4(r)){case 1:t=CT;break;case 4:t=x4;break;case 16:t=x_;break;case 536870912:t=w4;break;default:t=x_}t=XU(t,zU.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zU(n,e){if(H1=-1,V1=0,cn&6)throw Error(rt(327));var t=n.callbackNode;if(vh()&&n.callbackNode!==t)return null;var r=w_(n,n===Kr?si:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=U_(n,r);else{e=r;var i=cn;cn|=2;var s=HU();(Kr!==n||si!==e)&&(Ka=null,Lh=yr()+500,rf(n,e));do try{w$();break}catch(a){GU(n,a)}while(!0);zT(),O_.current=s,cn=i,Er!==null?e=0:(Kr=null,si=0,e=Br)}if(e!==0){if(e===2&&(i=xM(n),i!==0&&(r=i,e=JM(n,i))),e===1)throw t=Hg,rf(n,0),au(n,r),ts(n,yr()),t;if(e===6)au(n,r);else{if(i=n.current.alternate,!(r&30)&&!_$(i)&&(e=U_(n,r),e===2&&(s=xM(n),s!==0&&(r=s,e=JM(n,s))),e===1))throw t=Hg,rf(n,0),au(n,r),ts(n,yr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:Dc(n,Ki,Ka);break;case 3:if(au(n,r),(r&130023424)===r&&(e=t2+500-yr(),10<e)){if(w_(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Gi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=TM(Dc.bind(null,n,Ki,Ka),e);break}Dc(n,Ki,Ka);break;case 4:if(au(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Oo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y$(r/1960))-r,10<r){n.timeoutHandle=TM(Dc.bind(null,n,Ki,Ka),r);break}Dc(n,Ki,Ka);break;case 5:Dc(n,Ki,Ka);break;default:throw Error(rt(329))}}}return ts(n,yr()),n.callbackNode===t?zU.bind(null,n):null}function JM(n,e){var t=rg;return n.current.memoizedState.isDehydrated&&(rf(n,e).flags|=256),n=U_(n,e),n!==2&&(e=Ki,Ki=t,e!==null&&KM(e)),n}function KM(n){Ki===null?Ki=n:Ki.push.apply(Ki,n)}function _$(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Go(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function au(n,e){for(e&=~e2,e&=~Vx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Oo(e),r=1<<t;n[t]=-1,e&=~r}}function UD(n){if(cn&6)throw Error(rt(327));vh();var e=w_(n,0);if(!(e&1))return ts(n,yr()),null;var t=U_(n,e);if(n.tag!==0&&t===2){var r=xM(n);r!==0&&(e=r,t=JM(n,r))}if(t===1)throw t=Hg,rf(n,0),au(n,e),ts(n,yr()),t;if(t===6)throw Error(rt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Dc(n,Ki,Ka),ts(n,yr()),null}function n2(n,e){var t=cn;cn|=1;try{return n(e)}finally{cn=t,cn===0&&(Lh=yr()+500,Ux&&Ju())}}function Cf(n){uu!==null&&uu.tag===0&&!(cn&6)&&vh();var e=cn;cn|=1;var t=fo.transition,r=yn;try{if(fo.transition=null,yn=1,n)return n()}finally{yn=r,fo.transition=t,cn=e,!(cn&6)&&Ju()}}function r2(){_s=Zd.current,kn(Zd)}function rf(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Kj(t)),Er!==null)for(t=Er.return;t!==null;){var r=t;switch(FT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&E_();break;case 3:Dh(),kn(qi),kn(bi),$T();break;case 5:jT(r);break;case 4:Dh();break;case 13:kn(Yn);break;case 19:kn(Yn);break;case 10:GT(r.type._context);break;case 22:case 23:r2()}t=t.return}if(Kr=n,Er=n=Au(n.current,null),si=_s=e,Br=0,Hg=null,e2=Vx=Ef=0,Ki=rg=null,Vc!==null){for(e=0;e<Vc.length;e++)if(t=Vc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Vc=null}return n}function GU(n,e){do{var t=Er;try{if(zT(),U1.current=k_,L_){for(var r=nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}L_=!1}if(Mf=0,Vr=Pr=nr=null,tg=!1,Ug=0,qT.current=null,t===null||t.return===null){Br=1,Hg=e,Er=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=si,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ED(o);if(p!==null){p.flags&=-257,CD(p,o,a,s,e),p.mode&1&&MD(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){MD(s,u,e),i2();break e}l=Error(rt(426))}}else if(Gn&&a.mode&1){var y=ED(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),CD(y,o,a,s,e),NT(Bh(l,a));break e}}s=l=Bh(l,a),Br!==4&&(Br=2),rg===null?rg=[s]:rg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=bU(s,l,e);yD(s,_);break e;case 1:a=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wu===null||!wu.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=MU(s,a,e);yD(s,A);break e}}s=s.return}while(s!==null)}WU(t)}catch(b){e=b,Er===t&&t!==null&&(Er=t=t.return);continue}break}while(!0)}function HU(){var n=O_.current;return O_.current=k_,n===null?k_:n}function i2(){(Br===0||Br===3||Br===2)&&(Br=4),Kr===null||!(Ef&268435455)&&!(Vx&268435455)||au(Kr,si)}function U_(n,e){var t=cn;cn|=2;var r=HU();(Kr!==n||si!==e)&&(Ka=null,rf(n,e));do try{x$();break}catch(i){GU(n,i)}while(!0);if(zT(),cn=t,O_.current=r,Er!==null)throw Error(rt(261));return Kr=null,si=0,Br}function x$(){for(;Er!==null;)VU(Er)}function w$(){for(;Er!==null&&!$7();)VU(Er)}function VU(n){var e=$U(n.alternate,n,_s);n.memoizedProps=n.pendingProps,e===null?WU(n):Er=e,qT.current=null}function WU(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=p$(t,e),t!==null){t.flags&=32767,Er=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Br=6,Er=null;return}}else if(t=h$(t,e,_s),t!==null){Er=t;return}if(e=e.sibling,e!==null){Er=e;return}Er=e=n}while(e!==null);Br===0&&(Br=5)}function Dc(n,e,t){var r=yn,i=fo.transition;try{fo.transition=null,yn=1,S$(n,e,t,r)}finally{fo.transition=i,yn=r}return null}function S$(n,e,t,r){do vh();while(uu!==null);if(cn&6)throw Error(rt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(rt(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(nj(n,s),n===Kr&&(Er=Kr=null,si=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||xy||(xy=!0,XU(x_,function(){return vh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=fo.transition,fo.transition=null;var o=yn;yn=1;var a=cn;cn|=4,qT.current=null,g$(n,t),NU(t,n),Hj(EM),S_=!!MM,EM=MM=null,n.current=t,v$(t),X7(),cn=a,yn=o,fo.transition=s}else n.current=t;if(xy&&(xy=!1,uu=n,N_=i),s=n.pendingLanes,s===0&&(wu=null),Y7(t.stateNode),ts(n,yr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(F_)throw F_=!1,n=$M,$M=null,n;return N_&1&&n.tag!==0&&vh(),s=n.pendingLanes,s&1?n===XM?ig++:(ig=0,XM=n):ig=0,Ju(),null}function vh(){if(uu!==null){var n=A4(N_),e=fo.transition,t=yn;try{if(fo.transition=null,yn=16>n?16:n,uu===null)var r=!1;else{if(n=uu,uu=null,N_=0,cn&6)throw Error(rt(331));var i=cn;for(cn|=4,yt=n.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(yt=u;yt!==null;){var c=yt;switch(c.tag){case 0:case 11:case 15:ng(8,c,s)}var f=c.child;if(f!==null)f.return=c,yt=f;else for(;yt!==null;){c=yt;var d=c.sibling,p=c.return;if(kU(c),c===u){yt=null;break}if(d!==null){d.return=p,yt=d;break}yt=p}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ng(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,yt=_;break e}yt=s.return}}var x=n.current;for(yt=x;yt!==null;){o=yt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,yt=w;else e:for(o=x;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hx(9,a)}}catch(b){ar(a,a.return,b)}if(a===o){yt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,yt=A;break e}yt=a.return}}if(cn=i,Ju(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(Lx,n)}catch{}r=!0}return r}finally{yn=t,fo.transition=e}}return!1}function zD(n,e,t){e=Bh(t,e),e=bU(n,e,1),n=xu(n,e,1),e=Gi(),n!==null&&(C0(n,1,e),ts(n,e))}function ar(n,e,t){if(n.tag===3)zD(n,n,t);else for(;e!==null;){if(e.tag===3){zD(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wu===null||!wu.has(r))){n=Bh(t,n),n=MU(e,n,1),e=xu(e,n,1),n=Gi(),e!==null&&(C0(e,1,n),ts(e,n));break}}e=e.return}}function A$(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Gi(),n.pingedLanes|=n.suspendedLanes&t,Kr===n&&(si&t)===t&&(Br===4||Br===3&&(si&130023424)===si&&500>yr()-t2?rf(n,0):e2|=t),ts(n,e)}function jU(n,e){e===0&&(n.mode&1?(e=cy,cy<<=1,!(cy&130023424)&&(cy=4194304)):e=1);var t=Gi();n=_l(n,e),n!==null&&(C0(n,e,t),ts(n,t))}function b$(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jU(n,t)}function M$(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),jU(n,t)}var $U;$U=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||qi.current)Yi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Yi=!1,d$(n,e,t);Yi=!!(n.flags&131072)}else Yi=!1,Gn&&e.flags&1048576&&K4(e,P_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;G1(n,e),n=e.pendingProps;var i=Ph(e,bi.current);gh(e,t),i=JT(null,e,r,n,i,t);var s=KT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,es(r)?(s=!0,C_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VT(e),i.updater=zx,e.stateNode=i,i._reactInternals=e,kM(e,r,n,t),e=NM(null,e,r,!0,s,t)):(e.tag=0,Gn&&s&&OT(e),Oi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(G1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C$(r),n=Po(r,n),i){case 0:e=FM(null,e,r,n,t);break e;case 1:e=RD(null,e,r,n,t);break e;case 11:e=TD(null,e,r,n,t);break e;case 14:e=PD(null,e,r,Po(r.type,n),t);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),FM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),RD(n,e,r,i,t);case 3:e:{if(PU(e),n===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,q4(n,e),D_(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bh(Error(rt(423)),e),e=ID(n,e,r,t,i);break e}else if(r!==i){i=Bh(Error(rt(424)),e),e=ID(n,e,r,t,i);break e}else for(As=_u(e.stateNode.containerInfo.firstChild),Es=e,Gn=!0,Io=null,t=rU(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Rh(),r===i){e=xl(n,e,t);break e}Oi(n,e,r,t)}e=e.child}return e;case 5:return iU(e),n===null&&DM(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,CM(r,i)?o=null:s!==null&&CM(r,s)&&(e.flags|=32),TU(n,e),Oi(n,e,o,t),e.child;case 6:return n===null&&DM(e),null;case 13:return RU(n,e,t);case 4:return WT(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ih(e,null,r,t):Oi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),TD(n,e,r,i,t);case 7:return Oi(n,e,e.pendingProps,t),e.child;case 8:return Oi(n,e,e.pendingProps.children,t),e.child;case 12:return Oi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pn(R_,r._currentValue),r._currentValue=o,s!==null)if(Go(s.value,o)){if(s.children===i.children&&!qi.current){e=xl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dl(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),BM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(rt(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),BM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Oi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gh(e,t),i=po(i),r=r(i),e.flags|=1,Oi(n,e,r,t),e.child;case 14:return r=e.type,i=Po(r,e.pendingProps),i=Po(r.type,i),PD(n,e,r,i,t);case 15:return EU(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),G1(n,e),e.tag=1,es(r)?(n=!0,C_(e)):n=!1,gh(e,t),tU(e,r,i),kM(e,r,i,t),NM(null,e,r,!0,n,t);case 19:return IU(n,e,t);case 22:return CU(n,e,t)}throw Error(rt(156,e.tag))};function XU(n,e){return _4(n,e)}function E$(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ao(n,e,t,r){return new E$(n,e,t,r)}function s2(n){return n=n.prototype,!(!n||!n.isReactComponent)}function C$(n){if(typeof n=="function")return s2(n)?1:0;if(n!=null){if(n=n.$$typeof,n===bT)return 11;if(n===MT)return 14}return 2}function Au(n,e){var t=n.alternate;return t===null?(t=ao(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function W1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")s2(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Hd:return sf(t.children,i,s,e);case AT:o=8,i|=8;break;case sM:return n=ao(12,t,e,i|2),n.elementType=sM,n.lanes=s,n;case oM:return n=ao(13,t,e,i),n.elementType=oM,n.lanes=s,n;case aM:return n=ao(19,t,e,i),n.elementType=aM,n.lanes=s,n;case n4:return Wx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case e4:o=10;break e;case t4:o=9;break e;case bT:o=11;break e;case MT:o=14;break e;case iu:o=16,r=null;break e}throw Error(rt(130,n==null?n:typeof n,""))}return e=ao(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function sf(n,e,t,r){return n=ao(7,n,r,e),n.lanes=t,n}function Wx(n,e,t,r){return n=ao(22,n,r,e),n.elementType=n4,n.lanes=t,n.stateNode={isHidden:!1},n}function hA(n,e,t){return n=ao(6,n,null,e),n.lanes=t,n}function pA(n,e,t){return e=ao(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function T$(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JS(0),this.expirationTimes=JS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o2(n,e,t,r,i,s,o,a,l){return n=new T$(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ao(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},VT(s),n}function P$(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function JU(n){if(!n)return Ru;n=n._reactInternals;e:{if(Gf(n)!==n||n.tag!==1)throw Error(rt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(n.tag===1){var t=n.type;if(es(t))return X4(n,t,e)}return e}function KU(n,e,t,r,i,s,o,a,l){return n=o2(t,r,!0,n,i,s,o,a,l),n.context=JU(null),t=n.current,r=Gi(),i=Su(t),s=dl(r,i),s.callback=e??null,xu(t,s,i),n.current.lanes=i,C0(n,i,r),ts(n,r),n}function jx(n,e,t,r){var i=e.current,s=Gi(),o=Su(i);return t=JU(t),e.context===null?e.context=t:e.pendingContext=t,e=dl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=xu(i,e,o),n!==null&&(Fo(n,i,o,s),N1(n,i,o)),o}function z_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function GD(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function a2(n,e){GD(n,e),(n=n.alternate)&&GD(n,e)}var YU=typeof reportError=="function"?reportError:function(n){console.error(n)};function l2(n){this._internalRoot=n}$x.prototype.render=l2.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(rt(409));jx(n,e,null,null)};$x.prototype.unmount=l2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cf(function(){jx(null,n,null,null)}),e[yl]=null}};function $x(n){this._internalRoot=n}$x.prototype.unstable_scheduleHydration=function(n){if(n){var e=E4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ou.length&&e!==0&&e<ou[t].priority;t++);ou.splice(t,0,n),t===0&&T4(n)}};function u2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HD(){}function R$(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=z_(o);s.call(u)}}var o=KU(e,r,n,0,null,!1,!1,"",HD);return n._reactRootContainer=o,n[yl]=o.current,Lg(n.nodeType===8?n.parentNode:n),Cf(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=z_(l);a.call(u)}}var l=o2(n,0,!1,null,null,!1,!1,"",HD);return n._reactRootContainer=l,n[yl]=l.current,Lg(n.nodeType===8?n.parentNode:n),Cf(function(){jx(e,l,t,r)}),l}function Jx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=z_(o);a.call(l)}}jx(e,o,n,i)}else o=R$(t,e,n,i,r);return z_(o)}b4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Nm(e.pendingLanes);t!==0&&(TT(e,t|1),ts(e,yr()),!(cn&6)&&(Lh=yr()+500,Ju()))}break;case 13:Cf(function(){var r=_l(n,1);if(r!==null){var i=Gi();Fo(r,n,1,i)}}),a2(n,1)}};PT=function(n){if(n.tag===13){var e=_l(n,134217728);if(e!==null){var t=Gi();Fo(e,n,134217728,t)}a2(n,134217728)}};M4=function(n){if(n.tag===13){var e=Su(n),t=_l(n,e);if(t!==null){var r=Gi();Fo(t,n,e,r)}a2(n,e)}};E4=function(){return yn};C4=function(n,e){var t=yn;try{return yn=n,e()}finally{yn=t}};vM=function(n,e,t){switch(e){case"input":if(cM(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Nx(r);if(!i)throw Error(rt(90));i4(r),cM(r,i)}}}break;case"textarea":o4(n,t);break;case"select":e=t.value,e!=null&&dh(n,!!t.multiple,e,!1)}};h4=n2;p4=Cf;var I$={usingClientEntryPoint:!1,Events:[P0,$d,Nx,f4,d4,n2]},am={findFiberByHostInstance:Hc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},D$={bundleType:am.bundleType,version:am.version,rendererPackageName:am.rendererPackageName,rendererConfig:am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=v4(n),n===null?null:n.stateNode},findFiberByHostInstance:am.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wy.isDisabled&&wy.supportsFiber)try{Lx=wy.inject(D$),ga=wy}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I$;Fs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u2(e))throw Error(rt(200));return P$(n,e,null,t)};Fs.createRoot=function(n,e){if(!u2(n))throw Error(rt(299));var t=!1,r="",i=YU;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o2(n,1,!1,null,null,t,!1,r,i),n[yl]=e.current,Lg(n.nodeType===8?n.parentNode:n),new l2(e)};Fs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(rt(188)):(n=Object.keys(n).join(","),Error(rt(268,n)));return n=v4(e),n=n===null?null:n.stateNode,n};Fs.flushSync=function(n){return Cf(n)};Fs.hydrate=function(n,e,t){if(!Xx(e))throw Error(rt(200));return Jx(null,n,e,!0,t)};Fs.hydrateRoot=function(n,e,t){if(!u2(n))throw Error(rt(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=YU;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=KU(e,null,n,1,t??null,i,!1,s,o),n[yl]=e.current,Lg(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new $x(e)};Fs.render=function(n,e,t){if(!Xx(e))throw Error(rt(200));return Jx(null,n,e,!1,t)};Fs.unmountComponentAtNode=function(n){if(!Xx(n))throw Error(rt(40));return n._reactRootContainer?(Cf(function(){Jx(null,null,n,!1,function(){n._reactRootContainer=null,n[yl]=null})}),!0):!1};Fs.unstable_batchedUpdates=n2;Fs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Xx(t))throw Error(rt(200));if(n==null||n._reactInternals===void 0)throw Error(rt(38));return Jx(n,e,t,!1,r)};Fs.version="18.2.0-next-9e3b772b8-20220608";function QU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QU)}catch(n){console.error(n)}}QU(),KN.exports=Fs;var Kx=KN.exports;const ZU=sp(Kx);var c2,VD=Kx;c2=VD.createRoot,VD.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const I0="149",Bc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},qU=0,YM=1,e5=2,B$=3,t5=0,Yx=1,sg=2,jc=3,Ma=0,ns=1,bs=2,L$=2,ya=0,of=1,G_=2,QM=3,ZM=4,n5=5,Uc=100,r5=101,i5=102,qM=103,eE=104,s5=200,o5=201,a5=202,l5=203,f2=204,d2=205,u5=206,c5=207,f5=208,d5=209,h5=210,p5=0,m5=1,g5=2,H_=3,v5=4,y5=5,_5=6,x5=7,D0=0,w5=1,S5=2,No=0,A5=1,b5=2,M5=3,h2=4,E5=5,Iu=300,wl=301,Du=302,kh=303,Vg=304,up=306,Bu=1e3,Bn=1001,Oh=1002,lr=1003,Wg=1004,k$=1004,yh=1005,O$=1005,rn=1006,Qx=1007,F$=1007,Ea=1008,tE=1008,go=1009,p2=1010,m2=1011,g2=1012,v2=1013,ul=1014,Xr=1015,Jr=1016,C5=1017,T5=1018,af=1020,P5=1021,Dr=1023,R5=1024,I5=1025,bu=1026,Tf=1027,y2=1028,D5=1029,B5=1030,L5=1031,k5=1033,j1=33776,$1=33777,X1=33778,J1=33779,nE=35840,rE=35841,iE=35842,sE=35843,O5=36196,oE=37492,aE=37496,lE=37808,uE=37809,cE=37810,fE=37811,dE=37812,hE=37813,pE=37814,mE=37815,gE=37816,vE=37817,yE=37818,_E=37819,xE=37820,wE=37821,K1=36492,F5=36283,SE=36284,AE=36285,bE=36286,N5=2200,U5=2201,z5=2202,Fh=2300,Pf=2301,Y1=2302,$c=2400,Xc=2401,jg=2402,Zx=2500,_2=2501,G5=0,x2=1,V_=2,Lu=3e3,Cn=3001,H5=3200,w2=3201,Ku=0,V5=1,N$="",qs="srgb",Sl="srgb-linear",U$=0,Q1=7680,z$=7681,G$=7682,H$=7683,V$=34055,W$=34056,j$=5386,$$=512,X$=513,J$=514,K$=515,Y$=516,Q$=517,Z$=518,W5=519,$g=35044,q$=35048,eX=35040,tX=35045,nX=35049,rX=35041,iX=35046,sX=35050,oX=35042,aX="100",ME="300 es",W_=1035;let Bl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const pi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WD=1234567;const lf=Math.PI/180,Xg=180/Math.PI;function Cs(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(pi[n&255]+pi[n>>8&255]+pi[n>>16&255]+pi[n>>24&255]+"-"+pi[e&255]+pi[e>>8&255]+"-"+pi[e>>16&15|64]+pi[e>>24&255]+"-"+pi[t&63|128]+pi[t>>8&255]+"-"+pi[t>>16&255]+pi[t>>24&255]+pi[r&255]+pi[r>>8&255]+pi[r>>16&255]+pi[r>>24&255]).toLowerCase()}function _r(n,e,t){return Math.max(e,Math.min(t,n))}function S2(n,e){return(n%e+e)%e}function lX(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function uX(n,e,t){return n!==e?(t-n)/(e-n):0}function og(n,e,t){return(1-t)*n+t*e}function cX(n,e,t,r){return og(n,e,1-Math.exp(-t*r))}function fX(n,e=1){return e-Math.abs(S2(n,e*2)-e)}function dX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function hX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function pX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function mX(n,e){return n+Math.random()*(e-n)}function gX(n){return n*(.5-Math.random())}function vX(n){n!==void 0&&(WD=n);let e=WD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function yX(n){return n*lf}function _X(n){return n*Xg}function EE(n){return(n&n-1)===0&&n!==0}function j5(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function j_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xX(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),p=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*f,l*d,a*u);break;case"YZY":n.set(l*d,a*c,l*f,a*u);break;case"ZXZ":n.set(l*f,l*d,a*c,a*u);break;case"XZX":n.set(a*c,l*v,l*p,a*u);break;case"YXY":n.set(l*p,a*c,l*v,a*u);break;case"ZYZ":n.set(l*v,l*p,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function cl(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function An(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Lo=Object.freeze({__proto__:null,DEG2RAD:lf,RAD2DEG:Xg,ceilPowerOfTwo:j5,clamp:_r,damp:cX,degToRad:yX,denormalize:cl,euclideanModulo:S2,floorPowerOfTwo:j_,generateUUID:Cs,inverseLerp:uX,isPowerOfTwo:EE,lerp:og,mapLinear:lX,normalize:An,pingpong:fX,radToDeg:_X,randFloat:mX,randFloatSpread:gX,randInt:pX,seededRandom:vX,setQuaternionFromProperEuler:xX,smootherstep:hX,smoothstep:dX});class We{constructor(e=0,t=0){We.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _i{constructor(){_i.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],p=r[5],v=r[8],g=i[0],y=i[3],_=i[6],x=i[1],w=i[4],A=i[7],b=i[2],E=i[5],T=i[8];return s[0]=o*g+a*x+l*b,s[3]=o*y+a*w+l*E,s[6]=o*_+a*A+l*T,s[1]=u*g+c*x+f*b,s[4]=u*y+c*w+f*E,s[7]=u*_+c*A+f*T,s[2]=d*g+p*x+v*b,s[5]=d*y+p*w+v*E,s[8]=d*_+p*A+v*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=a*l-c*s,p=u*s-o*l,v=t*f+r*d+i*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return e[0]=f*g,e[1]=(i*u-c*r)*g,e[2]=(a*r-i*o)*g,e[3]=d*g,e[4]=(c*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=p*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(mA.makeScale(e,t)),this}rotate(e){return this.premultiply(mA.makeRotation(-e)),this}translate(e,t){return this.premultiply(mA.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mA=new _i;function $5(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const wX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qd(n,e){return new wX[n](e)}function Jg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function uf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Z1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const gA={[qs]:{[Sl]:uf},[Sl]:{[qs]:Z1}},mi={legacyMode:!0,get workingColorSpace(){return Sl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(gA[e]&&gA[e][t]!==void 0){const r=gA[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},X5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tr={r:0,g:0,b:0},bo={h:0,s:0,l:0},Sy={h:0,s:0,l:0};function vA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Ay(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let ft=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,mi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=mi.workingColorSpace){return this.r=e,this.g=t,this.b=r,mi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=mi.workingColorSpace){if(e=S2(e,1),t=_r(t,0,1),r=_r(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=vA(o,s,e+1/3),this.g=vA(o,s,e),this.b=vA(o,s,e-1/3)}return mi.toWorkingColorSpace(this,i),this}setStyle(e,t=qs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,mi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,mi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,mi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,mi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=qs){const r=X5[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=uf(e.r),this.g=uf(e.g),this.b=uf(e.b),this}copyLinearToSRGB(e){return this.r=Z1(e.r),this.g=Z1(e.g),this.b=Z1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qs){return mi.fromWorkingColorSpace(Ay(this,Tr),e),_r(Tr.r*255,0,255)<<16^_r(Tr.g*255,0,255)<<8^_r(Tr.b*255,0,255)<<0}getHexString(e=qs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=mi.workingColorSpace){mi.fromWorkingColorSpace(Ay(this,Tr),t);const r=Tr.r,i=Tr.g,s=Tr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=mi.workingColorSpace){return mi.fromWorkingColorSpace(Ay(this,Tr),t),e.r=Tr.r,e.g=Tr.g,e.b=Tr.b,e}getStyle(e=qs){return mi.fromWorkingColorSpace(Ay(this,Tr),e),e!==qs?`color(${e} ${Tr.r} ${Tr.g} ${Tr.b})`:`rgb(${Tr.r*255|0},${Tr.g*255|0},${Tr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(bo),bo.h+=e,bo.s+=t,bo.l+=r,this.setHSL(bo.h,bo.s,bo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(bo),e.getHSL(Sy);const r=og(bo.h,Sy.h,t),i=og(bo.s,Sy.s,t),s=og(bo.l,Sy.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};ft.NAMES=X5;let fd;class A2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{fd===void 0&&(fd=Jg("canvas")),fd.width=e.width,fd.height=e.height;const r=fd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=fd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Jg("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=uf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(uf(t[r]/255)*255):t[r]=uf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Jc{constructor(e=null){this.isSource=!0,this.uuid=Cs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(yA(i[o].image)):s.push(yA(i[o]))}else s=yA(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function yA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?A2.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SX=0;class hn extends Bl{constructor(e=hn.DEFAULT_IMAGE,t=hn.DEFAULT_MAPPING,r=Bn,i=Bn,s=rn,o=Ea,a=Dr,l=go,u=hn.DEFAULT_ANISOTROPY,c=Lu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SX++}),this.uuid=Cs(),this.name="",this.source=new Jc(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new We(0,0),this.repeat=new We(1,1),this.center=new We(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _i,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Iu)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Bu:e.x=e.x-Math.floor(e.x);break;case Bn:e.x=e.x<0?0:1;break;case Oh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Bu:e.y=e.y-Math.floor(e.y);break;case Bn:e.y=e.y<0?0:1;break;case Oh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}hn.DEFAULT_IMAGE=null;hn.DEFAULT_MAPPING=Iu;hn.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,t=0,r=0,i=1){mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],p=l[5],v=l[9],g=l[2],y=l[6],_=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-g)<.01&&Math.abs(v-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+g)<.1&&Math.abs(v+y)<.1&&Math.abs(u+p+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(u+1)/2,A=(p+1)/2,b=(_+1)/2,E=(c+d)/4,T=(f+g)/4,M=(v+y)/4;return w>A&&w>b?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=E/r,s=T/r):A>b?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=M/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=T/s,i=M/s),this.set(r,i,s,t),this}let x=Math.sqrt((y-v)*(y-v)+(f-g)*(f-g)+(d-c)*(d-c));return Math.abs(x)<.001&&(x=1),this.x=(y-v)/x,this.y=(f-g)/x,this.z=(d-c)/x,this.w=Math.acos((u+p+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ds extends Bl{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new mn(0,0,e,t),this.scissorTest=!1,this.viewport=new mn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new hn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:rn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Jc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qx extends hn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=lr,this.minFilter=lr,this.wrapR=Bn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class AX extends Ds{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new qx(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class b2 extends hn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=lr,this.minFilter=lr,this.wrapR=Bn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bX extends Ds{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new b2(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class MX extends Ds{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Yr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=s[o+0],p=s[o+1],v=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=g;return}if(f!==g||l!==d||u!==p||c!==v){let y=1-a;const _=l*d+u*p+c*v+f*g,x=_>=0?1:-1,w=1-_*_;if(w>Number.EPSILON){const b=Math.sqrt(w),E=Math.atan2(b,_*x);y=Math.sin(y*E)/b,a=Math.sin(a*E)/b}const A=a*x;if(l=l*y+d*A,u=u*y+p*A,c=c*y+v*A,f=f*y+g*A,y===1-a){const b=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=b,u*=b,c*=b,f*=b}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],d=s[o+1],p=s[o+2],v=s[o+3];return e[t]=a*v+c*f+l*p-u*d,e[t+1]=l*v+c*d+u*f-a*p,e[t+2]=u*v+c*p+a*d-l*f,e[t+3]=c*v-a*f-l*d-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),d=l(r/2),p=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=d*c*f+u*p*v,this._y=u*p*f-d*c*v,this._z=u*c*v+d*p*f,this._w=u*c*f-d*p*v;break;case"YXZ":this._x=d*c*f+u*p*v,this._y=u*p*f-d*c*v,this._z=u*c*v-d*p*f,this._w=u*c*f+d*p*v;break;case"ZXY":this._x=d*c*f-u*p*v,this._y=u*p*f+d*c*v,this._z=u*c*v+d*p*f,this._w=u*c*f-d*p*v;break;case"ZYX":this._x=d*c*f-u*p*v,this._y=u*p*f+d*c*v,this._z=u*c*v-d*p*f,this._w=u*c*f+d*p*v;break;case"YZX":this._x=d*c*f+u*p*v,this._y=u*p*f+d*c*v,this._z=u*c*v-d*p*f,this._w=u*c*f-d*p*v;break;case"XZY":this._x=d*c*f-u*p*v,this._y=u*p*f-d*c*v,this._z=u*c*v+d*p*f,this._w=u*c*f+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],f=t[10],d=r+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-l)*p,this._y=(s-u)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(c-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+u)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(_r(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,r=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(jD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(jD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=u*l+d*-s+c*-a-f*-o,this.y=c*l+d*-o+f*-s-u*-a,this.z=f*l+d*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return _A.copy(this).projectOnVector(e),this.sub(_A)}reflect(e){return this.sub(_A.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(_r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _A=new Q,jD=new Yr;class Jo{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<t&&(t=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<t&&(t=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=yc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)yc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(yc)}else r.boundingBox===null&&r.computeBoundingBox(),xA.copy(r.boundingBox),xA.applyMatrix4(e.matrixWorld),this.union(xA);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yc),yc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lm),by.subVectors(this.max,lm),dd.subVectors(e.a,lm),hd.subVectors(e.b,lm),pd.subVectors(e.c,lm),Xl.subVectors(hd,dd),Jl.subVectors(pd,hd),_c.subVectors(dd,pd);let t=[0,-Xl.z,Xl.y,0,-Jl.z,Jl.y,0,-_c.z,_c.y,Xl.z,0,-Xl.x,Jl.z,0,-Jl.x,_c.z,0,-_c.x,-Xl.y,Xl.x,0,-Jl.y,Jl.x,0,-_c.y,_c.x,0];return!wA(t,dd,hd,pd,by)||(t=[1,0,0,0,1,0,0,0,1],!wA(t,dd,hd,pd,by))?!1:(My.crossVectors(Xl,Jl),t=[My.x,My.y,My.z],wA(t,dd,hd,pd,by))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return yc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(yc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ha[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ha[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ha[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ha[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ha[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ha[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ha[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ha[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ha),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ha=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],yc=new Q,xA=new Jo,dd=new Q,hd=new Q,pd=new Q,Xl=new Q,Jl=new Q,_c=new Q,lm=new Q,by=new Q,My=new Q,xc=new Q;function wA(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){xc.fromArray(n,s);const a=i.x*Math.abs(xc.x)+i.y*Math.abs(xc.y)+i.z*Math.abs(xc.z),l=e.dot(xc),u=t.dot(xc),c=r.dot(xc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const EX=new Jo,um=new Q,SA=new Q;class Ra{constructor(e=new Q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):EX.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;um.subVectors(e,this.center);const t=um.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(um,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(SA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(um.copy(e.center).add(SA)),this.expandByPoint(um.copy(e.center).sub(SA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Va=new Q,AA=new Q,Ey=new Q,Kl=new Q,bA=new Q,Cy=new Q,MA=new Q;class cp{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Va)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Va.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Va.copy(this.direction).multiplyScalar(t).add(this.origin),Va.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){AA.copy(e).add(t).multiplyScalar(.5),Ey.copy(t).sub(e).normalize(),Kl.copy(this.origin).sub(AA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Ey),a=Kl.dot(this.direction),l=-Kl.dot(Ey),u=Kl.lengthSq(),c=Math.abs(1-o*o);let f,d,p,v;if(c>0)if(f=o*l-a,d=o*a-l,v=s*c,f>=0)if(d>=-v)if(d<=v){const g=1/c;f*=g,d*=g,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+u}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+u;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+u;else d<=-v?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+u):d<=v?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+u):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+u);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Ey).multiplyScalar(d).add(AA),p}intersectSphere(e,t){Va.subVectors(e.center,this.origin);const r=Va.dot(this.direction),i=Va.dot(Va)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Va)!==null}intersectTriangle(e,t,r,i,s){bA.subVectors(t,e),Cy.subVectors(r,e),MA.crossVectors(bA,Cy);let o=this.direction.dot(MA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Kl.subVectors(this.origin,e);const l=a*this.direction.dot(Cy.crossVectors(Kl,Cy));if(l<0)return null;const u=a*this.direction.dot(bA.cross(Kl));if(u<0||l+u>o)return null;const c=-a*Kl.dot(MA);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ft{constructor(){Ft.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,c,f,d,p,v,g,y){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=u,_[6]=c,_[10]=f,_[14]=d,_[3]=p,_[7]=v,_[11]=g,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ft().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/md.setFromMatrixColumn(e,0).length(),s=1/md.setFromMatrixColumn(e,1).length(),o=1/md.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*c,p=o*f,v=a*c,g=a*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=p+v*u,t[5]=d-g*u,t[9]=-a*l,t[2]=g-d*u,t[6]=v+p*u,t[10]=o*l}else if(e.order==="YXZ"){const d=l*c,p=l*f,v=u*c,g=u*f;t[0]=d+g*a,t[4]=v*a-p,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-a,t[2]=p*a-v,t[6]=g+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*c,p=l*f,v=u*c,g=u*f;t[0]=d-g*a,t[4]=-o*f,t[8]=v+p*a,t[1]=p+v*a,t[5]=o*c,t[9]=g-d*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*c,p=o*f,v=a*c,g=a*f;t[0]=l*c,t[4]=v*u-p,t[8]=d*u+g,t[1]=l*f,t[5]=g*u+d,t[9]=p*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*u,v=a*l,g=a*u;t[0]=l*c,t[4]=g-d*f,t[8]=v*f+p,t[1]=f,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=p*f+v,t[10]=d-g*f}else if(e.order==="XZY"){const d=o*l,p=o*u,v=a*l,g=a*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=d*f+g,t[5]=o*c,t[9]=p*f-v,t[2]=v*f-p,t[6]=a*c,t[10]=g*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CX,e,TX)}lookAt(e,t,r){const i=this.elements;return gs.subVectors(e,t),gs.lengthSq()===0&&(gs.z=1),gs.normalize(),Yl.crossVectors(r,gs),Yl.lengthSq()===0&&(Math.abs(r.z)===1?gs.x+=1e-4:gs.z+=1e-4,gs.normalize(),Yl.crossVectors(r,gs)),Yl.normalize(),Ty.crossVectors(gs,Yl),i[0]=Yl.x,i[4]=Ty.x,i[8]=gs.x,i[1]=Yl.y,i[5]=Ty.y,i[9]=gs.y,i[2]=Yl.z,i[6]=Ty.z,i[10]=gs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],p=r[13],v=r[2],g=r[6],y=r[10],_=r[14],x=r[3],w=r[7],A=r[11],b=r[15],E=i[0],T=i[4],M=i[8],P=i[12],D=i[1],F=i[5],O=i[9],U=i[13],N=i[2],$=i[6],X=i[10],q=i[14],z=i[3],j=i[7],H=i[11],V=i[15];return s[0]=o*E+a*D+l*N+u*z,s[4]=o*T+a*F+l*$+u*j,s[8]=o*M+a*O+l*X+u*H,s[12]=o*P+a*U+l*q+u*V,s[1]=c*E+f*D+d*N+p*z,s[5]=c*T+f*F+d*$+p*j,s[9]=c*M+f*O+d*X+p*H,s[13]=c*P+f*U+d*q+p*V,s[2]=v*E+g*D+y*N+_*z,s[6]=v*T+g*F+y*$+_*j,s[10]=v*M+g*O+y*X+_*H,s[14]=v*P+g*U+y*q+_*V,s[3]=x*E+w*D+A*N+b*z,s[7]=x*T+w*F+A*$+b*j,s[11]=x*M+w*O+A*X+b*H,s[15]=x*P+w*U+A*q+b*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],p=e[14],v=e[3],g=e[7],y=e[11],_=e[15];return v*(+s*l*f-i*u*f-s*a*d+r*u*d+i*a*p-r*l*p)+g*(+t*l*p-t*u*d+s*o*d-i*o*p+i*u*c-s*l*c)+y*(+t*u*f-t*a*p-s*o*f+r*o*p+s*a*c-r*u*c)+_*(-i*a*c-t*l*f+t*a*d+i*o*f-r*o*d+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],_=e[15],x=f*y*u-g*d*u+g*l*p-a*y*p-f*l*_+a*d*_,w=v*d*u-c*y*u-v*l*p+o*y*p+c*l*_-o*d*_,A=c*g*u-v*f*u+v*a*p-o*g*p-c*a*_+o*f*_,b=v*f*l-c*g*l-v*a*d+o*g*d+c*a*y-o*f*y,E=t*x+r*w+i*A+s*b;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=x*T,e[1]=(g*d*s-f*y*s-g*i*p+r*y*p+f*i*_-r*d*_)*T,e[2]=(a*y*s-g*l*s+g*i*u-r*y*u-a*i*_+r*l*_)*T,e[3]=(f*l*s-a*d*s-f*i*u+r*d*u+a*i*p-r*l*p)*T,e[4]=w*T,e[5]=(c*y*s-v*d*s+v*i*p-t*y*p-c*i*_+t*d*_)*T,e[6]=(v*l*s-o*y*s-v*i*u+t*y*u+o*i*_-t*l*_)*T,e[7]=(o*d*s-c*l*s+c*i*u-t*d*u-o*i*p+t*l*p)*T,e[8]=A*T,e[9]=(v*f*s-c*g*s-v*r*p+t*g*p+c*r*_-t*f*_)*T,e[10]=(o*g*s-v*a*s+v*r*u-t*g*u-o*r*_+t*a*_)*T,e[11]=(c*a*s-o*f*s-c*r*u+t*f*u+o*r*p-t*a*p)*T,e[12]=b*T,e[13]=(c*g*i-v*f*i+v*r*d-t*g*d-c*r*y+t*f*y)*T,e[14]=(v*a*i-o*g*i-v*r*l+t*g*l+o*r*y-t*a*y)*T,e[15]=(o*f*i-c*a*i+c*r*l-t*f*l-o*r*d+t*a*d)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,f=a+a,d=s*u,p=s*c,v=s*f,g=o*c,y=o*f,_=a*f,x=l*u,w=l*c,A=l*f,b=r.x,E=r.y,T=r.z;return i[0]=(1-(g+_))*b,i[1]=(p+A)*b,i[2]=(v-w)*b,i[3]=0,i[4]=(p-A)*E,i[5]=(1-(d+_))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(v+w)*T,i[9]=(y-x)*T,i[10]=(1-(d+g))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=md.set(i[0],i[1],i[2]).length();const o=md.set(i[4],i[5],i[6]).length(),a=md.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Mo.copy(this);const u=1/s,c=1/o,f=1/a;return Mo.elements[0]*=u,Mo.elements[1]*=u,Mo.elements[2]*=u,Mo.elements[4]*=c,Mo.elements[5]*=c,Mo.elements[6]*=c,Mo.elements[8]*=f,Mo.elements[9]*=f,Mo.elements[10]*=f,t.setFromRotationMatrix(Mo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),f=(t+e)*l,d=(r+i)*u,p=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const md=new Q,Mo=new Ft,CX=new Q(0,0,0),TX=new Q(1,1,1),Yl=new Q,Ty=new Q,gs=new Q,$D=new Ft,XD=new Yr;class B0{constructor(e=0,t=0,r=0,i=B0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(_r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-_r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(_r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-_r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(_r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-_r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return $D.makeRotationFromQuaternion(e),this.setFromRotationMatrix($D,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XD.setFromEuler(this),this.setFromQuaternion(XD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}B0.DEFAULT_ORDER="XYZ";class cf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let PX=0;const JD=new Q,gd=new Yr,Wa=new Ft,Py=new Q,cm=new Q,RX=new Q,IX=new Yr,KD=new Q(1,0,0),YD=new Q(0,1,0),QD=new Q(0,0,1),DX={type:"added"},ZD={type:"removed"};class en extends Bl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PX++}),this.uuid=Cs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new Q,t=new B0,r=new Yr,i=new Q(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ft},normalMatrix:{value:new _i}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gd.setFromAxisAngle(e,t),this.quaternion.multiply(gd),this}rotateOnWorldAxis(e,t){return gd.setFromAxisAngle(e,t),this.quaternion.premultiply(gd),this}rotateX(e){return this.rotateOnAxis(KD,e)}rotateY(e){return this.rotateOnAxis(YD,e)}rotateZ(e){return this.rotateOnAxis(QD,e)}translateOnAxis(e,t){return JD.copy(e).applyQuaternion(this.quaternion),this.position.add(JD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KD,e)}translateY(e){return this.translateOnAxis(YD,e)}translateZ(e){return this.translateOnAxis(QD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Wa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Py.copy(e):Py.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),cm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wa.lookAt(cm,Py,this.up):Wa.lookAt(Py,cm,this.up),this.quaternion.setFromRotationMatrix(Wa),i&&(Wa.extractRotation(i.matrixWorld),gd.setFromRotationMatrix(Wa),this.quaternion.premultiply(gd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(DX)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ZD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ZD)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Wa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cm,e,RX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cm,IX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DEFAULT_UP=new Q(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eo=new Q,ja=new Q,EA=new Q,$a=new Q,vd=new Q,yd=new Q,qD=new Q,CA=new Q,TA=new Q,PA=new Q;class io{constructor(e=new Q,t=new Q,r=new Q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Eo.subVectors(e,t),i.cross(Eo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Eo.subVectors(i,t),ja.subVectors(r,t),EA.subVectors(e,t);const o=Eo.dot(Eo),a=Eo.dot(ja),l=Eo.dot(EA),u=ja.dot(ja),c=ja.dot(EA),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(u*l-a*c)*d,v=(o*c-a*l)*d;return s.set(1-p-v,v,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,$a),$a.x>=0&&$a.y>=0&&$a.x+$a.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,$a),l.set(0,0),l.addScaledVector(s,$a.x),l.addScaledVector(o,$a.y),l.addScaledVector(a,$a.z),l}static isFrontFacing(e,t,r,i){return Eo.subVectors(r,t),ja.subVectors(e,t),Eo.cross(ja).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Eo.subVectors(this.c,this.b),ja.subVectors(this.a,this.b),Eo.cross(ja).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return io.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return io.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return io.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return io.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return io.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;vd.subVectors(i,r),yd.subVectors(s,r),CA.subVectors(e,r);const l=vd.dot(CA),u=yd.dot(CA);if(l<=0&&u<=0)return t.copy(r);TA.subVectors(e,i);const c=vd.dot(TA),f=yd.dot(TA);if(c>=0&&f<=c)return t.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(vd,o);PA.subVectors(e,s);const p=vd.dot(PA),v=yd.dot(PA);if(v>=0&&p<=v)return t.copy(s);const g=p*u-l*v;if(g<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(yd,a);const y=c*v-p*f;if(y<=0&&f-c>=0&&p-v>=0)return qD.subVectors(s,i),a=(f-c)/(f-c+(p-v)),t.copy(i).addScaledVector(qD,a);const _=1/(y+g+d);return o=g*_,a=d*_,t.copy(r).addScaledVector(vd,o).addScaledVector(yd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let BX=0;class Lr extends Bl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:BX++}),this.uuid=Cs(),this.name="",this.type="Material",this.blending=of,this.side=Ma,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=f2,this.blendDst=d2,this.blendEquation=Uc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=W5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Q1,this.stencilZFail=Q1,this.stencilZPass=Q1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==of&&(r.blending=this.blending),this.side!==Ma&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ui extends Lr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sr=new Q,Ry=new We;class ln{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=$g,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Ry.fromBufferAttribute(this,t),Ry.applyMatrix3(e),this.setXY(t,Ry.x,Ry.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix3(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix4(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyNormalMatrix(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.transformDirection(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=cl(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=cl(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=cl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=cl(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array),s=An(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==$g&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class LX extends ln{constructor(e,t,r){super(new Int8Array(e),t,r)}}class kX extends ln{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class OX extends ln{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class FX extends ln{constructor(e,t,r){super(new Int16Array(e),t,r)}}class M2 extends ln{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class NX extends ln{constructor(e,t,r){super(new Int32Array(e),t,r)}}class E2 extends ln{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class UX extends ln{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class wt extends ln{constructor(e,t,r){super(new Float32Array(e),t,r)}}class zX extends ln{constructor(e,t,r){super(new Float64Array(e),t,r)}}let GX=0;const Xs=new Ft,RA=new en,_d=new Q,vs=new Jo,fm=new Jo,Hr=new Q;class Xt extends Bl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GX++}),this.uuid=Cs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($5(e)?E2:M2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new _i().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xs.makeRotationFromQuaternion(e),this.applyMatrix4(Xs),this}rotateX(e){return Xs.makeRotationX(e),this.applyMatrix4(Xs),this}rotateY(e){return Xs.makeRotationY(e),this.applyMatrix4(Xs),this}rotateZ(e){return Xs.makeRotationZ(e),this.applyMatrix4(Xs),this}translate(e,t,r){return Xs.makeTranslation(e,t,r),this.applyMatrix4(Xs),this}scale(e,t,r){return Xs.makeScale(e,t,r),this.applyMatrix4(Xs),this}lookAt(e){return RA.lookAt(e),RA.updateMatrix(),this.applyMatrix4(RA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_d).negate(),this.translate(_d.x,_d.y,_d.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new wt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];vs.setFromBufferAttribute(s),this.morphTargetsRelative?(Hr.addVectors(this.boundingBox.min,vs.min),this.boundingBox.expandByPoint(Hr),Hr.addVectors(this.boundingBox.max,vs.max),this.boundingBox.expandByPoint(Hr)):(this.boundingBox.expandByPoint(vs.min),this.boundingBox.expandByPoint(vs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(vs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];fm.setFromBufferAttribute(a),this.morphTargetsRelative?(Hr.addVectors(vs.min,fm.min),vs.expandByPoint(Hr),Hr.addVectors(vs.max,fm.max),vs.expandByPoint(Hr)):(vs.expandByPoint(fm.min),vs.expandByPoint(fm.max))}vs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Hr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Hr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Hr.fromBufferAttribute(a,u),l&&(_d.fromBufferAttribute(e,u),Hr.add(_d)),i=Math.max(i,r.distanceToSquared(Hr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let D=0;D<a;D++)u[D]=new Q,c[D]=new Q;const f=new Q,d=new Q,p=new Q,v=new We,g=new We,y=new We,_=new Q,x=new Q;function w(D,F,O){f.fromArray(i,D*3),d.fromArray(i,F*3),p.fromArray(i,O*3),v.fromArray(o,D*2),g.fromArray(o,F*2),y.fromArray(o,O*2),d.sub(f),p.sub(f),g.sub(v),y.sub(v);const U=1/(g.x*y.y-y.x*g.y);isFinite(U)&&(_.copy(d).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(U),x.copy(p).multiplyScalar(g.x).addScaledVector(d,-y.x).multiplyScalar(U),u[D].add(_),u[F].add(_),u[O].add(_),c[D].add(x),c[F].add(x),c[O].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let D=0,F=A.length;D<F;++D){const O=A[D],U=O.start,N=O.count;for(let $=U,X=U+N;$<X;$+=3)w(r[$+0],r[$+1],r[$+2])}const b=new Q,E=new Q,T=new Q,M=new Q;function P(D){T.fromArray(s,D*3),M.copy(T);const F=u[D];b.copy(F),b.sub(T.multiplyScalar(T.dot(F))).normalize(),E.crossVectors(M,F);const U=E.dot(c[D])<0?-1:1;l[D*4]=b.x,l[D*4+1]=b.y,l[D*4+2]=b.z,l[D*4+3]=U}for(let D=0,F=A.length;D<F;++D){const O=A[D],U=O.start,N=O.count;for(let $=U,X=U+N;$<X;$+=3)P(r[$+0]),P(r[$+1]),P(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ln(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new Q,s=new Q,o=new Q,a=new Q,l=new Q,u=new Q,c=new Q,f=new Q;if(e)for(let d=0,p=e.count;d<p;d+=3){const v=e.getX(d+0),g=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Hr.fromBufferAttribute(e,t),Hr.normalize(),e.setXYZ(t,Hr.x,Hr.y,Hr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let p=0,v=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*c;for(let _=0;_<c;_++)d[v++]=u[p++]}return new ln(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],p=e(d,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const p=u[f];c.push(p.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let d=0,p=f.length;d<p;d++)c.push(f[d].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const eB=new Ft,xd=new cp,IA=new Ra,dm=new Q,hm=new Q,pm=new Q,DA=new Q,Iy=new Q,Dy=new We,By=new We,Ly=new We,BA=new Q,ky=new Q;class Wn extends en{constructor(e=new Xt,t=new Ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Iy.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(DA.fromBufferAttribute(f,e),o?Iy.addScaledVector(DA,c):Iy.addScaledVector(DA.sub(t),c))}t.add(Iy)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),IA.copy(r.boundingSphere),IA.applyMatrix4(s),e.ray.intersectsSphere(IA)===!1)||(eB.copy(s).invert(),xd.copy(e.ray).applyMatrix4(eB),r.boundingBox!==null&&xd.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,f=r.groups,d=r.drawRange;if(a!==null)if(Array.isArray(i))for(let p=0,v=f.length;p<v;p++){const g=f[p],y=i[g.materialIndex],_=Math.max(g.start,d.start),x=Math.min(a.count,Math.min(g.start+g.count,d.start+d.count));for(let w=_,A=x;w<A;w+=3){const b=a.getX(w),E=a.getX(w+1),T=a.getX(w+2);o=Oy(this,y,e,xd,u,c,b,E,T),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const p=Math.max(0,d.start),v=Math.min(a.count,d.start+d.count);for(let g=p,y=v;g<y;g+=3){const _=a.getX(g),x=a.getX(g+1),w=a.getX(g+2);o=Oy(this,i,e,xd,u,c,_,x,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let p=0,v=f.length;p<v;p++){const g=f[p],y=i[g.materialIndex],_=Math.max(g.start,d.start),x=Math.min(l.count,Math.min(g.start+g.count,d.start+d.count));for(let w=_,A=x;w<A;w+=3){const b=w,E=w+1,T=w+2;o=Oy(this,y,e,xd,u,c,b,E,T),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const p=Math.max(0,d.start),v=Math.min(l.count,d.start+d.count);for(let g=p,y=v;g<y;g+=3){const _=g,x=g+1,w=g+2;o=Oy(this,i,e,xd,u,c,_,x,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function HX(n,e,t,r,i,s,o,a){let l;if(e.side===ns?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ma,a),l===null)return null;ky.copy(a),ky.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(ky);return u<t.near||u>t.far?null:{distance:u,point:ky.clone(),object:n}}function Oy(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,dm),n.getVertexPosition(a,hm),n.getVertexPosition(l,pm);const u=HX(n,e,t,r,dm,hm,pm,BA);if(u){i&&(Dy.fromBufferAttribute(i,o),By.fromBufferAttribute(i,a),Ly.fromBufferAttribute(i,l),u.uv=io.getUV(BA,dm,hm,pm,Dy,By,Ly,new We)),s&&(Dy.fromBufferAttribute(s,o),By.fromBufferAttribute(s,a),Ly.fromBufferAttribute(s,l),u.uv2=io.getUV(BA,dm,hm,pm,Dy,By,Ly,new We));const c={a:o,b:a,c:l,normal:new Q,materialIndex:0};io.getNormal(dm,hm,pm,c.normal),u.face=c}return u}class Yu extends Xt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,p=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(c,3)),this.setAttribute("uv",new wt(f,2));function v(g,y,_,x,w,A,b,E,T,M,P){const D=A/T,F=b/M,O=A/2,U=b/2,N=E/2,$=T+1,X=M+1;let q=0,z=0;const j=new Q;for(let H=0;H<X;H++){const V=H*F-U;for(let G=0;G<$;G++){const J=G*D-O;j[g]=J*x,j[y]=V*w,j[_]=N,u.push(j.x,j.y,j.z),j[g]=0,j[y]=0,j[_]=E>0?1:-1,c.push(j.x,j.y,j.z),f.push(G/T),f.push(1-H/M),q+=1}}for(let H=0;H<M;H++)for(let V=0;V<T;V++){const G=d+V+$*H,J=d+V+$*(H+1),re=d+(V+1)+$*(H+1),te=d+(V+1)+$*H;l.push(G,J,te),l.push(J,re,te),z+=6}a.addGroup(p,z,P),p+=z,d+=q}}static fromJSON(e){return new Yu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ki(n){const e={};for(let t=0;t<n.length;t++){const r=Nh(n[t]);for(const i in r)e[i]=r[i]}return e}function VX(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function J5(n){return n.getRenderTarget()===null&&n.outputEncoding===Cn?qs:Sl}const C2={clone:Nh,merge:ki};var WX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Bs extends Lr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=WX,this.fragmentShader=jX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nh(e.uniforms),this.uniformsGroups=VX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class L0 extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Hn extends L0{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Xg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xg*2*Math.atan(Math.tan(lf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(lf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const wd=-90,Sd=1;class K5 extends en{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Hn(wd,Sd,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Hn(wd,Sd,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Hn(wd,Sd,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Hn(wd,Sd,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Hn(wd,Sd,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Hn(wd,Sd,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=No,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class k0 extends hn{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:wl,super(e,t,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class T2 extends Ds{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new k0(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:rn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Yu(5,5,5),s=new Bs({name:"CubemapFromEquirect",uniforms:Nh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ns,blending:ya});s.uniforms.tEquirect.value=t;const o=new Wn(i,s),a=t.minFilter;return t.minFilter===Ea&&(t.minFilter=rn),new K5(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const LA=new Q,$X=new Q,XX=new _i;class tl{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=LA.subVectors(r,t).cross($X.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(LA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||XX.getNormalMatrix(e),i=this.coplanarPoint(LA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ad=new Ra,Fy=new Q;class ew{constructor(e=new tl,t=new tl,r=new tl,i=new tl,s=new tl,o=new tl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],p=r[9],v=r[10],g=r[11],y=r[12],_=r[13],x=r[14],w=r[15];return t[0].setComponents(a-i,f-l,g-d,w-y).normalize(),t[1].setComponents(a+i,f+l,g+d,w+y).normalize(),t[2].setComponents(a+s,f+u,g+p,w+_).normalize(),t[3].setComponents(a-s,f-u,g-p,w-_).normalize(),t[4].setComponents(a-o,f-c,g-v,w-x).normalize(),t[5].setComponents(a+o,f+c,g+v,w+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ad.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ad)}intersectsSprite(e){return Ad.center.set(0,0,0),Ad.radius=.7071067811865476,Ad.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ad)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Fy.x=i.normal.x>0?e.max.x:e.min.x,Fy.y=i.normal.y>0?e.max.y:e.min.y,Fy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Fy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Y5(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function JX(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,p=n.createBuffer();n.bindBuffer(c,p),n.bufferData(c,f,d),u.onUploadCallback();let v;if(f instanceof Float32Array)v=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(f instanceof Int16Array)v=5122;else if(f instanceof Uint32Array)v=5125;else if(f instanceof Int32Array)v=5124;else if(f instanceof Int8Array)v=5120;else if(f instanceof Uint8Array)v=5121;else if(f instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const d=c.array,p=c.updateRange;n.bindBuffer(f,u),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class Ko extends Xt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,d=t/l,p=[],v=[],g=[],y=[];for(let _=0;_<c;_++){const x=_*d-o;for(let w=0;w<u;w++){const A=w*f-s;v.push(A,-x,0),g.push(0,0,1),y.push(w/a),y.push(1-_/l)}}for(let _=0;_<l;_++)for(let x=0;x<a;x++){const w=x+u*_,A=x+u*(_+1),b=x+1+u*(_+1),E=x+1+u*_;p.push(w,A,E),p.push(A,b,E)}this.setIndex(p),this.setAttribute("position",new wt(v,3)),this.setAttribute("normal",new wt(g,3)),this.setAttribute("uv",new wt(y,2))}static fromJSON(e){return new Ko(e.width,e.height,e.widthSegments,e.heightSegments)}}var KX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,YX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QX=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ZX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tJ="vec3 transformed = vec3( position );",nJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rJ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sJ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oJ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,aJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uJ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,cJ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hJ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pJ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,mJ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gJ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vJ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yJ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_J=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xJ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wJ="gl_FragColor = linearToOutputTexel( gl_FragColor );",SJ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,AJ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bJ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,MJ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,EJ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,CJ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,TJ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PJ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,RJ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IJ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,DJ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,BJ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,LJ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kJ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,OJ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,FJ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NJ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,UJ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zJ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GJ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,HJ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,VJ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,WJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jJ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$J=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,JJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,KJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,QJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ZJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,qJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iK=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,oK=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,lK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,uK=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,pK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,mK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,gK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,yK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_K=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,xK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,SK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,AK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,MK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,EK=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,CK=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,TK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,PK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,RK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,IK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,DK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,LK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,OK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,FK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,NK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,UK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,zK=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,GK=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,HK=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,VK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,WK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,jK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$K=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const XK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,JK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,QK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qK=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,tY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aY=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Y=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,SY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,AY=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,MY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$t={alphamap_fragment:KX,alphamap_pars_fragment:YX,alphatest_fragment:QX,alphatest_pars_fragment:ZX,aomap_fragment:qX,aomap_pars_fragment:eJ,begin_vertex:tJ,beginnormal_vertex:nJ,bsdfs:rJ,iridescence_fragment:iJ,bumpmap_pars_fragment:sJ,clipping_planes_fragment:oJ,clipping_planes_pars_fragment:aJ,clipping_planes_pars_vertex:lJ,clipping_planes_vertex:uJ,color_fragment:cJ,color_pars_fragment:fJ,color_pars_vertex:dJ,color_vertex:hJ,common:pJ,cube_uv_reflection_fragment:mJ,defaultnormal_vertex:gJ,displacementmap_pars_vertex:vJ,displacementmap_vertex:yJ,emissivemap_fragment:_J,emissivemap_pars_fragment:xJ,encodings_fragment:wJ,encodings_pars_fragment:SJ,envmap_fragment:AJ,envmap_common_pars_fragment:bJ,envmap_pars_fragment:MJ,envmap_pars_vertex:EJ,envmap_physical_pars_fragment:NJ,envmap_vertex:CJ,fog_vertex:TJ,fog_pars_vertex:PJ,fog_fragment:RJ,fog_pars_fragment:IJ,gradientmap_pars_fragment:DJ,lightmap_fragment:BJ,lightmap_pars_fragment:LJ,lights_lambert_fragment:kJ,lights_lambert_pars_fragment:OJ,lights_pars_begin:FJ,lights_toon_fragment:UJ,lights_toon_pars_fragment:zJ,lights_phong_fragment:GJ,lights_phong_pars_fragment:HJ,lights_physical_fragment:VJ,lights_physical_pars_fragment:WJ,lights_fragment_begin:jJ,lights_fragment_maps:$J,lights_fragment_end:XJ,logdepthbuf_fragment:JJ,logdepthbuf_pars_fragment:KJ,logdepthbuf_pars_vertex:YJ,logdepthbuf_vertex:QJ,map_fragment:ZJ,map_pars_fragment:qJ,map_particle_fragment:eK,map_particle_pars_fragment:tK,metalnessmap_fragment:nK,metalnessmap_pars_fragment:rK,morphcolor_vertex:iK,morphnormal_vertex:sK,morphtarget_pars_vertex:oK,morphtarget_vertex:aK,normal_fragment_begin:lK,normal_fragment_maps:uK,normal_pars_fragment:cK,normal_pars_vertex:fK,normal_vertex:dK,normalmap_pars_fragment:hK,clearcoat_normal_fragment_begin:pK,clearcoat_normal_fragment_maps:mK,clearcoat_pars_fragment:gK,iridescence_pars_fragment:vK,output_fragment:yK,packing:_K,premultiplied_alpha_fragment:xK,project_vertex:wK,dithering_fragment:SK,dithering_pars_fragment:AK,roughnessmap_fragment:bK,roughnessmap_pars_fragment:MK,shadowmap_pars_fragment:EK,shadowmap_pars_vertex:CK,shadowmap_vertex:TK,shadowmask_pars_fragment:PK,skinbase_vertex:RK,skinning_pars_vertex:IK,skinning_vertex:DK,skinnormal_vertex:BK,specularmap_fragment:LK,specularmap_pars_fragment:kK,tonemapping_fragment:OK,tonemapping_pars_fragment:FK,transmission_fragment:NK,transmission_pars_fragment:UK,uv_pars_fragment:zK,uv_pars_vertex:GK,uv_vertex:HK,uv2_pars_fragment:VK,uv2_pars_vertex:WK,uv2_vertex:jK,worldpos_vertex:$K,background_vert:XK,background_frag:JK,backgroundCube_vert:KK,backgroundCube_frag:YK,cube_vert:QK,cube_frag:ZK,depth_vert:qK,depth_frag:eY,distanceRGBA_vert:tY,distanceRGBA_frag:nY,equirect_vert:rY,equirect_frag:iY,linedashed_vert:sY,linedashed_frag:oY,meshbasic_vert:aY,meshbasic_frag:lY,meshlambert_vert:uY,meshlambert_frag:cY,meshmatcap_vert:fY,meshmatcap_frag:dY,meshnormal_vert:hY,meshnormal_frag:pY,meshphong_vert:mY,meshphong_frag:gY,meshphysical_vert:vY,meshphysical_frag:yY,meshtoon_vert:_Y,meshtoon_frag:xY,points_vert:wY,points_frag:SY,shadow_vert:AY,shadow_frag:bY,sprite_vert:MY,sprite_frag:EY},ct={common:{diffuse:{value:new ft(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _i},uv2Transform:{value:new _i},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new We(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}},sprite:{diffuse:{value:new ft(16777215)},opacity:{value:1},center:{value:new We(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}}},Do={basic:{uniforms:ki([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:$t.meshbasic_vert,fragmentShader:$t.meshbasic_frag},lambert:{uniforms:ki([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ft(0)}}]),vertexShader:$t.meshlambert_vert,fragmentShader:$t.meshlambert_frag},phong:{uniforms:ki([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ft(0)},specular:{value:new ft(1118481)},shininess:{value:30}}]),vertexShader:$t.meshphong_vert,fragmentShader:$t.meshphong_frag},standard:{uniforms:ki([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$t.meshphysical_vert,fragmentShader:$t.meshphysical_frag},toon:{uniforms:ki([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new ft(0)}}]),vertexShader:$t.meshtoon_vert,fragmentShader:$t.meshtoon_frag},matcap:{uniforms:ki([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:$t.meshmatcap_vert,fragmentShader:$t.meshmatcap_frag},points:{uniforms:ki([ct.points,ct.fog]),vertexShader:$t.points_vert,fragmentShader:$t.points_frag},dashed:{uniforms:ki([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$t.linedashed_vert,fragmentShader:$t.linedashed_frag},depth:{uniforms:ki([ct.common,ct.displacementmap]),vertexShader:$t.depth_vert,fragmentShader:$t.depth_frag},normal:{uniforms:ki([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:$t.meshnormal_vert,fragmentShader:$t.meshnormal_frag},sprite:{uniforms:ki([ct.sprite,ct.fog]),vertexShader:$t.sprite_vert,fragmentShader:$t.sprite_frag},background:{uniforms:{uvTransform:{value:new _i},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:$t.background_vert,fragmentShader:$t.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:$t.backgroundCube_vert,fragmentShader:$t.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:$t.cube_vert,fragmentShader:$t.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$t.equirect_vert,fragmentShader:$t.equirect_frag},distanceRGBA:{uniforms:ki([ct.common,ct.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$t.distanceRGBA_vert,fragmentShader:$t.distanceRGBA_frag},shadow:{uniforms:ki([ct.lights,ct.fog,{color:{value:new ft(0)},opacity:{value:1}}]),vertexShader:$t.shadow_vert,fragmentShader:$t.shadow_frag}};Do.physical={uniforms:ki([Do.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new We(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ft(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new We},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ft(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ft(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$t.meshphysical_vert,fragmentShader:$t.meshphysical_frag};const Ny={r:0,b:0,g:0};function CY(n,e,t,r,i,s,o){const a=new ft(0);let l=s===!0?0:1,u,c,f=null,d=0,p=null;function v(y,_){let x=!1,w=_.isScene===!0?_.background:null;w&&w.isTexture&&(w=(_.backgroundBlurriness>0?t:e).get(w));const A=n.xr,b=A.getSession&&A.getSession();b&&b.environmentBlendMode==="additive"&&(w=null),w===null?g(a,l):w&&w.isColor&&(g(w,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===up)?(c===void 0&&(c=new Wn(new Yu(1,1,1),new Bs({name:"BackgroundCubeMaterial",uniforms:Nh(Do.backgroundCube.uniforms),vertexShader:Do.backgroundCube.vertexShader,fragmentShader:Do.backgroundCube.fragmentShader,side:ns,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,T,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=w.encoding!==Cn,(f!==w||d!==w.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Wn(new Ko(2,2),new Bs({name:"BackgroundMaterial",uniforms:Nh(Do.background.uniforms),vertexShader:Do.background.vertexShader,fragmentShader:Do.background.fragmentShader,side:Ma,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=w.encoding!==Cn,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function g(y,_){y.getRGB(Ny,J5(n)),r.buffers.color.setClear(Ny.r,Ny.g,Ny.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(y,_=1){a.set(y),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(a,l)},render:v}}function TY(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(N,$,X,q,z){let j=!1;if(o){const H=g(q,X,$);u!==H&&(u=H,p(u.object)),j=_(N,q,X,z),j&&x(N,q,X,z)}else{const H=$.wireframe===!0;(u.geometry!==q.id||u.program!==X.id||u.wireframe!==H)&&(u.geometry=q.id,u.program=X.id,u.wireframe=H,j=!0)}z!==null&&t.update(z,34963),(j||c)&&(c=!1,M(N,$,X,q),z!==null&&n.bindBuffer(34963,t.get(z).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(N){return r.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function v(N){return r.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function g(N,$,X){const q=X.wireframe===!0;let z=a[N.id];z===void 0&&(z={},a[N.id]=z);let j=z[$.id];j===void 0&&(j={},z[$.id]=j);let H=j[q];return H===void 0&&(H=y(d()),j[q]=H),H}function y(N){const $=[],X=[],q=[];for(let z=0;z<i;z++)$[z]=0,X[z]=0,q[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:X,attributeDivisors:q,object:N,attributes:{},index:null}}function _(N,$,X,q){const z=u.attributes,j=$.attributes;let H=0;const V=X.getAttributes();for(const G in V)if(V[G].location>=0){const re=z[G];let te=j[G];if(te===void 0&&(G==="instanceMatrix"&&N.instanceMatrix&&(te=N.instanceMatrix),G==="instanceColor"&&N.instanceColor&&(te=N.instanceColor)),re===void 0||re.attribute!==te||te&&re.data!==te.data)return!0;H++}return u.attributesNum!==H||u.index!==q}function x(N,$,X,q){const z={},j=$.attributes;let H=0;const V=X.getAttributes();for(const G in V)if(V[G].location>=0){let re=j[G];re===void 0&&(G==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),G==="instanceColor"&&N.instanceColor&&(re=N.instanceColor));const te={};te.attribute=re,re&&re.data&&(te.data=re.data),z[G]=te,H++}u.attributes=z,u.attributesNum=H,u.index=q}function w(){const N=u.newAttributes;for(let $=0,X=N.length;$<X;$++)N[$]=0}function A(N){b(N,0)}function b(N,$){const X=u.newAttributes,q=u.enabledAttributes,z=u.attributeDivisors;X[N]=1,q[N]===0&&(n.enableVertexAttribArray(N),q[N]=1),z[N]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,$),z[N]=$)}function E(){const N=u.newAttributes,$=u.enabledAttributes;for(let X=0,q=$.length;X<q;X++)$[X]!==N[X]&&(n.disableVertexAttribArray(X),$[X]=0)}function T(N,$,X,q,z,j){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(N,$,X,z,j):n.vertexAttribPointer(N,$,X,q,z,j)}function M(N,$,X,q){if(r.isWebGL2===!1&&(N.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const z=q.attributes,j=X.getAttributes(),H=$.defaultAttributeValues;for(const V in j){const G=j[V];if(G.location>=0){let J=z[V];if(J===void 0&&(V==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),V==="instanceColor"&&N.instanceColor&&(J=N.instanceColor)),J!==void 0){const re=J.normalized,te=J.itemSize,Y=t.get(J);if(Y===void 0)continue;const ce=Y.buffer,fe=Y.type,Re=Y.bytesPerElement;if(J.isInterleavedBufferAttribute){const Ae=J.data,ye=Ae.stride,le=J.offset;if(Ae.isInstancedInterleavedBuffer){for(let de=0;de<G.locationSize;de++)b(G.location+de,Ae.meshPerAttribute);N.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let de=0;de<G.locationSize;de++)A(G.location+de);n.bindBuffer(34962,ce);for(let de=0;de<G.locationSize;de++)T(G.location+de,te/G.locationSize,fe,re,ye*Re,(le+te/G.locationSize*de)*Re)}else{if(J.isInstancedBufferAttribute){for(let Ae=0;Ae<G.locationSize;Ae++)b(G.location+Ae,J.meshPerAttribute);N.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)A(G.location+Ae);n.bindBuffer(34962,ce);for(let Ae=0;Ae<G.locationSize;Ae++)T(G.location+Ae,te/G.locationSize,fe,re,te*Re,te/G.locationSize*Ae*Re)}}else if(H!==void 0){const re=H[V];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(G.location,re);break;case 3:n.vertexAttrib3fv(G.location,re);break;case 4:n.vertexAttrib4fv(G.location,re);break;default:n.vertexAttrib1fv(G.location,re)}}}}E()}function P(){O();for(const N in a){const $=a[N];for(const X in $){const q=$[X];for(const z in q)v(q[z].object),delete q[z];delete $[X]}delete a[N]}}function D(N){if(a[N.id]===void 0)return;const $=a[N.id];for(const X in $){const q=$[X];for(const z in q)v(q[z].object),delete q[z];delete $[X]}delete a[N.id]}function F(N){for(const $ in a){const X=a[$];if(X[N.id]===void 0)continue;const q=X[N.id];for(const z in q)v(q[z].object),delete q[z];delete X[N.id]}}function O(){U(),c=!0,u!==l&&(u=l,p(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:O,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:D,releaseStatesOfProgram:F,initAttributes:w,enableAttribute:A,disableUnusedAttributes:E}}function PY(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,f){if(f===0)return;let d,p;if(i)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,u,c,f),t.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function RY(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),v=n.getParameter(34076),g=n.getParameter(34921),y=n.getParameter(36347),_=n.getParameter(36348),x=n.getParameter(36349),w=d>0,A=o||e.has("OES_texture_float"),b=w&&A,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:b,maxSamples:E}}function IY(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new tl,a=new _i,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const p=f.length!==0||d||r!==0||i;return i=d,r=f.length,p},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){t=c(f,d,0)},this.setState=function(f,d,p){const v=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,_=n.get(f);if(!i||v===null||v.length===0||s&&!y)s?c(null):u();else{const x=s?0:r,w=x*4;let A=_.clippingState||null;l.value=A,A=c(v,d,w,p);for(let b=0;b!==w;++b)A[b]=t[b];_.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,p,v){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=l.value,v!==!0||y===null){const _=p+g*4,x=d.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<_)&&(y=new Float32Array(_));for(let w=0,A=p;w!==g;++w,A+=4)o.copy(f[w]).applyMatrix4(x,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function DY(n){let e=new WeakMap;function t(o,a){return a===kh?o.mapping=wl:a===Vg&&(o.mapping=Du),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===kh||a===Vg)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new T2(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ho extends L0{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const eh=4,tB=[.125,.215,.35,.446,.526,.582],zc=20,kA=new ho,nB=new ft;let OA=null;const kc=(1+Math.sqrt(5))/2,bd=1/kc,rB=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,kc,bd),new Q(0,kc,-bd),new Q(bd,0,kc),new Q(-bd,0,kc),new Q(kc,bd,0),new Q(-kc,bd,0)];class CE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){OA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=oB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(OA),e.scissorTest=!1,Uy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===wl||e.mapping===Du?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),OA=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:rn,minFilter:rn,generateMipmaps:!1,type:Jr,format:Dr,encoding:Lu,depthBuffer:!1},i=iB(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iB(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=BY(s)),this._blurMaterial=LY(s,e,t)}return i}_compileMaterial(e){const t=new Wn(this._lodPlanes[0],e);this._renderer.compile(t,kA)}_sceneToCubeUV(e,t,r,i){const a=new Hn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(nB),c.toneMapping=No,c.autoClear=!1;const p=new Ui({name:"PMREM.Background",side:ns,depthWrite:!1,depthTest:!1}),v=new Wn(new Yu,p);let g=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,g=!0):(p.color.copy(nB),g=!0);for(let _=0;_<6;_++){const x=_%3;x===0?(a.up.set(0,l[_],0),a.lookAt(u[_],0,0)):x===1?(a.up.set(0,0,l[_]),a.lookAt(0,u[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,u[_]));const w=this._cubeSize;Uy(i,x*w,_>2?w:0,w,w),c.setRenderTarget(i),g&&c.render(v,a),c.render(e,a)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===wl||e.mapping===Du;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=oB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sB());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Wn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Uy(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,kA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=rB[(i-1)%rB.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Wn(this._lodPlanes[i],u),d=u.uniforms,p=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*zc-1),g=s/v,y=isFinite(s)?1+Math.floor(c*g):zc;y>zc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${zc}`);const _=[];let x=0;for(let T=0;T<zc;++T){const M=T/g,P=Math.exp(-M*M/2);_.push(P),T===0?x+=P:T<y&&(x+=2*P)}for(let T=0;T<_.length;T++)_[T]=_[T]/x;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=_,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=v,d.mipInt.value=w-r;const A=this._sizeLods[i],b=3*A*(i>w-eh?i-w+eh:0),E=4*(this._cubeSize-A);Uy(t,b,E,3*A,2*A),l.setRenderTarget(t),l.render(f,kA)}}function BY(n){const e=[],t=[],r=[];let i=n;const s=n-eh+1+tB.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-eh?l=tB[o-n+eh-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,v=6,g=3,y=2,_=1,x=new Float32Array(g*v*p),w=new Float32Array(y*v*p),A=new Float32Array(_*v*p);for(let E=0;E<p;E++){const T=E%3*2/3-1,M=E>2?0:-1,P=[T,M,0,T+2/3,M,0,T+2/3,M+1,0,T,M,0,T+2/3,M+1,0,T,M+1,0];x.set(P,g*v*E),w.set(d,y*v*E);const D=[E,E,E,E,E,E];A.set(D,_*v*E)}const b=new Xt;b.setAttribute("position",new ln(x,g)),b.setAttribute("uv",new ln(w,y)),b.setAttribute("faceIndex",new ln(A,_)),e.push(b),i>eh&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function iB(n,e,t){const r=new Ds(n,e,t);return r.texture.mapping=up,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Uy(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function LY(n,e,t){const r=new Float32Array(zc),i=new Q(0,1,0);return new Bs({name:"SphericalGaussianBlur",defines:{n:zc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:P2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ya,depthTest:!1,depthWrite:!1})}function sB(){return new Bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:P2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ya,depthTest:!1,depthWrite:!1})}function oB(){return new Bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:P2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ya,depthTest:!1,depthWrite:!1})}function P2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kY(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===kh||l===Vg,c=l===wl||l===Du;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new CE(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){t===null&&(t=new CE(n));const d=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function OY(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function FY(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const v in d.attributes)e.remove(d.attributes[v]);d.removeEventListener("dispose",o),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const v in d)e.update(d[v],34962);const p=f.morphAttributes;for(const v in p){const g=p[v];for(let y=0,_=g.length;y<_;y++)e.update(g[y],34962)}}function u(f){const d=[],p=f.index,v=f.attributes.position;let g=0;if(p!==null){const x=p.array;g=p.version;for(let w=0,A=x.length;w<A;w+=3){const b=x[w+0],E=x[w+1],T=x[w+2];d.push(b,E,E,T,T,b)}}else{const x=v.array;g=v.version;for(let w=0,A=x.length/3-1;w<A;w+=3){const b=w+0,E=w+1,T=w+2;d.push(b,E,E,T,T,b)}}const y=new($5(d)?E2:M2)(d,1);y.version=g;const _=s.get(f);_&&e.remove(_),s.set(f,y)}function c(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function NY(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,v){if(v===0)return;let g,y;if(i)g=n,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,p,a,d*l,v),t.update(p,s,v)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function UY(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function zY(n,e){return n[0]-e[0]}function GY(n,e){return Math.abs(e[1])-Math.abs(n[1])}function HY(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new mn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(c);if(_===void 0||_.count!==y){let X=function(){N.dispose(),s.delete(c),c.removeEventListener("dispose",X)};var v=X;_!==void 0&&_.texture.dispose();const A=c.morphAttributes.position!==void 0,b=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],M=c.morphAttributes.normal||[],P=c.morphAttributes.color||[];let D=0;A===!0&&(D=1),b===!0&&(D=2),E===!0&&(D=3);let F=c.attributes.position.count*D,O=1;F>e.maxTextureSize&&(O=Math.ceil(F/e.maxTextureSize),F=e.maxTextureSize);const U=new Float32Array(F*O*4*y),N=new qx(U,F,O,y);N.type=Xr,N.needsUpdate=!0;const $=D*4;for(let q=0;q<y;q++){const z=T[q],j=M[q],H=P[q],V=F*O*4*q;for(let G=0;G<z.count;G++){const J=G*$;A===!0&&(o.fromBufferAttribute(z,G),U[V+J+0]=o.x,U[V+J+1]=o.y,U[V+J+2]=o.z,U[V+J+3]=0),b===!0&&(o.fromBufferAttribute(j,G),U[V+J+4]=o.x,U[V+J+5]=o.y,U[V+J+6]=o.z,U[V+J+7]=0),E===!0&&(o.fromBufferAttribute(H,G),U[V+J+8]=o.x,U[V+J+9]=o.y,U[V+J+10]=o.z,U[V+J+11]=H.itemSize===4?o.w:1)}}_={count:y,texture:N,size:new We(F,O)},s.set(c,_),c.addEventListener("dispose",X)}let x=0;for(let A=0;A<p.length;A++)x+=p[A];const w=c.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=p===void 0?0:p.length;let y=r[c.id];if(y===void 0||y.length!==g){y=[];for(let b=0;b<g;b++)y[b]=[b,0];r[c.id]=y}for(let b=0;b<g;b++){const E=y[b];E[0]=b,E[1]=p[b]}y.sort(GY);for(let b=0;b<8;b++)b<g&&y[b][1]?(a[b][0]=y[b][0],a[b][1]=y[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(zY);const _=c.morphAttributes.position,x=c.morphAttributes.normal;let w=0;for(let b=0;b<8;b++){const E=a[b],T=E[0],M=E[1];T!==Number.MAX_SAFE_INTEGER&&M?(_&&c.getAttribute("morphTarget"+b)!==_[T]&&c.setAttribute("morphTarget"+b,_[T]),x&&c.getAttribute("morphNormal"+b)!==x[T]&&c.setAttribute("morphNormal"+b,x[T]),i[b]=M,w+=M):(_&&c.hasAttribute("morphTarget"+b)===!0&&c.deleteAttribute("morphTarget"+b),x&&c.hasAttribute("morphNormal"+b)===!0&&c.deleteAttribute("morphNormal"+b),i[b]=0)}const A=c.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function VY(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const Q5=new hn,Z5=new qx,q5=new b2,ez=new k0,aB=[],lB=[],uB=new Float32Array(16),cB=new Float32Array(9),fB=new Float32Array(4);function fp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=aB[i];if(s===void 0&&(s=new Float32Array(i),aB[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function kr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Or(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function tw(n,e){let t=lB[e];t===void 0&&(t=new Int32Array(e),lB[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function WY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function jY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2fv(this.addr,e),Or(t,e)}}function $Y(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kr(t,e))return;n.uniform3fv(this.addr,e),Or(t,e)}}function XY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4fv(this.addr,e),Or(t,e)}}function JY(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Or(t,e)}else{if(kr(t,r))return;fB.set(r),n.uniformMatrix2fv(this.addr,!1,fB),Or(t,r)}}function KY(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Or(t,e)}else{if(kr(t,r))return;cB.set(r),n.uniformMatrix3fv(this.addr,!1,cB),Or(t,r)}}function YY(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Or(t,e)}else{if(kr(t,r))return;uB.set(r),n.uniformMatrix4fv(this.addr,!1,uB),Or(t,r)}}function QY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function ZY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2iv(this.addr,e),Or(t,e)}}function qY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kr(t,e))return;n.uniform3iv(this.addr,e),Or(t,e)}}function eQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4iv(this.addr,e),Or(t,e)}}function tQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function nQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2uiv(this.addr,e),Or(t,e)}}function rQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kr(t,e))return;n.uniform3uiv(this.addr,e),Or(t,e)}}function iQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4uiv(this.addr,e),Or(t,e)}}function sQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Q5,i)}function oQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||q5,i)}function aQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||ez,i)}function lQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Z5,i)}function uQ(n){switch(n){case 5126:return WY;case 35664:return jY;case 35665:return $Y;case 35666:return XY;case 35674:return JY;case 35675:return KY;case 35676:return YY;case 5124:case 35670:return QY;case 35667:case 35671:return ZY;case 35668:case 35672:return qY;case 35669:case 35673:return eQ;case 5125:return tQ;case 36294:return nQ;case 36295:return rQ;case 36296:return iQ;case 35678:case 36198:case 36298:case 36306:case 35682:return sQ;case 35679:case 36299:case 36307:return oQ;case 35680:case 36300:case 36308:case 36293:return aQ;case 36289:case 36303:case 36311:case 36292:return lQ}}function cQ(n,e){n.uniform1fv(this.addr,e)}function fQ(n,e){const t=fp(e,this.size,2);n.uniform2fv(this.addr,t)}function dQ(n,e){const t=fp(e,this.size,3);n.uniform3fv(this.addr,t)}function hQ(n,e){const t=fp(e,this.size,4);n.uniform4fv(this.addr,t)}function pQ(n,e){const t=fp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function mQ(n,e){const t=fp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function gQ(n,e){const t=fp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function vQ(n,e){n.uniform1iv(this.addr,e)}function yQ(n,e){n.uniform2iv(this.addr,e)}function _Q(n,e){n.uniform3iv(this.addr,e)}function xQ(n,e){n.uniform4iv(this.addr,e)}function wQ(n,e){n.uniform1uiv(this.addr,e)}function SQ(n,e){n.uniform2uiv(this.addr,e)}function AQ(n,e){n.uniform3uiv(this.addr,e)}function bQ(n,e){n.uniform4uiv(this.addr,e)}function MQ(n,e,t){const r=this.cache,i=e.length,s=tw(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Q5,s[o])}function EQ(n,e,t){const r=this.cache,i=e.length,s=tw(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||q5,s[o])}function CQ(n,e,t){const r=this.cache,i=e.length,s=tw(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||ez,s[o])}function TQ(n,e,t){const r=this.cache,i=e.length,s=tw(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Z5,s[o])}function PQ(n){switch(n){case 5126:return cQ;case 35664:return fQ;case 35665:return dQ;case 35666:return hQ;case 35674:return pQ;case 35675:return mQ;case 35676:return gQ;case 5124:case 35670:return vQ;case 35667:case 35671:return yQ;case 35668:case 35672:return _Q;case 35669:case 35673:return xQ;case 5125:return wQ;case 36294:return SQ;case 36295:return AQ;case 36296:return bQ;case 35678:case 36198:case 36298:case 36306:case 35682:return MQ;case 35679:case 36299:case 36307:return EQ;case 35680:case 36300:case 36308:case 36293:return CQ;case 36289:case 36303:case 36311:case 36292:return TQ}}class RQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=uQ(t.type)}}class IQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=PQ(t.type)}}class DQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const FA=/(\w+)(\])?(\[|\.)?/g;function dB(n,e){n.seq.push(e),n.map[e.id]=e}function BQ(n,e,t){const r=n.name,i=r.length;for(FA.lastIndex=0;;){const s=FA.exec(r),o=FA.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){dB(t,u===void 0?new RQ(a,n,e):new IQ(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new DQ(a),dB(t,f)),t=f}}}class q1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);BQ(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function hB(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let LQ=0;function kQ(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function OQ(n){switch(n){case Lu:return["Linear","( value )"];case Cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function pB(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+kQ(n.getShaderSource(e),o)}else return i}function FQ(n,e){const t=OQ(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function NQ(n,e){let t;switch(e){case A5:t="Linear";break;case b5:t="Reinhard";break;case M5:t="OptimizedCineon";break;case h2:t="ACESFilmic";break;case E5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function UQ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(zm).join(`
`)}function zQ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function GQ(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function zm(n){return n!==""}function mB(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gB(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const HQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function TE(n){return n.replace(HQ,VQ)}function VQ(n,e){const t=$t[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return TE(t)}const WQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vB(n){return n.replace(WQ,jQ)}function jQ(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function yB(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $Q(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Yx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===sg?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===jc&&(e="SHADOWMAP_TYPE_VSM"),e}function XQ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case wl:case Du:e="ENVMAP_TYPE_CUBE";break;case up:e="ENVMAP_TYPE_CUBE_UV";break}return e}function JQ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Du:e="ENVMAP_MODE_REFRACTION";break}return e}function KQ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case D0:e="ENVMAP_BLENDING_MULTIPLY";break;case w5:e="ENVMAP_BLENDING_MIX";break;case S5:e="ENVMAP_BLENDING_ADD";break}return e}function YQ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function QQ(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=$Q(t),u=XQ(t),c=JQ(t),f=KQ(t),d=YQ(t),p=t.isWebGL2?"":UQ(t),v=zQ(s),g=i.createProgram();let y,_,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[v].filter(zm).join(`
`),y.length>0&&(y+=`
`),_=[p,v].filter(zm).join(`
`),_.length>0&&(_+=`
`)):(y=[yB(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zm).join(`
`),_=[p,yB(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==No?"#define TONE_MAPPING":"",t.toneMapping!==No?$t.tonemapping_pars_fragment:"",t.toneMapping!==No?NQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",$t.encodings_pars_fragment,FQ("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(zm).join(`
`)),o=TE(o),o=mB(o,t),o=gB(o,t),a=TE(a),a=mB(a,t),a=gB(a,t),o=vB(o),a=vB(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,_=["#define varying in",t.glslVersion===ME?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ME?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=x+y+o,A=x+_+a,b=hB(i,35633,w),E=hB(i,35632,A);if(i.attachShader(g,b),i.attachShader(g,E),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const P=i.getProgramInfoLog(g).trim(),D=i.getShaderInfoLog(b).trim(),F=i.getShaderInfoLog(E).trim();let O=!0,U=!0;if(i.getProgramParameter(g,35714)===!1){O=!1;const N=pB(i,b,"vertex"),$=pB(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+P+`
`+N+`
`+$)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(D===""||F==="")&&(U=!1);U&&(this.diagnostics={runnable:O,programLog:P,vertexShader:{log:D,prefix:y},fragmentShader:{log:F,prefix:_}})}i.deleteShader(b),i.deleteShader(E);let T;this.getUniforms=function(){return T===void 0&&(T=new q1(i,g)),T};let M;return this.getAttributes=function(){return M===void 0&&(M=GQ(i,g)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=LQ++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=b,this.fragmentShader=E,this}let ZQ=0;class qQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new eZ(e),t.set(e,r)),r}}class eZ{constructor(e){this.id=ZQ++,this.code=e,this.usedTimes=0}}function tZ(n,e,t,r,i,s,o){const a=new cf,l=new qQ,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(M,P,D,F,O){const U=F.fog,N=O.geometry,$=M.isMeshStandardMaterial?F.environment:null,X=(M.isMeshStandardMaterial?t:e).get(M.envMap||$),q=X&&X.mapping===up?X.image.height:null,z=v[M.type];M.precision!==null&&(p=i.getMaxPrecision(M.precision),p!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",p,"instead."));const j=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,H=j!==void 0?j.length:0;let V=0;N.morphAttributes.position!==void 0&&(V=1),N.morphAttributes.normal!==void 0&&(V=2),N.morphAttributes.color!==void 0&&(V=3);let G,J,re,te;if(z){const ye=Do[z];G=ye.vertexShader,J=ye.fragmentShader}else G=M.vertexShader,J=M.fragmentShader,l.update(M),re=l.getVertexShaderID(M),te=l.getFragmentShaderID(M);const Y=n.getRenderTarget(),ce=M.alphaTest>0,fe=M.clearcoat>0,Re=M.iridescence>0;return{isWebGL2:c,shaderID:z,shaderName:M.type,vertexShader:G,fragmentShader:J,defines:M.defines,customVertexShaderID:re,customFragmentShaderID:te,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:p,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Y===null?n.outputEncoding:Y.isXRRenderTarget===!0?Y.texture.encoding:Lu,map:!!M.map,matcap:!!M.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:q,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===V5,tangentSpaceNormalMap:M.normalMapType===Ku,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===Cn,clearcoat:fe,clearcoatMap:fe&&!!M.clearcoatMap,clearcoatRoughnessMap:fe&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:fe&&!!M.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!M.iridescenceMap,iridescenceThicknessMap:Re&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===of,alphaMap:!!M.alphaMap,alphaTest:ce,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!N.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!U,useFog:M.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:f,skinning:O.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:V,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:No,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===bs,flipSided:M.side===ns,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function y(M){const P=[];if(M.shaderID?P.push(M.shaderID):(P.push(M.customVertexShaderID),P.push(M.customFragmentShaderID)),M.defines!==void 0)for(const D in M.defines)P.push(D),P.push(M.defines[D]);return M.isRawShaderMaterial===!1&&(_(P,M),x(P,M),P.push(n.outputEncoding)),P.push(M.customProgramCacheKey),P.join()}function _(M,P){M.push(P.precision),M.push(P.outputEncoding),M.push(P.envMapMode),M.push(P.envMapCubeUVHeight),M.push(P.combine),M.push(P.vertexUvs),M.push(P.fogExp2),M.push(P.sizeAttenuation),M.push(P.morphTargetsCount),M.push(P.morphAttributeCount),M.push(P.numDirLights),M.push(P.numPointLights),M.push(P.numSpotLights),M.push(P.numSpotLightMaps),M.push(P.numHemiLights),M.push(P.numRectAreaLights),M.push(P.numDirLightShadows),M.push(P.numPointLightShadows),M.push(P.numSpotLightShadows),M.push(P.numSpotLightShadowsWithMaps),M.push(P.shadowMapType),M.push(P.toneMapping),M.push(P.numClippingPlanes),M.push(P.numClipIntersection),M.push(P.depthPacking)}function x(M,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),M.push(a.mask)}function w(M){const P=v[M.type];let D;if(P){const F=Do[P];D=C2.clone(F.uniforms)}else D=M.uniforms;return D}function A(M,P){let D;for(let F=0,O=u.length;F<O;F++){const U=u[F];if(U.cacheKey===P){D=U,++D.usedTimes;break}}return D===void 0&&(D=new QQ(n,P,M,s),u.push(D)),D}function b(M){if(--M.usedTimes===0){const P=u.indexOf(M);u[P]=u[u.length-1],u.pop(),M.destroy()}}function E(M){l.remove(M)}function T(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:w,acquireProgram:A,releaseProgram:b,releaseShaderCache:E,programs:u,dispose:T}}function nZ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function rZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function _B(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xB(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,p,v,g,y){let _=n[e];return _===void 0?(_={id:f.id,object:f,geometry:d,material:p,groupOrder:v,renderOrder:f.renderOrder,z:g,group:y},n[e]=_):(_.id=f.id,_.object=f,_.geometry=d,_.material=p,_.groupOrder=v,_.renderOrder=f.renderOrder,_.z=g,_.group=y),e++,_}function a(f,d,p,v,g,y){const _=o(f,d,p,v,g,y);p.transmission>0?r.push(_):p.transparent===!0?i.push(_):t.push(_)}function l(f,d,p,v,g,y){const _=o(f,d,p,v,g,y);p.transmission>0?r.unshift(_):p.transparent===!0?i.unshift(_):t.unshift(_)}function u(f,d){t.length>1&&t.sort(f||rZ),r.length>1&&r.sort(d||_B),i.length>1&&i.sort(d||_B)}function c(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function iZ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new xB,n.set(r,[o])):i>=s.length?(o=new xB,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function sZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new ft};break;case"SpotLight":t={position:new Q,direction:new Q,color:new ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new ft,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new ft,groundColor:new ft};break;case"RectAreaLight":t={color:new ft,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function oZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let aZ=0;function lZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function uZ(n,e){const t=new sZ,r=oZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new Q);const s=new Q,o=new Ft,a=new Ft;function l(c,f){let d=0,p=0,v=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let g=0,y=0,_=0,x=0,w=0,A=0,b=0,E=0,T=0,M=0;c.sort(lZ);const P=f!==!0?Math.PI:1;for(let F=0,O=c.length;F<O;F++){const U=c[F],N=U.color,$=U.intensity,X=U.distance,q=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)d+=N.r*$*P,p+=N.g*$*P,v+=N.b*$*P;else if(U.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(U.sh.coefficients[z],$);else if(U.isDirectionalLight){const z=t.get(U);if(z.color.copy(U.color).multiplyScalar(U.intensity*P),U.castShadow){const j=U.shadow,H=r.get(U);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,i.directionalShadow[g]=H,i.directionalShadowMap[g]=q,i.directionalShadowMatrix[g]=U.shadow.matrix,A++}i.directional[g]=z,g++}else if(U.isSpotLight){const z=t.get(U);z.position.setFromMatrixPosition(U.matrixWorld),z.color.copy(N).multiplyScalar($*P),z.distance=X,z.coneCos=Math.cos(U.angle),z.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),z.decay=U.decay,i.spot[_]=z;const j=U.shadow;if(U.map&&(i.spotLightMap[T]=U.map,T++,j.updateMatrices(U),U.castShadow&&M++),i.spotLightMatrix[_]=j.matrix,U.castShadow){const H=r.get(U);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,i.spotShadow[_]=H,i.spotShadowMap[_]=q,E++}_++}else if(U.isRectAreaLight){const z=t.get(U);z.color.copy(N).multiplyScalar($),z.halfWidth.set(U.width*.5,0,0),z.halfHeight.set(0,U.height*.5,0),i.rectArea[x]=z,x++}else if(U.isPointLight){const z=t.get(U);if(z.color.copy(U.color).multiplyScalar(U.intensity*P),z.distance=U.distance,z.decay=U.decay,U.castShadow){const j=U.shadow,H=r.get(U);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,H.shadowCameraNear=j.camera.near,H.shadowCameraFar=j.camera.far,i.pointShadow[y]=H,i.pointShadowMap[y]=q,i.pointShadowMatrix[y]=U.shadow.matrix,b++}i.point[y]=z,y++}else if(U.isHemisphereLight){const z=t.get(U);z.skyColor.copy(U.color).multiplyScalar($*P),z.groundColor.copy(U.groundColor).multiplyScalar($*P),i.hemi[w]=z,w++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=v;const D=i.hash;(D.directionalLength!==g||D.pointLength!==y||D.spotLength!==_||D.rectAreaLength!==x||D.hemiLength!==w||D.numDirectionalShadows!==A||D.numPointShadows!==b||D.numSpotShadows!==E||D.numSpotMaps!==T)&&(i.directional.length=g,i.spot.length=_,i.rectArea.length=x,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=E+T-M,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=M,D.directionalLength=g,D.pointLength=y,D.spotLength=_,D.rectAreaLength=x,D.hemiLength=w,D.numDirectionalShadows=A,D.numPointShadows=b,D.numSpotShadows=E,D.numSpotMaps=T,i.version=aZ++)}function u(c,f){let d=0,p=0,v=0,g=0,y=0;const _=f.matrixWorldInverse;for(let x=0,w=c.length;x<w;x++){const A=c[x];if(A.isDirectionalLight){const b=i.directional[d];b.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(_),d++}else if(A.isSpotLight){const b=i.spot[v];b.position.setFromMatrixPosition(A.matrixWorld),b.position.applyMatrix4(_),b.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(_),v++}else if(A.isRectAreaLight){const b=i.rectArea[g];b.position.setFromMatrixPosition(A.matrixWorld),b.position.applyMatrix4(_),a.identity(),o.copy(A.matrixWorld),o.premultiply(_),a.extractRotation(o),b.halfWidth.set(A.width*.5,0,0),b.halfHeight.set(0,A.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),g++}else if(A.isPointLight){const b=i.point[p];b.position.setFromMatrixPosition(A.matrixWorld),b.position.applyMatrix4(_),p++}else if(A.isHemisphereLight){const b=i.hemi[y];b.direction.setFromMatrixPosition(A.matrixWorld),b.direction.transformDirection(_),y++}}}return{setup:l,setupView:u,state:i}}function wB(n,e){const t=new uZ(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function cZ(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new wB(n,e),t.set(s,[l])):o>=a.length?(l=new wB(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class nw extends Lr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=H5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rw extends Lr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const fZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,dZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hZ(n,e,t){let r=new ew;const i=new We,s=new We,o=new mn,a=new nw({depthPacking:w2}),l=new rw,u={},c=t.maxTextureSize,f={[Ma]:ns,[ns]:Ma,[bs]:bs},d=new Bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new We},radius:{value:4}},vertexShader:fZ,fragmentShader:dZ}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const v=new Xt;v.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Wn(v,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Yx,this.render=function(A,b,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const T=n.getRenderTarget(),M=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),D=n.state;D.setBlending(ya),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let F=0,O=A.length;F<O;F++){const U=A[F],N=U.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const $=N.getFrameExtents();if(i.multiply($),s.copy(N.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/$.x),i.x=s.x*$.x,N.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/$.y),i.y=s.y*$.y,N.mapSize.y=s.y)),N.map===null){const q=this.type!==jc?{minFilter:lr,magFilter:lr}:{};N.map=new Ds(i.x,i.y,q),N.map.texture.name=U.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const X=N.getViewportCount();for(let q=0;q<X;q++){const z=N.getViewport(q);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),D.viewport(o),N.updateMatrices(U,q),r=N.getFrustum(),w(b,E,N.camera,U,this.type)}N.isPointLightShadow!==!0&&this.type===jc&&_(N,E),N.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(T,M,P)};function _(A,b){const E=e.update(g);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Ds(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(b,null,E,d,g,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(b,null,E,p,g,null)}function x(A,b,E,T,M,P){let D=null;const F=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(F!==void 0)D=F;else if(D=E.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const O=D.uuid,U=b.uuid;let N=u[O];N===void 0&&(N={},u[O]=N);let $=N[U];$===void 0&&($=D.clone(),N[U]=$),D=$}return D.visible=b.visible,D.wireframe=b.wireframe,P===jc?D.side=b.shadowSide!==null?b.shadowSide:b.side:D.side=b.shadowSide!==null?b.shadowSide:f[b.side],D.alphaMap=b.alphaMap,D.alphaTest=b.alphaTest,D.map=b.map,D.clipShadows=b.clipShadows,D.clippingPlanes=b.clippingPlanes,D.clipIntersection=b.clipIntersection,D.displacementMap=b.displacementMap,D.displacementScale=b.displacementScale,D.displacementBias=b.displacementBias,D.wireframeLinewidth=b.wireframeLinewidth,D.linewidth=b.linewidth,E.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(E.matrixWorld),D.nearDistance=T,D.farDistance=M),D}function w(A,b,E,T,M){if(A.visible===!1)return;if(A.layers.test(b.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&M===jc)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const F=e.update(A),O=A.material;if(Array.isArray(O)){const U=F.groups;for(let N=0,$=U.length;N<$;N++){const X=U[N],q=O[X.materialIndex];if(q&&q.visible){const z=x(A,q,T,E.near,E.far,M);n.renderBufferDirect(E,null,F,z,A,X)}}}else if(O.visible){const U=x(A,O,T,E.near,E.far,M);n.renderBufferDirect(E,null,F,U,A,null)}}const D=A.children;for(let F=0,O=D.length;F<O;F++)w(D[F],b,E,T,M)}}function pZ(n,e,t){const r=t.isWebGL2;function i(){let ae=!1;const ne=new mn;let Le=null;const st=new mn(0,0,0,0);return{setMask:function(it){Le!==it&&!ae&&(n.colorMask(it,it,it,it),Le=it)},setLocked:function(it){ae=it},setClear:function(it,dt,Tt,Ct,St){St===!0&&(it*=Ct,dt*=Ct,Tt*=Ct),ne.set(it,dt,Tt,Ct),st.equals(ne)===!1&&(n.clearColor(it,dt,Tt,Ct),st.copy(ne))},reset:function(){ae=!1,Le=null,st.set(-1,0,0,0)}}}function s(){let ae=!1,ne=null,Le=null,st=null;return{setTest:function(it){it?ce(2929):fe(2929)},setMask:function(it){ne!==it&&!ae&&(n.depthMask(it),ne=it)},setFunc:function(it){if(Le!==it){switch(it){case p5:n.depthFunc(512);break;case m5:n.depthFunc(519);break;case g5:n.depthFunc(513);break;case H_:n.depthFunc(515);break;case v5:n.depthFunc(514);break;case y5:n.depthFunc(518);break;case _5:n.depthFunc(516);break;case x5:n.depthFunc(517);break;default:n.depthFunc(515)}Le=it}},setLocked:function(it){ae=it},setClear:function(it){st!==it&&(n.clearDepth(it),st=it)},reset:function(){ae=!1,ne=null,Le=null,st=null}}}function o(){let ae=!1,ne=null,Le=null,st=null,it=null,dt=null,Tt=null,Ct=null,St=null;return{setTest:function(At){ae||(At?ce(2960):fe(2960))},setMask:function(At){ne!==At&&!ae&&(n.stencilMask(At),ne=At)},setFunc:function(At,tn,Qt){(Le!==At||st!==tn||it!==Qt)&&(n.stencilFunc(At,tn,Qt),Le=At,st=tn,it=Qt)},setOp:function(At,tn,Qt){(dt!==At||Tt!==tn||Ct!==Qt)&&(n.stencilOp(At,tn,Qt),dt=At,Tt=tn,Ct=Qt)},setLocked:function(At){ae=At},setClear:function(At){St!==At&&(n.clearStencil(At),St=At)},reset:function(){ae=!1,ne=null,Le=null,st=null,it=null,dt=null,Tt=null,Ct=null,St=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let d={},p={},v=new WeakMap,g=[],y=null,_=!1,x=null,w=null,A=null,b=null,E=null,T=null,M=null,P=!1,D=null,F=null,O=null,U=null,N=null;const $=n.getParameter(35661);let X=!1,q=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(z)[1]),X=q>=1):z.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),X=q>=2);let j=null,H={};const V=n.getParameter(3088),G=n.getParameter(2978),J=new mn().fromArray(V),re=new mn().fromArray(G);function te(ae,ne,Le){const st=new Uint8Array(4),it=n.createTexture();n.bindTexture(ae,it),n.texParameteri(ae,10241,9728),n.texParameteri(ae,10240,9728);for(let dt=0;dt<Le;dt++)n.texImage2D(ne+dt,0,6408,1,1,0,6408,5121,st);return it}const Y={};Y[3553]=te(3553,3553,1),Y[34067]=te(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ce(2929),l.setFunc(H_),Be(!1),Ye(YM),ce(2884),Ie(ya);function ce(ae){d[ae]!==!0&&(n.enable(ae),d[ae]=!0)}function fe(ae){d[ae]!==!1&&(n.disable(ae),d[ae]=!1)}function Re(ae,ne){return p[ae]!==ne?(n.bindFramebuffer(ae,ne),p[ae]=ne,r&&(ae===36009&&(p[36160]=ne),ae===36160&&(p[36009]=ne)),!0):!1}function Ae(ae,ne){let Le=g,st=!1;if(ae)if(Le=v.get(ne),Le===void 0&&(Le=[],v.set(ne,Le)),ae.isWebGLMultipleRenderTargets){const it=ae.texture;if(Le.length!==it.length||Le[0]!==36064){for(let dt=0,Tt=it.length;dt<Tt;dt++)Le[dt]=36064+dt;Le.length=it.length,st=!0}}else Le[0]!==36064&&(Le[0]=36064,st=!0);else Le[0]!==1029&&(Le[0]=1029,st=!0);st&&(t.isWebGL2?n.drawBuffers(Le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Le))}function ye(ae){return y!==ae?(n.useProgram(ae),y=ae,!0):!1}const le={[Uc]:32774,[r5]:32778,[i5]:32779};if(r)le[qM]=32775,le[eE]=32776;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(le[qM]=ae.MIN_EXT,le[eE]=ae.MAX_EXT)}const de={[s5]:0,[o5]:1,[a5]:768,[f2]:770,[h5]:776,[f5]:774,[u5]:772,[l5]:769,[d2]:771,[d5]:775,[c5]:773};function Ie(ae,ne,Le,st,it,dt,Tt,Ct){if(ae===ya){_===!0&&(fe(3042),_=!1);return}if(_===!1&&(ce(3042),_=!0),ae!==n5){if(ae!==x||Ct!==P){if((w!==Uc||E!==Uc)&&(n.blendEquation(32774),w=Uc,E=Uc),Ct)switch(ae){case of:n.blendFuncSeparate(1,771,1,771);break;case G_:n.blendFunc(1,1);break;case QM:n.blendFuncSeparate(0,769,0,1);break;case ZM:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case of:n.blendFuncSeparate(770,771,1,771);break;case G_:n.blendFunc(770,1);break;case QM:n.blendFuncSeparate(0,769,0,1);break;case ZM:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}A=null,b=null,T=null,M=null,x=ae,P=Ct}return}it=it||ne,dt=dt||Le,Tt=Tt||st,(ne!==w||it!==E)&&(n.blendEquationSeparate(le[ne],le[it]),w=ne,E=it),(Le!==A||st!==b||dt!==T||Tt!==M)&&(n.blendFuncSeparate(de[Le],de[st],de[dt],de[Tt]),A=Le,b=st,T=dt,M=Tt),x=ae,P=!1}function Ve(ae,ne){ae.side===bs?fe(2884):ce(2884);let Le=ae.side===ns;ne&&(Le=!Le),Be(Le),ae.blending===of&&ae.transparent===!1?Ie(ya):Ie(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),a.setMask(ae.colorWrite);const st=ae.stencilWrite;u.setTest(st),st&&(u.setMask(ae.stencilWriteMask),u.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),u.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),Ue(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ce(32926):fe(32926)}function Be(ae){D!==ae&&(ae?n.frontFace(2304):n.frontFace(2305),D=ae)}function Ye(ae){ae!==qU?(ce(2884),ae!==F&&(ae===YM?n.cullFace(1029):ae===e5?n.cullFace(1028):n.cullFace(1032))):fe(2884),F=ae}function De(ae){ae!==O&&(X&&n.lineWidth(ae),O=ae)}function Ue(ae,ne,Le){ae?(ce(32823),(U!==ne||N!==Le)&&(n.polygonOffset(ne,Le),U=ne,N=Le)):fe(32823)}function Qe(ae){ae?ce(3089):fe(3089)}function Ce(ae){ae===void 0&&(ae=33984+$-1),j!==ae&&(n.activeTexture(ae),j=ae)}function K(ae,ne,Le){Le===void 0&&(j===null?Le=33984+$-1:Le=j);let st=H[Le];st===void 0&&(st={type:void 0,texture:void 0},H[Le]=st),(st.type!==ae||st.texture!==ne)&&(j!==Le&&(n.activeTexture(Le),j=Le),n.bindTexture(ae,ne||Y[ae]),st.type=ae,st.texture=ne)}function k(){const ae=H[j];ae!==void 0&&ae.type!==void 0&&(n.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function se(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function me(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Oe(){try{n.texSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Me(){try{n.texSubImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ke(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Fe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ee(){try{n.texStorage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function tt(){try{n.texStorage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function at(){try{n.texImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Je(){try{n.texImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Xe(ae){J.equals(ae)===!1&&(n.scissor(ae.x,ae.y,ae.z,ae.w),J.copy(ae))}function je(ae){re.equals(ae)===!1&&(n.viewport(ae.x,ae.y,ae.z,ae.w),re.copy(ae))}function oe(ae,ne){let Le=f.get(ne);Le===void 0&&(Le=new WeakMap,f.set(ne,Le));let st=Le.get(ae);st===void 0&&(st=n.getUniformBlockIndex(ne,ae.name),Le.set(ae,st))}function Pe(ae,ne){const st=f.get(ne).get(ae);c.get(ne)!==st&&(n.uniformBlockBinding(ne,st,ae.__bindingPointIndex),c.set(ne,st))}function Ze(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},j=null,H={},p={},v=new WeakMap,g=[],y=null,_=!1,x=null,w=null,A=null,b=null,E=null,T=null,M=null,P=!1,D=null,F=null,O=null,U=null,N=null,J.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ce,disable:fe,bindFramebuffer:Re,drawBuffers:Ae,useProgram:ye,setBlending:Ie,setMaterial:Ve,setFlipSided:Be,setCullFace:Ye,setLineWidth:De,setPolygonOffset:Ue,setScissorTest:Qe,activeTexture:Ce,bindTexture:K,unbindTexture:k,compressedTexImage2D:se,compressedTexImage3D:me,texImage2D:at,texImage3D:Je,updateUBOMapping:oe,uniformBlockBinding:Pe,texStorage2D:Ee,texStorage3D:tt,texSubImage2D:Oe,texSubImage3D:Me,compressedTexSubImage2D:Ke,compressedTexSubImage3D:Fe,scissor:Xe,viewport:je,reset:Ze}}function mZ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let g;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,k){return _?new OffscreenCanvas(K,k):Jg("canvas")}function w(K,k,se,me){let Oe=1;if((K.width>me||K.height>me)&&(Oe=me/Math.max(K.width,K.height)),Oe<1||k===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const Me=k?j_:Math.floor,Ke=Me(Oe*K.width),Fe=Me(Oe*K.height);g===void 0&&(g=x(Ke,Fe));const Ee=se?x(Ke,Fe):g;return Ee.width=Ke,Ee.height=Fe,Ee.getContext("2d").drawImage(K,0,0,Ke,Fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Ke+"x"+Fe+")."),Ee}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function A(K){return EE(K.width)&&EE(K.height)}function b(K){return a?!1:K.wrapS!==Bn||K.wrapT!==Bn||K.minFilter!==lr&&K.minFilter!==rn}function E(K,k){return K.generateMipmaps&&k&&K.minFilter!==lr&&K.minFilter!==rn}function T(K){n.generateMipmap(K)}function M(K,k,se,me,Oe=!1){if(a===!1)return k;if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Me=k;return k===6403&&(se===5126&&(Me=33326),se===5131&&(Me=33325),se===5121&&(Me=33321)),k===33319&&(se===5126&&(Me=33328),se===5131&&(Me=33327),se===5121&&(Me=33323)),k===6408&&(se===5126&&(Me=34836),se===5131&&(Me=34842),se===5121&&(Me=me===Cn&&Oe===!1?35907:32856),se===32819&&(Me=32854),se===32820&&(Me=32855)),(Me===33325||Me===33326||Me===33327||Me===33328||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function P(K,k,se){return E(K,se)===!0||K.isFramebufferTexture&&K.minFilter!==lr&&K.minFilter!==rn?Math.log2(Math.max(k.width,k.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?k.mipmaps.length:1}function D(K){return K===lr||K===Wg||K===yh?9728:9729}function F(K){const k=K.target;k.removeEventListener("dispose",F),U(k),k.isVideoTexture&&v.delete(k)}function O(K){const k=K.target;k.removeEventListener("dispose",O),$(k)}function U(K){const k=r.get(K);if(k.__webglInit===void 0)return;const se=K.source,me=y.get(se);if(me){const Oe=me[k.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&N(K),Object.keys(me).length===0&&y.delete(se)}r.remove(K)}function N(K){const k=r.get(K);n.deleteTexture(k.__webglTexture);const se=K.source,me=y.get(se);delete me[k.__cacheKey],o.memory.textures--}function $(K){const k=K.texture,se=r.get(K),me=r.get(k);if(me.__webglTexture!==void 0&&(n.deleteTexture(me.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++)n.deleteFramebuffer(se.__webglFramebuffer[Oe]),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer[Oe]);else{if(n.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let Oe=0;Oe<se.__webglColorRenderbuffer.length;Oe++)se.__webglColorRenderbuffer[Oe]&&n.deleteRenderbuffer(se.__webglColorRenderbuffer[Oe]);se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Oe=0,Me=k.length;Oe<Me;Oe++){const Ke=r.get(k[Oe]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(k[Oe])}r.remove(k),r.remove(K)}let X=0;function q(){X=0}function z(){const K=X;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),X+=1,K}function j(K){const k=[];return k.push(K.wrapS),k.push(K.wrapT),k.push(K.wrapR||0),k.push(K.magFilter),k.push(K.minFilter),k.push(K.anisotropy),k.push(K.internalFormat),k.push(K.format),k.push(K.type),k.push(K.generateMipmaps),k.push(K.premultiplyAlpha),k.push(K.flipY),k.push(K.unpackAlignment),k.push(K.encoding),k.join()}function H(K,k){const se=r.get(K);if(K.isVideoTexture&&Qe(K),K.isRenderTargetTexture===!1&&K.version>0&&se.__version!==K.version){const me=K.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(se,K,k);return}}t.bindTexture(3553,se.__webglTexture,33984+k)}function V(K,k){const se=r.get(K);if(K.version>0&&se.__version!==K.version){fe(se,K,k);return}t.bindTexture(35866,se.__webglTexture,33984+k)}function G(K,k){const se=r.get(K);if(K.version>0&&se.__version!==K.version){fe(se,K,k);return}t.bindTexture(32879,se.__webglTexture,33984+k)}function J(K,k){const se=r.get(K);if(K.version>0&&se.__version!==K.version){Re(se,K,k);return}t.bindTexture(34067,se.__webglTexture,33984+k)}const re={[Bu]:10497,[Bn]:33071,[Oh]:33648},te={[lr]:9728,[Wg]:9984,[yh]:9986,[rn]:9729,[Qx]:9985,[Ea]:9987};function Y(K,k,se){if(se?(n.texParameteri(K,10242,re[k.wrapS]),n.texParameteri(K,10243,re[k.wrapT]),(K===32879||K===35866)&&n.texParameteri(K,32882,re[k.wrapR]),n.texParameteri(K,10240,te[k.magFilter]),n.texParameteri(K,10241,te[k.minFilter])):(n.texParameteri(K,10242,33071),n.texParameteri(K,10243,33071),(K===32879||K===35866)&&n.texParameteri(K,32882,33071),(k.wrapS!==Bn||k.wrapT!==Bn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(K,10240,D(k.magFilter)),n.texParameteri(K,10241,D(k.minFilter)),k.minFilter!==lr&&k.minFilter!==rn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===lr||k.minFilter!==yh&&k.minFilter!==Ea||k.type===Xr&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===Jr&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(n.texParameterf(K,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function ce(K,k){let se=!1;K.__webglInit===void 0&&(K.__webglInit=!0,k.addEventListener("dispose",F));const me=k.source;let Oe=y.get(me);Oe===void 0&&(Oe={},y.set(me,Oe));const Me=j(k);if(Me!==K.__cacheKey){Oe[Me]===void 0&&(Oe[Me]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Oe[Me].usedTimes++;const Ke=Oe[K.__cacheKey];Ke!==void 0&&(Oe[K.__cacheKey].usedTimes--,Ke.usedTimes===0&&N(k)),K.__cacheKey=Me,K.__webglTexture=Oe[Me].texture}return se}function fe(K,k,se){let me=3553;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(me=35866),k.isData3DTexture&&(me=32879);const Oe=ce(K,k),Me=k.source;t.bindTexture(me,K.__webglTexture,33984+se);const Ke=r.get(Me);if(Me.version!==Ke.__version||Oe===!0){t.activeTexture(33984+se),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Fe=b(k)&&A(k.image)===!1;let Ee=w(k.image,Fe,!1,c);Ee=Ce(k,Ee);const tt=A(Ee)||a,at=s.convert(k.format,k.encoding);let Je=s.convert(k.type),Xe=M(k.internalFormat,at,Je,k.encoding,k.isVideoTexture);Y(me,k,tt);let je;const oe=k.mipmaps,Pe=a&&k.isVideoTexture!==!0,Ze=Ke.__version===void 0||Oe===!0,ae=P(k,Ee,tt);if(k.isDepthTexture)Xe=6402,a?k.type===Xr?Xe=36012:k.type===ul?Xe=33190:k.type===af?Xe=35056:Xe=33189:k.type===Xr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===bu&&Xe===6402&&k.type!==g2&&k.type!==ul&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=ul,Je=s.convert(k.type)),k.format===Tf&&Xe===6402&&(Xe=34041,k.type!==af&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=af,Je=s.convert(k.type))),Ze&&(Pe?t.texStorage2D(3553,1,Xe,Ee.width,Ee.height):t.texImage2D(3553,0,Xe,Ee.width,Ee.height,0,at,Je,null));else if(k.isDataTexture)if(oe.length>0&&tt){Pe&&Ze&&t.texStorage2D(3553,ae,Xe,oe[0].width,oe[0].height);for(let ne=0,Le=oe.length;ne<Le;ne++)je=oe[ne],Pe?t.texSubImage2D(3553,ne,0,0,je.width,je.height,at,Je,je.data):t.texImage2D(3553,ne,Xe,je.width,je.height,0,at,Je,je.data);k.generateMipmaps=!1}else Pe?(Ze&&t.texStorage2D(3553,ae,Xe,Ee.width,Ee.height),t.texSubImage2D(3553,0,0,0,Ee.width,Ee.height,at,Je,Ee.data)):t.texImage2D(3553,0,Xe,Ee.width,Ee.height,0,at,Je,Ee.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Pe&&Ze&&t.texStorage3D(35866,ae,Xe,oe[0].width,oe[0].height,Ee.depth);for(let ne=0,Le=oe.length;ne<Le;ne++)je=oe[ne],k.format!==Dr?at!==null?Pe?t.compressedTexSubImage3D(35866,ne,0,0,0,je.width,je.height,Ee.depth,at,je.data,0,0):t.compressedTexImage3D(35866,ne,Xe,je.width,je.height,Ee.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?t.texSubImage3D(35866,ne,0,0,0,je.width,je.height,Ee.depth,at,Je,je.data):t.texImage3D(35866,ne,Xe,je.width,je.height,Ee.depth,0,at,Je,je.data)}else{Pe&&Ze&&t.texStorage2D(3553,ae,Xe,oe[0].width,oe[0].height);for(let ne=0,Le=oe.length;ne<Le;ne++)je=oe[ne],k.format!==Dr?at!==null?Pe?t.compressedTexSubImage2D(3553,ne,0,0,je.width,je.height,at,je.data):t.compressedTexImage2D(3553,ne,Xe,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?t.texSubImage2D(3553,ne,0,0,je.width,je.height,at,Je,je.data):t.texImage2D(3553,ne,Xe,je.width,je.height,0,at,Je,je.data)}else if(k.isDataArrayTexture)Pe?(Ze&&t.texStorage3D(35866,ae,Xe,Ee.width,Ee.height,Ee.depth),t.texSubImage3D(35866,0,0,0,0,Ee.width,Ee.height,Ee.depth,at,Je,Ee.data)):t.texImage3D(35866,0,Xe,Ee.width,Ee.height,Ee.depth,0,at,Je,Ee.data);else if(k.isData3DTexture)Pe?(Ze&&t.texStorage3D(32879,ae,Xe,Ee.width,Ee.height,Ee.depth),t.texSubImage3D(32879,0,0,0,0,Ee.width,Ee.height,Ee.depth,at,Je,Ee.data)):t.texImage3D(32879,0,Xe,Ee.width,Ee.height,Ee.depth,0,at,Je,Ee.data);else if(k.isFramebufferTexture){if(Ze)if(Pe)t.texStorage2D(3553,ae,Xe,Ee.width,Ee.height);else{let ne=Ee.width,Le=Ee.height;for(let st=0;st<ae;st++)t.texImage2D(3553,st,Xe,ne,Le,0,at,Je,null),ne>>=1,Le>>=1}}else if(oe.length>0&&tt){Pe&&Ze&&t.texStorage2D(3553,ae,Xe,oe[0].width,oe[0].height);for(let ne=0,Le=oe.length;ne<Le;ne++)je=oe[ne],Pe?t.texSubImage2D(3553,ne,0,0,at,Je,je):t.texImage2D(3553,ne,Xe,at,Je,je);k.generateMipmaps=!1}else Pe?(Ze&&t.texStorage2D(3553,ae,Xe,Ee.width,Ee.height),t.texSubImage2D(3553,0,0,0,at,Je,Ee)):t.texImage2D(3553,0,Xe,at,Je,Ee);E(k,tt)&&T(me),Ke.__version=Me.version,k.onUpdate&&k.onUpdate(k)}K.__version=k.version}function Re(K,k,se){if(k.image.length!==6)return;const me=ce(K,k),Oe=k.source;t.bindTexture(34067,K.__webglTexture,33984+se);const Me=r.get(Oe);if(Oe.version!==Me.__version||me===!0){t.activeTexture(33984+se),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Ke=k.isCompressedTexture||k.image[0].isCompressedTexture,Fe=k.image[0]&&k.image[0].isDataTexture,Ee=[];for(let ne=0;ne<6;ne++)!Ke&&!Fe?Ee[ne]=w(k.image[ne],!1,!0,u):Ee[ne]=Fe?k.image[ne].image:k.image[ne],Ee[ne]=Ce(k,Ee[ne]);const tt=Ee[0],at=A(tt)||a,Je=s.convert(k.format,k.encoding),Xe=s.convert(k.type),je=M(k.internalFormat,Je,Xe,k.encoding),oe=a&&k.isVideoTexture!==!0,Pe=Me.__version===void 0||me===!0;let Ze=P(k,tt,at);Y(34067,k,at);let ae;if(Ke){oe&&Pe&&t.texStorage2D(34067,Ze,je,tt.width,tt.height);for(let ne=0;ne<6;ne++){ae=Ee[ne].mipmaps;for(let Le=0;Le<ae.length;Le++){const st=ae[Le];k.format!==Dr?Je!==null?oe?t.compressedTexSubImage2D(34069+ne,Le,0,0,st.width,st.height,Je,st.data):t.compressedTexImage2D(34069+ne,Le,je,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?t.texSubImage2D(34069+ne,Le,0,0,st.width,st.height,Je,Xe,st.data):t.texImage2D(34069+ne,Le,je,st.width,st.height,0,Je,Xe,st.data)}}}else{ae=k.mipmaps,oe&&Pe&&(ae.length>0&&Ze++,t.texStorage2D(34067,Ze,je,Ee[0].width,Ee[0].height));for(let ne=0;ne<6;ne++)if(Fe){oe?t.texSubImage2D(34069+ne,0,0,0,Ee[ne].width,Ee[ne].height,Je,Xe,Ee[ne].data):t.texImage2D(34069+ne,0,je,Ee[ne].width,Ee[ne].height,0,Je,Xe,Ee[ne].data);for(let Le=0;Le<ae.length;Le++){const it=ae[Le].image[ne].image;oe?t.texSubImage2D(34069+ne,Le+1,0,0,it.width,it.height,Je,Xe,it.data):t.texImage2D(34069+ne,Le+1,je,it.width,it.height,0,Je,Xe,it.data)}}else{oe?t.texSubImage2D(34069+ne,0,0,0,Je,Xe,Ee[ne]):t.texImage2D(34069+ne,0,je,Je,Xe,Ee[ne]);for(let Le=0;Le<ae.length;Le++){const st=ae[Le];oe?t.texSubImage2D(34069+ne,Le+1,0,0,Je,Xe,st.image[ne]):t.texImage2D(34069+ne,Le+1,je,Je,Xe,st.image[ne])}}}E(k,at)&&T(34067),Me.__version=Oe.version,k.onUpdate&&k.onUpdate(k)}K.__version=k.version}function Ae(K,k,se,me,Oe){const Me=s.convert(se.format,se.encoding),Ke=s.convert(se.type),Fe=M(se.internalFormat,Me,Ke,se.encoding);r.get(k).__hasExternalTextures||(Oe===32879||Oe===35866?t.texImage3D(Oe,0,Fe,k.width,k.height,k.depth,0,Me,Ke,null):t.texImage2D(Oe,0,Fe,k.width,k.height,0,Me,Ke,null)),t.bindFramebuffer(36160,K),Ue(k)?d.framebufferTexture2DMultisampleEXT(36160,me,Oe,r.get(se).__webglTexture,0,De(k)):(Oe===3553||Oe>=34069&&Oe<=34074)&&n.framebufferTexture2D(36160,me,Oe,r.get(se).__webglTexture,0),t.bindFramebuffer(36160,null)}function ye(K,k,se){if(n.bindRenderbuffer(36161,K),k.depthBuffer&&!k.stencilBuffer){let me=33189;if(se||Ue(k)){const Oe=k.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Xr?me=36012:Oe.type===ul&&(me=33190));const Me=De(k);Ue(k)?d.renderbufferStorageMultisampleEXT(36161,Me,me,k.width,k.height):n.renderbufferStorageMultisample(36161,Me,me,k.width,k.height)}else n.renderbufferStorage(36161,me,k.width,k.height);n.framebufferRenderbuffer(36160,36096,36161,K)}else if(k.depthBuffer&&k.stencilBuffer){const me=De(k);se&&Ue(k)===!1?n.renderbufferStorageMultisample(36161,me,35056,k.width,k.height):Ue(k)?d.renderbufferStorageMultisampleEXT(36161,me,35056,k.width,k.height):n.renderbufferStorage(36161,34041,k.width,k.height),n.framebufferRenderbuffer(36160,33306,36161,K)}else{const me=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Oe=0;Oe<me.length;Oe++){const Me=me[Oe],Ke=s.convert(Me.format,Me.encoding),Fe=s.convert(Me.type),Ee=M(Me.internalFormat,Ke,Fe,Me.encoding),tt=De(k);se&&Ue(k)===!1?n.renderbufferStorageMultisample(36161,tt,Ee,k.width,k.height):Ue(k)?d.renderbufferStorageMultisampleEXT(36161,tt,Ee,k.width,k.height):n.renderbufferStorage(36161,Ee,k.width,k.height)}}n.bindRenderbuffer(36161,null)}function le(K,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,K),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),H(k.depthTexture,0);const me=r.get(k.depthTexture).__webglTexture,Oe=De(k);if(k.depthTexture.format===bu)Ue(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,me,0,Oe):n.framebufferTexture2D(36160,36096,3553,me,0);else if(k.depthTexture.format===Tf)Ue(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,me,0,Oe):n.framebufferTexture2D(36160,33306,3553,me,0);else throw new Error("Unknown depthTexture format")}function de(K){const k=r.get(K),se=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!k.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");le(k.__webglFramebuffer,K)}else if(se){k.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(36160,k.__webglFramebuffer[me]),k.__webglDepthbuffer[me]=n.createRenderbuffer(),ye(k.__webglDepthbuffer[me],K,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=n.createRenderbuffer(),ye(k.__webglDepthbuffer,K,!1);t.bindFramebuffer(36160,null)}function Ie(K,k,se){const me=r.get(K);k!==void 0&&Ae(me.__webglFramebuffer,K,K.texture,36064,3553),se!==void 0&&de(K)}function Ve(K){const k=K.texture,se=r.get(K),me=r.get(k);K.addEventListener("dispose",O),K.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=k.version,o.memory.textures++);const Oe=K.isWebGLCubeRenderTarget===!0,Me=K.isWebGLMultipleRenderTargets===!0,Ke=A(K)||a;if(Oe){se.__webglFramebuffer=[];for(let Fe=0;Fe<6;Fe++)se.__webglFramebuffer[Fe]=n.createFramebuffer()}else{if(se.__webglFramebuffer=n.createFramebuffer(),Me)if(i.drawBuffers){const Fe=K.texture;for(let Ee=0,tt=Fe.length;Ee<tt;Ee++){const at=r.get(Fe[Ee]);at.__webglTexture===void 0&&(at.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&Ue(K)===!1){const Fe=Me?k:[k];se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,se.__webglMultisampledFramebuffer);for(let Ee=0;Ee<Fe.length;Ee++){const tt=Fe[Ee];se.__webglColorRenderbuffer[Ee]=n.createRenderbuffer(),n.bindRenderbuffer(36161,se.__webglColorRenderbuffer[Ee]);const at=s.convert(tt.format,tt.encoding),Je=s.convert(tt.type),Xe=M(tt.internalFormat,at,Je,tt.encoding,K.isXRRenderTarget===!0),je=De(K);n.renderbufferStorageMultisample(36161,je,Xe,K.width,K.height),n.framebufferRenderbuffer(36160,36064+Ee,36161,se.__webglColorRenderbuffer[Ee])}n.bindRenderbuffer(36161,null),K.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),ye(se.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(36160,null)}}if(Oe){t.bindTexture(34067,me.__webglTexture),Y(34067,k,Ke);for(let Fe=0;Fe<6;Fe++)Ae(se.__webglFramebuffer[Fe],K,k,36064,34069+Fe);E(k,Ke)&&T(34067),t.unbindTexture()}else if(Me){const Fe=K.texture;for(let Ee=0,tt=Fe.length;Ee<tt;Ee++){const at=Fe[Ee],Je=r.get(at);t.bindTexture(3553,Je.__webglTexture),Y(3553,at,Ke),Ae(se.__webglFramebuffer,K,at,36064+Ee,3553),E(at,Ke)&&T(3553)}t.unbindTexture()}else{let Fe=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?Fe=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Fe,me.__webglTexture),Y(Fe,k,Ke),Ae(se.__webglFramebuffer,K,k,36064,Fe),E(k,Ke)&&T(Fe),t.unbindTexture()}K.depthBuffer&&de(K)}function Be(K){const k=A(K)||a,se=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let me=0,Oe=se.length;me<Oe;me++){const Me=se[me];if(E(Me,k)){const Ke=K.isWebGLCubeRenderTarget?34067:3553,Fe=r.get(Me).__webglTexture;t.bindTexture(Ke,Fe),T(Ke),t.unbindTexture()}}}function Ye(K){if(a&&K.samples>0&&Ue(K)===!1){const k=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],se=K.width,me=K.height;let Oe=16384;const Me=[],Ke=K.stencilBuffer?33306:36096,Fe=r.get(K),Ee=K.isWebGLMultipleRenderTargets===!0;if(Ee)for(let tt=0;tt<k.length;tt++)t.bindFramebuffer(36160,Fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,null),t.bindFramebuffer(36160,Fe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,null,0);t.bindFramebuffer(36008,Fe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Fe.__webglFramebuffer);for(let tt=0;tt<k.length;tt++){Me.push(36064+tt),K.depthBuffer&&Me.push(Ke);const at=Fe.__ignoreDepthValues!==void 0?Fe.__ignoreDepthValues:!1;if(at===!1&&(K.depthBuffer&&(Oe|=256),K.stencilBuffer&&(Oe|=1024)),Ee&&n.framebufferRenderbuffer(36008,36064,36161,Fe.__webglColorRenderbuffer[tt]),at===!0&&(n.invalidateFramebuffer(36008,[Ke]),n.invalidateFramebuffer(36009,[Ke])),Ee){const Je=r.get(k[tt]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Je,0)}n.blitFramebuffer(0,0,se,me,0,0,se,me,Oe,9728),p&&n.invalidateFramebuffer(36008,Me)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Ee)for(let tt=0;tt<k.length;tt++){t.bindFramebuffer(36160,Fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,Fe.__webglColorRenderbuffer[tt]);const at=r.get(k[tt]).__webglTexture;t.bindFramebuffer(36160,Fe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,at,0)}t.bindFramebuffer(36009,Fe.__webglMultisampledFramebuffer)}}function De(K){return Math.min(f,K.samples)}function Ue(K){const k=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Qe(K){const k=o.render.frame;v.get(K)!==k&&(v.set(K,k),K.update())}function Ce(K,k){const se=K.encoding,me=K.format,Oe=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===W_||se!==Lu&&(se===Cn?a===!1?e.has("EXT_sRGB")===!0&&me===Dr?(K.format=W_,K.minFilter=rn,K.generateMipmaps=!1):k=A2.sRGBToLinear(k):(me!==Dr||Oe!==go)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),k}this.allocateTextureUnit=z,this.resetTextureUnits=q,this.setTexture2D=H,this.setTexture2DArray=V,this.setTexture3D=G,this.setTextureCube=J,this.rebindTextures=Ie,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=Ue}function tz(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===go)return 5121;if(s===C5)return 32819;if(s===T5)return 32820;if(s===p2)return 5120;if(s===m2)return 5122;if(s===g2)return 5123;if(s===v2)return 5124;if(s===ul)return 5125;if(s===Xr)return 5126;if(s===Jr)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===P5)return 6406;if(s===Dr)return 6408;if(s===R5)return 6409;if(s===I5)return 6410;if(s===bu)return 6402;if(s===Tf)return 34041;if(s===W_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===y2)return 6403;if(s===D5)return 36244;if(s===B5)return 33319;if(s===L5)return 33320;if(s===k5)return 36249;if(s===j1||s===$1||s===X1||s===J1)if(o===Cn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===j1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===$1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===X1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===J1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===j1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===$1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===X1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===J1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===nE||s===rE||s===iE||s===sE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===nE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===rE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===iE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===sE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===O5)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===oE||s===aE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===oE)return o===Cn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===aE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===lE||s===uE||s===cE||s===fE||s===dE||s===hE||s===pE||s===mE||s===gE||s===vE||s===yE||s===_E||s===xE||s===wE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===lE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===uE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===cE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===fE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===dE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===hE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===pE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===mE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===gE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===vE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===yE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===_E)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===xE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===wE)return o===Cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===K1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===K1)return o===Cn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===F5||s===SE||s===AE||s===bE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===K1)return a.COMPRESSED_RED_RGTC1_EXT;if(s===SE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===AE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===bE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===af?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class nz extends Hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class fl extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gZ={type:"move"};class NA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const y=t.getJointPose(g,r),_=this._getHandJoint(u,g);y!==null&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),p=.02,v=.005;u.inputState.pinching&&d>p+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=p-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(gZ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new fl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class rz extends hn{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:bu,c!==bu&&c!==Tf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===bu&&(r=ul),r===void 0&&c===Tf&&(r=af),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:lr,this.minFilter=l!==void 0?l:lr,this.flipY=!1,this.generateMipmaps=!1}}class vZ extends Bl{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,d=null,p=null,v=null;const g=t.getContextAttributes();let y=null,_=null;const x=[],w=[],A=new Set,b=new Map,E=new Hn;E.layers.enable(1),E.viewport=new mn;const T=new Hn;T.layers.enable(2),T.viewport=new mn;const M=[E,T],P=new nz;P.layers.enable(1),P.layers.enable(2);let D=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let J=x[G];return J===void 0&&(J=new NA,x[G]=J),J.getTargetRaySpace()},this.getControllerGrip=function(G){let J=x[G];return J===void 0&&(J=new NA,x[G]=J),J.getGripSpace()},this.getHand=function(G){let J=x[G];return J===void 0&&(J=new NA,x[G]=J),J.getHandSpace()};function O(G){const J=w.indexOf(G.inputSource);if(J===-1)return;const re=x[J];re!==void 0&&re.dispatchEvent({type:G.type,data:G.inputSource})}function U(){i.removeEventListener("select",O),i.removeEventListener("selectstart",O),i.removeEventListener("selectend",O),i.removeEventListener("squeeze",O),i.removeEventListener("squeezestart",O),i.removeEventListener("squeezeend",O),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",N);for(let G=0;G<x.length;G++){const J=w[G];J!==null&&(w[G]=null,x[G].disconnect(J))}D=null,F=null,e.setRenderTarget(y),p=null,d=null,f=null,i=null,_=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",U),i.addEventListener("inputsourceschange",N),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,J),i.updateRenderState({baseLayer:p}),_=new Ds(p.framebufferWidth,p.framebufferHeight,{format:Dr,type:go,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let J=null,re=null,te=null;g.depth&&(te=g.stencil?35056:33190,J=g.stencil?Tf:bu,re=g.stencil?af:ul);const Y={colorFormat:32856,depthFormat:te,scaleFactor:s};f=new XRWebGLBinding(i,t),d=f.createProjectionLayer(Y),i.updateRenderState({layers:[d]}),_=new Ds(d.textureWidth,d.textureHeight,{format:Dr,type:go,depthTexture:new rz(d.textureWidth,d.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const ce=e.properties.get(_);ce.__ignoreDepthValues=d.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function N(G){for(let J=0;J<G.removed.length;J++){const re=G.removed[J],te=w.indexOf(re);te>=0&&(w[te]=null,x[te].disconnect(re))}for(let J=0;J<G.added.length;J++){const re=G.added[J];let te=w.indexOf(re);if(te===-1){for(let ce=0;ce<x.length;ce++)if(ce>=w.length){w.push(re),te=ce;break}else if(w[ce]===null){w[ce]=re,te=ce;break}if(te===-1)break}const Y=x[te];Y&&Y.connect(re)}}const $=new Q,X=new Q;function q(G,J,re){$.setFromMatrixPosition(J.matrixWorld),X.setFromMatrixPosition(re.matrixWorld);const te=$.distanceTo(X),Y=J.projectionMatrix.elements,ce=re.projectionMatrix.elements,fe=Y[14]/(Y[10]-1),Re=Y[14]/(Y[10]+1),Ae=(Y[9]+1)/Y[5],ye=(Y[9]-1)/Y[5],le=(Y[8]-1)/Y[0],de=(ce[8]+1)/ce[0],Ie=fe*le,Ve=fe*de,Be=te/(-le+de),Ye=Be*-le;J.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Ye),G.translateZ(Be),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const De=fe+Be,Ue=Re+Be,Qe=Ie-Ye,Ce=Ve+(te-Ye),K=Ae*Re/Ue*De,k=ye*Re/Ue*De;G.projectionMatrix.makePerspective(Qe,Ce,K,k,De,Ue)}function z(G,J){J===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(J.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;P.near=T.near=E.near=G.near,P.far=T.far=E.far=G.far,(D!==P.near||F!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),D=P.near,F=P.far);const J=G.parent,re=P.cameras;z(P,J);for(let Y=0;Y<re.length;Y++)z(re[Y],J);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),G.matrix.copy(P.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const te=G.children;for(let Y=0,ce=te.length;Y<ce;Y++)te[Y].updateMatrixWorld(!0);re.length===2?q(P,E,T):P.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(G){l=G,d!==null&&(d.fixedFoveation=G),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=G)},this.getPlanes=function(){return A};let j=null;function H(G,J){if(c=J.getViewerPose(u||o),v=J,c!==null){const re=c.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let te=!1;re.length!==P.cameras.length&&(P.cameras.length=0,te=!0);for(let Y=0;Y<re.length;Y++){const ce=re[Y];let fe=null;if(p!==null)fe=p.getViewport(ce);else{const Ae=f.getViewSubImage(d,ce);fe=Ae.viewport,Y===0&&(e.setRenderTargetTextures(_,Ae.colorTexture,d.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(_))}let Re=M[Y];Re===void 0&&(Re=new Hn,Re.layers.enable(Y),Re.viewport=new mn,M[Y]=Re),Re.matrix.fromArray(ce.transform.matrix),Re.projectionMatrix.fromArray(ce.projectionMatrix),Re.viewport.set(fe.x,fe.y,fe.width,fe.height),Y===0&&P.matrix.copy(Re.matrix),te===!0&&P.cameras.push(Re)}}for(let re=0;re<x.length;re++){const te=w[re],Y=x[re];te!==null&&Y!==void 0&&Y.update(te,J,u||o)}if(j&&j(G,J),J.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:J.detectedPlanes});let re=null;for(const te of A)J.detectedPlanes.has(te)||(re===null&&(re=[]),re.push(te));if(re!==null)for(const te of re)A.delete(te),b.delete(te),r.dispatchEvent({type:"planeremoved",data:te});for(const te of J.detectedPlanes)if(!A.has(te))A.add(te),b.set(te,J.lastChangedTime),r.dispatchEvent({type:"planeadded",data:te});else{const Y=b.get(te);te.lastChangedTime>Y&&(b.set(te,te.lastChangedTime),r.dispatchEvent({type:"planechanged",data:te}))}}v=null}const V=new Y5;V.setAnimationLoop(H),this.setAnimationLoop=function(G){j=G},this.dispose=function(){}}}function yZ(n,e){function t(g,y){y.color.getRGB(g.fogColor.value,J5(n)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,_,x,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(g,y):y.isMeshToonMaterial?(i(g,y),c(g,y)):y.isMeshPhongMaterial?(i(g,y),u(g,y)):y.isMeshStandardMaterial?(i(g,y),f(g,y),y.isMeshPhysicalMaterial&&d(g,y,w)):y.isMeshMatcapMaterial?(i(g,y),p(g,y)):y.isMeshDepthMaterial?i(g,y):y.isMeshDistanceMaterial?(i(g,y),v(g,y)):y.isMeshNormalMaterial?i(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,_,x):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===ns&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===ns&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.iridescenceMap?x=y.iridescenceMap:y.iridescenceThicknessMap?x=y.iridescenceThicknessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uv2Transform.value.copy(w.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,_,x){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*_,g.scale.value=x*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let _;y.map?_=y.map:y.alphaMap&&(_=y.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function u(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function c(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function f(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function d(g,y,_){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===ns&&g.clearcoatNormalScale.value.negate())),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function v(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function _Z(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(x,w){const A=w.program;r.uniformBlockBinding(x,A)}function u(x,w){let A=i[x.id];A===void 0&&(v(x),A=c(x),i[x.id]=A,x.addEventListener("dispose",y));const b=w.program;r.updateUBOMapping(x,b);const E=e.render.frame;s[x.id]!==E&&(d(x),s[x.id]=E)}function c(x){const w=f();x.__bindingPointIndex=w;const A=n.createBuffer(),b=x.__size,E=x.usage;return n.bindBuffer(35345,A),n.bufferData(35345,b,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(x){const w=i[x.id],A=x.uniforms,b=x.__cache;n.bindBuffer(35345,w);for(let E=0,T=A.length;E<T;E++){const M=A[E];if(p(M,E,b)===!0){const P=M.__offset,D=Array.isArray(M.value)?M.value:[M.value];let F=0;for(let O=0;O<D.length;O++){const U=D[O],N=g(U);typeof U=="number"?(M.__data[0]=U,n.bufferSubData(35345,P+F,M.__data)):U.isMatrix3?(M.__data[0]=U.elements[0],M.__data[1]=U.elements[1],M.__data[2]=U.elements[2],M.__data[3]=U.elements[0],M.__data[4]=U.elements[3],M.__data[5]=U.elements[4],M.__data[6]=U.elements[5],M.__data[7]=U.elements[0],M.__data[8]=U.elements[6],M.__data[9]=U.elements[7],M.__data[10]=U.elements[8],M.__data[11]=U.elements[0]):(U.toArray(M.__data,F),F+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,P,M.__data)}}n.bindBuffer(35345,null)}function p(x,w,A){const b=x.value;if(A[w]===void 0){if(typeof b=="number")A[w]=b;else{const E=Array.isArray(b)?b:[b],T=[];for(let M=0;M<E.length;M++)T.push(E[M].clone());A[w]=T}return!0}else if(typeof b=="number"){if(A[w]!==b)return A[w]=b,!0}else{const E=Array.isArray(A[w])?A[w]:[A[w]],T=Array.isArray(b)?b:[b];for(let M=0;M<E.length;M++){const P=E[M];if(P.equals(T[M])===!1)return P.copy(T[M]),!0}}return!1}function v(x){const w=x.uniforms;let A=0;const b=16;let E=0;for(let T=0,M=w.length;T<M;T++){const P=w[T],D={boundary:0,storage:0},F=Array.isArray(P.value)?P.value:[P.value];for(let O=0,U=F.length;O<U;O++){const N=F[O],$=g(N);D.boundary+=$.boundary,D.storage+=$.storage}if(P.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=A,T>0){E=A%b;const O=b-E;E!==0&&O-D.boundary<0&&(A+=b-E,P.__offset=A)}A+=D.storage}return E=A%b,E>0&&(A+=b-E),x.__size=A,x.__cache={},this}function g(x){const w={boundary:0,storage:0};return typeof x=="number"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}function y(x){const w=x.target;w.removeEventListener("dispose",y);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function _(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:u,dispose:_}}function xZ(){const n=Jg("canvas");return n.style.display="block",n}function iw(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:xZ(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const p=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Lu,this.physicallyCorrectLights=!1,this.toneMapping=No,this.toneMappingExposure=1;const g=this;let y=!1,_=0,x=0,w=null,A=-1,b=null;const E=new mn,T=new mn;let M=null,P=e.width,D=e.height,F=1,O=null,U=null;const N=new mn(0,0,P,D),$=new mn(0,0,P,D);let X=!1;const q=new ew;let z=!1,j=!1,H=null;const V=new Ft,G=new We,J=new Q,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return w===null?F:1}let Y=t;function ce(Z,Se){for(let we=0;we<Z.length;we++){const ge=Z[we],ze=e.getContext(ge,Se);if(ze!==null)return ze}return null}try{const Z={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${I0}`),e.addEventListener("webglcontextlost",Xe,!1),e.addEventListener("webglcontextrestored",je,!1),e.addEventListener("webglcontextcreationerror",oe,!1),Y===null){const Se=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Se.shift(),Y=ce(Se,Z),Y===null)throw ce(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let fe,Re,Ae,ye,le,de,Ie,Ve,Be,Ye,De,Ue,Qe,Ce,K,k,se,me,Oe,Me,Ke,Fe,Ee,tt;function at(){fe=new OY(Y),Re=new RY(Y,fe,n),fe.init(Re),Fe=new tz(Y,fe,Re),Ae=new pZ(Y,fe,Re),ye=new UY,le=new nZ,de=new mZ(Y,fe,Ae,le,Re,Fe,ye),Ie=new DY(g),Ve=new kY(g),Be=new JX(Y,Re),Ee=new TY(Y,fe,Be,Re),Ye=new FY(Y,Be,ye,Ee),De=new VY(Y,Ye,Be,ye),Oe=new HY(Y,Re,de),k=new IY(le),Ue=new tZ(g,Ie,Ve,fe,Re,Ee,k),Qe=new yZ(g,le),Ce=new iZ,K=new cZ(fe,Re),me=new CY(g,Ie,Ve,Ae,De,c,o),se=new hZ(g,De,Re),tt=new _Z(Y,ye,Re,Ae),Me=new PY(Y,fe,ye,Re),Ke=new NY(Y,fe,ye,Re),ye.programs=Ue.programs,g.capabilities=Re,g.extensions=fe,g.properties=le,g.renderLists=Ce,g.shadowMap=se,g.state=Ae,g.info=ye}at();const Je=new vZ(g,Y);this.xr=Je,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const Z=fe.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=fe.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(Z){Z!==void 0&&(F=Z,this.setSize(P,D,!1))},this.getSize=function(Z){return Z.set(P,D)},this.setSize=function(Z,Se,we){if(Je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=Z,D=Se,e.width=Math.floor(Z*F),e.height=Math.floor(Se*F),we!==!1&&(e.style.width=Z+"px",e.style.height=Se+"px"),this.setViewport(0,0,Z,Se)},this.getDrawingBufferSize=function(Z){return Z.set(P*F,D*F).floor()},this.setDrawingBufferSize=function(Z,Se,we){P=Z,D=Se,F=we,e.width=Math.floor(Z*we),e.height=Math.floor(Se*we),this.setViewport(0,0,Z,Se)},this.getCurrentViewport=function(Z){return Z.copy(E)},this.getViewport=function(Z){return Z.copy(N)},this.setViewport=function(Z,Se,we,ge){Z.isVector4?N.set(Z.x,Z.y,Z.z,Z.w):N.set(Z,Se,we,ge),Ae.viewport(E.copy(N).multiplyScalar(F).floor())},this.getScissor=function(Z){return Z.copy($)},this.setScissor=function(Z,Se,we,ge){Z.isVector4?$.set(Z.x,Z.y,Z.z,Z.w):$.set(Z,Se,we,ge),Ae.scissor(T.copy($).multiplyScalar(F).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(Z){Ae.setScissorTest(X=Z)},this.setOpaqueSort=function(Z){O=Z},this.setTransparentSort=function(Z){U=Z},this.getClearColor=function(Z){return Z.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(Z=!0,Se=!0,we=!0){let ge=0;Z&&(ge|=16384),Se&&(ge|=256),we&&(ge|=1024),Y.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Xe,!1),e.removeEventListener("webglcontextrestored",je,!1),e.removeEventListener("webglcontextcreationerror",oe,!1),Ce.dispose(),K.dispose(),le.dispose(),Ie.dispose(),Ve.dispose(),De.dispose(),Ee.dispose(),tt.dispose(),Ue.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",st),Je.removeEventListener("sessionend",it),H&&(H.dispose(),H=null),dt.stop()};function Xe(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const Z=ye.autoReset,Se=se.enabled,we=se.autoUpdate,ge=se.needsUpdate,ze=se.type;at(),ye.autoReset=Z,se.enabled=Se,se.autoUpdate=we,se.needsUpdate=ge,se.type=ze}function oe(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function Pe(Z){const Se=Z.target;Se.removeEventListener("dispose",Pe),Ze(Se)}function Ze(Z){ae(Z),le.remove(Z)}function ae(Z){const Se=le.get(Z).programs;Se!==void 0&&(Se.forEach(function(we){Ue.releaseProgram(we)}),Z.isShaderMaterial&&Ue.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,Se,we,ge,ze,L){Se===null&&(Se=re);const W=ze.isMesh&&ze.matrixWorld.determinant()<0,ie=qr(Z,Se,we,ge,ze);Ae.setMaterial(ge,W);let he=we.index,_e=1;ge.wireframe===!0&&(he=Ye.getWireframeAttribute(we),_e=2);const xe=we.drawRange,He=we.attributes.position;let $e=xe.start*_e,qe=(xe.start+xe.count)*_e;L!==null&&($e=Math.max($e,L.start*_e),qe=Math.min(qe,(L.start+L.count)*_e)),he!==null?($e=Math.max($e,0),qe=Math.min(qe,he.count)):He!=null&&($e=Math.max($e,0),qe=Math.min(qe,He.count));const et=qe-$e;if(et<0||et===1/0)return;Ee.setup(ze,ge,ie,we,he);let nt,be=Me;if(he!==null&&(nt=Be.get(he),be=Ke,be.setIndex(nt)),ze.isMesh)ge.wireframe===!0?(Ae.setLineWidth(ge.wireframeLinewidth*te()),be.setMode(1)):be.setMode(4);else if(ze.isLine){let mt=ge.linewidth;mt===void 0&&(mt=1),Ae.setLineWidth(mt*te()),ze.isLineSegments?be.setMode(1):ze.isLineLoop?be.setMode(2):be.setMode(3)}else ze.isPoints?be.setMode(0):ze.isSprite&&be.setMode(4);if(ze.isInstancedMesh)be.renderInstances($e,et,ze.count);else if(we.isInstancedBufferGeometry){const mt=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,gt=Math.min(we.instanceCount,mt);be.renderInstances($e,et,gt)}else be.render($e,et)},this.compile=function(Z,Se){function we(ge,ze,L){ge.transparent===!0&&ge.side===bs&&ge.forceSinglePass===!1?(ge.side=ns,ge.needsUpdate=!0,Qt(ge,ze,L),ge.side=Ma,ge.needsUpdate=!0,Qt(ge,ze,L),ge.side=bs):Qt(ge,ze,L)}d=K.get(Z),d.init(),v.push(d),Z.traverseVisible(function(ge){ge.isLight&&ge.layers.test(Se.layers)&&(d.pushLight(ge),ge.castShadow&&d.pushShadow(ge))}),d.setupLights(g.physicallyCorrectLights),Z.traverse(function(ge){const ze=ge.material;if(ze)if(Array.isArray(ze))for(let L=0;L<ze.length;L++){const W=ze[L];we(W,Z,ge)}else we(ze,Z,ge)}),v.pop(),d=null};let ne=null;function Le(Z){ne&&ne(Z)}function st(){dt.stop()}function it(){dt.start()}const dt=new Y5;dt.setAnimationLoop(Le),typeof self<"u"&&dt.setContext(self),this.setAnimationLoop=function(Z){ne=Z,Je.setAnimationLoop(Z),Z===null?dt.stop():dt.start()},Je.addEventListener("sessionstart",st),Je.addEventListener("sessionend",it),this.render=function(Z,Se){if(Se!==void 0&&Se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),Se.parent===null&&Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(Se),Se=Je.getCamera()),Z.isScene===!0&&Z.onBeforeRender(g,Z,Se,w),d=K.get(Z,v.length),d.init(),v.push(d),V.multiplyMatrices(Se.projectionMatrix,Se.matrixWorldInverse),q.setFromProjectionMatrix(V),j=this.localClippingEnabled,z=k.init(this.clippingPlanes,j),f=Ce.get(Z,p.length),f.init(),p.push(f),Tt(Z,Se,0,g.sortObjects),f.finish(),g.sortObjects===!0&&f.sort(O,U),z===!0&&k.beginShadows();const we=d.state.shadowsArray;if(se.render(we,Z,Se),z===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),me.render(f,Z),d.setupLights(g.physicallyCorrectLights),Se.isArrayCamera){const ge=Se.cameras;for(let ze=0,L=ge.length;ze<L;ze++){const W=ge[ze];Ct(f,Z,W,W.viewport)}}else Ct(f,Z,Se);w!==null&&(de.updateMultisampleRenderTarget(w),de.updateRenderTargetMipmap(w)),Z.isScene===!0&&Z.onAfterRender(g,Z,Se),Ee.resetDefaultState(),A=-1,b=null,v.pop(),v.length>0?d=v[v.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function Tt(Z,Se,we,ge){if(Z.visible===!1)return;if(Z.layers.test(Se.layers)){if(Z.isGroup)we=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(Se);else if(Z.isLight)d.pushLight(Z),Z.castShadow&&d.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||q.intersectsSprite(Z)){ge&&J.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(V);const W=De.update(Z),ie=Z.material;ie.visible&&f.push(Z,W,ie,we,J.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==ye.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=ye.render.frame),!Z.frustumCulled||q.intersectsObject(Z))){ge&&J.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(V);const W=De.update(Z),ie=Z.material;if(Array.isArray(ie)){const he=W.groups;for(let _e=0,xe=he.length;_e<xe;_e++){const He=he[_e],$e=ie[He.materialIndex];$e&&$e.visible&&f.push(Z,W,$e,we,J.z,He)}}else ie.visible&&f.push(Z,W,ie,we,J.z,null)}}const L=Z.children;for(let W=0,ie=L.length;W<ie;W++)Tt(L[W],Se,we,ge)}function Ct(Z,Se,we,ge){const ze=Z.opaque,L=Z.transmissive,W=Z.transparent;d.setupLightsView(we),z===!0&&k.setGlobalState(g.clippingPlanes,we),L.length>0&&St(ze,Se,we),ge&&Ae.viewport(E.copy(ge)),ze.length>0&&At(ze,Se,we),L.length>0&&At(L,Se,we),W.length>0&&At(W,Se,we),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function St(Z,Se,we){const ge=Re.isWebGL2;H===null&&(H=new Ds(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")?Jr:go,minFilter:Ea,samples:ge&&s===!0?4:0})),g.getDrawingBufferSize(G),ge?H.setSize(G.x,G.y):H.setSize(j_(G.x),j_(G.y));const ze=g.getRenderTarget();g.setRenderTarget(H),g.clear();const L=g.toneMapping;g.toneMapping=No,At(Z,Se,we),g.toneMapping=L,de.updateMultisampleRenderTarget(H),de.updateRenderTargetMipmap(H),g.setRenderTarget(ze)}function At(Z,Se,we){const ge=Se.isScene===!0?Se.overrideMaterial:null;for(let ze=0,L=Z.length;ze<L;ze++){const W=Z[ze],ie=W.object,he=W.geometry,_e=ge===null?W.material:ge,xe=W.group;ie.layers.test(we.layers)&&tn(ie,Se,we,he,_e,xe)}}function tn(Z,Se,we,ge,ze,L){Z.onBeforeRender(g,Se,we,ge,ze,L),Z.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),ze.onBeforeRender(g,Se,we,ge,Z,L),ze.transparent===!0&&ze.side===bs&&ze.forceSinglePass===!1?(ze.side=ns,ze.needsUpdate=!0,g.renderBufferDirect(we,Se,ge,ze,Z,L),ze.side=Ma,ze.needsUpdate=!0,g.renderBufferDirect(we,Se,ge,ze,Z,L),ze.side=bs):g.renderBufferDirect(we,Se,ge,ze,Z,L),Z.onAfterRender(g,Se,we,ge,ze,L)}function Qt(Z,Se,we){Se.isScene!==!0&&(Se=re);const ge=le.get(Z),ze=d.state.lights,L=d.state.shadowsArray,W=ze.state.version,ie=Ue.getParameters(Z,ze.state,L,Se,we),he=Ue.getProgramCacheKey(ie);let _e=ge.programs;ge.environment=Z.isMeshStandardMaterial?Se.environment:null,ge.fog=Se.fog,ge.envMap=(Z.isMeshStandardMaterial?Ve:Ie).get(Z.envMap||ge.environment),_e===void 0&&(Z.addEventListener("dispose",Pe),_e=new Map,ge.programs=_e);let xe=_e.get(he);if(xe!==void 0){if(ge.currentProgram===xe&&ge.lightsStateVersion===W)return bn(Z,ie),xe}else ie.uniforms=Ue.getUniforms(Z),Z.onBuild(we,ie,g),Z.onBeforeCompile(ie,g),xe=Ue.acquireProgram(ie,he),_e.set(he,xe),ge.uniforms=ie.uniforms;const He=ge.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(He.clippingPlanes=k.uniform),bn(Z,ie),ge.needsLights=ei(Z),ge.lightsStateVersion=W,ge.needsLights&&(He.ambientLightColor.value=ze.state.ambient,He.lightProbe.value=ze.state.probe,He.directionalLights.value=ze.state.directional,He.directionalLightShadows.value=ze.state.directionalShadow,He.spotLights.value=ze.state.spot,He.spotLightShadows.value=ze.state.spotShadow,He.rectAreaLights.value=ze.state.rectArea,He.ltc_1.value=ze.state.rectAreaLTC1,He.ltc_2.value=ze.state.rectAreaLTC2,He.pointLights.value=ze.state.point,He.pointLightShadows.value=ze.state.pointShadow,He.hemisphereLights.value=ze.state.hemi,He.directionalShadowMap.value=ze.state.directionalShadowMap,He.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,He.spotShadowMap.value=ze.state.spotShadowMap,He.spotLightMatrix.value=ze.state.spotLightMatrix,He.spotLightMap.value=ze.state.spotLightMap,He.pointShadowMap.value=ze.state.pointShadowMap,He.pointShadowMatrix.value=ze.state.pointShadowMatrix);const $e=xe.getUniforms(),qe=q1.seqWithValue($e.seq,He);return ge.currentProgram=xe,ge.uniformsList=qe,xe}function bn(Z,Se){const we=le.get(Z);we.outputEncoding=Se.outputEncoding,we.instancing=Se.instancing,we.skinning=Se.skinning,we.morphTargets=Se.morphTargets,we.morphNormals=Se.morphNormals,we.morphColors=Se.morphColors,we.morphTargetsCount=Se.morphTargetsCount,we.numClippingPlanes=Se.numClippingPlanes,we.numIntersection=Se.numClipIntersection,we.vertexAlphas=Se.vertexAlphas,we.vertexTangents=Se.vertexTangents,we.toneMapping=Se.toneMapping}function qr(Z,Se,we,ge,ze){Se.isScene!==!0&&(Se=re),de.resetTextureUnits();const L=Se.fog,W=ge.isMeshStandardMaterial?Se.environment:null,ie=w===null?g.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:Lu,he=(ge.isMeshStandardMaterial?Ve:Ie).get(ge.envMap||W),_e=ge.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,xe=!!ge.normalMap&&!!we.attributes.tangent,He=!!we.morphAttributes.position,$e=!!we.morphAttributes.normal,qe=!!we.morphAttributes.color,et=ge.toneMapped?g.toneMapping:No,nt=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,be=nt!==void 0?nt.length:0,mt=le.get(ge),gt=d.state.lights;if(z===!0&&(j===!0||Z!==b)){const Gt=Z===b&&ge.id===A;k.setState(ge,Z,Gt)}let lt=!1;ge.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==gt.state.version||mt.outputEncoding!==ie||ze.isInstancedMesh&&mt.instancing===!1||!ze.isInstancedMesh&&mt.instancing===!0||ze.isSkinnedMesh&&mt.skinning===!1||!ze.isSkinnedMesh&&mt.skinning===!0||mt.envMap!==he||ge.fog===!0&&mt.fog!==L||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==k.numPlanes||mt.numIntersection!==k.numIntersection)||mt.vertexAlphas!==_e||mt.vertexTangents!==xe||mt.morphTargets!==He||mt.morphNormals!==$e||mt.morphColors!==qe||mt.toneMapping!==et||Re.isWebGL2===!0&&mt.morphTargetsCount!==be)&&(lt=!0):(lt=!0,mt.__version=ge.version);let Mt=mt.currentProgram;lt===!0&&(Mt=Qt(ge,Se,ze));let kt=!1,Nt=!1,Ut=!1;const vt=Mt.getUniforms(),Pt=mt.uniforms;if(Ae.useProgram(Mt.program)&&(kt=!0,Nt=!0,Ut=!0),ge.id!==A&&(A=ge.id,Nt=!0),kt||b!==Z){if(vt.setValue(Y,"projectionMatrix",Z.projectionMatrix),Re.logarithmicDepthBuffer&&vt.setValue(Y,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),b!==Z&&(b=Z,Nt=!0,Ut=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){const Gt=vt.map.cameraPosition;Gt!==void 0&&Gt.setValue(Y,J.setFromMatrixPosition(Z.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&vt.setValue(Y,"isOrthographic",Z.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||ze.isSkinnedMesh)&&vt.setValue(Y,"viewMatrix",Z.matrixWorldInverse)}if(ze.isSkinnedMesh){vt.setOptional(Y,ze,"bindMatrix"),vt.setOptional(Y,ze,"bindMatrixInverse");const Gt=ze.skeleton;Gt&&(Re.floatVertexTextures?(Gt.boneTexture===null&&Gt.computeBoneTexture(),vt.setValue(Y,"boneTexture",Gt.boneTexture,de),vt.setValue(Y,"boneTextureSize",Gt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zt=we.morphAttributes;if((zt.position!==void 0||zt.normal!==void 0||zt.color!==void 0&&Re.isWebGL2===!0)&&Oe.update(ze,we,ge,Mt),(Nt||mt.receiveShadow!==ze.receiveShadow)&&(mt.receiveShadow=ze.receiveShadow,vt.setValue(Y,"receiveShadow",ze.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(Pt.envMap.value=he,Pt.flipEnvMap.value=he.isCubeTexture&&he.isRenderTargetTexture===!1?-1:1),Nt&&(vt.setValue(Y,"toneMappingExposure",g.toneMappingExposure),mt.needsLights&&Fr(Pt,Ut),L&&ge.fog===!0&&Qe.refreshFogUniforms(Pt,L),Qe.refreshMaterialUniforms(Pt,ge,F,D,H),q1.upload(Y,mt.uniformsList,Pt,de)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(q1.upload(Y,mt.uniformsList,Pt,de),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&vt.setValue(Y,"center",ze.center),vt.setValue(Y,"modelViewMatrix",ze.modelViewMatrix),vt.setValue(Y,"normalMatrix",ze.normalMatrix),vt.setValue(Y,"modelMatrix",ze.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const Gt=ge.uniformsGroups;for(let Ot=0,pn=Gt.length;Ot<pn;Ot++)if(Re.isWebGL2){const Rn=Gt[Ot];tt.update(Rn,Mt),tt.bind(Rn,Mt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Mt}function Fr(Z,Se){Z.ambientLightColor.needsUpdate=Se,Z.lightProbe.needsUpdate=Se,Z.directionalLights.needsUpdate=Se,Z.directionalLightShadows.needsUpdate=Se,Z.pointLights.needsUpdate=Se,Z.pointLightShadows.needsUpdate=Se,Z.spotLights.needsUpdate=Se,Z.spotLightShadows.needsUpdate=Se,Z.rectAreaLights.needsUpdate=Se,Z.hemisphereLights.needsUpdate=Se}function ei(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(Z,Se,we){le.get(Z.texture).__webglTexture=Se,le.get(Z.depthTexture).__webglTexture=we;const ge=le.get(Z);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=we===void 0,ge.__autoAllocateDepthBuffer||fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,Se){const we=le.get(Z);we.__webglFramebuffer=Se,we.__useDefaultFramebuffer=Se===void 0},this.setRenderTarget=function(Z,Se=0,we=0){w=Z,_=Se,x=we;let ge=!0,ze=null,L=!1,W=!1;if(Z){const he=le.get(Z);he.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer(36160,null),ge=!1):he.__webglFramebuffer===void 0?de.setupRenderTarget(Z):he.__hasExternalTextures&&de.rebindTextures(Z,le.get(Z.texture).__webglTexture,le.get(Z.depthTexture).__webglTexture);const _e=Z.texture;(_e.isData3DTexture||_e.isDataArrayTexture||_e.isCompressedArrayTexture)&&(W=!0);const xe=le.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(ze=xe[Se],L=!0):Re.isWebGL2&&Z.samples>0&&de.useMultisampledRTT(Z)===!1?ze=le.get(Z).__webglMultisampledFramebuffer:ze=xe,E.copy(Z.viewport),T.copy(Z.scissor),M=Z.scissorTest}else E.copy(N).multiplyScalar(F).floor(),T.copy($).multiplyScalar(F).floor(),M=X;if(Ae.bindFramebuffer(36160,ze)&&Re.drawBuffers&&ge&&Ae.drawBuffers(Z,ze),Ae.viewport(E),Ae.scissor(T),Ae.setScissorTest(M),L){const he=le.get(Z.texture);Y.framebufferTexture2D(36160,36064,34069+Se,he.__webglTexture,we)}else if(W){const he=le.get(Z.texture),_e=Se||0;Y.framebufferTextureLayer(36160,36064,he.__webglTexture,we||0,_e)}A=-1},this.readRenderTargetPixels=function(Z,Se,we,ge,ze,L,W){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ie=le.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&W!==void 0&&(ie=ie[W]),ie){Ae.bindFramebuffer(36160,ie);try{const he=Z.texture,_e=he.format,xe=he.type;if(_e!==Dr&&Fe.convert(_e)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const He=xe===Jr&&(fe.has("EXT_color_buffer_half_float")||Re.isWebGL2&&fe.has("EXT_color_buffer_float"));if(xe!==go&&Fe.convert(xe)!==Y.getParameter(35738)&&!(xe===Xr&&(Re.isWebGL2||fe.has("OES_texture_float")||fe.has("WEBGL_color_buffer_float")))&&!He){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Se>=0&&Se<=Z.width-ge&&we>=0&&we<=Z.height-ze&&Y.readPixels(Se,we,ge,ze,Fe.convert(_e),Fe.convert(xe),L)}finally{const he=w!==null?le.get(w).__webglFramebuffer:null;Ae.bindFramebuffer(36160,he)}}},this.copyFramebufferToTexture=function(Z,Se,we=0){const ge=Math.pow(2,-we),ze=Math.floor(Se.image.width*ge),L=Math.floor(Se.image.height*ge);de.setTexture2D(Se,0),Y.copyTexSubImage2D(3553,we,0,0,Z.x,Z.y,ze,L),Ae.unbindTexture()},this.copyTextureToTexture=function(Z,Se,we,ge=0){const ze=Se.image.width,L=Se.image.height,W=Fe.convert(we.format),ie=Fe.convert(we.type);de.setTexture2D(we,0),Y.pixelStorei(37440,we.flipY),Y.pixelStorei(37441,we.premultiplyAlpha),Y.pixelStorei(3317,we.unpackAlignment),Se.isDataTexture?Y.texSubImage2D(3553,ge,Z.x,Z.y,ze,L,W,ie,Se.image.data):Se.isCompressedTexture?Y.compressedTexSubImage2D(3553,ge,Z.x,Z.y,Se.mipmaps[0].width,Se.mipmaps[0].height,W,Se.mipmaps[0].data):Y.texSubImage2D(3553,ge,Z.x,Z.y,W,ie,Se.image),ge===0&&we.generateMipmaps&&Y.generateMipmap(3553),Ae.unbindTexture()},this.copyTextureToTexture3D=function(Z,Se,we,ge,ze=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const L=Z.max.x-Z.min.x+1,W=Z.max.y-Z.min.y+1,ie=Z.max.z-Z.min.z+1,he=Fe.convert(ge.format),_e=Fe.convert(ge.type);let xe;if(ge.isData3DTexture)de.setTexture3D(ge,0),xe=32879;else if(ge.isDataArrayTexture)de.setTexture2DArray(ge,0),xe=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,ge.flipY),Y.pixelStorei(37441,ge.premultiplyAlpha),Y.pixelStorei(3317,ge.unpackAlignment);const He=Y.getParameter(3314),$e=Y.getParameter(32878),qe=Y.getParameter(3316),et=Y.getParameter(3315),nt=Y.getParameter(32877),be=we.isCompressedTexture?we.mipmaps[0]:we.image;Y.pixelStorei(3314,be.width),Y.pixelStorei(32878,be.height),Y.pixelStorei(3316,Z.min.x),Y.pixelStorei(3315,Z.min.y),Y.pixelStorei(32877,Z.min.z),we.isDataTexture||we.isData3DTexture?Y.texSubImage3D(xe,ze,Se.x,Se.y,Se.z,L,W,ie,he,_e,be.data):we.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(xe,ze,Se.x,Se.y,Se.z,L,W,ie,he,be.data)):Y.texSubImage3D(xe,ze,Se.x,Se.y,Se.z,L,W,ie,he,_e,be),Y.pixelStorei(3314,He),Y.pixelStorei(32878,$e),Y.pixelStorei(3316,qe),Y.pixelStorei(3315,et),Y.pixelStorei(32877,nt),ze===0&&ge.generateMipmaps&&Y.generateMipmap(xe),Ae.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?de.setTextureCube(Z,0):Z.isData3DTexture?de.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?de.setTexture2DArray(Z,0):de.setTexture2D(Z,0),Ae.unbindTexture()},this.resetState=function(){_=0,x=0,w=null,Ae.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class iz extends iw{}iz.prototype.isWebGL1Renderer=!0;class sw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ft(e),this.density=t}clone(){return new sw(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ow{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ft(e),this.near=t,this.far=r}clone(){return new ow(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class O0 extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class F0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=$g,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Bi=new Q;class ku{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.applyMatrix4(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.applyNormalMatrix(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.transformDirection(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=cl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=cl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=cl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=cl(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),r=An(r,this.array),i=An(i,this.array),s=An(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new ln(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ku(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class R2 extends Lr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Md;const mm=new Q,Ed=new Q,Cd=new Q,Td=new We,gm=new We,sz=new Ft,zy=new Q,vm=new Q,Gy=new Q,SB=new We,UA=new We,AB=new We;class oz extends en{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Md===void 0){Md=new Xt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new F0(t,5);Md.setIndex([0,1,2,0,2,3]),Md.setAttribute("position",new ku(r,3,0,!1)),Md.setAttribute("uv",new ku(r,2,3,!1))}this.geometry=Md,this.material=e!==void 0?e:new R2,this.center=new We(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ed.setFromMatrixScale(this.matrixWorld),sz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ed.multiplyScalar(-Cd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Hy(zy.set(-.5,-.5,0),Cd,o,Ed,i,s),Hy(vm.set(.5,-.5,0),Cd,o,Ed,i,s),Hy(Gy.set(.5,.5,0),Cd,o,Ed,i,s),SB.set(0,0),UA.set(1,0),AB.set(1,1);let a=e.ray.intersectTriangle(zy,vm,Gy,!1,mm);if(a===null&&(Hy(vm.set(-.5,.5,0),Cd,o,Ed,i,s),UA.set(0,1),a=e.ray.intersectTriangle(zy,Gy,vm,!1,mm),a===null))return;const l=e.ray.origin.distanceTo(mm);l<e.near||l>e.far||t.push({distance:l,point:mm.clone(),uv:io.getUV(mm,zy,vm,Gy,SB,UA,AB,new We),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hy(n,e,t,r,i,s){Td.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(gm.x=s*Td.x-i*Td.y,gm.y=i*Td.x+s*Td.y):gm.copy(Td),n.copy(e),n.x+=gm.x,n.y+=gm.y,n.applyMatrix4(sz)}const Vy=new Q,bB=new Q;class az extends en{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Vy);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vy.setFromMatrixPosition(e.matrixWorld),bB.setFromMatrixPosition(this.matrixWorld);const r=Vy.distanceTo(bB)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const MB=new Q,EB=new mn,CB=new mn,wZ=new Q,TB=new Ft;class I2 extends Wn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;EB.fromBufferAttribute(i.attributes.skinIndex,e),CB.fromBufferAttribute(i.attributes.skinWeight,e),MB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=CB.getComponent(s);if(o!==0){const a=EB.getComponent(s);TB.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(wZ.copy(MB).applyMatrix4(TB),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class aw extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ff extends hn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=lr,c=lr,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const PB=new Ft,SZ=new Ft;class N0{constructor(e=[],t=[]){this.uuid=Cs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ft)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ft;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:SZ;PB.multiplyMatrices(a,t[s]),PB.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new N0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=j5(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new ff(t,e,e,Dr,Xr);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new aw),this.bones.push(o),this.boneInverses.push(new Ft().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Ou extends ln{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const RB=new Ft,IB=new Ft,Wy=[],AZ=new Ft,ym=new Wn;class D2 extends Wn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ou(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,AZ)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(ym.geometry=this.geometry,ym.material=this.material,ym.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,RB),IB.multiplyMatrices(r,RB),ym.matrixWorld=IB,ym.raycast(e,Wy);for(let o=0,a=Wy.length;o<a;o++){const l=Wy[o];l.instanceId=s,l.object=this,t.push(l)}Wy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ou(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Mi extends Lr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ft(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DB=new Q,BB=new Q,LB=new Ft,zA=new cp,jy=new Ra;class Al extends en{constructor(e=new Xt,t=new Mi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)DB.fromBufferAttribute(t,i-1),BB.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=DB.distanceTo(BB);e.setAttribute("lineDistance",new wt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jy.copy(r.boundingSphere),jy.applyMatrix4(i),jy.radius+=s,e.ray.intersectsSphere(jy)===!1)return;LB.copy(i).invert(),zA.copy(e.ray).applyMatrix4(LB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new Q,c=new Q,f=new Q,d=new Q,p=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const _=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let w=_,A=x-1;w<A;w+=p){const b=v.getX(w),E=v.getX(w+1);if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,E),zA.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||t.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let w=_,A=x-1;w<A;w+=p){if(u.fromBufferAttribute(y,w),c.fromBufferAttribute(y,w+1),zA.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const kB=new Q,OB=new Q;class Yo extends Al{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)kB.fromBufferAttribute(t,i),OB.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+kB.distanceTo(OB);e.setAttribute("lineDistance",new wt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class B2 extends Al{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class lw extends Lr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const FB=new Ft,PE=new cp,$y=new Ra,Xy=new Q;class L2 extends en{constructor(e=new Xt,t=new lw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$y.copy(r.boundingSphere),$y.applyMatrix4(i),$y.radius+=s,e.ray.intersectsSphere($y)===!1)return;FB.copy(i).invert(),PE.copy(e.ray).applyMatrix4(FB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let v=d,g=p;v<g;v++){const y=u.getX(v);Xy.fromBufferAttribute(f,y),NB(Xy,y,l,i,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let v=d,g=p;v<g;v++)Xy.fromBufferAttribute(f,v),NB(Xy,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function NB(n,e,t,r,i,s,o){const a=PE.distanceSqToPoint(n);if(a<t){const l=new Q;PE.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class bZ extends hn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:rn,this.magFilter=s!==void 0?s:rn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class MZ extends hn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=lr,this.minFilter=lr,this.generateMipmaps=!1,this.needsUpdate=!0}}class k2 extends hn{constructor(e,t,r,i,s,o,a,l,u,c,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class EZ extends k2{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Bn}}class CZ extends hn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Qo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,p=(o-c)/d;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new We:new Q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Q,i=[],s=[],o=[],a=new Q,l=new Ft;for(let p=0;p<=e;p++){const v=p/e;i[p]=this.getTangentAt(v,new Q)}s[0]=new Q,o[0]=new Q;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(_r(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,v))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(_r(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],p*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class uw extends Qo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new We,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=u-this.aY;l=d*c-p*f+this.aX,u=d*f+p*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lz extends uw{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function O2(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let d=(o-s)/u-(a-s)/(u+c)+(a-o)/c,p=(a-o)/c-(l-o)/(c+f)+(l-a)/f;d*=c,p*=c,i(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Jy=new Q,GA=new O2,HA=new O2,VA=new O2;class uz extends Qo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Q){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(Jy.subVectors(i[0],i[1]).add(i[0]),u=Jy);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(Jy.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=Jy),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),p),g=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(c),p);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),GA.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,v,g,y),HA.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,v,g,y),VA.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,v,g,y)}else this.curveType==="catmullrom"&&(GA.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),HA.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),VA.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(GA.calc(l),HA.calc(l),VA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function UB(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function TZ(n,e){const t=1-n;return t*t*e}function PZ(n,e){return 2*(1-n)*n*e}function RZ(n,e){return n*n*e}function ag(n,e,t,r){return TZ(n,e)+PZ(n,t)+RZ(n,r)}function IZ(n,e){const t=1-n;return t*t*t*e}function DZ(n,e){const t=1-n;return 3*t*t*n*e}function BZ(n,e){return 3*(1-n)*n*n*e}function LZ(n,e){return n*n*n*e}function lg(n,e,t,r,i){return IZ(n,e)+DZ(n,t)+BZ(n,r)+LZ(n,i)}class F2 extends Qo{constructor(e=new We,t=new We,r=new We,i=new We){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new We){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(lg(e,i.x,s.x,o.x,a.x),lg(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cz extends Qo{constructor(e=new Q,t=new Q,r=new Q,i=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Q){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(lg(e,i.x,s.x,o.x,a.x),lg(e,i.y,s.y,o.y,a.y),lg(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cw extends Qo{constructor(e=new We,t=new We){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new We){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new We;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fz extends Qo{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N2 extends Qo{constructor(e=new We,t=new We,r=new We){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new We){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ag(e,i.x,s.x,o.x),ag(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U2 extends Qo{constructor(e=new Q,t=new Q,r=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Q){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ag(e,i.x,s.x,o.x),ag(e,i.y,s.y,o.y),ag(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z2 extends Qo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new We){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(UB(a,l.x,u.x,c.x,f.x),UB(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new We().fromArray(i))}return this}}var G2=Object.freeze({__proto__:null,ArcCurve:lz,CatmullRomCurve3:uz,CubicBezierCurve:F2,CubicBezierCurve3:cz,EllipseCurve:uw,LineCurve:cw,LineCurve3:fz,QuadraticBezierCurve:N2,QuadraticBezierCurve3:U2,SplineCurve:z2});class dz extends Qo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new cw(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new G2[i.type]().fromJSON(i))}return this}}class Kg extends dz{constructor(e){super(),this.type="Path",this.currentPoint=new We,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new cw(this.currentPoint.clone(),new We(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new N2(this.currentPoint.clone(),new We(e,t),new We(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new F2(this.currentPoint.clone(),new We(e,t),new We(r,i),new We(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new z2(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new uw(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class dp extends Xt{constructor(e=[new We(0,-.5),new We(.5,0),new We(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=_r(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,f=new Q,d=new We,p=new Q,v=new Q,g=new Q;let y=0,_=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,p.x=_*1,p.y=-y,p.z=_*0,g.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[x+1].x-e[x].x,_=e[x+1].y-e[x].y,p.x=_*1,p.y=-y,p.z=_*0,v.copy(p),p.x+=g.x,p.y+=g.y,p.z+=g.z,p.normalize(),l.push(p.x,p.y,p.z),g.copy(v)}for(let x=0;x<=t;x++){const w=r+x*c*i,A=Math.sin(w),b=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*b,o.push(f.x,f.y,f.z),d.x=x/t,d.y=E/(e.length-1),a.push(d.x,d.y);const T=l[3*E+0]*A,M=l[3*E+1],P=l[3*E+0]*b;u.push(T,M,P)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){const A=w+x*e.length,b=A,E=A+e.length,T=A+e.length+1,M=A+1;s.push(b,E,M),s.push(T,M,E)}this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("uv",new wt(a,2)),this.setAttribute("normal",new wt(u,3))}static fromJSON(e){return new dp(e.points,e.segments,e.phiStart,e.phiLength)}}class U0 extends dp{constructor(e=1,t=1,r=4,i=8){const s=new Kg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new U0(e.radius,e.length,e.capSegments,e.radialSegments)}}class z0 extends Xt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new Q,c=new We;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=r+f/t*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("normal",new wt(a,3)),this.setAttribute("uv",new wt(l,2))}static fromJSON(e){return new z0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hf extends Xt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],d=[],p=[];let v=0;const g=[],y=r/2;let _=0;x(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new wt(f,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2));function x(){const A=new Q,b=new Q;let E=0;const T=(t-e)/r;for(let M=0;M<=s;M++){const P=[],D=M/s,F=D*(t-e)+e;for(let O=0;O<=i;O++){const U=O/i,N=U*l+a,$=Math.sin(N),X=Math.cos(N);b.x=F*$,b.y=-D*r+y,b.z=F*X,f.push(b.x,b.y,b.z),A.set($,T,X).normalize(),d.push(A.x,A.y,A.z),p.push(U,1-D),P.push(v++)}g.push(P)}for(let M=0;M<i;M++)for(let P=0;P<s;P++){const D=g[P][M],F=g[P+1][M],O=g[P+1][M+1],U=g[P][M+1];c.push(D,F,U),c.push(F,O,U),E+=6}u.addGroup(_,E,0),_+=E}function w(A){const b=v,E=new We,T=new Q;let M=0;const P=A===!0?e:t,D=A===!0?1:-1;for(let O=1;O<=i;O++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),v++;const F=v;for(let O=0;O<=i;O++){const N=O/i*l+a,$=Math.cos(N),X=Math.sin(N);T.x=P*X,T.y=y*D,T.z=P*$,f.push(T.x,T.y,T.z),d.push(0,D,0),E.x=$*.5+.5,E.y=X*.5*D+.5,p.push(E.x,E.y),v++}for(let O=0;O<i;O++){const U=b+O,N=F+O;A===!0?c.push(N,N+1,U):c.push(N+1,N,U),M+=3}u.addGroup(_,M,A===!0?1:2),_+=M}}static fromJSON(e){return new Hf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class G0 extends Hf{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new G0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ll extends Xt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new wt(s,3)),this.setAttribute("normal",new wt(s.slice(),3)),this.setAttribute("uv",new wt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const w=new Q,A=new Q,b=new Q;for(let E=0;E<t.length;E+=3)p(t[E+0],w),p(t[E+1],A),p(t[E+2],b),l(w,A,b,x)}function l(x,w,A,b){const E=b+1,T=[];for(let M=0;M<=E;M++){T[M]=[];const P=x.clone().lerp(A,M/E),D=w.clone().lerp(A,M/E),F=E-M;for(let O=0;O<=F;O++)O===0&&M===E?T[M][O]=P:T[M][O]=P.clone().lerp(D,O/F)}for(let M=0;M<E;M++)for(let P=0;P<2*(E-M)-1;P++){const D=Math.floor(P/2);P%2===0?(d(T[M][D+1]),d(T[M+1][D]),d(T[M][D])):(d(T[M][D+1]),d(T[M+1][D+1]),d(T[M+1][D]))}}function u(x){const w=new Q;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(x),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function c(){const x=new Q;for(let w=0;w<s.length;w+=3){x.x=s[w+0],x.y=s[w+1],x.z=s[w+2];const A=y(x)/2/Math.PI+.5,b=_(x)/Math.PI+.5;o.push(A,1-b)}v(),f()}function f(){for(let x=0;x<o.length;x+=6){const w=o[x+0],A=o[x+2],b=o[x+4],E=Math.max(w,A,b),T=Math.min(w,A,b);E>.9&&T<.1&&(w<.2&&(o[x+0]+=1),A<.2&&(o[x+2]+=1),b<.2&&(o[x+4]+=1))}}function d(x){s.push(x.x,x.y,x.z)}function p(x,w){const A=x*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function v(){const x=new Q,w=new Q,A=new Q,b=new Q,E=new We,T=new We,M=new We;for(let P=0,D=0;P<s.length;P+=9,D+=6){x.set(s[P+0],s[P+1],s[P+2]),w.set(s[P+3],s[P+4],s[P+5]),A.set(s[P+6],s[P+7],s[P+8]),E.set(o[D+0],o[D+1]),T.set(o[D+2],o[D+3]),M.set(o[D+4],o[D+5]),b.copy(x).add(w).add(A).divideScalar(3);const F=y(b);g(E,D+0,x,F),g(T,D+2,w,F),g(M,D+4,A,F)}}function g(x,w,A,b){b<0&&x.x===1&&(o[w]=x.x-1),A.x===0&&A.z===0&&(o[w]=b/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function _(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new Ll(e.vertices,e.indices,e.radius,e.details)}}class H0 extends Ll{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new H0(e.radius,e.detail)}}const Ky=new Q,Yy=new Q,WA=new Q,Qy=new io;class hz extends Xt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(lf*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},p=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:g,b:y,c:_}=Qy;if(g.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),_.fromBufferAttribute(a,u[2]),Qy.getNormal(WA),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const w=(x+1)%3,A=f[x],b=f[w],E=Qy[c[x]],T=Qy[c[w]],M=`${A}_${b}`,P=`${b}_${A}`;P in d&&d[P]?(WA.dot(d[P].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(T.x,T.y,T.z)),d[P]=null):M in d||(d[M]={index0:u[x],index1:u[w],normal:WA.clone()})}}for(const v in d)if(d[v]){const{index0:g,index1:y}=d[v];Ky.fromBufferAttribute(a,g),Yy.fromBufferAttribute(a,y),p.push(Ky.x,Ky.y,Ky.z),p.push(Yy.x,Yy.y,Yy.z)}this.setAttribute("position",new wt(p,3))}}}class df extends Kg{constructor(e){super(e),this.uuid=Cs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Kg().fromJSON(i))}return this}}const kZ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=pz(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,d,p;if(r&&(s=zZ(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let v=t;v<i;v+=t)f=n[v],d=n[v+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);p=Math.max(u-a,c-l),p=p!==0?32767/p:0}return Yg(s,o,t,a,l,p,0),o}};function pz(n,e,t,r,i){let s,o;if(i===QZ(n,e,t,r)>0)for(s=e;s<t;s+=r)o=zB(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=zB(s,n[s],n[s+1],o);return o&&fw(o,o.next)&&(Zg(o),o=o.next),o}function Rf(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(fw(t,t.next)||Zn(t.prev,t,t.next)===0)){if(Zg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Yg(n,e,t,r,i,s,o){if(!n)return;!o&&s&&jZ(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?FZ(n,r,i,s):OZ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Zg(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=NZ(Rf(n),e,t),Yg(n,e,t,r,i,s,2)):o===2&&UZ(n,e,t,r,i,s):Yg(Rf(n),e,t,r,i,s,1);break}}}function OZ(n){const e=n.prev,t=n,r=n.next;if(Zn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,p=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=d&&v.y>=f&&v.y<=p&&th(i,a,s,l,o,u,v.x,v.y)&&Zn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function FZ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,d=o.y,p=a<l?a<u?a:u:l<u?l:u,v=c<f?c<d?c:d:f<d?f:d,g=a>l?a>u?a:u:l>u?l:u,y=c>f?c>d?c:d:f>d?f:d,_=RE(p,v,e,t,r),x=RE(g,y,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=_&&A&&A.z<=x;){if(w.x>=p&&w.x<=g&&w.y>=v&&w.y<=y&&w!==i&&w!==o&&th(a,c,l,f,u,d,w.x,w.y)&&Zn(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=p&&A.x<=g&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&th(a,c,l,f,u,d,A.x,A.y)&&Zn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=_;){if(w.x>=p&&w.x<=g&&w.y>=v&&w.y<=y&&w!==i&&w!==o&&th(a,c,l,f,u,d,w.x,w.y)&&Zn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=x;){if(A.x>=p&&A.x<=g&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&th(a,c,l,f,u,d,A.x,A.y)&&Zn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function NZ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!fw(i,s)&&mz(i,r,r.next,s)&&Qg(i,s)&&Qg(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Zg(r),Zg(r.next),r=n=s),r=r.next}while(r!==n);return Rf(r)}function UZ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&JZ(o,a)){let l=gz(o,a);o=Rf(o,o.next),l=Rf(l,l.next),Yg(o,e,t,r,i,s,0),Yg(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function zZ(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=pz(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(XZ(u));for(i.sort(GZ),s=0;s<i.length;s++)t=HZ(i[s],t);return t}function GZ(n,e){return n.x-e.x}function HZ(n,e){const t=VZ(n,e);if(!t)return e;const r=gz(t,n);return Rf(r,r.next),Rf(t,t.next)}function VZ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&th(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Qg(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&WZ(i,t)))&&(i=t,c=f)),t=t.next;while(t!==a);return i}function WZ(n,e){return Zn(n.prev,n,e.prev)<0&&Zn(e.next,n,n.next)<0}function jZ(n,e,t,r){let i=n;do i.z===0&&(i.z=RE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,$Z(i)}function $Z(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function RE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function XZ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function th(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function JZ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!KZ(n,e)&&(Qg(n,e)&&Qg(e,n)&&YZ(n,e)&&(Zn(n.prev,n,e.prev)||Zn(n,e.prev,e))||fw(n,e)&&Zn(n.prev,n,n.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function fw(n,e){return n.x===e.x&&n.y===e.y}function mz(n,e,t,r){const i=qy(Zn(n,e,t)),s=qy(Zn(n,e,r)),o=qy(Zn(t,r,n)),a=qy(Zn(t,r,e));return!!(i!==s&&o!==a||i===0&&Zy(n,t,e)||s===0&&Zy(n,r,e)||o===0&&Zy(t,n,r)||a===0&&Zy(t,e,r))}function Zy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function qy(n){return n>0?1:n<0?-1:0}function KZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&mz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Qg(n,e){return Zn(n.prev,n,n.next)<0?Zn(n,e,n.next)>=0&&Zn(n,n.prev,e)>=0:Zn(n,e,n.prev)<0||Zn(n,n.next,e)<0}function YZ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function gz(n,e){const t=new IE(n.i,n.x,n.y),r=new IE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function zB(n,e,t,r){const i=new IE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Zg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function IE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function QZ(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class _a{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return _a.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];GB(e),HB(r,e);let o=e.length;t.forEach(GB);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,HB(r,t[l]);const a=kZ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function GB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class hp extends Xt{constructor(e=new df([new We(.5,.5),new We(-.5,.5),new We(-.5,-.5),new We(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new wt(i,3)),this.setAttribute("uv",new wt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:p-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:ZZ;let w,A=!1,b,E,T,M;_&&(w=_.getSpacedPoints(c),A=!0,d=!1,b=_.computeFrenetFrames(c,!1),E=new Q,T=new Q,M=new Q),d||(y=0,p=0,v=0,g=0);const P=a.extractPoints(u);let D=P.shape;const F=P.holes;if(!_a.isClockWise(D)){D=D.reverse();for(let le=0,de=F.length;le<de;le++){const Ie=F[le];_a.isClockWise(Ie)&&(F[le]=Ie.reverse())}}const U=_a.triangulateShape(D,F),N=D;for(let le=0,de=F.length;le<de;le++){const Ie=F[le];D=D.concat(Ie)}function $(le,de,Ie){return de||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().multiplyScalar(Ie).add(le)}const X=D.length,q=U.length;function z(le,de,Ie){let Ve,Be,Ye;const De=le.x-de.x,Ue=le.y-de.y,Qe=Ie.x-le.x,Ce=Ie.y-le.y,K=De*De+Ue*Ue,k=De*Ce-Ue*Qe;if(Math.abs(k)>Number.EPSILON){const se=Math.sqrt(K),me=Math.sqrt(Qe*Qe+Ce*Ce),Oe=de.x-Ue/se,Me=de.y+De/se,Ke=Ie.x-Ce/me,Fe=Ie.y+Qe/me,Ee=((Ke-Oe)*Ce-(Fe-Me)*Qe)/(De*Ce-Ue*Qe);Ve=Oe+De*Ee-le.x,Be=Me+Ue*Ee-le.y;const tt=Ve*Ve+Be*Be;if(tt<=2)return new We(Ve,Be);Ye=Math.sqrt(tt/2)}else{let se=!1;De>Number.EPSILON?Qe>Number.EPSILON&&(se=!0):De<-Number.EPSILON?Qe<-Number.EPSILON&&(se=!0):Math.sign(Ue)===Math.sign(Ce)&&(se=!0),se?(Ve=-Ue,Be=De,Ye=Math.sqrt(K)):(Ve=De,Be=Ue,Ye=Math.sqrt(K/2))}return new We(Ve/Ye,Be/Ye)}const j=[];for(let le=0,de=N.length,Ie=de-1,Ve=le+1;le<de;le++,Ie++,Ve++)Ie===de&&(Ie=0),Ve===de&&(Ve=0),j[le]=z(N[le],N[Ie],N[Ve]);const H=[];let V,G=j.concat();for(let le=0,de=F.length;le<de;le++){const Ie=F[le];V=[];for(let Ve=0,Be=Ie.length,Ye=Be-1,De=Ve+1;Ve<Be;Ve++,Ye++,De++)Ye===Be&&(Ye=0),De===Be&&(De=0),V[Ve]=z(Ie[Ve],Ie[Ye],Ie[De]);H.push(V),G=G.concat(V)}for(let le=0;le<y;le++){const de=le/y,Ie=p*Math.cos(de*Math.PI/2),Ve=v*Math.sin(de*Math.PI/2)+g;for(let Be=0,Ye=N.length;Be<Ye;Be++){const De=$(N[Be],j[Be],Ve);ce(De.x,De.y,-Ie)}for(let Be=0,Ye=F.length;Be<Ye;Be++){const De=F[Be];V=H[Be];for(let Ue=0,Qe=De.length;Ue<Qe;Ue++){const Ce=$(De[Ue],V[Ue],Ve);ce(Ce.x,Ce.y,-Ie)}}}const J=v+g;for(let le=0;le<X;le++){const de=d?$(D[le],G[le],J):D[le];A?(T.copy(b.normals[0]).multiplyScalar(de.x),E.copy(b.binormals[0]).multiplyScalar(de.y),M.copy(w[0]).add(T).add(E),ce(M.x,M.y,M.z)):ce(de.x,de.y,0)}for(let le=1;le<=c;le++)for(let de=0;de<X;de++){const Ie=d?$(D[de],G[de],J):D[de];A?(T.copy(b.normals[le]).multiplyScalar(Ie.x),E.copy(b.binormals[le]).multiplyScalar(Ie.y),M.copy(w[le]).add(T).add(E),ce(M.x,M.y,M.z)):ce(Ie.x,Ie.y,f/c*le)}for(let le=y-1;le>=0;le--){const de=le/y,Ie=p*Math.cos(de*Math.PI/2),Ve=v*Math.sin(de*Math.PI/2)+g;for(let Be=0,Ye=N.length;Be<Ye;Be++){const De=$(N[Be],j[Be],Ve);ce(De.x,De.y,f+Ie)}for(let Be=0,Ye=F.length;Be<Ye;Be++){const De=F[Be];V=H[Be];for(let Ue=0,Qe=De.length;Ue<Qe;Ue++){const Ce=$(De[Ue],V[Ue],Ve);A?ce(Ce.x,Ce.y+w[c-1].y,w[c-1].x+Ie):ce(Ce.x,Ce.y,f+Ie)}}}re(),te();function re(){const le=i.length/3;if(d){let de=0,Ie=X*de;for(let Ve=0;Ve<q;Ve++){const Be=U[Ve];fe(Be[2]+Ie,Be[1]+Ie,Be[0]+Ie)}de=c+y*2,Ie=X*de;for(let Ve=0;Ve<q;Ve++){const Be=U[Ve];fe(Be[0]+Ie,Be[1]+Ie,Be[2]+Ie)}}else{for(let de=0;de<q;de++){const Ie=U[de];fe(Ie[2],Ie[1],Ie[0])}for(let de=0;de<q;de++){const Ie=U[de];fe(Ie[0]+X*c,Ie[1]+X*c,Ie[2]+X*c)}}r.addGroup(le,i.length/3-le,0)}function te(){const le=i.length/3;let de=0;Y(N,de),de+=N.length;for(let Ie=0,Ve=F.length;Ie<Ve;Ie++){const Be=F[Ie];Y(Be,de),de+=Be.length}r.addGroup(le,i.length/3-le,1)}function Y(le,de){let Ie=le.length;for(;--Ie>=0;){const Ve=Ie;let Be=Ie-1;Be<0&&(Be=le.length-1);for(let Ye=0,De=c+y*2;Ye<De;Ye++){const Ue=X*Ye,Qe=X*(Ye+1),Ce=de+Ve+Ue,K=de+Be+Ue,k=de+Be+Qe,se=de+Ve+Qe;Re(Ce,K,k,se)}}}function ce(le,de,Ie){l.push(le),l.push(de),l.push(Ie)}function fe(le,de,Ie){Ae(le),Ae(de),Ae(Ie);const Ve=i.length/3,Be=x.generateTopUV(r,i,Ve-3,Ve-2,Ve-1);ye(Be[0]),ye(Be[1]),ye(Be[2])}function Re(le,de,Ie,Ve){Ae(le),Ae(de),Ae(Ve),Ae(de),Ae(Ie),Ae(Ve);const Be=i.length/3,Ye=x.generateSideWallUV(r,i,Be-6,Be-3,Be-2,Be-1);ye(Ye[0]),ye(Ye[1]),ye(Ye[3]),ye(Ye[1]),ye(Ye[2]),ye(Ye[3])}function Ae(le){i.push(l[le*3+0]),i.push(l[le*3+1]),i.push(l[le*3+2])}function ye(le){s.push(le.x),s.push(le.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return qZ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new G2[i.type]().fromJSON(i)),new hp(r,e.options)}}const ZZ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new We(s,o),new We(a,l),new We(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],v=e[i*3+2],g=e[s*3],y=e[s*3+1],_=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new We(o,1-l),new We(u,1-f),new We(d,1-v),new We(g,1-_)]:[new We(a,1-l),new We(c,1-f),new We(p,1-v),new We(y,1-_)]}};function qZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pp extends Ll{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pp(e.radius,e.detail)}}class mp extends Ll{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mp(e.radius,e.detail)}}class V0 extends Xt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const d=(t-e)/i,p=new Q,v=new We;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const _=s+y/r*o;p.x=f*Math.cos(_),p.y=f*Math.sin(_),l.push(p.x,p.y,p.z),u.push(0,0,1),v.x=(p.x/t+1)/2,v.y=(p.y/t+1)/2,c.push(v.x,v.y)}f+=d}for(let g=0;g<i;g++){const y=g*(r+1);for(let _=0;_<r;_++){const x=_+y,w=x,A=x+r+1,b=x+r+2,E=x+1;a.push(w,A,E),a.push(A,b,E)}}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(c,2))}static fromJSON(e){return new V0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class W0 extends Xt{constructor(e=new df([new We(0,.5),new We(-.5,-.5),new We(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new wt(i,3)),this.setAttribute("normal",new wt(s,3)),this.setAttribute("uv",new wt(o,2));function u(c){const f=i.length/3,d=c.extractPoints(t);let p=d.shape;const v=d.holes;_a.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,_=v.length;y<_;y++){const x=v[y];_a.isClockWise(x)===!0&&(v[y]=x.reverse())}const g=_a.triangulateShape(p,v);for(let y=0,_=v.length;y<_;y++){const x=v[y];p=p.concat(x)}for(let y=0,_=p.length;y<_;y++){const x=p[y];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,_=g.length;y<_;y++){const x=g[y],w=x[0]+f,A=x[1]+f,b=x[2]+f;r.push(w,A,b),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return eq(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new W0(r,e.curveSegments)}}function eq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class gp extends Xt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new Q,d=new Q,p=[],v=[],g=[],y=[];for(let _=0;_<=r;_++){const x=[],w=_/r;let A=0;_==0&&o==0?A=.5/t:_==r&&l==Math.PI&&(A=-.5/t);for(let b=0;b<=t;b++){const E=b/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+w*a),v.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),y.push(E+A,1-w),x.push(u++)}c.push(x)}for(let _=0;_<r;_++)for(let x=0;x<t;x++){const w=c[_][x+1],A=c[_][x],b=c[_+1][x],E=c[_+1][x+1];(_!==0||o>0)&&p.push(w,A,E),(_!==r-1||l<Math.PI)&&p.push(A,b,E)}this.setIndex(p),this.setAttribute("position",new wt(v,3)),this.setAttribute("normal",new wt(g,3)),this.setAttribute("uv",new wt(y,2))}static fromJSON(e){return new gp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class j0 extends Ll{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new j0(e.radius,e.detail)}}class $0 extends Xt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new Q,f=new Q,d=new Q;for(let p=0;p<=r;p++)for(let v=0;v<=i;v++){const g=v/i*s,y=p/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(g),f.y=(e+t*Math.cos(y))*Math.sin(g),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(v/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let v=1;v<=i;v++){const g=(i+1)*p+v-1,y=(i+1)*(p-1)+v-1,_=(i+1)*(p-1)+v,x=(i+1)*p+v;o.push(g,y,x),o.push(y,_,x)}this.setIndex(o),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(l,3)),this.setAttribute("uv",new wt(u,2))}static fromJSON(e){return new $0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class X0 extends Xt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new Q,d=new Q,p=new Q,v=new Q,g=new Q,y=new Q,_=new Q;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;x(A,s,o,e,p),x(A+.01,s,o,e,v),y.subVectors(v,p),_.addVectors(v,p),g.crossVectors(y,_),_.crossVectors(g,y),g.normalize(),_.normalize();for(let b=0;b<=i;++b){const E=b/i*Math.PI*2,T=-t*Math.cos(E),M=t*Math.sin(E);f.x=p.x+(T*_.x+M*g.x),f.y=p.y+(T*_.y+M*g.y),f.z=p.z+(T*_.z+M*g.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),u.push(d.x,d.y,d.z),c.push(w/r),c.push(b/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const b=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),T=(i+1)*w+A,M=(i+1)*(w-1)+A;a.push(b,E,M),a.push(E,T,M)}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(c,2));function x(w,A,b,E,T){const M=Math.cos(w),P=Math.sin(w),D=b/A*w,F=Math.cos(D);T.x=E*(2+F)*.5*M,T.y=E*(2+F)*P*.5,T.z=E*Math.sin(D)*.5}}static fromJSON(e){return new X0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class J0 extends Xt{constructor(e=new U2(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Q,l=new Q,u=new We;let c=new Q;const f=[],d=[],p=[],v=[];g(),this.setIndex(v),this.setAttribute("position",new wt(f,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2));function g(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),x(),_()}function y(w){c=e.getPointAt(w/t,c);const A=o.normals[w],b=o.binormals[w];for(let E=0;E<=i;E++){const T=E/i*Math.PI*2,M=Math.sin(T),P=-Math.cos(T);l.x=P*A.x+M*b.x,l.y=P*A.y+M*b.y,l.z=P*A.z+M*b.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function _(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const b=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),T=(i+1)*w+A,M=(i+1)*(w-1)+A;v.push(b,E,M),v.push(E,T,M)}}function x(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)u.x=w/t,u.y=A/i,p.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new J0(new G2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class vz extends Xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Q,s=new Q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,p=f.count;for(let v=d,g=d+p;v<g;v+=3)for(let y=0;y<3;y++){const _=a.getX(v+y),x=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,x),VB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),VB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new wt(t,3))}}}function VB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var WB=Object.freeze({__proto__:null,BoxGeometry:Yu,CapsuleGeometry:U0,CircleGeometry:z0,ConeGeometry:G0,CylinderGeometry:Hf,DodecahedronGeometry:H0,EdgesGeometry:hz,ExtrudeGeometry:hp,IcosahedronGeometry:pp,LatheGeometry:dp,OctahedronGeometry:mp,PlaneGeometry:Ko,PolyhedronGeometry:Ll,RingGeometry:V0,ShapeGeometry:W0,SphereGeometry:gp,TetrahedronGeometry:j0,TorusGeometry:$0,TorusKnotGeometry:X0,TubeGeometry:J0,WireframeGeometry:vz});class yz extends Lr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _z extends Bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class K0 extends Lr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _o extends K0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new We(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return _r(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ft(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class xz extends Lr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ft(16777215),this.specular=new ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wz extends Lr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Sz extends Lr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Az extends Lr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bz extends Lr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ku,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Mz extends Mi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zs(n,e,t){return H2(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Kc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function H2(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ez(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function DE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function V2(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function tq(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],d=[];for(let p=0;p<u.times.length;++p){const v=u.times[p]*i;if(!(v<t||v>=r)){f.push(u.times[p]);for(let g=0;g<c;++g)d.push(u.values[p*c+g])}}f.length!==0&&(u.times=Kc(f,u.times.constructor),u.values=Kc(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function nq(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const v=a.times.length-1;let g;if(s<=a.times[0]){const _=c,x=f-c;g=Zs(a.values,_,x)}else if(s>=a.times[v]){const _=v*f+c,x=_+f-c;g=Zs(a.values,_,x)}else{const _=a.createInterpolant(),x=c,w=f-c;_.evaluate(s),g=Zs(_.resultBuffer,x,w)}l==="quaternion"&&new Yr().fromArray(g).normalize().conjugate().toArray(g);const y=u.times.length;for(let _=0;_<y;++_){const x=_*p+d;if(l==="quaternion")Yr.multiplyQuaternionsFlat(u.values,x,g,0,u.values,x);else{const w=p-d*2;for(let A=0;A<w;++A)u.values[x+A]-=g[A]}}}return n.blendMode=_2,n}var rq=Object.freeze({__proto__:null,arraySlice:Zs,convertArray:Kc,flattenJSON:V2,getKeyframeOrder:Ez,isTypedArray:H2,makeClipAdditive:nq,sortedArray:DE,subclip:tq});class vp{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Cz extends vp{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:$c,endingEnd:$c}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Xc:s=e,a=2*t-r;break;case jg:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Xc:o=e,l=2*r-t;break;case jg:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,v=(r-t)/(i-t),g=v*v,y=g*v,_=-d*y+2*d*g-d*v,x=(1+d)*y+(-1.5-2*d)*g+(-.5+d)*v+1,w=(-1-p)*y+(1.5+p)*g+.5*v,A=p*y-p*g;for(let b=0;b!==a;++b)s[b]=_*o[c+b]+x*o[u+b]+w*o[l+b]+A*o[f+b];return s}}class W2 extends vp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),f=1-c;for(let d=0;d!==a;++d)s[d]=o[u+d]*f+o[l+d]*c;return s}}class Tz extends vp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kc(t,this.TimeBufferType),this.values=Kc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Kc(e.times,Array),values:Kc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Tz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new W2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Cz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fh:t=this.InterpolantFactoryMethodDiscrete;break;case Pf:t=this.InterpolantFactoryMethodLinear;break;case Y1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fh;case this.InterpolantFactoryMethodLinear:return Pf;case this.InterpolantFactoryMethodSmooth:return Y1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Zs(r,s,o),this.values=Zs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&H2(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Zs(this.times),t=Zs(this.values),r=this.getValueSize(),i=this.getInterpolation()===Y1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,p=f+r;for(let v=0;v!==r;++v){const g=t[f+v];if(g!==t[d+v]||g!==t[p+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let p=0;p!==r;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Zs(e,0,o),this.values=Zs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Zs(this.times,0),t=Zs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Zo.prototype.TimeBufferType=Float32Array;Zo.prototype.ValueBufferType=Float32Array;Zo.prototype.DefaultInterpolation=Pf;class Vf extends Zo{}Vf.prototype.ValueTypeName="bool";Vf.prototype.ValueBufferType=Array;Vf.prototype.DefaultInterpolation=Fh;Vf.prototype.InterpolantFactoryMethodLinear=void 0;Vf.prototype.InterpolantFactoryMethodSmooth=void 0;class j2 extends Zo{}j2.prototype.ValueTypeName="color";class If extends Zo{}If.prototype.ValueTypeName="number";class Pz extends vp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)Yr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Fu extends Zo{InterpolantFactoryMethodLinear(e){return new Pz(this.times,this.values,this.getValueSize(),e)}}Fu.prototype.ValueTypeName="quaternion";Fu.prototype.DefaultInterpolation=Pf;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class Wf extends Zo{}Wf.prototype.ValueTypeName="string";Wf.prototype.ValueBufferType=Array;Wf.prototype.DefaultInterpolation=Fh;Wf.prototype.InterpolantFactoryMethodLinear=void 0;Wf.prototype.InterpolantFactoryMethodSmooth=void 0;class Df extends Zo{}Df.prototype.ValueTypeName="vector";class Uh{constructor(e,t=-1,r,i=Zx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Cs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(sq(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Zo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=Ez(l);l=DE(l,1,c),u=DE(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new If(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,v,g){if(p.length!==0){const y=[],_=[];V2(p,y,_,v),y.length!==0&&g.push(new f(d,y,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let v;for(v=0;v<d.length;v++)if(d[v].morphTargets)for(let g=0;g<d[v].morphTargets.length;g++)p[d[v].morphTargets[g]]=-1;for(const g in p){const y=[],_=[];for(let x=0;x!==d[v].morphTargets.length;++x){const w=d[v];y.push(w.time),_.push(w.morphTarget===g?1:0)}i.push(new If(".morphTargetInfluence["+g+"]",y,_))}l=p.length*o}else{const p=".bones["+t[f].name+"]";r(Df,p+".position",d,"pos",i),r(Fu,p+".quaternion",d,"rot",i),r(Df,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function iq(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return If;case"vector":case"vector2":case"vector3":case"vector4":return Df;case"color":return j2;case"quaternion":return Fu;case"bool":case"boolean":return Vf;case"string":return Wf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function sq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=iq(n.type);if(n.times===void 0){const t=[],r=[];V2(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Bf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class dw{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const p=u[f],v=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return v}return null}}}const nh=new dw;class ai{constructor(e){this.manager=e!==void 0?e:nh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Xa={};class oq extends Error{constructor(e,t){super(e),this.response=t}}class Qr extends ai{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Bf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Xa[e]!==void 0){Xa[e].push({onLoad:t,onProgress:r,onError:i});return}Xa[e]=[],Xa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Xa[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),p=d?parseInt(d):0,v=p!==0;let g=0;const y=new ReadableStream({start(_){x();function x(){f.read().then(({done:w,value:A})=>{if(w)_.close();else{g+=A.byteLength;const b=new ProgressEvent("progress",{lengthComputable:v,loaded:g,total:p});for(let E=0,T=c.length;E<T;E++){const M=c[E];M.onProgress&&M.onProgress(b)}_.enqueue(A),x()}})}}});return new Response(y)}else throw new oq(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return u.arrayBuffer().then(v=>p.decode(v))}}}).then(u=>{Bf.add(e,u);const c=Xa[e];delete Xa[e];for(let f=0,d=c.length;f<d;f++){const p=c[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=Xa[e];if(c===void 0)throw this.manager.itemError(e),u;delete Xa[e];for(let f=0,d=c.length;f<d;f++){const p=c[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class aq extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Uh.parse(e[r]);t.push(i)}return t}}class lq extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new k2,l=new Qr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(a.minFilter=rn),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let v=0;v<p;v++){o[v]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)o[v].mipmaps.push(d.mipmaps[v*d.mipmapCount+g]),o[v].format=d.format,o[v].width=d.width,o[v].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=rn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class qg extends ai{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Bf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Jg("img");function l(){c(),Bf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Rz extends ai{constructor(e){super(e)}load(e,t,r,i){const s=new k0,o=new qg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class $2 extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ff,a=new Qr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Bn,o.wrapT=u.wrapT!==void 0?u.wrapT:Bn,o.magFilter=u.magFilter!==void 0?u.magFilter:rn,o.minFilter=u.minFilter!==void 0?u.minFilter:rn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ea),u.mipmapCount===1&&(o.minFilter=rn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class yp extends ai{constructor(e){super(e)}load(e,t,r,i){const s=new hn,o=new qg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Qu extends en{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ft(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Iz extends Qu{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ft(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const jA=new Ft,jB=new Q,$B=new Q;class X2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new We(512,512),this.map=null,this.mapPass=null,this.matrix=new Ft,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ew,this._frameExtents=new We(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;jB.setFromMatrixPosition(e.matrixWorld),t.position.copy(jB),$B.setFromMatrixPosition(e.target.matrixWorld),t.lookAt($B),t.updateMatrixWorld(),jA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(jA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class uq extends X2{constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Xg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class J2 extends Qu{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new uq}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XB=new Ft,_m=new Q,$A=new Q;class cq extends X2{constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new We(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),_m.setFromMatrixPosition(e.matrixWorld),r.position.copy(_m),$A.copy(r.position),$A.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt($A),r.updateMatrixWorld(),i.makeTranslation(-_m.x,-_m.y,-_m.z),XB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XB)}}class K2 extends Qu{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new cq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class fq extends X2{constructor(){super(new ho(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Y2 extends Qu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new fq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Dz extends Qu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Bz extends Qu{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Lz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class hw extends Qu{constructor(e=new Lz,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class pw extends ai{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Qr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=pw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ft().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ft().setHex(o.value);break;case"v2":i.uniforms[s].value=new We().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Q().fromArray(o.value);break;case"v4":i.uniforms[s].value=new mn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new _i().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ft().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new We().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new We().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:yz,SpriteMaterial:R2,RawShaderMaterial:_z,ShaderMaterial:Bs,PointsMaterial:lw,MeshPhysicalMaterial:_o,MeshStandardMaterial:K0,MeshPhongMaterial:xz,MeshToonMaterial:wz,MeshNormalMaterial:Sz,MeshLambertMaterial:Az,MeshDepthMaterial:nw,MeshDistanceMaterial:rw,MeshBasicMaterial:Ui,MeshMatcapMaterial:bz,LineDashedMaterial:Mz,LineBasicMaterial:Mi,Material:Lr};return new t[e]}}class Mu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Q2 extends Xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class kz extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,v){if(t[v]!==void 0)return t[v];const y=p.interleavedBuffers[v],_=s(p,y.buffer),x=qd(y.type,_),w=new F0(x,y.stride);return w.uuid=y.uuid,t[v]=w,w}function s(p,v){if(r[v]!==void 0)return r[v];const y=p.arrayBuffers[v],_=new Uint32Array(y).buffer;return r[v]=_,_}const o=e.isInstancedBufferGeometry?new Q2:new Xt,a=e.data.index;if(a!==void 0){const p=qd(a.type,a.array);o.setIndex(new ln(p,1))}const l=e.data.attributes;for(const p in l){const v=l[p];let g;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);g=new ku(y,v.itemSize,v.offset,v.normalized)}else{const y=qd(v.type,v.array),_=v.isInstancedBufferAttribute?Ou:ln;g=new _(y,v.itemSize,v.normalized)}v.name!==void 0&&(g.name=v.name),v.usage!==void 0&&g.setUsage(v.usage),v.updateRange!==void 0&&(g.updateRange.offset=v.updateRange.offset,g.updateRange.count=v.updateRange.count),o.setAttribute(p,g)}const u=e.data.morphAttributes;if(u)for(const p in u){const v=u[p],g=[];for(let y=0,_=v.length;y<_;y++){const x=v[y];let w;if(x.isInterleavedBufferAttribute){const A=i(e.data,x.data);w=new ku(A,x.itemSize,x.offset,x.normalized)}else{const A=qd(x.type,x.array);w=new ln(A,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),g.push(w)}o.morphAttributes[p]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,v=f.length;p!==v;++p){const g=f[p];o.addGroup(g.start,g.count,g.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new Q;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new Ra(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class dq extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Mu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Qr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Mu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Qr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new df().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new N0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new kz;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in WB?a=WB[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new pw;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Uh.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:qd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new dw(t);s=new qg(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const p=[];for(let v=0,g=d.length;v<g;v++){const y=d[v],_=a(y);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new ff(_.data,_.width,_.height)))}i[f.uuid]=new Jc(p)}else{const p=a(f.url);i[f.uuid]=new Jc(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:qd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new qg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const p=u[f],v=await s(p);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new ff(v.data,v.width,v.height)))}r[l.uuid]=new Jc(c)}else{const c=await s(l.url);r[l.uuid]=new Jc(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new k0,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new ff:c=new hn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,hq)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],JB),c.wrapT=r(a.wrap[1],JB)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,KB)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,KB)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let v=0,g=d.length;v<g;v++){const y=d[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":o=new O0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ft(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new ow(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new sw(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ho(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Dz(e.color,e.intensity);break;case"DirectionalLight":o=new Y2(e.color,e.intensity);break;case"PointLight":o=new K2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Bz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new J2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Iz(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new hw().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new I2(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Wn(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,v=e.instanceColor;o=new D2(c,f,d),o.instanceMatrix=new Ou(new Float32Array(p.array),16),v!==void 0&&(o.instanceColor=new Ou(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new az;break;case"Line":o=new Al(a(e.geometry),l(e.material));break;case"LineLoop":o=new B2(a(e.geometry),l(e.material));break;case"LineSegments":o=new Yo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new L2(a(e.geometry),l(e.material));break;case"Sprite":o=new oz(l(e.material));break;case"Group":o=new fl;break;case"Bone":o=new aw;break;default:o=new en}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const v=d[p];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const v=d[p],g=o.getObjectByProperty("uuid",v.object);g!==void 0&&o.addLevel(g,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const hq={UVMapping:Iu,CubeReflectionMapping:wl,CubeRefractionMapping:Du,EquirectangularReflectionMapping:kh,EquirectangularRefractionMapping:Vg,CubeUVReflectionMapping:up},JB={RepeatWrapping:Bu,ClampToEdgeWrapping:Bn,MirroredRepeatWrapping:Oh},KB={NearestFilter:lr,NearestMipmapNearestFilter:Wg,NearestMipmapLinearFilter:yh,LinearFilter:rn,LinearMipmapNearestFilter:Qx,LinearMipmapLinearFilter:Ea};class Oz extends ai{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Bf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Bf.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let e1;class Z2{static getContext(){return e1===void 0&&(e1=new(window.AudioContext||window.webkitAudioContext)),e1}static setContext(e){e1=e}}class pq extends ai{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Qr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);Z2.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class mq extends hw{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ft().set(e),s=new ft().set(t),o=new Q(i.r,i.g,i.b),a=new Q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class gq extends hw{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ft().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const YB=new Ft,QB=new Ft,wc=new Ft;class vq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,wc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(lf*t.fov*.5)/t.zoom;let a,l;QB.elements[12]=-i,YB.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,wc.elements[0]=2*t.near/(l-a),wc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(wc),a=-o*t.aspect-s,l=o*t.aspect-s,wc.elements[0]=2*t.near/(l-a),wc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(wc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(YB)}}class q2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ZB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ZB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ZB(){return(typeof performance>"u"?Date:performance).now()}const Sc=new Q,qB=new Yr,yq=new Q,Ac=new Q;class _q extends en{constructor(){super(),this.type="AudioListener",this.context=Z2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new q2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Sc,qB,yq),Ac.set(0,0,-1).applyQuaternion(qB),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Sc.x,i),t.positionY.linearRampToValueAtTime(Sc.y,i),t.positionZ.linearRampToValueAtTime(Sc.z,i),t.forwardX.linearRampToValueAtTime(Ac.x,i),t.forwardY.linearRampToValueAtTime(Ac.y,i),t.forwardZ.linearRampToValueAtTime(Ac.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Sc.x,Sc.y,Sc.z),t.setOrientation(Ac.x,Ac.y,Ac.z,r.x,r.y,r.z)}}class Fz extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bc=new Q,eL=new Yr,xq=new Q,Mc=new Q;class wq extends Fz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bc,eL,xq),Mc.set(0,0,1).applyQuaternion(eL);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bc.x,r),t.positionY.linearRampToValueAtTime(bc.y,r),t.positionZ.linearRampToValueAtTime(bc.z,r),t.orientationX.linearRampToValueAtTime(Mc.x,r),t.orientationY.linearRampToValueAtTime(Mc.y,r),t.orientationZ.linearRampToValueAtTime(Mc.z,r)}else t.setPosition(bc.x,bc.y,bc.z),t.setOrientation(Mc.x,Mc.y,Mc.z)}}class Sq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Nz{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Yr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,o,e,t,e,r),Yr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const eP="\\[\\]\\.:\\/",Aq=new RegExp("["+eP+"]","g"),tP="[^"+eP+"]",bq="[^"+eP.replace("\\.","")+"]",Mq=/((?:WC+[\/:])*)/.source.replace("WC",tP),Eq=/(WCOD+)?/.source.replace("WCOD",bq),Cq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tP),Tq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tP),Pq=new RegExp("^"+Mq+Eq+Cq+Tq+"$"),Rq=["material","materials","bones","map"];class Iq{constructor(e,t,r){const i=r||an.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class an{constructor(e,t,r){this.path=t,this.parsedPath=r||an.parseTrackName(t),this.node=an.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new an.Composite(e,t,r):new an(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Aq,"")}static parseTrackName(e){const t=Pq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Rq.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=an.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}an.Composite=Iq;an.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};an.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};an.prototype.GetterByBindingType=[an.prototype._getValue_direct,an.prototype._getValue_array,an.prototype._getValue_arrayElement,an.prototype._getValue_toArray];an.prototype.SetterByBindingTypeAndVersioning=[[an.prototype._setValue_direct,an.prototype._setValue_direct_setNeedsUpdate,an.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[an.prototype._setValue_array,an.prototype._setValue_array_setNeedsUpdate,an.prototype._setValue_array_setMatrixWorldNeedsUpdate],[an.prototype._setValue_arrayElement,an.prototype._setValue_arrayElement_setNeedsUpdate,an.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[an.prototype._setValue_fromArray,an.prototype._setValue_fromArray_setNeedsUpdate,an.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Dq{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],p=d.uuid;let v=t[p];if(v===void 0){v=l++,t[p]=v,e.push(d);for(let g=0,y=o;g!==y;++g)s[g].push(new an(d,r[g],i[g]))}else if(v<u){a=e[v];const g=--u,y=e[g];t[y.uuid]=v,e[v]=y,t[p]=g,e[g]=d;for(let _=0,x=o;_!==x;++_){const w=s[_],A=w[g];let b=w[v];w[v]=A,b===void 0&&(b=new an(d,r[_],i[_])),w[g]=b}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,d=e[f];t[d.uuid]=c,e[c]=d,t[u]=f,e[f]=l;for(let p=0,v=i;p!==v;++p){const g=r[p],y=g[f],_=g[c];g[c]=y,g[f]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const d=--s,p=e[d],v=--o,g=e[v];t[p.uuid]=f,e[f]=p,t[g.uuid]=d,e[d]=g,e.pop();for(let y=0,_=i;y!==_;++y){const x=r[y],w=x[d],A=x[v];x[f]=w,x[d]=A,x.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let v=0,g=i;v!==g;++v){const y=r[v];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=c,p=l.length;d!==p;++d){const v=l[d];f[d]=new an(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Bq{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:$c,endingEnd:$c};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=U5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case _2:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case Zx:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===z5;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===N5){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Xc,i.endingEnd=Xc):(e?i.endingStart=this.zeroSlopeAtStart?Xc:$c:i.endingStart=jg,t?i.endingEnd=this.zeroSlopeAtEnd?Xc:$c:i.endingEnd=jg)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Lq=new Float32Array(1);class Uz extends Bl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let v=c[p];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,p));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;v=new Nz(an.create(r,p,g),d.ValueTypeName,d.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,p),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new W2(new Float32Array(2),new Float32Array(2),1,Lq),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Uh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Zx),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Bq(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Uh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class nP{constructor(e){this.value=e}clone(){return new nP(this.value.clone===void 0?this.value:this.value.clone())}}let kq=0;class Oq extends Bl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kq++}),this.name="",this.usage=$g,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Fq extends F0{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Nq{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class rP{constructor(e,t,r=0,i=1/0){this.ray=new cp(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new cf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return BE(e,this,r,t),r.sort(tL),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)BE(e[i],this,r,t);return r.sort(tL),r}}function tL(n,e){return n.distance-e.distance}function BE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)BE(i[s],e,t,!0)}}class LE{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_r(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Uq{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const nL=new We;class zq{constructor(e=new We(1/0,1/0),t=new We(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=nL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return nL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rL=new Q,t1=new Q;class Gq{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){rL.subVectors(e,this.start),t1.subVectors(this.end,this.start);const r=t1.dot(t1);let s=t1.dot(rL)/r;return t&&(s=_r(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iL=new Q;class Hq extends en{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Xt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new wt(i,3));const s=new Mi({fog:!1,toneMapped:!1});this.cone=new Yo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ql=new Q,n1=new Ft,XA=new Ft;class Vq extends Yo{constructor(e){const t=zz(e),r=new Xt,i=[],s=[],o=new ft(0,0,1),a=new ft(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new wt(i,3)),r.setAttribute("color",new wt(s,3));const l=new Mi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");XA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(n1.multiplyMatrices(XA,a.matrixWorld),Ql.setFromMatrixPosition(n1),i.setXYZ(o,Ql.x,Ql.y,Ql.z),n1.multiplyMatrices(XA,a.parent.matrixWorld),Ql.setFromMatrixPosition(n1),i.setXYZ(o+1,Ql.x,Ql.y,Ql.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,zz(n.children[t]));return e}class Wq extends Wn{constructor(e,t,r){const i=new gp(t,4,2),s=new Ui({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jq=new Q,sL=new ft,oL=new ft;class $q extends en{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new mp(t);i.rotateY(Math.PI*.5),this.material=new Ui({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ln(o,3)),this.add(new Wn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");sL.copy(this.light.color),oL.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?sL:oL;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Xq extends Yo{constructor(e=10,t=10,r=4473924,i=8947848){r=new ft(r),i=new ft(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let d=0,p=0,v=-a;d<=t;d++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const g=d===s?r:i;g.toArray(u,p),p+=3,g.toArray(u,p),p+=3,g.toArray(u,p),p+=3,g.toArray(u,p),p+=3}const c=new Xt;c.setAttribute("position",new wt(l,3)),c.setAttribute("color",new wt(u,3));const f=new Mi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jq extends Yo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ft(s),o=new ft(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,v=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,v);const g=f&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const d=f&1?s:o,p=e-e/r*f;for(let v=0;v<i;v++){let g=v/i*(Math.PI*2),y=Math.sin(g)*p,_=Math.cos(g)*p;a.push(y,0,_),l.push(d.r,d.g,d.b),g=(v+1)/i*(Math.PI*2),y=Math.sin(g)*p,_=Math.cos(g)*p,a.push(y,0,_),l.push(d.r,d.g,d.b)}}const u=new Xt;u.setAttribute("position",new wt(a,3)),u.setAttribute("color",new wt(l,3));const c=new Mi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const aL=new Q,r1=new Q,lL=new Q;class Kq extends en{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Xt;i.setAttribute("position",new wt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Mi({fog:!1,toneMapped:!1});this.lightPlane=new Al(i,s),this.add(this.lightPlane),i=new Xt,i.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new Al(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),aL.setFromMatrixPosition(this.light.matrixWorld),r1.setFromMatrixPosition(this.light.target.matrixWorld),lL.subVectors(r1,aL),this.lightPlane.lookAt(r1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r1),this.targetLine.scale.z=lL.length()}}const i1=new Q,sr=new L0;class Yq extends Yo{constructor(e){const t=new Xt,r=new Mi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,g){l(v),l(g)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new wt(i,3)),t.setAttribute("color",new wt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ft(16755200),c=new ft(16711680),f=new ft(43775),d=new ft(16777215),p=new ft(3355443);this.setColors(u,c,f,d,p)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;sr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mr("c",t,e,sr,0,0,-1),mr("t",t,e,sr,0,0,1),mr("n1",t,e,sr,-1,-1,-1),mr("n2",t,e,sr,r,-1,-1),mr("n3",t,e,sr,-1,i,-1),mr("n4",t,e,sr,r,i,-1),mr("f1",t,e,sr,-1,-1,1),mr("f2",t,e,sr,r,-1,1),mr("f3",t,e,sr,-1,i,1),mr("f4",t,e,sr,r,i,1),mr("u1",t,e,sr,r*.7,i*1.1,-1),mr("u2",t,e,sr,-1*.7,i*1.1,-1),mr("u3",t,e,sr,0,i*2,-1),mr("cf1",t,e,sr,-1,0,1),mr("cf2",t,e,sr,r,0,1),mr("cf3",t,e,sr,0,-1,1),mr("cf4",t,e,sr,0,i,1),mr("cn1",t,e,sr,-1,0,-1),mr("cn2",t,e,sr,r,0,-1),mr("cn3",t,e,sr,0,-1,-1),mr("cn4",t,e,sr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(n,e,t,r,i,s,o){i1.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],i1.x,i1.y,i1.z)}}const s1=new Jo;class Qq extends Yo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Xt;s.setIndex(new ln(r,1)),s.setAttribute("position",new ln(i,3)),super(s,new Mi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&s1.setFromObject(this.object),s1.isEmpty())return;const t=s1.min,r=s1.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zq extends Yo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Xt;s.setIndex(new ln(r,1)),s.setAttribute("position",new wt(i,3)),super(s,new Mi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qq extends Al{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Xt;o.setAttribute("position",new wt(s,3)),o.computeBoundingSphere(),super(o,new Mi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Xt;l.setAttribute("position",new wt(a,3)),l.computeBoundingSphere(),this.add(new Wn(l,new Ui({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uL=new Q;let o1,JA;class eee extends en{constructor(e=new Q(0,0,1),t=new Q(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",o1===void 0&&(o1=new Xt,o1.setAttribute("position",new wt([0,0,0,0,1,0],3)),JA=new Hf(0,.5,1,5,1),JA.translate(0,-.5,0)),this.position.copy(t),this.line=new Al(o1,new Mi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wn(JA,new Ui({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class tee extends Yo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xt;i.setAttribute("position",new wt(t,3)),i.setAttribute("color",new wt(r,3));const s=new Mi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ft,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gz{constructor(){this.type="ShapePath",this.color=new ft,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Kg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const x=[];for(let w=0,A=_.length;w<A;w++){const b=_[w],E=new df;E.curves=b.curves,x.push(E)}return x}function r(_,x){const w=x.length;let A=!1;for(let b=w-1,E=0;E<w;b=E++){let T=x[b],M=x[E],P=M.x-T.x,D=M.y-T.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(T=x[E],P=-P,M=x[b],D=-D),_.y<T.y||_.y>M.y)continue;if(_.y===T.y){if(_.x===T.x)return!0}else{const F=D*(_.x-T.x)-P*(_.y-T.y);if(F===0)return!0;if(F<0)continue;A=!A}}else{if(_.y!==T.y)continue;if(M.x<=_.x&&_.x<=T.x||T.x<=_.x&&_.x<=M.x)return!0}}return A}const i=_a.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new df,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],d=[];let p=[],v=0,g;d[v]=void 0,p[v]=[];for(let _=0,x=s.length;_<x;_++)a=s[_],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!c&&d[v]&&v++,d[v]={s:new df,p:g},d[v].s.curves=a.curves,c&&v++,p[v]=[]):p[v].push({h:a,p:g[0]});if(!d[0])return t(s);if(d.length>1){let _=!1,x=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const b=p[w];for(let E=0;E<b.length;E++){const T=b[E];let M=!0;for(let P=0;P<d.length;P++)r(T.p,d[P].p)&&(w!==P&&x++,M?(M=!1,f[P].push(T)):_=!0);M&&f[w].push(T)}}x>0&&_===!1&&(p=f)}let y;for(let _=0,x=d.length;_<x;_++){l=d[_].s,u.push(l),y=p[_];for(let w=0,A=y.length;w<A;w++)l.holes.push(y[w].h)}return u}}const sl=nee();function nee(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ree(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=_r(n,-65504,65504),sl.floatView[0]=n;const e=sl.uint32View[0],t=e>>23&511;return sl.baseTable[t]+((e&8388607)>>sl.shiftTable[t])}function iee(n){const e=n>>10;return sl.uint32View[0]=sl.mantissaTable[sl.offsetTable[e]+(n&1023)]+sl.exponentTable[e],sl.floatView[0]}var Yc=Object.freeze({__proto__:null,fromHalfFloat:iee,toHalfFloat:ree});class see extends Yu{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class oee extends U0{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class aee extends z0{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class lee extends G0{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class uee extends Hf{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class cee extends H0{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class fee extends hp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class dee extends pp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class hee extends dp{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class pee extends mp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class mee extends Ko{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class gee extends Ll{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class vee extends V0{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class yee extends W0{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class _ee extends gp{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class xee extends j0{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class wee extends $0{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class See extends X0{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Aee extends J0{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:I0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=I0);const Hz=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:h2,AddEquation:Uc,AddOperation:S5,AdditiveAnimationBlendMode:_2,AdditiveBlending:G_,AlphaFormat:P5,AlwaysDepth:m5,AlwaysStencilFunc:W5,AmbientLight:Dz,AmbientLightProbe:gq,AnimationClip:Uh,AnimationLoader:aq,AnimationMixer:Uz,AnimationObjectGroup:Dq,AnimationUtils:rq,ArcCurve:lz,ArrayCamera:nz,ArrowHelper:eee,Audio:Fz,AudioAnalyser:Sq,AudioContext:Z2,AudioListener:_q,AudioLoader:pq,AxesHelper:tee,BackSide:ns,BasicDepthPacking:H5,BasicShadowMap:t5,Bone:aw,BooleanKeyframeTrack:Vf,Box2:zq,Box3:Jo,Box3Helper:Zq,BoxBufferGeometry:see,BoxGeometry:Yu,BoxHelper:Qq,BufferAttribute:ln,BufferGeometry:Xt,BufferGeometryLoader:kz,ByteType:p2,Cache:Bf,Camera:L0,CameraHelper:Yq,CanvasTexture:CZ,CapsuleBufferGeometry:oee,CapsuleGeometry:U0,CatmullRomCurve3:uz,CineonToneMapping:M5,CircleBufferGeometry:aee,CircleGeometry:z0,ClampToEdgeWrapping:Bn,Clock:q2,Color:ft,ColorKeyframeTrack:j2,ColorManagement:mi,CompressedArrayTexture:EZ,CompressedTexture:k2,CompressedTextureLoader:lq,ConeBufferGeometry:lee,ConeGeometry:G0,CubeCamera:K5,CubeReflectionMapping:wl,CubeRefractionMapping:Du,CubeTexture:k0,CubeTextureLoader:Rz,CubeUVReflectionMapping:up,CubicBezierCurve:F2,CubicBezierCurve3:cz,CubicInterpolant:Cz,CullFaceBack:YM,CullFaceFront:e5,CullFaceFrontBack:B$,CullFaceNone:qU,Curve:Qo,CurvePath:dz,CustomBlending:n5,CustomToneMapping:E5,CylinderBufferGeometry:uee,CylinderGeometry:Hf,Cylindrical:Uq,Data3DTexture:b2,DataArrayTexture:qx,DataTexture:ff,DataTextureLoader:$2,DataUtils:Yc,DecrementStencilOp:H$,DecrementWrapStencilOp:W$,DefaultLoadingManager:nh,DepthFormat:bu,DepthStencilFormat:Tf,DepthTexture:rz,DirectionalLight:Y2,DirectionalLightHelper:Kq,DiscreteInterpolant:Tz,DodecahedronBufferGeometry:cee,DodecahedronGeometry:H0,DoubleSide:bs,DstAlphaFactor:u5,DstColorFactor:f5,DynamicCopyUsage:sX,DynamicDrawUsage:q$,DynamicReadUsage:nX,EdgesGeometry:hz,EllipseCurve:uw,EqualDepth:v5,EqualStencilFunc:J$,EquirectangularReflectionMapping:kh,EquirectangularRefractionMapping:Vg,Euler:B0,EventDispatcher:Bl,ExtrudeBufferGeometry:fee,ExtrudeGeometry:hp,FileLoader:Qr,Float16BufferAttribute:UX,Float32BufferAttribute:wt,Float64BufferAttribute:zX,FloatType:Xr,Fog:ow,FogExp2:sw,FramebufferTexture:MZ,FrontSide:Ma,Frustum:ew,GLBufferAttribute:Nq,GLSL1:aX,GLSL3:ME,GreaterDepth:_5,GreaterEqualDepth:y5,GreaterEqualStencilFunc:Z$,GreaterStencilFunc:Y$,GridHelper:Xq,Group:fl,HalfFloatType:Jr,HemisphereLight:Iz,HemisphereLightHelper:$q,HemisphereLightProbe:mq,IcosahedronBufferGeometry:dee,IcosahedronGeometry:pp,ImageBitmapLoader:Oz,ImageLoader:qg,ImageUtils:A2,IncrementStencilOp:G$,IncrementWrapStencilOp:V$,InstancedBufferAttribute:Ou,InstancedBufferGeometry:Q2,InstancedInterleavedBuffer:Fq,InstancedMesh:D2,Int16BufferAttribute:FX,Int32BufferAttribute:NX,Int8BufferAttribute:LX,IntType:v2,InterleavedBuffer:F0,InterleavedBufferAttribute:ku,Interpolant:vp,InterpolateDiscrete:Fh,InterpolateLinear:Pf,InterpolateSmooth:Y1,InvertStencilOp:j$,KeepStencilOp:Q1,KeyframeTrack:Zo,LOD:az,LatheBufferGeometry:hee,LatheGeometry:dp,Layers:cf,LessDepth:g5,LessEqualDepth:H_,LessEqualStencilFunc:K$,LessStencilFunc:X$,Light:Qu,LightProbe:hw,Line:Al,Line3:Gq,LineBasicMaterial:Mi,LineCurve:cw,LineCurve3:fz,LineDashedMaterial:Mz,LineLoop:B2,LineSegments:Yo,LinearEncoding:Lu,LinearFilter:rn,LinearInterpolant:W2,LinearMipMapLinearFilter:tE,LinearMipMapNearestFilter:F$,LinearMipmapLinearFilter:Ea,LinearMipmapNearestFilter:Qx,LinearSRGBColorSpace:Sl,LinearToneMapping:A5,Loader:ai,LoaderUtils:Mu,LoadingManager:dw,LoopOnce:N5,LoopPingPong:z5,LoopRepeat:U5,LuminanceAlphaFormat:I5,LuminanceFormat:R5,MOUSE:Bc,Material:Lr,MaterialLoader:pw,MathUtils:Lo,Matrix3:_i,Matrix4:Ft,MaxEquation:eE,Mesh:Wn,MeshBasicMaterial:Ui,MeshDepthMaterial:nw,MeshDistanceMaterial:rw,MeshLambertMaterial:Az,MeshMatcapMaterial:bz,MeshNormalMaterial:Sz,MeshPhongMaterial:xz,MeshPhysicalMaterial:_o,MeshStandardMaterial:K0,MeshToonMaterial:wz,MinEquation:qM,MirroredRepeatWrapping:Oh,MixOperation:w5,MultiplyBlending:ZM,MultiplyOperation:D0,NearestFilter:lr,NearestMipMapLinearFilter:O$,NearestMipMapNearestFilter:k$,NearestMipmapLinearFilter:yh,NearestMipmapNearestFilter:Wg,NeverDepth:p5,NeverStencilFunc:$$,NoBlending:ya,NoColorSpace:N$,NoToneMapping:No,NormalAnimationBlendMode:Zx,NormalBlending:of,NotEqualDepth:x5,NotEqualStencilFunc:Q$,NumberKeyframeTrack:If,Object3D:en,ObjectLoader:dq,ObjectSpaceNormalMap:V5,OctahedronBufferGeometry:pee,OctahedronGeometry:mp,OneFactor:o5,OneMinusDstAlphaFactor:c5,OneMinusDstColorFactor:d5,OneMinusSrcAlphaFactor:d2,OneMinusSrcColorFactor:l5,OrthographicCamera:ho,PCFShadowMap:Yx,PCFSoftShadowMap:sg,PMREMGenerator:CE,Path:Kg,PerspectiveCamera:Hn,Plane:tl,PlaneBufferGeometry:mee,PlaneGeometry:Ko,PlaneHelper:qq,PointLight:K2,PointLightHelper:Wq,Points:L2,PointsMaterial:lw,PolarGridHelper:Jq,PolyhedronBufferGeometry:gee,PolyhedronGeometry:Ll,PositionalAudio:wq,PropertyBinding:an,PropertyMixer:Nz,QuadraticBezierCurve:N2,QuadraticBezierCurve3:U2,Quaternion:Yr,QuaternionKeyframeTrack:Fu,QuaternionLinearInterpolant:Pz,RED_GREEN_RGTC2_Format:AE,RED_RGTC1_Format:F5,REVISION:I0,RGBADepthPacking:w2,RGBAFormat:Dr,RGBAIntegerFormat:k5,RGBA_ASTC_10x10_Format:_E,RGBA_ASTC_10x5_Format:gE,RGBA_ASTC_10x6_Format:vE,RGBA_ASTC_10x8_Format:yE,RGBA_ASTC_12x10_Format:xE,RGBA_ASTC_12x12_Format:wE,RGBA_ASTC_4x4_Format:lE,RGBA_ASTC_5x4_Format:uE,RGBA_ASTC_5x5_Format:cE,RGBA_ASTC_6x5_Format:fE,RGBA_ASTC_6x6_Format:dE,RGBA_ASTC_8x5_Format:hE,RGBA_ASTC_8x6_Format:pE,RGBA_ASTC_8x8_Format:mE,RGBA_BPTC_Format:K1,RGBA_ETC2_EAC_Format:aE,RGBA_PVRTC_2BPPV1_Format:sE,RGBA_PVRTC_4BPPV1_Format:iE,RGBA_S3TC_DXT1_Format:$1,RGBA_S3TC_DXT3_Format:X1,RGBA_S3TC_DXT5_Format:J1,RGB_ETC1_Format:O5,RGB_ETC2_Format:oE,RGB_PVRTC_2BPPV1_Format:rE,RGB_PVRTC_4BPPV1_Format:nE,RGB_S3TC_DXT1_Format:j1,RGFormat:B5,RGIntegerFormat:L5,RawShaderMaterial:_z,Ray:cp,Raycaster:rP,RectAreaLight:Bz,RedFormat:y2,RedIntegerFormat:D5,ReinhardToneMapping:b5,RepeatWrapping:Bu,ReplaceStencilOp:z$,ReverseSubtractEquation:i5,RingBufferGeometry:vee,RingGeometry:V0,SIGNED_RED_GREEN_RGTC2_Format:bE,SIGNED_RED_RGTC1_Format:SE,SRGBColorSpace:qs,Scene:O0,ShaderChunk:$t,ShaderLib:Do,ShaderMaterial:Bs,ShadowMaterial:yz,Shape:df,ShapeBufferGeometry:yee,ShapeGeometry:W0,ShapePath:Gz,ShapeUtils:_a,ShortType:m2,Skeleton:N0,SkeletonHelper:Vq,SkinnedMesh:I2,Source:Jc,Sphere:Ra,SphereBufferGeometry:_ee,SphereGeometry:gp,Spherical:LE,SphericalHarmonics3:Lz,SplineCurve:z2,SpotLight:J2,SpotLightHelper:Hq,Sprite:oz,SpriteMaterial:R2,SrcAlphaFactor:f2,SrcAlphaSaturateFactor:h5,SrcColorFactor:a5,StaticCopyUsage:iX,StaticDrawUsage:$g,StaticReadUsage:tX,StereoCamera:vq,StreamCopyUsage:oX,StreamDrawUsage:eX,StreamReadUsage:rX,StringKeyframeTrack:Wf,SubtractEquation:r5,SubtractiveBlending:QM,TOUCH:Lc,TangentSpaceNormalMap:Ku,TetrahedronBufferGeometry:xee,TetrahedronGeometry:j0,Texture:hn,TextureLoader:yp,TorusBufferGeometry:wee,TorusGeometry:$0,TorusKnotBufferGeometry:See,TorusKnotGeometry:X0,Triangle:io,TriangleFanDrawMode:V_,TriangleStripDrawMode:x2,TrianglesDrawMode:G5,TubeBufferGeometry:Aee,TubeGeometry:J0,TwoPassDoubleSide:L$,UVMapping:Iu,Uint16BufferAttribute:M2,Uint32BufferAttribute:E2,Uint8BufferAttribute:kX,Uint8ClampedBufferAttribute:OX,Uniform:nP,UniformsGroup:Oq,UniformsLib:ct,UniformsUtils:C2,UnsignedByteType:go,UnsignedInt248Type:af,UnsignedIntType:ul,UnsignedShort4444Type:C5,UnsignedShort5551Type:T5,UnsignedShortType:g2,VSMShadowMap:jc,Vector2:We,Vector3:Q,Vector4:mn,VectorKeyframeTrack:Df,VideoTexture:bZ,WebGL1Renderer:iz,WebGL3DRenderTarget:bX,WebGLArrayRenderTarget:AX,WebGLCubeRenderTarget:T2,WebGLMultipleRenderTargets:MX,WebGLRenderTarget:Ds,WebGLRenderer:iw,WebGLUtils:tz,WireframeGeometry:vz,WrapAroundEnding:jg,ZeroCurvatureEnding:$c,ZeroFactor:s5,ZeroSlopeEnding:Xc,ZeroStencilOp:U$,_SRGBAFormat:W_,sRGBEncoding:Cn},Symbol.toStringTag,{value:"Module"}));var Vz={exports:{}},jf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */jf.ConcurrentRoot=1;jf.ContinuousEventPriority=4;jf.DefaultEventPriority=16;jf.DiscreteEventPriority=1;jf.IdleEventPriority=536870912;jf.LegacyRoot=0;Vz.exports=jf;var Gm=Vz.exports;function bee(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function p(){const v=c(e);if(!f(d,v)){const g=d;u(d=v,g)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Mee=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cL=Mee?I.useEffect:I.useLayoutEffect;function Wz(n){const e=typeof n=="function"?bee(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=I.useReducer(y=>y+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(r),u=I.useRef(i),c=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),p=!i(f.current,d)),cL(()=>{p&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const v=I.useRef(o);cL(()=>{const y=()=>{try{const x=e.getState(),w=l.current(x);u.current(f.current,w)||(a.current=x,f.current=w,s())}catch{c.current=!0,s()}},_=e.subscribe(y);return e.getState()!==v.current&&y(),_},[]);const g=p?d:f.current;return I.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Eee=n=>typeof n=="object"&&typeof n.then=="function",Qc=[];function jz(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function $z(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Qc)if(jz(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Qc.indexOf(i);s!==-1&&Qc.splice(s,1)},promise:(Eee(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Qc.push(i),!t)throw i.promise}const mw=(n,e,t)=>$z(n,e,!1,t),Xz=(n,e,t)=>void $z(n,e,!0,t),Jz=n=>{if(n===void 0||n.length===0)Qc.splice(0,Qc.length);else{const e=Qc.find(t=>jz(n,t.keys,t.equal));e&&e.remove()}};var Kz={exports:{}},Yz={exports:{}},Qz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,j){var H=z.length;z.push(j);e:for(;0<H;){var V=H-1>>>1,G=z[V];if(0<i(G,j))z[V]=j,z[H]=G,H=V;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],H=z.pop();if(H!==j){z[0]=H;e:for(var V=0,G=z.length,J=G>>>1;V<J;){var re=2*(V+1)-1,te=z[re],Y=re+1,ce=z[Y];if(0>i(te,H))Y<G&&0>i(ce,te)?(z[V]=ce,z[Y]=H,V=Y):(z[V]=te,z[re]=H,V=re);else if(Y<G&&0>i(ce,H))z[V]=ce,z[Y]=H,V=Y;else break e}}return j}function i(z,j){var H=z.sortIndex-j.sortIndex;return H!==0?H:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=z)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function A(z){if(g=!1,w(z),!v)if(t(l)!==null)v=!0,X(b);else{var j=t(u);j!==null&&q(A,j.startTime-z)}}function b(z,j){v=!1,g&&(g=!1,_(M),M=-1),p=!0;var H=d;try{for(w(j),f=t(l);f!==null&&(!(f.expirationTime>j)||z&&!F());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var G=V(f.expirationTime<=j);j=n.unstable_now(),typeof G=="function"?f.callback=G:f===t(l)&&r(l),w(j)}else r(l);f=t(l)}if(f!==null)var J=!0;else{var re=t(u);re!==null&&q(A,re.startTime-j),J=!1}return J}finally{f=null,d=H,p=!1}}var E=!1,T=null,M=-1,P=5,D=-1;function F(){return!(n.unstable_now()-D<P)}function O(){if(T!==null){var z=n.unstable_now();D=z;var j=!0;try{j=T(!0,z)}finally{j?U():(E=!1,T=null)}}else E=!1}var U;if(typeof x=="function")U=function(){x(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=O,U=function(){$.postMessage(null)}}else U=function(){y(O,0)};function X(z){T=z,E||(E=!0,U())}function q(z,j){M=y(function(){z(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,X(b))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var H=d;d=j;try{return z()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=d;d=z;try{return j()}finally{d=H}},n.unstable_scheduleCallback=function(z,j,H){var V=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,z={id:c++,callback:j,priorityLevel:z,startTime:H,expirationTime:G,sortIndex:-1},H>V?(z.sortIndex=H,e(u,z),t(l)===null&&z===t(u)&&(g?(_(M),M=-1):g=!0,q(A,H-V))):(z.sortIndex=G,e(l,z),v||p||(v=!0,X(b))),z},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(z){var j=d;return function(){var H=d;d=j;try{return z.apply(this,arguments)}finally{d=H}}}})(Qz);Yz.exports=Qz;var kE=Yz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cee=function(e){var t={},r=I,i=kE,s=Object.assign;function o(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),b=Symbol.iterator;function E(h){return h===null||typeof h!="object"?null:(h=b&&h[b]||h["@@iterator"],typeof h=="function"?h:null)}function T(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case _:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case g:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case x:return m=h.displayName||null,m!==null?m:T(h.type)||"Memo";case w:m=h._payload,h=h._init;try{return T(h(m))}catch{}}return null}function M(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function P(h){var m=h,S=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(S=m.return),h=m.return;while(h)}return m.tag===3?S:null}function D(h){if(P(h)!==h)throw Error(o(188))}function F(h){var m=h.alternate;if(!m){if(m=P(h),m===null)throw Error(o(188));return m!==h?null:h}for(var S=h,C=m;;){var R=S.return;if(R===null)break;var B=R.alternate;if(B===null){if(C=R.return,C!==null){S=C;continue}break}if(R.child===B.child){for(B=R.child;B;){if(B===S)return D(R),h;if(B===C)return D(R),m;B=B.sibling}throw Error(o(188))}if(S.return!==C.return)S=R,C=B;else{for(var ee=!1,pe=R.child;pe;){if(pe===S){ee=!0,S=R,C=B;break}if(pe===C){ee=!0,C=R,S=B;break}pe=pe.sibling}if(!ee){for(pe=B.child;pe;){if(pe===S){ee=!0,S=B,C=R;break}if(pe===C){ee=!0,C=B,S=R;break}pe=pe.sibling}if(!ee)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:m}function O(h){return h=F(h),h!==null?U(h):null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=U(h);if(m!==null)return m;h=h.sibling}return null}function N(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=N(h);if(m!==null)return m}h=h.sibling}return null}var $=Array.isArray,X=e.getPublicInstance,q=e.getRootHostContext,z=e.getChildHostContext,j=e.prepareForCommit,H=e.resetAfterCommit,V=e.createInstance,G=e.appendInitialChild,J=e.finalizeInitialChildren,re=e.prepareUpdate,te=e.shouldSetTextContent,Y=e.createTextInstance,ce=e.scheduleTimeout,fe=e.cancelTimeout,Re=e.noTimeout,Ae=e.isPrimaryRenderer,ye=e.supportsMutation,le=e.supportsPersistence,de=e.supportsHydration,Ie=e.getInstanceFromNode,Ve=e.preparePortalMount,Be=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,De=e.supportsMicrotasks,Ue=e.scheduleMicrotask,Qe=e.supportsTestSelectors,Ce=e.findFiberRoot,K=e.getBoundingRect,k=e.getTextContent,se=e.isHiddenSubtree,me=e.matchAccessibilityRole,Oe=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,Ke=e.appendChild,Fe=e.appendChildToContainer,Ee=e.commitTextUpdate,tt=e.commitMount,at=e.commitUpdate,Je=e.insertBefore,Xe=e.insertInContainerBefore,je=e.removeChild,oe=e.removeChildFromContainer,Pe=e.resetTextContent,Ze=e.hideInstance,ae=e.hideTextInstance,ne=e.unhideInstance,Le=e.unhideTextInstance,st=e.clearContainer,it=e.cloneInstance,dt=e.createContainerChildSet,Tt=e.appendChildToContainerChildSet,Ct=e.finalizeContainerChildren,St=e.replaceContainerChildren,At=e.cloneHiddenInstance,tn=e.cloneHiddenTextInstance,Qt=e.canHydrateInstance,bn=e.canHydrateTextInstance,qr=e.canHydrateSuspenseInstance,Fr=e.isSuspenseInstancePending,ei=e.isSuspenseInstanceFallback,Z=e.registerSuspenseInstanceRetry,Se=e.getNextHydratableSibling,we=e.getFirstHydratableChild,ge=e.getFirstHydratableChildWithinContainer,ze=e.getFirstHydratableChildWithinSuspenseInstance,L=e.hydrateInstance,W=e.hydrateTextInstance,ie=e.hydrateSuspenseInstance,he=e.getNextHydratableInstanceAfterSuspenseInstance,_e=e.commitHydratedContainer,xe=e.commitHydratedSuspenseInstance,He=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,qe=e.shouldDeleteUnhydratedTailInstances,et=e.didNotMatchHydratedContainerTextInstance,nt=e.didNotMatchHydratedTextInstance,be;function mt(h){if(be===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);be=m&&m[1]||""}return`
`+be+h}var gt=!1;function lt(h,m){if(!h||gt)return"";gt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ot){var C=ot}Reflect.construct(h,[],m)}else{try{m.call()}catch(ot){C=ot}h.call(m.prototype)}else{try{throw Error()}catch(ot){C=ot}h()}}catch(ot){if(ot&&C&&typeof ot.stack=="string"){for(var R=ot.stack.split(`
`),B=C.stack.split(`
`),ee=R.length-1,pe=B.length-1;1<=ee&&0<=pe&&R[ee]!==B[pe];)pe--;for(;1<=ee&&0<=pe;ee--,pe--)if(R[ee]!==B[pe]){if(ee!==1||pe!==1)do if(ee--,pe--,0>pe||R[ee]!==B[pe]){var Ne=`
`+R[ee].replace(" at new "," at ");return h.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",h.displayName)),Ne}while(1<=ee&&0<=pe);break}}}finally{gt=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?mt(h):""}var Mt=Object.prototype.hasOwnProperty,kt=[],Nt=-1;function Ut(h){return{current:h}}function vt(h){0>Nt||(h.current=kt[Nt],kt[Nt]=null,Nt--)}function Pt(h,m){Nt++,kt[Nt]=h.current,h.current=m}var zt={},Gt=Ut(zt),Ot=Ut(!1),pn=zt;function Rn(h,m){var S=h.type.contextTypes;if(!S)return zt;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var R={},B;for(B in S)R[B]=m[B];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=R),R}function Nn(h){return h=h.childContextTypes,h!=null}function Un(){vt(Ot),vt(Gt)}function on(h,m,S){if(Gt.current!==zt)throw Error(o(168));Pt(Gt,m),Pt(Ot,S)}function jn(h,m,S){var C=h.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var R in C)if(!(R in m))throw Error(o(108,M(h)||"Unknown",R));return s({},S,C)}function un(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||zt,pn=Gt.current,Pt(Gt,h),Pt(Ot,Ot.current),!0}function Vt(h,m,S){var C=h.stateNode;if(!C)throw Error(o(169));S?(h=jn(h,m,pn),C.__reactInternalMemoizedMergedChildContext=h,vt(Ot),vt(Gt),Pt(Gt,h)):vt(Ot),Pt(Ot,S)}var Mn=Math.clz32?Math.clz32:ls,Wi=Math.log,fr=Math.LN2;function ls(h){return h>>>=0,h===0?32:31-(Wi(h)/fr|0)|0}var Da=64,Ba=4194304;function La(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rc(h,m){var S=h.pendingLanes;if(S===0)return 0;var C=0,R=h.suspendedLanes,B=h.pingedLanes,ee=S&268435455;if(ee!==0){var pe=ee&~R;pe!==0?C=La(pe):(B&=ee,B!==0&&(C=La(B)))}else ee=S&~R,ee!==0?C=La(ee):B!==0&&(C=La(B));if(C===0)return 0;if(m!==0&&m!==C&&!(m&R)&&(R=C&-C,B=m&-m,R>=B||R===16&&(B&4194240)!==0))return m;if(C&4&&(C|=S&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=C;0<m;)S=31-Mn(m),R=1<<S,C|=h[S],m&=~R;return C}function gv(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(h,m){for(var S=h.suspendedLanes,C=h.pingedLanes,R=h.expirationTimes,B=h.pendingLanes;0<B;){var ee=31-Mn(B),pe=1<<ee,Ne=R[ee];Ne===-1?(!(pe&S)||pe&C)&&(R[ee]=gv(pe,m)):Ne<=m&&(h.expiredLanes|=pe),B&=~pe}}function ka(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Yf(h){for(var m=[],S=0;31>S;S++)m.push(h);return m}function ea(h,m,S){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Mn(m),h[m]=S}function Ol(h,m){var S=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<S;){var R=31-Mn(S),B=1<<R;m[R]=0,C[R]=-1,h[R]=-1,S&=~B}}function ta(h,m){var S=h.entangledLanes|=m;for(h=h.entanglements;S;){var C=31-Mn(S),R=1<<C;R&m|h[C]&m&&(h[C]|=m),S&=~R}}var Zt=0;function Ip(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Oa=i.unstable_scheduleCallback,Qf=i.unstable_cancelCallback,Dp=i.unstable_shouldYield,vv=i.unstable_requestPaint,$n=i.unstable_now,ic=i.unstable_ImmediatePriority,yv=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,Bp=i.unstable_IdlePriority,sc=null,us=null;function Lp(h){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(sc,h,void 0,(h.current.flags&128)===128)}catch{}}function _v(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var cs=typeof Object.is=="function"?Object.is:_v,Ti=null,na=!1,Us=!1;function kp(h){Ti===null?Ti=[h]:Ti.push(h)}function Op(h){na=!0,kp(h)}function ji(){if(!Us&&Ti!==null){Us=!0;var h=0,m=Zt;try{var S=Ti;for(Zt=1;h<S.length;h++){var C=S[h];do C=C(!0);while(C!==null)}Ti=null,na=!1}catch(R){throw Ti!==null&&(Ti=Ti.slice(h+1)),Oa(ic,ji),R}finally{Zt=m,Us=!1}}return null}var oc=a.ReactCurrentBatchConfig;function ac(h,m){if(cs(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var S=Object.keys(h),C=Object.keys(m);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var R=S[C];if(!Mt.call(m,R)||!cs(h[R],m[R]))return!1}return!0}function lc(h){switch(h.tag){case 5:return mt(h.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return h=lt(h.type,!1),h;case 11:return h=lt(h.type.render,!1),h;case 1:return h=lt(h.type,!0),h;default:return""}}function Pi(h,m){if(h&&h.defaultProps){m=s({},m),h=h.defaultProps;for(var S in h)m[S]===void 0&&(m[S]=h[S]);return m}return m}var Nr=Ut(null),Zf=null,wo=null,Fl=null;function qf(){Fl=wo=Zf=null}function xv(h,m,S){Ae?(Pt(Nr,m._currentValue),m._currentValue=S):(Pt(Nr,m._currentValue2),m._currentValue2=S)}function Ur(h){var m=Nr.current;vt(Nr),Ae?h._currentValue=m:h._currentValue2=m}function Ri(h,m,S){for(;h!==null;){var C=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),h===S)break;h=h.return}}function dr(h,m){Zf=h,Fl=wo=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(ps=!0),h.firstContext=null)}function hr(h){var m=Ae?h._currentValue:h._currentValue2;if(Fl!==h)if(h={context:h,memoizedValue:m,next:null},wo===null){if(Zf===null)throw Error(o(308));wo=h,Zf.dependencies={lanes:0,firstContext:h}}else wo=wo.next=h;return m}var fs=null,Nl=!1;function Yw(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l3(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Fa(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Ul(h,m){var S=h.updateQueue;S!==null&&(S=S.shared,xr!==null&&h.mode&1&&!(Yt&2)?(h=S.interleaved,h===null?(m.next=m,fs===null?fs=[S]:fs.push(S)):(m.next=h.next,h.next=m),S.interleaved=m):(h=S.pending,h===null?m.next=m:(m.next=h.next,h.next=m),S.pending=m))}function wv(h,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var C=m.lanes;C&=h.pendingLanes,S|=C,m.lanes=S,ta(h,S)}}function u3(h,m){var S=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var R=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};B===null?R=B=ee:B=B.next=ee,S=S.next}while(S!==null);B===null?R=B=m:B=B.next=m}else R=B=m;S={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:B,shared:C.shared,effects:C.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=m:h.next=m,S.lastBaseUpdate=m}function Sv(h,m,S,C){var R=h.updateQueue;Nl=!1;var B=R.firstBaseUpdate,ee=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var Ne=pe,ot=Ne.next;Ne.next=null,ee===null?B=ot:ee.next=ot,ee=Ne;var _t=h.alternate;_t!==null&&(_t=_t.updateQueue,pe=_t.lastBaseUpdate,pe!==ee&&(pe===null?_t.firstBaseUpdate=ot:pe.next=ot,_t.lastBaseUpdate=Ne))}if(B!==null){var Wt=R.baseState;ee=0,_t=ot=Ne=null,pe=B;do{var Rt=pe.lane,wn=pe.eventTime;if((C&Rt)===Rt){_t!==null&&(_t=_t.next={eventTime:wn,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var Et=h,fi=pe;switch(Rt=m,wn=S,fi.tag){case 1:if(Et=fi.payload,typeof Et=="function"){Wt=Et.call(wn,Wt,Rt);break e}Wt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=fi.payload,Rt=typeof Et=="function"?Et.call(wn,Wt,Rt):Et,Rt==null)break e;Wt=s({},Wt,Rt);break e;case 2:Nl=!0}}pe.callback!==null&&pe.lane!==0&&(h.flags|=64,Rt=R.effects,Rt===null?R.effects=[pe]:Rt.push(pe))}else wn={eventTime:wn,lane:Rt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},_t===null?(ot=_t=wn,Ne=Wt):_t=_t.next=wn,ee|=Rt;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;Rt=pe,pe=Rt.next,Rt.next=null,R.lastBaseUpdate=Rt,R.shared.pending=null}}while(!0);if(_t===null&&(Ne=Wt),R.baseState=Ne,R.firstBaseUpdate=ot,R.lastBaseUpdate=_t,m=R.shared.interleaved,m!==null){R=m;do ee|=R.lane,R=R.next;while(R!==m)}else B===null&&(R.shared.lanes=0);ld|=ee,h.lanes=ee,h.memoizedState=Wt}}function c3(h,m,S){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var C=h[m],R=C.callback;if(R!==null){if(C.callback=null,C=S,typeof R!="function")throw Error(o(191,R));R.call(C)}}}var f3=new r.Component().refs;function Qw(h,m,S,C){m=h.memoizedState,S=S(C,m),S=S==null?m:s({},m,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var Av={isMounted:function(h){return(h=h._reactInternals)?P(h)===h:!1},enqueueSetState:function(h,m,S){h=h._reactInternals;var C=Di(),R=Hl(h),B=Fa(C,R);B.payload=m,S!=null&&(B.callback=S),Ul(h,B),m=Ws(h,R,C),m!==null&&wv(m,h,R)},enqueueReplaceState:function(h,m,S){h=h._reactInternals;var C=Di(),R=Hl(h),B=Fa(C,R);B.tag=1,B.payload=m,S!=null&&(B.callback=S),Ul(h,B),m=Ws(h,R,C),m!==null&&wv(m,h,R)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var S=Di(),C=Hl(h),R=Fa(S,C);R.tag=2,m!=null&&(R.callback=m),Ul(h,R),m=Ws(h,C,S),m!==null&&wv(m,h,C)}};function d3(h,m,S,C,R,B,ee){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,B,ee):m.prototype&&m.prototype.isPureReactComponent?!ac(S,C)||!ac(R,B):!0}function h3(h,m,S){var C=!1,R=zt,B=m.contextType;return typeof B=="object"&&B!==null?B=hr(B):(R=Nn(m)?pn:Gt.current,C=m.contextTypes,B=(C=C!=null)?Rn(h,R):zt),m=new m(S,B),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Av,h.stateNode=m,m._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=B),m}function p3(h,m,S,C){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,C),m.state!==h&&Av.enqueueReplaceState(m,m.state,null)}function Zw(h,m,S,C){var R=h.stateNode;R.props=S,R.state=h.memoizedState,R.refs=f3,Yw(h);var B=m.contextType;typeof B=="object"&&B!==null?R.context=hr(B):(B=Nn(m)?pn:Gt.current,R.context=Rn(h,B)),R.state=h.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(Qw(h,m,B,S),R.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&Av.enqueueReplaceState(R,R.state,null),Sv(h,S,R,C),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var ed=[],td=0,bv=null,Mv=0,zs=[],Gs=0,uc=null,Na=1,Ua="";function cc(h,m){ed[td++]=Mv,ed[td++]=bv,bv=h,Mv=m}function m3(h,m,S){zs[Gs++]=Na,zs[Gs++]=Ua,zs[Gs++]=uc,uc=h;var C=Na;h=Ua;var R=32-Mn(C)-1;C&=~(1<<R),S+=1;var B=32-Mn(m)+R;if(30<B){var ee=R-R%5;B=(C&(1<<ee)-1).toString(32),C>>=ee,R-=ee,Na=1<<32-Mn(m)+R|S<<R|C,Ua=B+h}else Na=1<<B|S<<R|C,Ua=h}function qw(h){h.return!==null&&(cc(h,1),m3(h,1,0))}function eS(h){for(;h===bv;)bv=ed[--td],ed[td]=null,Mv=ed[--td],ed[td]=null;for(;h===uc;)uc=zs[--Gs],zs[Gs]=null,Ua=zs[--Gs],zs[Gs]=null,Na=zs[--Gs],zs[Gs]=null}var ds=null,hs=null,zn=!1,Fp=!1,So=null;function g3(h,m){var S=js(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=h,m=h.deletions,m===null?(h.deletions=[S],h.flags|=16):m.push(S)}function v3(h,m){switch(h.tag){case 5:return m=Qt(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,ds=h,hs=we(m),!0):!1;case 6:return m=bn(m,h.pendingProps),m!==null?(h.stateNode=m,ds=h,hs=null,!0):!1;case 13:if(m=qr(m),m!==null){var S=uc!==null?{id:Na,overflow:Ua}:null;return h.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=js(18,null,null,0),S.stateNode=m,S.return=h,h.child=S,ds=h,hs=null,!0}return!1;default:return!1}}function tS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function nS(h){if(zn){var m=hs;if(m){var S=m;if(!v3(h,m)){if(tS(h))throw Error(o(418));m=Se(S);var C=ds;m&&v3(h,m)?g3(C,S):(h.flags=h.flags&-4097|2,zn=!1,ds=h)}}else{if(tS(h))throw Error(o(418));h.flags=h.flags&-4097|2,zn=!1,ds=h}}}function y3(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ds=h}function Np(h){if(!de||h!==ds)return!1;if(!zn)return y3(h),zn=!0,!1;if(h.tag!==3&&(h.tag!==5||qe(h.type)&&!te(h.type,h.memoizedProps))){var m=hs;if(m){if(tS(h)){for(h=hs;h;)h=Se(h);throw Error(o(418))}for(;m;)g3(h,m),m=Se(m)}}if(y3(h),h.tag===13){if(!de)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));hs=he(h)}else hs=ds?Se(h.stateNode):null;return!0}function nd(){de&&(hs=ds=null,Fp=zn=!1)}function rS(h){So===null?So=[h]:So.push(h)}function Up(h,m,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,h));var R=C,B=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===B?m.ref:(m=function(ee){var pe=R.refs;pe===f3&&(pe=R.refs={}),ee===null?delete pe[B]:pe[B]=ee},m._stringRef=B,m)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function Ev(h,m){throw h=Object.prototype.toString.call(m),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function _3(h){var m=h._init;return m(h._payload)}function x3(h){function m(Te,ve){if(h){var ke=Te.deletions;ke===null?(Te.deletions=[ve],Te.flags|=16):ke.push(ve)}}function S(Te,ve){if(!h)return null;for(;ve!==null;)m(Te,ve),ve=ve.sibling;return null}function C(Te,ve){for(Te=new Map;ve!==null;)ve.key!==null?Te.set(ve.key,ve):Te.set(ve.index,ve),ve=ve.sibling;return Te}function R(Te,ve){return Te=Wl(Te,ve),Te.index=0,Te.sibling=null,Te}function B(Te,ve,ke){return Te.index=ke,h?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<ve?(Te.flags|=2,ve):ke):(Te.flags|=2,ve)):(Te.flags|=1048576,ve)}function ee(Te){return h&&Te.alternate===null&&(Te.flags|=2),Te}function pe(Te,ve,ke,pt){return ve===null||ve.tag!==6?(ve=zS(ke,Te.mode,pt),ve.return=Te,ve):(ve=R(ve,ke),ve.return=Te,ve)}function Ne(Te,ve,ke,pt){var bt=ke.type;return bt===c?_t(Te,ve,ke.props.children,pt,ke.key):ve!==null&&(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&_3(bt)===ve.type)?(pt=R(ve,ke.props),pt.ref=Up(Te,ve,ke),pt.return=Te,pt):(pt=ry(ke.type,ke.key,ke.props,null,Te.mode,pt),pt.ref=Up(Te,ve,ke),pt.return=Te,pt)}function ot(Te,ve,ke,pt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=GS(ke,Te.mode,pt),ve.return=Te,ve):(ve=R(ve,ke.children||[]),ve.return=Te,ve)}function _t(Te,ve,ke,pt,bt){return ve===null||ve.tag!==7?(ve=vc(ke,Te.mode,pt,bt),ve.return=Te,ve):(ve=R(ve,ke),ve.return=Te,ve)}function Wt(Te,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=zS(""+ve,Te.mode,ke),ve.return=Te,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:return ke=ry(ve.type,ve.key,ve.props,null,Te.mode,ke),ke.ref=Up(Te,null,ve),ke.return=Te,ke;case u:return ve=GS(ve,Te.mode,ke),ve.return=Te,ve;case w:var pt=ve._init;return Wt(Te,pt(ve._payload),ke)}if($(ve)||E(ve))return ve=vc(ve,Te.mode,ke,null),ve.return=Te,ve;Ev(Te,ve)}return null}function Rt(Te,ve,ke,pt){var bt=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return bt!==null?null:pe(Te,ve,""+ke,pt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===bt?Ne(Te,ve,ke,pt):null;case u:return ke.key===bt?ot(Te,ve,ke,pt):null;case w:return bt=ke._init,Rt(Te,ve,bt(ke._payload),pt)}if($(ke)||E(ke))return bt!==null?null:_t(Te,ve,ke,pt,null);Ev(Te,ke)}return null}function wn(Te,ve,ke,pt,bt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Te=Te.get(ke)||null,pe(ve,Te,""+pt,bt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case l:return Te=Te.get(pt.key===null?ke:pt.key)||null,Ne(ve,Te,pt,bt);case u:return Te=Te.get(pt.key===null?ke:pt.key)||null,ot(ve,Te,pt,bt);case w:var Jt=pt._init;return wn(Te,ve,ke,Jt(pt._payload),bt)}if($(pt)||E(pt))return Te=Te.get(ke)||null,_t(ve,Te,pt,bt,null);Ev(ve,pt)}return null}function Et(Te,ve,ke,pt){for(var bt=null,Jt=null,jt=ve,fn=ve=0,Gr=null;jt!==null&&fn<ke.length;fn++){jt.index>fn?(Gr=jt,jt=null):Gr=jt.sibling;var dn=Rt(Te,jt,ke[fn],pt);if(dn===null){jt===null&&(jt=Gr);break}h&&jt&&dn.alternate===null&&m(Te,jt),ve=B(dn,ve,fn),Jt===null?bt=dn:Jt.sibling=dn,Jt=dn,jt=Gr}if(fn===ke.length)return S(Te,jt),zn&&cc(Te,fn),bt;if(jt===null){for(;fn<ke.length;fn++)jt=Wt(Te,ke[fn],pt),jt!==null&&(ve=B(jt,ve,fn),Jt===null?bt=jt:Jt.sibling=jt,Jt=jt);return zn&&cc(Te,fn),bt}for(jt=C(Te,jt);fn<ke.length;fn++)Gr=wn(jt,Te,fn,ke[fn],pt),Gr!==null&&(h&&Gr.alternate!==null&&jt.delete(Gr.key===null?fn:Gr.key),ve=B(Gr,ve,fn),Jt===null?bt=Gr:Jt.sibling=Gr,Jt=Gr);return h&&jt.forEach(function(jl){return m(Te,jl)}),zn&&cc(Te,fn),bt}function fi(Te,ve,ke,pt){var bt=E(ke);if(typeof bt!="function")throw Error(o(150));if(ke=bt.call(ke),ke==null)throw Error(o(151));for(var Jt=bt=null,jt=ve,fn=ve=0,Gr=null,dn=ke.next();jt!==null&&!dn.done;fn++,dn=ke.next()){jt.index>fn?(Gr=jt,jt=null):Gr=jt.sibling;var jl=Rt(Te,jt,dn.value,pt);if(jl===null){jt===null&&(jt=Gr);break}h&&jt&&jl.alternate===null&&m(Te,jt),ve=B(jl,ve,fn),Jt===null?bt=jl:Jt.sibling=jl,Jt=jl,jt=Gr}if(dn.done)return S(Te,jt),zn&&cc(Te,fn),bt;if(jt===null){for(;!dn.done;fn++,dn=ke.next())dn=Wt(Te,dn.value,pt),dn!==null&&(ve=B(dn,ve,fn),Jt===null?bt=dn:Jt.sibling=dn,Jt=dn);return zn&&cc(Te,fn),bt}for(jt=C(Te,jt);!dn.done;fn++,dn=ke.next())dn=wn(jt,Te,fn,dn.value,pt),dn!==null&&(h&&dn.alternate!==null&&jt.delete(dn.key===null?fn:dn.key),ve=B(dn,ve,fn),Jt===null?bt=dn:Jt.sibling=dn,Jt=dn);return h&&jt.forEach(function(a7){return m(Te,a7)}),zn&&cc(Te,fn),bt}function $s(Te,ve,ke,pt){if(typeof ke=="object"&&ke!==null&&ke.type===c&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var bt=ke.key,Jt=ve;Jt!==null;){if(Jt.key===bt){if(bt=ke.type,bt===c){if(Jt.tag===7){S(Te,Jt.sibling),ve=R(Jt,ke.props.children),ve.return=Te,Te=ve;break e}}else if(Jt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&_3(bt)===Jt.type){S(Te,Jt.sibling),ve=R(Jt,ke.props),ve.ref=Up(Te,Jt,ke),ve.return=Te,Te=ve;break e}S(Te,Jt);break}else m(Te,Jt);Jt=Jt.sibling}ke.type===c?(ve=vc(ke.props.children,Te.mode,pt,ke.key),ve.return=Te,Te=ve):(pt=ry(ke.type,ke.key,ke.props,null,Te.mode,pt),pt.ref=Up(Te,ve,ke),pt.return=Te,Te=pt)}return ee(Te);case u:e:{for(Jt=ke.key;ve!==null;){if(ve.key===Jt)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){S(Te,ve.sibling),ve=R(ve,ke.children||[]),ve.return=Te,Te=ve;break e}else{S(Te,ve);break}else m(Te,ve);ve=ve.sibling}ve=GS(ke,Te.mode,pt),ve.return=Te,Te=ve}return ee(Te);case w:return Jt=ke._init,$s(Te,ve,Jt(ke._payload),pt)}if($(ke))return Et(Te,ve,ke,pt);if(E(ke))return fi(Te,ve,ke,pt);Ev(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ve!==null&&ve.tag===6?(S(Te,ve.sibling),ve=R(ve,ke),ve.return=Te,Te=ve):(S(Te,ve),ve=zS(ke,Te.mode,pt),ve.return=Te,Te=ve),ee(Te)):S(Te,ve)}return $s}var rd=x3(!0),w3=x3(!1),zp={},Hs=Ut(zp),Gp=Ut(zp),id=Ut(zp);function ra(h){if(h===zp)throw Error(o(174));return h}function iS(h,m){Pt(id,m),Pt(Gp,h),Pt(Hs,zp),h=q(m),vt(Hs),Pt(Hs,h)}function sd(){vt(Hs),vt(Gp),vt(id)}function S3(h){var m=ra(id.current),S=ra(Hs.current);m=z(S,h.type,m),S!==m&&(Pt(Gp,h),Pt(Hs,m))}function sS(h){Gp.current===h&&(vt(Hs),vt(Gp))}var Xn=Ut(0);function Cv(h){for(var m=h;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Fr(S)||ei(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var oS=[];function aS(){for(var h=0;h<oS.length;h++){var m=oS[h];Ae?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}oS.length=0}var Tv=a.ReactCurrentDispatcher,Vs=a.ReactCurrentBatchConfig,od=0,ir=null,li=null,zr=null,Pv=!1,Hp=!1,Vp=0,DW=0;function ui(){throw Error(o(321))}function lS(h,m){if(m===null)return!1;for(var S=0;S<m.length&&S<h.length;S++)if(!cs(h[S],m[S]))return!1;return!0}function uS(h,m,S,C,R,B){if(od=B,ir=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Tv.current=h===null||h.memoizedState===null?OW:FW,h=S(C,R),Hp){B=0;do{if(Hp=!1,Vp=0,25<=B)throw Error(o(301));B+=1,zr=li=null,m.updateQueue=null,Tv.current=NW,h=S(C,R)}while(Hp)}if(Tv.current=Lv,m=li!==null&&li.next!==null,od=0,zr=li=ir=null,Pv=!1,m)throw Error(o(300));return h}function cS(){var h=Vp!==0;return Vp=0,h}function za(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?ir.memoizedState=zr=h:zr=zr.next=h,zr}function ia(){if(li===null){var h=ir.alternate;h=h!==null?h.memoizedState:null}else h=li.next;var m=zr===null?ir.memoizedState:zr.next;if(m!==null)zr=m,li=h;else{if(h===null)throw Error(o(310));li=h,h={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},zr===null?ir.memoizedState=zr=h:zr=zr.next=h}return zr}function fc(h,m){return typeof m=="function"?m(h):m}function Rv(h){var m=ia(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=li,R=C.baseQueue,B=S.pending;if(B!==null){if(R!==null){var ee=R.next;R.next=B.next,B.next=ee}C.baseQueue=R=B,S.pending=null}if(R!==null){B=R.next,C=C.baseState;var pe=ee=null,Ne=null,ot=B;do{var _t=ot.lane;if((od&_t)===_t)Ne!==null&&(Ne=Ne.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),C=ot.hasEagerState?ot.eagerState:h(C,ot.action);else{var Wt={lane:_t,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};Ne===null?(pe=Ne=Wt,ee=C):Ne=Ne.next=Wt,ir.lanes|=_t,ld|=_t}ot=ot.next}while(ot!==null&&ot!==B);Ne===null?ee=C:Ne.next=pe,cs(C,m.memoizedState)||(ps=!0),m.memoizedState=C,m.baseState=ee,m.baseQueue=Ne,S.lastRenderedState=C}if(h=S.interleaved,h!==null){R=h;do B=R.lane,ir.lanes|=B,ld|=B,R=R.next;while(R!==h)}else R===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function Iv(h){var m=ia(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=S.dispatch,R=S.pending,B=m.memoizedState;if(R!==null){S.pending=null;var ee=R=R.next;do B=h(B,ee.action),ee=ee.next;while(ee!==R);cs(B,m.memoizedState)||(ps=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),S.lastRenderedState=B}return[B,C]}function A3(){}function b3(h,m){var S=ir,C=ia(),R=m(),B=!cs(C.memoizedState,R);if(B&&(C.memoizedState=R,ps=!0),C=C.queue,jp(C3.bind(null,S,C,h),[h]),C.getSnapshot!==m||B||zr!==null&&zr.memoizedState.tag&1){if(S.flags|=2048,Wp(9,E3.bind(null,S,C,R,m),void 0,null),xr===null)throw Error(o(349));od&30||M3(S,m,R)}return R}function M3(h,m,S){h.flags|=16384,h={getSnapshot:m,value:S},m=ir.updateQueue,m===null?(m={lastEffect:null,stores:null},ir.updateQueue=m,m.stores=[h]):(S=m.stores,S===null?m.stores=[h]:S.push(h))}function E3(h,m,S,C){m.value=S,m.getSnapshot=C,T3(m)&&Ws(h,1,-1)}function C3(h,m,S){return S(function(){T3(m)&&Ws(h,1,-1)})}function T3(h){var m=h.getSnapshot;h=h.value;try{var S=m();return!cs(h,S)}catch{return!0}}function fS(h){var m=za();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:h},m.queue=h,h=h.dispatch=kW.bind(null,ir,h),[m.memoizedState,h]}function Wp(h,m,S,C){return h={tag:h,create:m,destroy:S,deps:C,next:null},m=ir.updateQueue,m===null?(m={lastEffect:null,stores:null},ir.updateQueue=m,m.lastEffect=h.next=h):(S=m.lastEffect,S===null?m.lastEffect=h.next=h:(C=S.next,S.next=h,h.next=C,m.lastEffect=h)),h}function P3(){return ia().memoizedState}function Dv(h,m,S,C){var R=za();ir.flags|=h,R.memoizedState=Wp(1|m,S,void 0,C===void 0?null:C)}function Bv(h,m,S,C){var R=ia();C=C===void 0?null:C;var B=void 0;if(li!==null){var ee=li.memoizedState;if(B=ee.destroy,C!==null&&lS(C,ee.deps)){R.memoizedState=Wp(m,S,B,C);return}}ir.flags|=h,R.memoizedState=Wp(1|m,S,B,C)}function dS(h,m){return Dv(8390656,8,h,m)}function jp(h,m){return Bv(2048,8,h,m)}function R3(h,m){return Bv(4,2,h,m)}function I3(h,m){return Bv(4,4,h,m)}function D3(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function B3(h,m,S){return S=S!=null?S.concat([h]):null,Bv(4,4,D3.bind(null,m,h),S)}function hS(){}function L3(h,m){var S=ia();m=m===void 0?null:m;var C=S.memoizedState;return C!==null&&m!==null&&lS(m,C[1])?C[0]:(S.memoizedState=[h,m],h)}function k3(h,m){var S=ia();m=m===void 0?null:m;var C=S.memoizedState;return C!==null&&m!==null&&lS(m,C[1])?C[0]:(h=h(),S.memoizedState=[h,m],h)}function BW(h,m){var S=Zt;Zt=S!==0&&4>S?S:4,h(!0);var C=Vs.transition;Vs.transition={};try{h(!1),m()}finally{Zt=S,Vs.transition=C}}function O3(){return ia().memoizedState}function LW(h,m,S){var C=Hl(h);S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},F3(h)?N3(m,S):(U3(h,m,S),S=Di(),h=Ws(h,C,S),h!==null&&z3(h,m,C))}function kW(h,m,S){var C=Hl(h),R={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(F3(h))N3(m,R);else{U3(h,m,R);var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var ee=m.lastRenderedState,pe=B(ee,S);if(R.hasEagerState=!0,R.eagerState=pe,cs(pe,ee))return}catch{}finally{}S=Di(),h=Ws(h,C,S),h!==null&&z3(h,m,C)}}function F3(h){var m=h.alternate;return h===ir||m!==null&&m===ir}function N3(h,m){Hp=Pv=!0;var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}function U3(h,m,S){xr!==null&&h.mode&1&&!(Yt&2)?(h=m.interleaved,h===null?(S.next=S,fs===null?fs=[m]:fs.push(m)):(S.next=h.next,h.next=S),m.interleaved=S):(h=m.pending,h===null?S.next=S:(S.next=h.next,h.next=S),m.pending=S)}function z3(h,m,S){if(S&4194240){var C=m.lanes;C&=h.pendingLanes,S|=C,m.lanes=S,ta(h,S)}}var Lv={readContext:hr,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},OW={readContext:hr,useCallback:function(h,m){return za().memoizedState=[h,m===void 0?null:m],h},useContext:hr,useEffect:dS,useImperativeHandle:function(h,m,S){return S=S!=null?S.concat([h]):null,Dv(4194308,4,D3.bind(null,m,h),S)},useLayoutEffect:function(h,m){return Dv(4194308,4,h,m)},useInsertionEffect:function(h,m){return Dv(4,2,h,m)},useMemo:function(h,m){var S=za();return m=m===void 0?null:m,h=h(),S.memoizedState=[h,m],h},useReducer:function(h,m,S){var C=za();return m=S!==void 0?S(m):m,C.memoizedState=C.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},C.queue=h,h=h.dispatch=LW.bind(null,ir,h),[C.memoizedState,h]},useRef:function(h){var m=za();return h={current:h},m.memoizedState=h},useState:fS,useDebugValue:hS,useDeferredValue:function(h){var m=fS(h),S=m[0],C=m[1];return dS(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=fS(!1),m=h[0];return h=BW.bind(null,h[1]),za().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,S){var C=ir,R=za();if(zn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=m(),xr===null)throw Error(o(349));od&30||M3(C,m,S)}R.memoizedState=S;var B={value:S,getSnapshot:m};return R.queue=B,dS(C3.bind(null,C,B,h),[h]),C.flags|=2048,Wp(9,E3.bind(null,C,B,S,m),void 0,null),S},useId:function(){var h=za(),m=xr.identifierPrefix;if(zn){var S=Ua,C=Na;S=(C&~(1<<32-Mn(C)-1)).toString(32)+S,m=":"+m+"R"+S,S=Vp++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=DW++,m=":"+m+"r"+S.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},FW={readContext:hr,useCallback:L3,useContext:hr,useEffect:jp,useImperativeHandle:B3,useInsertionEffect:R3,useLayoutEffect:I3,useMemo:k3,useReducer:Rv,useRef:P3,useState:function(){return Rv(fc)},useDebugValue:hS,useDeferredValue:function(h){var m=Rv(fc),S=m[0],C=m[1];return jp(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=Rv(fc)[0],m=ia().memoizedState;return[h,m]},useMutableSource:A3,useSyncExternalStore:b3,useId:O3,unstable_isNewReconciler:!1},NW={readContext:hr,useCallback:L3,useContext:hr,useEffect:jp,useImperativeHandle:B3,useInsertionEffect:R3,useLayoutEffect:I3,useMemo:k3,useReducer:Iv,useRef:P3,useState:function(){return Iv(fc)},useDebugValue:hS,useDeferredValue:function(h){var m=Iv(fc),S=m[0],C=m[1];return jp(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=Iv(fc)[0],m=ia().memoizedState;return[h,m]},useMutableSource:A3,useSyncExternalStore:b3,useId:O3,unstable_isNewReconciler:!1};function pS(h,m){try{var S="",C=m;do S+=lc(C),C=C.return;while(C);var R=S}catch(B){R=`
Error generating stack: `+B.message+`
`+B.stack}return{value:h,source:m,stack:R}}function mS(h,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var UW=typeof WeakMap=="function"?WeakMap:Map;function G3(h,m,S){S=Fa(-1,S),S.tag=3,S.payload={element:null};var C=m.value;return S.callback=function(){Yv||(Yv=!0,BS=C),mS(h,m)},S}function H3(h,m,S){S=Fa(-1,S),S.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var R=m.value;S.payload=function(){return C(R)},S.callback=function(){mS(h,m)}}var B=h.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(S.callback=function(){mS(h,m),typeof C!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})}),S}function V3(h,m,S){var C=h.pingCache;if(C===null){C=h.pingCache=new UW;var R=new Set;C.set(m,R)}else R=C.get(m),R===void 0&&(R=new Set,C.set(m,R));R.has(S)||(R.add(S),h=qW.bind(null,h,m,S),m.then(h,h))}function W3(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function j3(h,m,S,C,R){return h.mode&1?(h.flags|=65536,h.lanes=R,h):(h===m?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=Fa(-1,1),m.tag=2,Ul(S,m))),S.lanes|=1),h)}function sa(h){h.flags|=4}function $3(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var $p,Xp,kv,Ov;if(ye)$p=function(h,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)G(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Xp=function(){},kv=function(h,m,S,C,R){if(h=h.memoizedProps,h!==C){var B=m.stateNode,ee=ra(Hs.current);S=re(B,S,h,C,R,ee),(m.updateQueue=S)&&sa(m)}},Ov=function(h,m,S,C){S!==C&&sa(m)};else if(le){$p=function(h,m,S,C){for(var R=m.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&C&&(B=At(B,R.type,R.memoizedProps,R)),G(h,B)}else if(R.tag===6)B=R.stateNode,S&&C&&(B=tn(B,R.memoizedProps,R)),G(h,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),$p(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var X3=function(h,m,S,C){for(var R=m.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&C&&(B=At(B,R.type,R.memoizedProps,R)),Tt(h,B)}else if(R.tag===6)B=R.stateNode,S&&C&&(B=tn(B,R.memoizedProps,R)),Tt(h,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),X3(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};Xp=function(h,m){var S=m.stateNode;if(!$3(h,m)){h=S.containerInfo;var C=dt(h);X3(C,m,!1,!1),S.pendingChildren=C,sa(m),Ct(h,C)}},kv=function(h,m,S,C,R){var B=h.stateNode,ee=h.memoizedProps;if((h=$3(h,m))&&ee===C)m.stateNode=B;else{var pe=m.stateNode,Ne=ra(Hs.current),ot=null;ee!==C&&(ot=re(pe,S,ee,C,R,Ne)),h&&ot===null?m.stateNode=B:(B=it(B,ot,S,ee,C,m,h,pe),J(B,S,C,R,Ne)&&sa(m),m.stateNode=B,h?sa(m):$p(B,m,!1,!1))}},Ov=function(h,m,S,C){S!==C?(h=ra(id.current),S=ra(Hs.current),m.stateNode=Y(C,h,S,m),sa(m)):m.stateNode=h.stateNode}}else Xp=function(){},kv=function(){},Ov=function(){};function Jp(h,m){if(!zn)switch(h.tailMode){case"hidden":m=h.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function ci(h){var m=h.alternate!==null&&h.alternate.child===h.child,S=0,C=0;if(m)for(var R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags&14680064,C|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=C,h.childLanes=S,m}function zW(h,m,S){var C=m.pendingProps;switch(eS(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(m),null;case 1:return Nn(m.type)&&Un(),ci(m),null;case 3:return C=m.stateNode,sd(),vt(Ot),vt(Gt),aS(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(Np(m)?sa(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,So!==null&&(OS(So),So=null))),Xp(h,m),ci(m),null;case 5:sS(m),S=ra(id.current);var R=m.type;if(h!==null&&m.stateNode!=null)kv(h,m,R,C,S),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(o(166));return ci(m),null}if(h=ra(Hs.current),Np(m)){if(!de)throw Error(o(175));h=L(m.stateNode,m.type,m.memoizedProps,S,h,m,!Fp),m.updateQueue=h,h!==null&&sa(m)}else{var B=V(R,C,S,h,m);$p(B,m,!1,!1),m.stateNode=B,J(B,R,C,S,h)&&sa(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ci(m),null;case 6:if(h&&m.stateNode!=null)Ov(h,m,h.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(o(166));if(h=ra(id.current),S=ra(Hs.current),Np(m)){if(!de)throw Error(o(176));if(h=m.stateNode,C=m.memoizedProps,(S=W(h,C,m,!Fp))&&(R=ds,R!==null))switch(B=(R.mode&1)!==0,R.tag){case 3:et(R.stateNode.containerInfo,h,C,B);break;case 5:nt(R.type,R.memoizedProps,R.stateNode,h,C,B)}S&&sa(m)}else m.stateNode=Y(C,h,S,m)}return ci(m),null;case 13:if(vt(Xn),C=m.memoizedState,zn&&hs!==null&&m.mode&1&&!(m.flags&128)){for(h=hs;h;)h=Se(h);return nd(),m.flags|=98560,m}if(C!==null&&C.dehydrated!==null){if(C=Np(m),h===null){if(!C)throw Error(o(318));if(!de)throw Error(o(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));ie(h,m)}else nd(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return ci(m),null}return So!==null&&(OS(So),So=null),m.flags&128?(m.lanes=S,m):(C=C!==null,S=!1,h===null?Np(m):S=h.memoizedState!==null,C&&!S&&(m.child.flags|=8192,m.mode&1&&(h===null||Xn.current&1?Cr===0&&(Cr=3):NS())),m.updateQueue!==null&&(m.flags|=4),ci(m),null);case 4:return sd(),Xp(h,m),h===null&&Ve(m.stateNode.containerInfo),ci(m),null;case 10:return Ur(m.type._context),ci(m),null;case 17:return Nn(m.type)&&Un(),ci(m),null;case 19:if(vt(Xn),R=m.memoizedState,R===null)return ci(m),null;if(C=(m.flags&128)!==0,B=R.rendering,B===null)if(C)Jp(R,!1);else{if(Cr!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(B=Cv(h),B!==null){for(m.flags|=128,Jp(R,!1),h=B.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=S,C=m.child;C!==null;)S=C,R=h,S.flags&=14680066,B=S.alternate,B===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=B.childLanes,S.lanes=B.lanes,S.child=B.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=B.memoizedProps,S.memoizedState=B.memoizedState,S.updateQueue=B.updateQueue,S.type=B.type,R=B.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),C=C.sibling;return Pt(Xn,Xn.current&1|2),m.child}h=h.sibling}R.tail!==null&&$n()>DS&&(m.flags|=128,C=!0,Jp(R,!1),m.lanes=4194304)}else{if(!C)if(h=Cv(B),h!==null){if(m.flags|=128,C=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),Jp(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!zn)return ci(m),null}else 2*$n()-R.renderingStartTime>DS&&S!==1073741824&&(m.flags|=128,C=!0,Jp(R,!1),m.lanes=4194304);R.isBackwards?(B.sibling=m.child,m.child=B):(h=R.last,h!==null?h.sibling=B:m.child=B,R.last=B)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=$n(),m.sibling=null,h=Xn.current,Pt(Xn,C?h&1|2:h&1),m):(ci(m),null);case 22:case 23:return FS(),C=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(m.flags|=8192),C&&m.mode&1?ms&1073741824&&(ci(m),ye&&m.subtreeFlags&6&&(m.flags|=8192)):ci(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var GW=a.ReactCurrentOwner,ps=!1;function Ii(h,m,S,C){m.child=h===null?w3(m,null,S,C):rd(m,h.child,S,C)}function J3(h,m,S,C,R){S=S.render;var B=m.ref;return dr(m,R),C=uS(h,m,S,C,B,R),S=cS(),h!==null&&!ps?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,Ga(h,m,R)):(zn&&S&&qw(m),m.flags|=1,Ii(h,m,C,R),m.child)}function K3(h,m,S,C,R){if(h===null){var B=S.type;return typeof B=="function"&&!US(B)&&B.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=B,Y3(h,m,B,C,R)):(h=ry(S.type,null,C,m,m.mode,R),h.ref=m.ref,h.return=m,m.child=h)}if(B=h.child,!(h.lanes&R)){var ee=B.memoizedProps;if(S=S.compare,S=S!==null?S:ac,S(ee,C)&&h.ref===m.ref)return Ga(h,m,R)}return m.flags|=1,h=Wl(B,C),h.ref=m.ref,h.return=m,m.child=h}function Y3(h,m,S,C,R){if(h!==null&&ac(h.memoizedProps,C)&&h.ref===m.ref)if(ps=!1,(h.lanes&R)!==0)h.flags&131072&&(ps=!0);else return m.lanes=h.lanes,Ga(h,m,R);return gS(h,m,S,C,R)}function Q3(h,m,S){var C=m.pendingProps,R=C.children,B=h!==null?h.memoizedState:null;if(C.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Pt(ad,ms),ms|=S;else if(S&1073741824)m.memoizedState={baseLanes:0,cachePool:null},C=B!==null?B.baseLanes:S,Pt(ad,ms),ms|=C;else return h=B!==null?B.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Pt(ad,ms),ms|=h,null;else B!==null?(C=B.baseLanes|S,m.memoizedState=null):C=S,Pt(ad,ms),ms|=C;return Ii(h,m,R,S),m.child}function Z3(h,m){var S=m.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function gS(h,m,S,C,R){var B=Nn(S)?pn:Gt.current;return B=Rn(m,B),dr(m,R),S=uS(h,m,S,C,B,R),C=cS(),h!==null&&!ps?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~R,Ga(h,m,R)):(zn&&C&&qw(m),m.flags|=1,Ii(h,m,S,R),m.child)}function q3(h,m,S,C,R){if(Nn(S)){var B=!0;un(m)}else B=!1;if(dr(m,R),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h3(m,S,C),Zw(m,S,C,R),C=!0;else if(h===null){var ee=m.stateNode,pe=m.memoizedProps;ee.props=pe;var Ne=ee.context,ot=S.contextType;typeof ot=="object"&&ot!==null?ot=hr(ot):(ot=Nn(S)?pn:Gt.current,ot=Rn(m,ot));var _t=S.getDerivedStateFromProps,Wt=typeof _t=="function"||typeof ee.getSnapshotBeforeUpdate=="function";Wt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(pe!==C||Ne!==ot)&&p3(m,ee,C,ot),Nl=!1;var Rt=m.memoizedState;ee.state=Rt,Sv(m,C,ee,R),Ne=m.memoizedState,pe!==C||Rt!==Ne||Ot.current||Nl?(typeof _t=="function"&&(Qw(m,S,_t,C),Ne=m.memoizedState),(pe=Nl||d3(m,S,pe,C,Rt,Ne,ot))?(Wt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=Ne),ee.props=C,ee.state=Ne,ee.context=ot,C=pe):(typeof ee.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{ee=m.stateNode,l3(h,m),pe=m.memoizedProps,ot=m.type===m.elementType?pe:Pi(m.type,pe),ee.props=ot,Wt=m.pendingProps,Rt=ee.context,Ne=S.contextType,typeof Ne=="object"&&Ne!==null?Ne=hr(Ne):(Ne=Nn(S)?pn:Gt.current,Ne=Rn(m,Ne));var wn=S.getDerivedStateFromProps;(_t=typeof wn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(pe!==Wt||Rt!==Ne)&&p3(m,ee,C,Ne),Nl=!1,Rt=m.memoizedState,ee.state=Rt,Sv(m,C,ee,R);var Et=m.memoizedState;pe!==Wt||Rt!==Et||Ot.current||Nl?(typeof wn=="function"&&(Qw(m,S,wn,C),Et=m.memoizedState),(ot=Nl||d3(m,S,ot,C,Rt,Et,Ne)||!1)?(_t||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(C,Et,Ne),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(C,Et,Ne)),typeof ee.componentDidUpdate=="function"&&(m.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ee.componentDidUpdate!="function"||pe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||pe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=Et),ee.props=C,ee.state=Et,ee.context=Ne,C=ot):(typeof ee.componentDidUpdate!="function"||pe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||pe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),C=!1)}return vS(h,m,S,C,B,R)}function vS(h,m,S,C,R,B){Z3(h,m);var ee=(m.flags&128)!==0;if(!C&&!ee)return R&&Vt(m,S,!1),Ga(h,m,B);C=m.stateNode,GW.current=m;var pe=ee&&typeof S.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,h!==null&&ee?(m.child=rd(m,h.child,null,B),m.child=rd(m,null,pe,B)):Ii(h,m,pe,B),m.memoizedState=C.state,R&&Vt(m,S,!0),m.child}function eI(h){var m=h.stateNode;m.pendingContext?on(h,m.pendingContext,m.pendingContext!==m.context):m.context&&on(h,m.context,!1),iS(h,m.containerInfo)}function tI(h,m,S,C,R){return nd(),rS(R),m.flags|=256,Ii(h,m,S,C),m.child}var Fv={dehydrated:null,treeContext:null,retryLane:0};function Nv(h){return{baseLanes:h,cachePool:null}}function nI(h,m,S){var C=m.pendingProps,R=Xn.current,B=!1,ee=(m.flags&128)!==0,pe;if((pe=ee)||(pe=h!==null&&h.memoizedState===null?!1:(R&2)!==0),pe?(B=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),Pt(Xn,R&1),h===null)return nS(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?ei(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(R=C.children,h=C.fallback,B?(C=m.mode,B=m.child,R={mode:"hidden",children:R},!(C&1)&&B!==null?(B.childLanes=0,B.pendingProps=R):B=iy(R,C,0,null),h=vc(h,C,S,null),B.return=m,h.return=m,B.sibling=h,m.child=B,m.child.memoizedState=Nv(S),m.memoizedState=Fv,h):yS(m,R));if(R=h.memoizedState,R!==null){if(pe=R.dehydrated,pe!==null){if(ee)return m.flags&256?(m.flags&=-257,Uv(h,m,S,Error(o(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(B=C.fallback,R=m.mode,C=iy({mode:"visible",children:C.children},R,0,null),B=vc(B,R,S,null),B.flags|=2,C.return=m,B.return=m,C.sibling=B,m.child=C,m.mode&1&&rd(m,h.child,null,S),m.child.memoizedState=Nv(S),m.memoizedState=Fv,B);if(!(m.mode&1))m=Uv(h,m,S,null);else if(ei(pe))m=Uv(h,m,S,Error(o(419)));else if(C=(S&h.childLanes)!==0,ps||C){if(C=xr,C!==null){switch(S&-S){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}C=B&(C.suspendedLanes|S)?0:B,C!==0&&C!==R.retryLane&&(R.retryLane=C,Ws(h,C,-1))}NS(),m=Uv(h,m,S,Error(o(421)))}else Fr(pe)?(m.flags|=128,m.child=h.child,m=e7.bind(null,h),Z(pe,m),m=null):(S=R.treeContext,de&&(hs=ze(pe),ds=m,zn=!0,So=null,Fp=!1,S!==null&&(zs[Gs++]=Na,zs[Gs++]=Ua,zs[Gs++]=uc,Na=S.id,Ua=S.overflow,uc=m)),m=yS(m,m.pendingProps.children),m.flags|=4096);return m}return B?(C=iI(h,m,C.children,C.fallback,S),B=m.child,R=h.child.memoizedState,B.memoizedState=R===null?Nv(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=h.childLanes&~S,m.memoizedState=Fv,C):(S=rI(h,m,C.children,S),m.memoizedState=null,S)}return B?(C=iI(h,m,C.children,C.fallback,S),B=m.child,R=h.child.memoizedState,B.memoizedState=R===null?Nv(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=h.childLanes&~S,m.memoizedState=Fv,C):(S=rI(h,m,C.children,S),m.memoizedState=null,S)}function yS(h,m){return m=iy({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function rI(h,m,S,C){var R=h.child;return h=R.sibling,S=Wl(R,{mode:"visible",children:S}),!(m.mode&1)&&(S.lanes=C),S.return=m,S.sibling=null,h!==null&&(C=m.deletions,C===null?(m.deletions=[h],m.flags|=16):C.push(h)),m.child=S}function iI(h,m,S,C,R){var B=m.mode;h=h.child;var ee=h.sibling,pe={mode:"hidden",children:S};return!(B&1)&&m.child!==h?(S=m.child,S.childLanes=0,S.pendingProps=pe,m.deletions=null):(S=Wl(h,pe),S.subtreeFlags=h.subtreeFlags&14680064),ee!==null?C=Wl(ee,C):(C=vc(C,B,R,null),C.flags|=2),C.return=m,S.return=m,S.sibling=C,m.child=S,C}function Uv(h,m,S,C){return C!==null&&rS(C),rd(m,h.child,null,S),h=yS(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function sI(h,m,S){h.lanes|=m;var C=h.alternate;C!==null&&(C.lanes|=m),Ri(h.return,m,S)}function _S(h,m,S,C,R){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:R}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=C,B.tail=S,B.tailMode=R)}function oI(h,m,S){var C=m.pendingProps,R=C.revealOrder,B=C.tail;if(Ii(h,m,C.children,S),C=Xn.current,C&2)C=C&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&sI(h,S,m);else if(h.tag===19)sI(h,S,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(Pt(Xn,C),!(m.mode&1))m.memoizedState=null;else switch(R){case"forwards":for(S=m.child,R=null;S!==null;)h=S.alternate,h!==null&&Cv(h)===null&&(R=S),S=S.sibling;S=R,S===null?(R=m.child,m.child=null):(R=S.sibling,S.sibling=null),_S(m,!1,R,S,B);break;case"backwards":for(S=null,R=m.child,m.child=null;R!==null;){if(h=R.alternate,h!==null&&Cv(h)===null){m.child=R;break}h=R.sibling,R.sibling=S,S=R,R=h}_S(m,!0,S,null,B);break;case"together":_S(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ga(h,m,S){if(h!==null&&(m.dependencies=h.dependencies),ld|=m.lanes,!(S&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(o(153));if(m.child!==null){for(h=m.child,S=Wl(h,h.pendingProps),m.child=S,S.return=m;h.sibling!==null;)h=h.sibling,S=S.sibling=Wl(h,h.pendingProps),S.return=m;S.sibling=null}return m.child}function HW(h,m,S){switch(m.tag){case 3:eI(m),nd();break;case 5:S3(m);break;case 1:Nn(m.type)&&un(m);break;case 4:iS(m,m.stateNode.containerInfo);break;case 10:xv(m,m.type._context,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(Pt(Xn,Xn.current&1),m.flags|=128,null):S&m.child.childLanes?nI(h,m,S):(Pt(Xn,Xn.current&1),h=Ga(h,m,S),h!==null?h.sibling:null);Pt(Xn,Xn.current&1);break;case 19:if(C=(S&m.childLanes)!==0,h.flags&128){if(C)return oI(h,m,S);m.flags|=128}var R=m.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Pt(Xn,Xn.current),C)break;return null;case 22:case 23:return m.lanes=0,Q3(h,m,S)}return Ga(h,m,S)}function VW(h,m){switch(eS(m),m.tag){case 1:return Nn(m.type)&&Un(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return sd(),vt(Ot),vt(Gt),aS(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return sS(m),null;case 13:if(vt(Xn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(o(340));nd()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return vt(Xn),null;case 4:return sd(),null;case 10:return Ur(m.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var zv=!1,dc=!1,WW=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Gv(h,m){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){Ji(h,m,C)}else S.current=null}function xS(h,m,S){try{S()}catch(C){Ji(h,m,C)}}var aI=!1;function jW(h,m){for(j(h.containerInfo),ht=m;ht!==null;)if(h=ht,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,ht=m;else for(;ht!==null;){h=ht;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,R=S.memoizedState,B=h.stateNode,ee=B.getSnapshotBeforeUpdate(h.elementType===h.type?C:Pi(h.type,C),R);B.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:ye&&st(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(pe){Ji(h,h.return,pe)}if(m=h.sibling,m!==null){m.return=h.return,ht=m;break}ht=h.return}return S=aI,aI=!1,S}function hc(h,m,S){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var R=C=C.next;do{if((R.tag&h)===h){var B=R.destroy;R.destroy=void 0,B!==void 0&&xS(m,S,B)}R=R.next}while(R!==C)}}function Kp(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&h)===h){var C=S.create;S.destroy=C()}S=S.next}while(S!==m)}}function wS(h){var m=h.ref;if(m!==null){var S=h.stateNode;switch(h.tag){case 5:h=X(S);break;default:h=S}typeof m=="function"?m(h):m.current=h}}function lI(h,m,S){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(sc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var C=h=h.next;do{var R=C,B=R.destroy;R=R.tag,B!==void 0&&(R&2||R&4)&&xS(m,S,B),C=C.next}while(C!==h)}break;case 1:if(Gv(m,S),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(ee){Ji(m,S,ee)}break;case 5:Gv(m,S);break;case 4:ye?pI(h,m,S):le&&le&&(m=m.stateNode.containerInfo,S=dt(m),St(m,S))}}function uI(h,m,S){for(var C=m;;)if(lI(h,C,S),C.child===null||ye&&C.tag===4){if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function cI(h){var m=h.alternate;m!==null&&(h.alternate=null,cI(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ye(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function fI(h){return h.tag===5||h.tag===3||h.tag===4}function dI(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||fI(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function hI(h){if(ye){e:{for(var m=h.return;m!==null;){if(fI(m))break e;m=m.return}throw Error(o(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(Pe(m),S.flags&=-33),S=dI(h),AS(h,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=dI(h),SS(h,S,m);break;default:throw Error(o(161))}}}function SS(h,m,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?Xe(S,h,m):Fe(S,h);else if(C!==4&&(h=h.child,h!==null))for(SS(h,m,S),h=h.sibling;h!==null;)SS(h,m,S),h=h.sibling}function AS(h,m,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?Je(S,h,m):Ke(S,h);else if(C!==4&&(h=h.child,h!==null))for(AS(h,m,S),h=h.sibling;h!==null;)AS(h,m,S),h=h.sibling}function pI(h,m,S){for(var C=m,R=!1,B,ee;;){if(!R){R=C.return;e:for(;;){if(R===null)throw Error(o(160));switch(B=R.stateNode,R.tag){case 5:ee=!1;break e;case 3:B=B.containerInfo,ee=!0;break e;case 4:B=B.containerInfo,ee=!0;break e}R=R.return}R=!0}if(C.tag===5||C.tag===6)uI(h,C,S),ee?oe(B,C.stateNode):je(B,C.stateNode);else if(C.tag===18)ee?$e(B,C.stateNode):He(B,C.stateNode);else if(C.tag===4){if(C.child!==null){B=C.stateNode.containerInfo,ee=!0,C.child.return=C,C=C.child;continue}}else if(lI(h,C,S),C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return,C.tag===4&&(R=!1)}C.sibling.return=C.return,C=C.sibling}}function bS(h,m){if(ye){switch(m.tag){case 0:case 11:case 14:case 15:hc(3,m,m.return),Kp(3,m),hc(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var C=m.memoizedProps;h=h!==null?h.memoizedProps:C;var R=m.type,B=m.updateQueue;m.updateQueue=null,B!==null&&at(S,B,R,h,C,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));S=m.memoizedProps,Ee(m.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:de&&h!==null&&h.memoizedState.isDehydrated&&_e(m.stateNode.containerInfo);return;case 12:return;case 13:Hv(m);return;case 19:Hv(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:hc(3,m,m.return),Kp(3,m),hc(5,m,m.return);return;case 12:return;case 13:Hv(m);return;case 19:Hv(m);return;case 3:de&&h!==null&&h.memoizedState.isDehydrated&&_e(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(le){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,St(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function Hv(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new WW),m.forEach(function(C){var R=t7.bind(null,h,C);S.has(C)||(S.add(C),C.then(R,R))})}}function $W(h,m){for(ht=m;ht!==null;){m=ht;var S=m.deletions;if(S!==null)for(var C=0;C<S.length;C++){var R=S[C];try{var B=h;ye?pI(B,R,m):uI(B,R,m);var ee=R.alternate;ee!==null&&(ee.return=null),R.return=null}catch(bt){Ji(R,m,bt)}}if(S=m.child,m.subtreeFlags&12854&&S!==null)S.return=m,ht=S;else for(;ht!==null;){m=ht;try{var pe=m.flags;if(pe&32&&ye&&Pe(m.stateNode),pe&512){var Ne=m.alternate;if(Ne!==null){var ot=Ne.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(pe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var _t=m.alternate;(_t===null||_t.memoizedState===null)&&(IS=$n())}break;case 22:var Wt=m.memoizedState!==null,Rt=m.alternate,wn=Rt!==null&&Rt.memoizedState!==null;if(S=m,ye){e:if(C=S,R=Wt,B=null,ye)for(var Et=C;;){if(Et.tag===5){if(B===null){B=Et;var fi=Et.stateNode;R?Ze(fi):ne(Et.stateNode,Et.memoizedProps)}}else if(Et.tag===6){if(B===null){var $s=Et.stateNode;R?ae($s):Le($s,Et.memoizedProps)}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===C)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===C)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===C)break e;B===Et&&(B=null),Et=Et.return}B===Et&&(B=null),Et.sibling.return=Et.return,Et=Et.sibling}}if(Wt&&!wn&&S.mode&1){ht=S;for(var Te=S.child;Te!==null;){for(S=ht=Te;ht!==null;){C=ht;var ve=C.child;switch(C.tag){case 0:case 11:case 14:case 15:hc(4,C,C.return);break;case 1:Gv(C,C.return);var ke=C.stateNode;if(typeof ke.componentWillUnmount=="function"){var pt=C.return;try{ke.props=C.memoizedProps,ke.state=C.memoizedState,ke.componentWillUnmount()}catch(bt){Ji(C,pt,bt)}}break;case 5:Gv(C,C.return);break;case 22:if(C.memoizedState!==null){vI(S);continue}}ve!==null?(ve.return=C,ht=ve):vI(S)}Te=Te.sibling}}}switch(pe&4102){case 2:hI(m),m.flags&=-3;break;case 6:hI(m),m.flags&=-3,bS(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,bS(m.alternate,m);break;case 4:bS(m.alternate,m)}}catch(bt){Ji(m,m.return,bt)}if(S=m.sibling,S!==null){S.return=m.return,ht=S;break}ht=m.return}}}function XW(h,m,S){ht=h,mI(h)}function mI(h,m,S){for(var C=(h.mode&1)!==0;ht!==null;){var R=ht,B=R.child;if(R.tag===22&&C){var ee=R.memoizedState!==null||zv;if(!ee){var pe=R.alternate,Ne=pe!==null&&pe.memoizedState!==null||dc;pe=zv;var ot=dc;if(zv=ee,(dc=Ne)&&!ot)for(ht=R;ht!==null;)ee=ht,Ne=ee.child,ee.tag===22&&ee.memoizedState!==null?yI(R):Ne!==null?(Ne.return=ee,ht=Ne):yI(R);for(;B!==null;)ht=B,mI(B),B=B.sibling;ht=R,zv=pe,dc=ot}gI(h)}else R.subtreeFlags&8772&&B!==null?(B.return=R,ht=B):gI(h)}}function gI(h){for(;ht!==null;){var m=ht;if(m.flags&8772){var S=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:dc||Kp(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!dc)if(S===null)C.componentDidMount();else{var R=m.elementType===m.type?S.memoizedProps:Pi(m.type,S.memoizedProps);C.componentDidUpdate(R,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var B=m.updateQueue;B!==null&&c3(m,B,C);break;case 3:var ee=m.updateQueue;if(ee!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=X(m.child.stateNode);break;case 1:S=m.child.stateNode}c3(m,ee,S)}break;case 5:var pe=m.stateNode;S===null&&m.flags&4&&tt(pe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(de&&m.memoizedState===null){var Ne=m.alternate;if(Ne!==null){var ot=Ne.memoizedState;if(ot!==null){var _t=ot.dehydrated;_t!==null&&xe(_t)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}dc||m.flags&512&&wS(m)}catch(Wt){Ji(m,m.return,Wt)}}if(m===h){ht=null;break}if(S=m.sibling,S!==null){S.return=m.return,ht=S;break}ht=m.return}}function vI(h){for(;ht!==null;){var m=ht;if(m===h){ht=null;break}var S=m.sibling;if(S!==null){S.return=m.return,ht=S;break}ht=m.return}}function yI(h){for(;ht!==null;){var m=ht;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{Kp(4,m)}catch(Ne){Ji(m,S,Ne)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var R=m.return;try{C.componentDidMount()}catch(Ne){Ji(m,R,Ne)}}var B=m.return;try{wS(m)}catch(Ne){Ji(m,B,Ne)}break;case 5:var ee=m.return;try{wS(m)}catch(Ne){Ji(m,ee,Ne)}}}catch(Ne){Ji(m,m.return,Ne)}if(m===h){ht=null;break}var pe=m.sibling;if(pe!==null){pe.return=m.return,ht=pe;break}ht=m.return}}var Vv=0,Wv=1,jv=2,$v=3,Xv=4;if(typeof Symbol=="function"&&Symbol.for){var Yp=Symbol.for;Vv=Yp("selector.component"),Wv=Yp("selector.has_pseudo_class"),jv=Yp("selector.role"),$v=Yp("selector.test_id"),Xv=Yp("selector.text")}function MS(h){var m=Ie(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(h=Ce(h),h===null)throw Error(o(362));return h.stateNode.current}function ES(h,m){switch(m.$$typeof){case Vv:if(h.type===m.value)return!0;break;case Wv:e:{m=m.value,h=[h,0];for(var S=0;S<h.length;){var C=h[S++],R=h[S++],B=m[R];if(C.tag!==5||!se(C)){for(;B!=null&&ES(C,B);)R++,B=m[R];if(R===m.length){m=!0;break e}else for(C=C.child;C!==null;)h.push(C,R),C=C.sibling}}m=!1}return m;case jv:if(h.tag===5&&me(h.stateNode,m.value))return!0;break;case Xv:if((h.tag===5||h.tag===6)&&(h=k(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case $v:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function CS(h){switch(h.$$typeof){case Vv:return"<"+(T(h.value)||"Unknown")+">";case Wv:return":has("+(CS(h)||"")+")";case jv:return'[role="'+h.value+'"]';case Xv:return'"'+h.value+'"';case $v:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function _I(h,m){var S=[];h=[h,0];for(var C=0;C<h.length;){var R=h[C++],B=h[C++],ee=m[B];if(R.tag!==5||!se(R)){for(;ee!=null&&ES(R,ee);)B++,ee=m[B];if(B===m.length)S.push(R);else for(R=R.child;R!==null;)h.push(R,B),R=R.sibling}}return S}function TS(h,m){if(!Qe)throw Error(o(363));h=MS(h),h=_I(h,m),m=[],h=Array.from(h);for(var S=0;S<h.length;){var C=h[S++];if(C.tag===5)se(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return m}var JW=Math.ceil,Jv=a.ReactCurrentDispatcher,PS=a.ReactCurrentOwner,pr=a.ReactCurrentBatchConfig,Yt=0,xr=null,wr=null,ti=0,ms=0,ad=Ut(0),Cr=0,Qp=null,ld=0,Kv=0,RS=0,Zp=null,$i=null,IS=0,DS=1/0;function ud(){DS=$n()+500}var Yv=!1,BS=null,zl=null,Qv=!1,Gl=null,Zv=0,qp=0,LS=null,qv=-1,ey=0;function Di(){return Yt&6?$n():qv!==-1?qv:qv=$n()}function Hl(h){return h.mode&1?Yt&2&&ti!==0?ti&-ti:oc.transition!==null?(ey===0&&(h=Da,Da<<=1,!(Da&4194240)&&(Da=64),ey=h),ey):(h=Zt,h!==0?h:Be()):1}function Ws(h,m,S){if(50<qp)throw qp=0,LS=null,Error(o(185));var C=ty(h,m);return C===null?null:(ea(C,m,S),(!(Yt&2)||C!==xr)&&(C===xr&&(!(Yt&2)&&(Kv|=m),Cr===4&&Vl(C,ti)),Xi(C,S),m===1&&Yt===0&&!(h.mode&1)&&(ud(),na&&ji())),C)}function ty(h,m){h.lanes|=m;var S=h.alternate;for(S!==null&&(S.lanes|=m),S=h,h=h.return;h!==null;)h.childLanes|=m,S=h.alternate,S!==null&&(S.childLanes|=m),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Xi(h,m){var S=h.callbackNode;Rp(h,m);var C=rc(h,h===xr?ti:0);if(C===0)S!==null&&Qf(S),h.callbackNode=null,h.callbackPriority=0;else if(m=C&-C,h.callbackPriority!==m){if(S!=null&&Qf(S),m===1)h.tag===0?Op(wI.bind(null,h)):kp(wI.bind(null,h)),De?Ue(function(){Yt===0&&ji()}):Oa(ic,ji),S=null;else{switch(Ip(C)){case 1:S=ic;break;case 4:S=yv;break;case 16:S=Ci;break;case 536870912:S=Bp;break;default:S=Ci}S=RI(S,xI.bind(null,h))}h.callbackPriority=m,h.callbackNode=S}}function xI(h,m){if(qv=-1,ey=0,Yt&6)throw Error(o(327));var S=h.callbackNode;if(gc()&&h.callbackNode!==S)return null;var C=rc(h,h===xr?ti:0);if(C===0)return null;if(C&30||C&h.expiredLanes||m)m=ny(h,C);else{m=C;var R=Yt;Yt|=2;var B=bI();(xr!==h||ti!==m)&&(ud(),pc(h,m));do try{QW();break}catch(pe){AI(h,pe)}while(!0);qf(),Jv.current=B,Yt=R,wr!==null?m=0:(xr=null,ti=0,m=Cr)}if(m!==0){if(m===2&&(R=ka(h),R!==0&&(C=R,m=kS(h,R))),m===1)throw S=Qp,pc(h,0),Vl(h,C),Xi(h,$n()),S;if(m===6)Vl(h,C);else{if(R=h.current.alternate,!(C&30)&&!KW(R)&&(m=ny(h,C),m===2&&(B=ka(h),B!==0&&(C=B,m=kS(h,B))),m===1))throw S=Qp,pc(h,0),Vl(h,C),Xi(h,$n()),S;switch(h.finishedWork=R,h.finishedLanes=C,m){case 0:case 1:throw Error(o(345));case 2:mc(h,$i);break;case 3:if(Vl(h,C),(C&130023424)===C&&(m=IS+500-$n(),10<m)){if(rc(h,0)!==0)break;if(R=h.suspendedLanes,(R&C)!==C){Di(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=ce(mc.bind(null,h,$i),m);break}mc(h,$i);break;case 4:if(Vl(h,C),(C&4194240)===C)break;for(m=h.eventTimes,R=-1;0<C;){var ee=31-Mn(C);B=1<<ee,ee=m[ee],ee>R&&(R=ee),C&=~B}if(C=R,C=$n()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*JW(C/1960))-C,10<C){h.timeoutHandle=ce(mc.bind(null,h,$i),C);break}mc(h,$i);break;case 5:mc(h,$i);break;default:throw Error(o(329))}}}return Xi(h,$n()),h.callbackNode===S?xI.bind(null,h):null}function kS(h,m){var S=Zp;return h.current.memoizedState.isDehydrated&&(pc(h,m).flags|=256),h=ny(h,m),h!==2&&(m=$i,$i=S,m!==null&&OS(m)),h}function OS(h){$i===null?$i=h:$i.push.apply($i,h)}function KW(h){for(var m=h;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var R=S[C],B=R.getSnapshot;R=R.value;try{if(!cs(B(),R))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Vl(h,m){for(m&=~RS,m&=~Kv,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var S=31-Mn(m),C=1<<S;h[S]=-1,m&=~C}}function wI(h){if(Yt&6)throw Error(o(327));gc();var m=rc(h,0);if(!(m&1))return Xi(h,$n()),null;var S=ny(h,m);if(h.tag!==0&&S===2){var C=ka(h);C!==0&&(m=C,S=kS(h,C))}if(S===1)throw S=Qp,pc(h,0),Vl(h,m),Xi(h,$n()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,mc(h,$i),Xi(h,$n()),null}function SI(h){Gl!==null&&Gl.tag===0&&!(Yt&6)&&gc();var m=Yt;Yt|=1;var S=pr.transition,C=Zt;try{if(pr.transition=null,Zt=1,h)return h()}finally{Zt=C,pr.transition=S,Yt=m,!(Yt&6)&&ji()}}function FS(){ms=ad.current,vt(ad)}function pc(h,m){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Re&&(h.timeoutHandle=Re,fe(S)),wr!==null)for(S=wr.return;S!==null;){var C=S;switch(eS(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Un();break;case 3:sd(),vt(Ot),vt(Gt),aS();break;case 5:sS(C);break;case 4:sd();break;case 13:vt(Xn);break;case 19:vt(Xn);break;case 10:Ur(C.type._context);break;case 22:case 23:FS()}S=S.return}if(xr=h,wr=h=Wl(h.current,null),ti=ms=m,Cr=0,Qp=null,RS=Kv=ld=0,$i=Zp=null,fs!==null){for(m=0;m<fs.length;m++)if(S=fs[m],C=S.interleaved,C!==null){S.interleaved=null;var R=C.next,B=S.pending;if(B!==null){var ee=B.next;B.next=R,C.next=ee}S.pending=C}fs=null}return h}function AI(h,m){do{var S=wr;try{if(qf(),Tv.current=Lv,Pv){for(var C=ir.memoizedState;C!==null;){var R=C.queue;R!==null&&(R.pending=null),C=C.next}Pv=!1}if(od=0,zr=li=ir=null,Hp=!1,Vp=0,PS.current=null,S===null||S.return===null){Cr=1,Qp=m,wr=null;break}e:{var B=h,ee=S.return,pe=S,Ne=m;if(m=ti,pe.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var ot=Ne,_t=pe,Wt=_t.tag;if(!(_t.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Rt=_t.alternate;Rt?(_t.updateQueue=Rt.updateQueue,_t.memoizedState=Rt.memoizedState,_t.lanes=Rt.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var wn=W3(ee);if(wn!==null){wn.flags&=-257,j3(wn,ee,pe,B,m),wn.mode&1&&V3(B,ot,m),m=wn,Ne=ot;var Et=m.updateQueue;if(Et===null){var fi=new Set;fi.add(Ne),m.updateQueue=fi}else Et.add(Ne);break e}else{if(!(m&1)){V3(B,ot,m),NS();break e}Ne=Error(o(426))}}else if(zn&&pe.mode&1){var $s=W3(ee);if($s!==null){!($s.flags&65536)&&($s.flags|=256),j3($s,ee,pe,B,m),rS(Ne);break e}}B=Ne,Cr!==4&&(Cr=2),Zp===null?Zp=[B]:Zp.push(B),Ne=pS(Ne,pe),pe=ee;do{switch(pe.tag){case 3:pe.flags|=65536,m&=-m,pe.lanes|=m;var Te=G3(pe,Ne,m);u3(pe,Te);break e;case 1:B=Ne;var ve=pe.type,ke=pe.stateNode;if(!(pe.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(zl===null||!zl.has(ke)))){pe.flags|=65536,m&=-m,pe.lanes|=m;var pt=H3(pe,B,m);u3(pe,pt);break e}}pe=pe.return}while(pe!==null)}EI(S)}catch(bt){m=bt,wr===S&&S!==null&&(wr=S=S.return);continue}break}while(!0)}function bI(){var h=Jv.current;return Jv.current=Lv,h===null?Lv:h}function NS(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),xr===null||!(ld&268435455)&&!(Kv&268435455)||Vl(xr,ti)}function ny(h,m){var S=Yt;Yt|=2;var C=bI();xr===h&&ti===m||pc(h,m);do try{YW();break}catch(R){AI(h,R)}while(!0);if(qf(),Yt=S,Jv.current=C,wr!==null)throw Error(o(261));return xr=null,ti=0,Cr}function YW(){for(;wr!==null;)MI(wr)}function QW(){for(;wr!==null&&!Dp();)MI(wr)}function MI(h){var m=PI(h.alternate,h,ms);h.memoizedProps=h.pendingProps,m===null?EI(h):wr=m,PS.current=null}function EI(h){var m=h;do{var S=m.alternate;if(h=m.return,m.flags&32768){if(S=VW(S,m),S!==null){S.flags&=32767,wr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Cr=6,wr=null;return}}else if(S=zW(S,m,ms),S!==null){wr=S;return}if(m=m.sibling,m!==null){wr=m;return}wr=m=h}while(m!==null);Cr===0&&(Cr=5)}function mc(h,m){var S=Zt,C=pr.transition;try{pr.transition=null,Zt=1,ZW(h,m,S)}finally{pr.transition=C,Zt=S}return null}function ZW(h,m,S){do gc();while(Gl!==null);if(Yt&6)throw Error(o(327));var C=h.finishedWork,R=h.finishedLanes;if(C===null)return null;if(h.finishedWork=null,h.finishedLanes=0,C===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var B=C.lanes|C.childLanes;if(Ol(h,B),h===xr&&(wr=xr=null,ti=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||Qv||(Qv=!0,RI(Ci,function(){return gc(),null})),B=(C.flags&15990)!==0,C.subtreeFlags&15990||B){B=pr.transition,pr.transition=null;var ee=Zt;Zt=1;var pe=Yt;Yt|=4,PS.current=null,jW(h,C),$W(h,C),H(h.containerInfo),h.current=C,XW(C),vv(),Yt=pe,Zt=ee,pr.transition=B}else h.current=C;if(Qv&&(Qv=!1,Gl=h,Zv=R),B=h.pendingLanes,B===0&&(zl=null),Lp(C.stateNode),Xi(h,$n()),m!==null)for(S=h.onRecoverableError,C=0;C<m.length;C++)S(m[C]);if(Yv)throw Yv=!1,h=BS,BS=null,h;return Zv&1&&h.tag!==0&&gc(),B=h.pendingLanes,B&1?h===LS?qp++:(qp=0,LS=h):qp=0,ji(),null}function gc(){if(Gl!==null){var h=Ip(Zv),m=pr.transition,S=Zt;try{if(pr.transition=null,Zt=16>h?16:h,Gl===null)var C=!1;else{if(h=Gl,Gl=null,Zv=0,Yt&6)throw Error(o(331));var R=Yt;for(Yt|=4,ht=h.current;ht!==null;){var B=ht,ee=B.child;if(ht.flags&16){var pe=B.deletions;if(pe!==null){for(var Ne=0;Ne<pe.length;Ne++){var ot=pe[Ne];for(ht=ot;ht!==null;){var _t=ht;switch(_t.tag){case 0:case 11:case 15:hc(8,_t,B)}var Wt=_t.child;if(Wt!==null)Wt.return=_t,ht=Wt;else for(;ht!==null;){_t=ht;var Rt=_t.sibling,wn=_t.return;if(cI(_t),_t===ot){ht=null;break}if(Rt!==null){Rt.return=wn,ht=Rt;break}ht=wn}}}var Et=B.alternate;if(Et!==null){var fi=Et.child;if(fi!==null){Et.child=null;do{var $s=fi.sibling;fi.sibling=null,fi=$s}while(fi!==null)}}ht=B}}if(B.subtreeFlags&2064&&ee!==null)ee.return=B,ht=ee;else e:for(;ht!==null;){if(B=ht,B.flags&2048)switch(B.tag){case 0:case 11:case 15:hc(9,B,B.return)}var Te=B.sibling;if(Te!==null){Te.return=B.return,ht=Te;break e}ht=B.return}}var ve=h.current;for(ht=ve;ht!==null;){ee=ht;var ke=ee.child;if(ee.subtreeFlags&2064&&ke!==null)ke.return=ee,ht=ke;else e:for(ee=ve;ht!==null;){if(pe=ht,pe.flags&2048)try{switch(pe.tag){case 0:case 11:case 15:Kp(9,pe)}}catch(bt){Ji(pe,pe.return,bt)}if(pe===ee){ht=null;break e}var pt=pe.sibling;if(pt!==null){pt.return=pe.return,ht=pt;break e}ht=pe.return}}if(Yt=R,ji(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(sc,h)}catch{}C=!0}return C}finally{Zt=S,pr.transition=m}}return!1}function CI(h,m,S){m=pS(S,m),m=G3(h,m,1),Ul(h,m),m=Di(),h=ty(h,1),h!==null&&(ea(h,1,m),Xi(h,m))}function Ji(h,m,S){if(h.tag===3)CI(h,h,S);else for(;m!==null;){if(m.tag===3){CI(m,h,S);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(zl===null||!zl.has(C))){h=pS(S,h),h=H3(m,h,1),Ul(m,h),h=Di(),m=ty(m,1),m!==null&&(ea(m,1,h),Xi(m,h));break}}m=m.return}}function qW(h,m,S){var C=h.pingCache;C!==null&&C.delete(m),m=Di(),h.pingedLanes|=h.suspendedLanes&S,xr===h&&(ti&S)===S&&(Cr===4||Cr===3&&(ti&130023424)===ti&&500>$n()-IS?pc(h,0):RS|=S),Xi(h,m)}function TI(h,m){m===0&&(h.mode&1?(m=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):m=1);var S=Di();h=ty(h,m),h!==null&&(ea(h,m,S),Xi(h,S))}function e7(h){var m=h.memoizedState,S=0;m!==null&&(S=m.retryLane),TI(h,S)}function t7(h,m){var S=0;switch(h.tag){case 13:var C=h.stateNode,R=h.memoizedState;R!==null&&(S=R.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(m),TI(h,S)}var PI;PI=function(h,m,S){if(h!==null)if(h.memoizedProps!==m.pendingProps||Ot.current)ps=!0;else{if(!(h.lanes&S)&&!(m.flags&128))return ps=!1,HW(h,m,S);ps=!!(h.flags&131072)}else ps=!1,zn&&m.flags&1048576&&m3(m,Mv,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var R=Rn(m,Gt.current);dr(m,S),R=uS(null,m,C,h,R,S);var B=cS();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Nn(C)?(B=!0,un(m)):B=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Yw(m),R.updater=Av,m.stateNode=R,R._reactInternals=m,Zw(m,C,h,S),m=vS(null,m,C,!0,B,S)):(m.tag=0,zn&&B&&qw(m),Ii(null,m,R,S),m=m.child),m;case 16:C=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,R=C._init,C=R(C._payload),m.type=C,R=m.tag=r7(C),h=Pi(C,h),R){case 0:m=gS(null,m,C,h,S);break e;case 1:m=q3(null,m,C,h,S);break e;case 11:m=J3(null,m,C,h,S);break e;case 14:m=K3(null,m,C,Pi(C.type,h),S);break e}throw Error(o(306,C,""))}return m;case 0:return C=m.type,R=m.pendingProps,R=m.elementType===C?R:Pi(C,R),gS(h,m,C,R,S);case 1:return C=m.type,R=m.pendingProps,R=m.elementType===C?R:Pi(C,R),q3(h,m,C,R,S);case 3:e:{if(eI(m),h===null)throw Error(o(387));C=m.pendingProps,B=m.memoizedState,R=B.element,l3(h,m),Sv(m,C,null,S);var ee=m.memoizedState;if(C=ee.element,de&&B.isDehydrated)if(B={element:C,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){R=Error(o(423)),m=tI(h,m,C,S,R);break e}else if(C!==R){R=Error(o(424)),m=tI(h,m,C,S,R);break e}else for(de&&(hs=ge(m.stateNode.containerInfo),ds=m,zn=!0,So=null,Fp=!1),S=w3(m,null,C,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(nd(),C===R){m=Ga(h,m,S);break e}Ii(h,m,C,S)}m=m.child}return m;case 5:return S3(m),h===null&&nS(m),C=m.type,R=m.pendingProps,B=h!==null?h.memoizedProps:null,ee=R.children,te(C,R)?ee=null:B!==null&&te(C,B)&&(m.flags|=32),Z3(h,m),Ii(h,m,ee,S),m.child;case 6:return h===null&&nS(m),null;case 13:return nI(h,m,S);case 4:return iS(m,m.stateNode.containerInfo),C=m.pendingProps,h===null?m.child=rd(m,null,C,S):Ii(h,m,C,S),m.child;case 11:return C=m.type,R=m.pendingProps,R=m.elementType===C?R:Pi(C,R),J3(h,m,C,R,S);case 7:return Ii(h,m,m.pendingProps,S),m.child;case 8:return Ii(h,m,m.pendingProps.children,S),m.child;case 12:return Ii(h,m,m.pendingProps.children,S),m.child;case 10:e:{if(C=m.type._context,R=m.pendingProps,B=m.memoizedProps,ee=R.value,xv(m,C,ee),B!==null)if(cs(B.value,ee)){if(B.children===R.children&&!Ot.current){m=Ga(h,m,S);break e}}else for(B=m.child,B!==null&&(B.return=m);B!==null;){var pe=B.dependencies;if(pe!==null){ee=B.child;for(var Ne=pe.firstContext;Ne!==null;){if(Ne.context===C){if(B.tag===1){Ne=Fa(-1,S&-S),Ne.tag=2;var ot=B.updateQueue;if(ot!==null){ot=ot.shared;var _t=ot.pending;_t===null?Ne.next=Ne:(Ne.next=_t.next,_t.next=Ne),ot.pending=Ne}}B.lanes|=S,Ne=B.alternate,Ne!==null&&(Ne.lanes|=S),Ri(B.return,S,m),pe.lanes|=S;break}Ne=Ne.next}}else if(B.tag===10)ee=B.type===m.type?null:B.child;else if(B.tag===18){if(ee=B.return,ee===null)throw Error(o(341));ee.lanes|=S,pe=ee.alternate,pe!==null&&(pe.lanes|=S),Ri(ee,S,m),ee=B.sibling}else ee=B.child;if(ee!==null)ee.return=B;else for(ee=B;ee!==null;){if(ee===m){ee=null;break}if(B=ee.sibling,B!==null){B.return=ee.return,ee=B;break}ee=ee.return}B=ee}Ii(h,m,R.children,S),m=m.child}return m;case 9:return R=m.type,C=m.pendingProps.children,dr(m,S),R=hr(R),C=C(R),m.flags|=1,Ii(h,m,C,S),m.child;case 14:return C=m.type,R=Pi(C,m.pendingProps),R=Pi(C.type,R),K3(h,m,C,R,S);case 15:return Y3(h,m,m.type,m.pendingProps,S);case 17:return C=m.type,R=m.pendingProps,R=m.elementType===C?R:Pi(C,R),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Nn(C)?(h=!0,un(m)):h=!1,dr(m,S),h3(m,C,R),Zw(m,C,R,S),vS(null,m,C,!0,h,S);case 19:return oI(h,m,S);case 22:return Q3(h,m,S)}throw Error(o(156,m.tag))};function RI(h,m){return Oa(h,m)}function n7(h,m,S,C){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(h,m,S,C){return new n7(h,m,S,C)}function US(h){return h=h.prototype,!(!h||!h.isReactComponent)}function r7(h){if(typeof h=="function")return US(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===x)return 14}return 2}function Wl(h,m){var S=h.alternate;return S===null?(S=js(h.tag,m,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=m,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,m=h.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function ry(h,m,S,C,R,B){var ee=2;if(C=h,typeof h=="function")US(h)&&(ee=1);else if(typeof h=="string")ee=5;else e:switch(h){case c:return vc(S.children,R,B,m);case f:ee=8,R|=8;break;case d:return h=js(12,S,m,R|2),h.elementType=d,h.lanes=B,h;case y:return h=js(13,S,m,R),h.elementType=y,h.lanes=B,h;case _:return h=js(19,S,m,R),h.elementType=_,h.lanes=B,h;case A:return iy(S,R,B,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:ee=10;break e;case v:ee=9;break e;case g:ee=11;break e;case x:ee=14;break e;case w:ee=16,C=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return m=js(ee,S,m,R),m.elementType=h,m.type=C,m.lanes=B,m}function vc(h,m,S,C){return h=js(7,h,C,m),h.lanes=S,h}function iy(h,m,S,C){return h=js(22,h,C,m),h.elementType=A,h.lanes=S,h.stateNode={},h}function zS(h,m,S){return h=js(6,h,null,m),h.lanes=S,h}function GS(h,m,S){return m=js(4,h.children!==null?h.children:[],h.key,m),m.lanes=S,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function i7(h,m,S,C,R){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=C,this.onRecoverableError=R,de&&(this.mutableSourceEagerHydrationData=null)}function II(h,m,S,C,R,B,ee,pe,Ne){return h=new i7(h,m,S,pe,Ne),m===1?(m=1,B===!0&&(m|=8)):m=0,B=js(3,null,null,m),h.current=B,B.stateNode=h,B.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null},Yw(B),h}function DI(h){if(!h)return zt;h=h._reactInternals;e:{if(P(h)!==h||h.tag!==1)throw Error(o(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Nn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(Nn(S))return jn(h,S,m)}return m}function BI(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=O(m),h===null?null:h.stateNode}function LI(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<m?S:m}}function HS(h,m){LI(h,m),(h=h.alternate)&&LI(h,m)}function s7(h){return h=O(h),h===null?null:h.stateNode}function o7(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var m=Di();Ws(h,134217728,m),HS(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=Di(),S=Hl(h);Ws(h,S,m),HS(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var S=La(m.pendingLanes);S!==0&&(ta(m,S|1),Xi(m,$n()),!(Yt&6)&&(ud(),ji()))}break;case 13:var C=Di();SI(function(){return Ws(h,1,C)}),HS(h,1)}},t.batchedUpdates=function(h,m){var S=Yt;Yt|=1;try{return h(m)}finally{Yt=S,Yt===0&&(ud(),na&&ji())}},t.createComponentSelector=function(h){return{$$typeof:Vv,value:h}},t.createContainer=function(h,m,S,C,R,B,ee){return II(h,m,!1,null,S,C,R,B,ee)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Wv,value:h}},t.createHydrationContainer=function(h,m,S,C,R,B,ee,pe,Ne){return h=II(S,C,!0,h,R,B,ee,pe,Ne),h.context=DI(null),S=h.current,C=Di(),R=Hl(S),B=Fa(C,R),B.callback=m??null,Ul(S,B),h.current.lanes=R,ea(h,R,C),Xi(h,C),h},t.createPortal=function(h,m,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:h,containerInfo:m,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:jv,value:h}},t.createTestNameSelector=function(h){return{$$typeof:$v,value:h}},t.createTextSelector=function(h){return{$$typeof:Xv,value:h}},t.deferredUpdates=function(h){var m=Zt,S=pr.transition;try{return pr.transition=null,Zt=16,h()}finally{Zt=m,pr.transition=S}},t.discreteUpdates=function(h,m,S,C,R){var B=Zt,ee=pr.transition;try{return pr.transition=null,Zt=1,h(m,S,C,R)}finally{Zt=B,pr.transition=ee,Yt===0&&ud()}},t.findAllNodes=TS,t.findBoundingRects=function(h,m){if(!Qe)throw Error(o(363));m=TS(h,m),h=[];for(var S=0;S<m.length;S++)h.push(K(m[S]));for(m=h.length-1;0<m;m--){S=h[m];for(var C=S.x,R=C+S.width,B=S.y,ee=B+S.height,pe=m-1;0<=pe;pe--)if(m!==pe){var Ne=h[pe],ot=Ne.x,_t=ot+Ne.width,Wt=Ne.y,Rt=Wt+Ne.height;if(C>=ot&&B>=Wt&&R<=_t&&ee<=Rt){h.splice(m,1);break}else if(C!==ot||S.width!==Ne.width||Rt<B||Wt>ee){if(!(B!==Wt||S.height!==Ne.height||_t<C||ot>R)){ot>C&&(Ne.width+=ot-C,Ne.x=C),_t<R&&(Ne.width=R-ot),h.splice(m,1);break}}else{Wt>B&&(Ne.height+=Wt-B,Ne.y=B),Rt<ee&&(Ne.height=ee-Wt),h.splice(m,1);break}}}return h},t.findHostInstance=BI,t.findHostInstanceWithNoPortals=function(h){return h=F(h),h=h!==null?N(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return BI(h)},t.flushControlled=function(h){var m=Yt;Yt|=1;var S=pr.transition,C=Zt;try{pr.transition=null,Zt=1,h()}finally{Zt=C,pr.transition=S,Yt=m,Yt===0&&(ud(),ji())}},t.flushPassiveEffects=gc,t.flushSync=SI,t.focusWithin=function(h,m){if(!Qe)throw Error(o(363));for(h=MS(h),m=_I(h,m),m=Array.from(m),h=0;h<m.length;){var S=m[h++];if(!se(S)){if(S.tag===5&&Oe(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Zt},t.getFindAllNodesFailureDescription=function(h,m){if(!Qe)throw Error(o(363));var S=0,C=[];h=[MS(h),0];for(var R=0;R<h.length;){var B=h[R++],ee=h[R++],pe=m[ee];if((B.tag!==5||!se(B))&&(ES(B,pe)&&(C.push(CS(pe)),ee++,ee>S&&(S=ee)),ee<m.length))for(B=B.child;B!==null;)h.push(B,ee),B=B.sibling}if(S<m.length){for(h=[];S<m.length;S++)h.push(CS(m[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return X(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:s7,findFiberByHostInstance:h.findFiberByHostInstance||o7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{sc=m.inject(h),us=m}catch{}h=!!m.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,m,S,C){if(!Qe)throw Error(o(363));h=TS(h,m);var R=Me(h,S,C).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(h,m){var S=m._getVersion;S=S(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,S]:h.mutableSourceEagerHydrationData.push(m,S)},t.runWithPriority=function(h,m){var S=Zt;try{return Zt=h,m()}finally{Zt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,m,S,C){var R=m.current,B=Di(),ee=Hl(R);return S=DI(S),m.context===null?m.context=S:m.pendingContext=S,m=Fa(B,ee),m.payload={element:h},C=C===void 0?null:C,C!==null&&(m.callback=C),Ul(R,m),h=Ws(R,ee,B),h!==null&&wv(h,R,ee),ee},t};Kz.exports=Cee;var Tee=Kz.exports;const Pee=sp(Tee),iP={},gw=n=>void Object.assign(iP,n);function Ree(n,e){function t(c,{args:f=[],attach:d,...p},v){let g=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=p.object;y=Nd(_,{type:c,root:v,attach:d,primitive:!0})}else{const _=iP[g];if(!_)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Nd(new _(...f),{type:c,root:v,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),g!=="inject"&&QA(y,p),y}function r(c,f){let d=!1;if(f){var p,v;(p=f.__r3f)!=null&&p.attach?YA(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Nd(f,{}),f.__r3f.parent=c,FE(f),Ud(f)}}function i(c,f,d){let p=!1;if(f){var v,g;if((v=f.__r3f)!=null&&v.attach)YA(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(x=>x!==f),_=y.indexOf(d);c.children=[...y.slice(0,_),f,...y.slice(_)],p=!0}p||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Nd(f,{}),f.__r3f.parent=c,FE(f),Ud(f)}}function s(c,f,d=!1){c&&[...c].forEach(p=>o(f,p,d))}function o(c,f,d){if(f){var p,v,g;if(f.__r3f&&(f.__r3f.parent=null),(p=c.__r3f)!=null&&p.objects&&(c.__r3f.objects=c.__r3f.objects.filter(A=>A!==f)),(v=f.__r3f)!=null&&v.attach)mL(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Fee(e_(f),f)}const x=(g=f.__r3f)==null?void 0:g.primitive,w=!x&&(d===void 0?f.dispose!==null:d);if(!x){var _;s((_=f.__r3f)==null?void 0:_.objects,f,w),s(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?kE.unstable_scheduleCallback(kE.unstable_IdlePriority,A):A()}Ud(c)}}function a(c,f,d,p){var v;const g=(v=c.__r3f)==null?void 0:v.parent;if(!g)return;const y=t(f,d,c.__r3f.root);if(c.children){for(const _ of c.children)_.__r3f&&r(y,_);c.children=c.children.filter(_=>!_.__r3f)}c.__r3f.objects.forEach(_=>r(y,_)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(g,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(g,y),y.raycast&&y.__r3f.eventCount&&e_(y).getState().internal.interaction.push(y),[p,p.alternate].forEach(_=>{_!==null&&(_.stateNode=y,_.ref&&(typeof _.ref=="function"?_.ref(y):_.ref.current=y))})}const l=()=>{};return{reconciler:Pee({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const p=c.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,p){var v;if(((v=c==null?void 0:c.__r3f)!=null?v:{}).primitive&&p.object&&p.object!==c)return[!0];{const{args:y=[],children:_,...x}=p,{args:w=[],children:A,...b}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,M)=>T!==w[M]))return[!0];const E=iG(c,x,b,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,d],p,v,g,y){f?a(c,p,g,y):QA(c,d)},commitMount(c,f,d,p){var v;const g=(v=c.__r3f)!=null?v:{};c.raycast&&g.handlers&&g.eventCount&&e_(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Nd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:p}=(f=c.__r3f)!=null?f:{};d&&p&&mL(p,c,d),c.isObject3D&&(c.visible=!1),Ud(c)},unhideInstance(c,f){var d;const{attach:p,parent:v}=(d=c.__r3f)!=null?d:{};p&&v&&YA(v,c,p),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Ud(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Tn.fun(performance.now)?performance.now:Tn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Tn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Tn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:QA}}var fL,dL;const KA=n=>"colorSpace"in n||"outputColorSpace"in n,Zz=()=>{var n;return(n=iP.ColorManagement)!=null?n:null},qz=n=>n&&n.isOrthographicCamera,Iee=n=>n&&n.hasOwnProperty("current"),Y0=typeof window<"u"&&((fL=window.document)!=null&&fL.createElement||((dL=window.navigator)==null?void 0:dL.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function eG(n){const e=I.useRef(n);return Y0(()=>void(e.current=n),[n]),e}function Dee({set:n}){return Y0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class tG extends I.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}tG.getDerivedStateFromError=()=>({error:!0});const nG="__default",hL=new Map,Bee=n=>n&&!!n.memoized&&!!n.changes;function rG(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const xm=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function e_(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Tn={obj:n=>n===Object(n)&&!Tn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Tn.str(n)||Tn.num(n)||Tn.boo(n))return n===e;const s=Tn.obj(n);if(s&&r==="reference")return n===e;const o=Tn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Tn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Tn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Lee(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function kee(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Nd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function OE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const pL=/-\d+$/;function YA(n,e,t){if(Tn.str(t)){if(pL.test(t)){const s=t.replace(pL,""),{target:o,key:a}=OE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=OE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function mL(n,e,t){var r,i;if(Tn.str(t)){const{target:s,key:o}=OE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function iG(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const c=n.__r3f,f=Object.entries(i),d=[];if(u){const v=Object.keys(l);for(let g=0;g<v.length;g++)i.hasOwnProperty(v[g])||f.unshift([v[g],nG+"remove"])}f.forEach(([v,g])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||Tn.equ(g,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return d.push([v,g,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),d.push([v,g,!1,_]);for(const x in i){const w=i[x];x.startsWith(`${v}-`)&&d.push([x,w,!1,x.split("-")])}});const p={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(p.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(p.attach=c.memoizedProps.attach),{memoized:p,changes:d}}function QA(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Bee(e)?e:iG(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[p,v,g,y]=a[d];if(KA(n)){const A="srgb",b="srgb-linear";p==="encoding"?(p="colorSpace",v=v===3001?A:b):p==="outputEncoding"&&(p="outputColorSpace",v=v===3001?A:b)}let _=n,x=_[p];if(y.length&&(x=y.reduce((w,A)=>w[A],n),!(x&&x.set))){const[w,...A]=y.reverse();_=A.reverse().reduce((b,E)=>b[E],n),p=w}if(v===nG+"remove")if(_.constructor){let w=hL.get(_.constructor);w||(w=new _.constructor,hL.set(_.constructor,w)),v=w[p]}else v=0;if(g&&r)v?r.handlers[p]=v:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(x&&x.set&&(x.copy||x instanceof cf)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(v!==void 0){var u;const w=(u=x)==null?void 0:u.isColor;!w&&x.setScalar?x.setScalar(v):x instanceof cf&&v instanceof cf?x.mask=v.mask:x.set(v),!Zz()&&s&&!s.linear&&w&&x.convertSRGBToLinear()}}else{var c;if(_[p]=v,(c=_[p])!=null&&c.isTexture&&_[p].format===Dr&&_[p].type===go&&s){const w=_[p];KA(w)&&KA(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}Ud(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const d=e_(n).getState().internal,p=d.interaction.indexOf(n);p>-1&&d.interaction.splice(p,1),r.eventCount&&d.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&FE(n),n}function Ud(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function FE(n){n.onUpdate==null||n.onUpdate(n)}function sG(n,e){n.manual||(qz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function a1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Oee(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Gm.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Gm.ContinuousEventPriority;default:return Gm.DefaultEventPriority}}function oG(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Fee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{oG(t.capturedMap,e,r,i)})}function Nee(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,d=[],p=u?u(c.internal.interaction):c.internal.interaction;for(let _=0;_<p.length;_++){const x=xm(p[_]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(_){const x=xm(_);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(_,!0):[]}let g=p.flatMap(v).sort((_,x)=>{const w=xm(_.object),A=xm(x.object);return!w||!A?_.distance-x.distance:A.events.priority-w.events.priority||_.distance-x.distance}).filter(_=>{const x=a1(_);return f.has(x)?!1:(f.add(x),!0)});c.events.filter&&(g=c.events.filter(g,c));for(const _ of g){let x=_.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&d.push({..._,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let _ of c.internal.capturedMap.get(l.pointerId).values())f.has(a1(_.intersection))||d.push(_.intersection);return d}function i(l,u,c,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const v of l){const g=xm(v.object)||d,{raycaster:y,pointer:_,camera:x,internal:w}=g,A=new Q(_.x,_.y,0).unproject(x),b=D=>{var F,O;return(F=(O=w.capturedMap.get(D))==null?void 0:O.has(v.eventObject))!=null?F:!1},E=D=>{const F={intersection:v,target:u.target};w.capturedMap.has(D)?w.capturedMap.get(D).set(v.eventObject,F):w.capturedMap.set(D,new Map([[v.eventObject,F]])),u.target.setPointerCapture(D)},T=D=>{const F=w.capturedMap.get(D);F&&oG(w.capturedMap,v.eventObject,F,D)};let M={};for(let D in u){let F=u[D];typeof F!="function"&&(M[D]=F)}let P={...v,...M,pointer:_,intersections:l,stopped:p.stopped,delta:c,unprojectedPoint:A,ray:y.ray,camera:x,stopPropagation(){const D="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!D||D.has(v.eventObject))&&(P.stopped=p.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));s([...F,v])}},target:{hasPointerCapture:b,setPointerCapture:E,releasePointerCapture:T},currentTarget:{hasPointerCapture:b,setPointerCapture:E,releasePointerCapture:T},nativeEvent:u};if(f(P),p.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,p=d==null?void 0:d.handlers;if(u.hovered.delete(a1(c)),d!=null&&d.eventCount){const v={...c,intersections:l};p.onPointerOut==null||p.onPointerOut(v),p.onPointerLeave==null||p.onPointerLeave(v)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=c;const p=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,p?t:void 0),_=v?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(w=>w.eventObject)),v&&!y.length&&_<=2&&(o(c,d.interaction),f&&f(c)),p&&s(y);function x(w){const A=w.eventObject,b=A.__r3f,E=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const T=a1(w),M=d.hovered.get(T);M?M.stopped&&w.stopPropagation():(d.hovered.set(T,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const T=E[l];T?(!v||d.initialHits.includes(A))&&(o(c,d.interaction.filter(M=>!d.initialHits.includes(M))),T(w)):v&&d.initialHits.includes(A)&&o(c,d.interaction.filter(M=>!d.initialHits.includes(M)))}}i(y,c,_,x)}}return{handlePointer:a}}const Uee=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],aG=n=>!!(n!=null&&n.render),sP=I.createContext(null),zee=(n,e)=>{const t=Wz((a,l)=>{const u=new Q,c=new Q,f=new Q;function d(_=l().camera,x=c,w=l().size){const{width:A,height:b,top:E,left:T}=w,M=A/b;x.isVector3?f.copy(x):f.set(...x);const P=_.getWorldPosition(u).distanceTo(f);if(qz(_))return{width:A/_.zoom,height:b/_.zoom,top:E,left:T,factor:1,distance:P,aspect:M};{const D=_.fov*Math.PI/180,F=2*Math.tan(D/2)*P,O=F*(A/b);return{width:O,height:F,top:E,left:T,factor:A/O,distance:P,aspect:M}}}let p;const v=_=>a(x=>({performance:{...x.performance,current:_}})),g=new We;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(l(),_),advance:(_,x)=>e(_,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new q2,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();p&&clearTimeout(p),_.performance.current!==_.performance.min&&v(_.performance.min),p=setTimeout(()=>v(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:_=>a(x=>({...x,events:{...x.events,..._}})),setSize:(_,x,w,A,b)=>{const E=l().camera,T={width:_,height:x,top:A||0,left:b||0,updateStyle:w};a(M=>({size:T,viewport:{...M.viewport,...d(E,c,T)}}))},setDpr:_=>a(x=>{const w=rG(_);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,_!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,x,w)=>{const A=l().internal;return A.priority=A.priority+(x>0?1:0),A.subscribers.push({ref:_,priority:x,store:w}),A.subscribers=A.subscribers.sort((b,E)=>b.priority-E.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(x>0?1:0),b.subscribers=b.subscribers.filter(E=>E.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var d;i=l,s=u.dpr,sG(a,l),c.setPixelRatio(u.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function Gee(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let l1,lG=new Set,Hee=new Set,Vee=new Set;const Wee=n=>Gee(n,lG);function ZA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function wm(n,e){switch(n){case"before":return ZA(lG,e);case"after":return ZA(Hee,e);case"tail":return ZA(Vee,e)}}let qA,eb;function tb(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),qA=e.internal.subscribers,l1=0;l1<qA.length;l1++)eb=qA[l1],eb.ref.current(eb.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jee(n){let e=!1,t=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,wm("before",u),t=!0;for(const f of n.values()){var c;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((c=s.gl.xr)!=null&&c.isPresenting)&&(r+=tb(u,s))}if(t=!1,wm("after",u),r===0)return wm("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,c=1){var f;if(!u)return n.forEach(d=>a(d.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,d){if(c&&wm("before",u),f)tb(u,f,d);else for(const p of n.values())tb(u,p.store.getState());c&&wm("after",u)}return{loop:o,invalidate:a,advance:l}}function oP(){const n=I.useContext(sP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Rr(n=t=>t,e){return oP()(n,e)}function Zu(n,e=0){const t=oP(),r=t.getState().internal.subscribe,i=eG(n);return Y0(()=>r(i,e,t),[e,r,t]),null}const gL=new WeakMap;function uG(n,e){return function(t,...r){let i=gL.get(t);return i||(i=new t,gL.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Lee(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Ls(n,e,t,r){const i=Array.isArray(e)?e:[e],s=mw(uG(t,r),[n,...i],{equal:Tn.equ});return Array.isArray(e)?s:s[0]}Ls.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Xz(uG(t),[n,...r])};Ls.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Jz([n,...t])};const zh=new Map,{invalidate:vL,advance:yL}=jee(zh),{reconciler:e0,applyProps:nl}=Ree(zh,Oee),Pd={objects:"shallow",strict:!1},$ee=(n,e)=>{const t=typeof n=="function"?n(e):n;return aG(t)?t:new iw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Xee(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Jee(n){const e=zh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||zee(vL,yL),o=t||e0.createContainer(s,Gm.ConcurrentRoot,null,!1,null,"",i,null);e||zh.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:d,scene:p,events:v,onCreated:g,shadows:y=!1,linear:_=!1,flat:x=!1,legacy:w=!1,orthographic:A=!1,frameloop:b="always",dpr:E=[1,2],performance:T,raycaster:M,camera:P,onPointerMissed:D}=c,F=s.getState(),O=F.gl;F.gl||F.set({gl:O=$ee(f,n)});let U=F.raycaster;U||F.set({raycaster:U=new rP});const{params:N,...$}=M||{};if(Tn.equ($,U,Pd)||nl(U,{...$}),Tn.equ(N,U.params,Pd)||nl(U,{params:{...U.params,...N}}),!F.camera||F.camera===u&&!Tn.equ(u,P,Pd)){u=P;const H=P instanceof L0,V=H?P:A?new ho(0,0,0,0,.1,1e3):new Hn(75,0,.1,1e3);H||(V.position.z=5,P&&(nl(V,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(V.manual=!0,V.updateProjectionMatrix())),!F.camera&&!(P!=null&&P.rotation)&&V.lookAt(0,0,0)),F.set({camera:V}),U.camera=V}if(!F.scene){let H;p!=null&&p.isScene?H=p:(H=new O0,p&&nl(H,p)),F.set({scene:Nd(H)})}if(!F.xr){var X;const H=(J,re)=>{const te=s.getState();te.frameloop!=="never"&&yL(J,!0,te,re)},V=()=>{const J=s.getState();J.gl.xr.enabled=J.gl.xr.isPresenting,J.gl.xr.setAnimationLoop(J.gl.xr.isPresenting?H:null),J.gl.xr.isPresenting||vL(J)},G={connect(){const J=s.getState().gl;J.xr.addEventListener("sessionstart",V),J.xr.addEventListener("sessionend",V)},disconnect(){const J=s.getState().gl;J.xr.removeEventListener("sessionstart",V),J.xr.removeEventListener("sessionend",V)}};typeof((X=O.xr)==null?void 0:X.addEventListener)=="function"&&G.connect(),F.set({xr:G})}if(O.shadowMap){const H=O.shadowMap.enabled,V=O.shadowMap.type;if(O.shadowMap.enabled=!!y,Tn.boo(y))O.shadowMap.type=sg;else if(Tn.str(y)){var q;const G={basic:t5,percentage:Yx,soft:sg,variance:jc};O.shadowMap.type=(q=G[y])!=null?q:sg}else Tn.obj(y)&&Object.assign(O.shadowMap,y);(H!==O.shadowMap.enabled||V!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}const z=Zz();z&&("enabled"in z?z.enabled=!w:"legacyMode"in z&&(z.legacyMode=w)),l||nl(O,{outputEncoding:_?3e3:3001,toneMapping:x?No:h2}),F.legacy!==w&&F.set(()=>({legacy:w})),F.linear!==_&&F.set(()=>({linear:_})),F.flat!==x&&F.set(()=>({flat:x})),f&&!Tn.fun(f)&&!aG(f)&&!Tn.equ(f,O,Pd)&&nl(O,f),v&&!F.events.handlers&&F.set({events:v(s)});const j=Xee(n,d);return Tn.equ(j,F.size,Pd)||F.setSize(j.width,j.height,j.updateStyle,j.top,j.left),E&&F.viewport.dpr!==rG(E)&&F.setDpr(E),F.frameloop!==b&&F.setFrameloop(b),F.onPointerMissed||F.set({onPointerMissed:D}),T&&!Tn.equ(T,F.performance,Pd)&&F.set(H=>({performance:{...H.performance,...T}})),a=g,l=!0,this},render(c){return l||this.configure(),e0.updateContainer(Ge.jsx(Kee,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){cG(n)}}}function Kee({store:n,children:e,onCreated:t,rootElement:r}){return Y0(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Ge.jsx(sP.Provider,{value:n,children:e})}function cG(n,e){const t=zh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),e0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),kee(i),zh.delete(n)}catch{}},500)})}}function Yee(n,e,t){return Ge.jsx(Qee,{children:n,container:e,state:t},e.uuid)}function Qee({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=oP(),[a]=I.useState(()=>new rP),[l]=I.useState(()=>new We),u=I.useCallback((f,d)=>{const p={...f};Object.keys(f).forEach(g=>{(Uee.includes(g)||f[g]!==d[g]&&d[g])&&delete p[g]});let v;if(d&&i){const g=d.camera;v=f.viewport.getCurrentViewport(g,new Q,i),g!==f.camera&&sG(g,i)}return{...p,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...v},...s}},[n]),[c]=I.useState(()=>{const f=o.getState();return Wz((p,v)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:p,get:v,setEvents:g=>p(y=>({...y,events:{...y.events,...g}}))}))});return I.useEffect(()=>{const f=o.subscribe(d=>c.setState(p=>u(d,p)));return()=>{f()}},[u]),I.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),I.useEffect(()=>()=>{c.destroy()},[]),Ge.jsx(Ge.Fragment,{children:e0.createPortal(Ge.jsx(sP.Provider,{value:c,children:e}),c,null)})}e0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});const nb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Zee(n){const{handlePointer:e}=Nee(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(nb).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=nb[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=nb[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function NE(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}NE.debounce=NE;var qee=NE;const _L=sp(qee);var ete=Object.defineProperty,tte=Object.defineProperties,nte=Object.getOwnPropertyDescriptors,xL=Object.getOwnPropertySymbols,rte=Object.prototype.hasOwnProperty,ite=Object.prototype.propertyIsEnumerable,wL=(n,e,t)=>e in n?ete(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,SL=(n,e)=>{for(var t in e||(e={}))rte.call(e,t)&&wL(n,t,e[t]);if(xL)for(var t of xL(e))ite.call(e,t)&&wL(n,t,e[t]);return n},ste=(n,e)=>tte(n,nte(e)),AL,bL;typeof window<"u"&&((AL=window.document)!=null&&AL.createElement||((bL=window.navigator)==null?void 0:bL.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function fG(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=fG(r,e,t);if(i)return i;r=r.sibling}}function dG(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ML=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=ML;return}return ML.apply(this,arguments)};const aP=dG(I.createContext(null));class hG extends I.Component{render(){return I.createElement(aP.Provider,{value:this._reactInternals},this.props.children)}}function ote(){const n=I.useContext(aP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=fG(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function ate(){const n=ote(),[e]=I.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==aP&&!e.has(i)&&e.set(i,I.useContext(dG(i)))}t=t.return}return e}function lte(){const n=ate();return I.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>I.createElement(e,null,I.createElement(t.Provider,ste(SL({},r),{value:n.get(t)}))),e=>I.createElement(hG,SL({},e))),[n])}function ute({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[s,o]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=I.useRef(!1);I.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,d,p]=I.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:x,top:w,width:A,height:b,bottom:E,right:T,x:M,y:P}=a.current.element.getBoundingClientRect(),D={left:x,top:w,width:A,height:b,bottom:E,right:T,x:M,y:P};a.current.element instanceof HTMLElement&&r&&(D.height=a.current.element.offsetHeight,D.width=a.current.element.offsetWidth),Object.freeze(D),c.current&&!hte(a.current.lastBounds,D)&&o(a.current.lastBounds=D)};return[_,u?_L(_,u):_,l?_L(_,l):_]},[o,r,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",p,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function g(){var _;a.current.element&&(a.current.resizeObserver=new i(d),(_=a.current.resizeObserver)==null||_.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=_=>{!_||_===a.current.element||(v(),a.current.element=_,a.current.scrollContainers=pG(_),g())};return fte(p,!!e),cte(d),I.useEffect(()=>{v(),g()},[e,p,d]),I.useEffect(()=>v,[]),[y,s,f]}function cte(n){I.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function fte(n,e){I.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function pG(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...pG(n.parentElement)]}const dte=["x","y","top","bottom","left","right","width","height"],hte=(n,e)=>dte.every(t=>n[t]===e[t]),pte=I.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Zee,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:p,frameloop:v,dpr:g,performance:y,raycaster:_,camera:x,scene:w,onPointerMissed:A,onCreated:b,...E},T){I.useMemo(()=>gw(Hz),[]);const M=lte(),[P,D]=ute({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=I.useRef(null),O=I.useRef(null);I.useImperativeHandle(T,()=>F.current);const U=eG(A),[N,$]=I.useState(!1),[X,q]=I.useState(!1);if(N)throw N;if(X)throw X;const z=I.useRef(null);Y0(()=>{const H=F.current;D.width>0&&D.height>0&&H&&(z.current||(z.current=Jee(H)),z.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:d,orthographic:p,frameloop:v,dpr:g,performance:y,raycaster:_,camera:x,scene:w,size:D,onPointerMissed:(...V)=>U.current==null?void 0:U.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?Iee(a)?a.current:a:O.current),l&&V.setEvents({compute:(G,J)=>{const re=G[l+"X"],te=G[l+"Y"];J.pointer.set(re/J.size.width*2-1,-(te/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),b==null||b(V)}}),z.current.render(Ge.jsx(M,{children:Ge.jsx(tG,{set:q,children:Ge.jsx(I.Suspense,{fallback:Ge.jsx(Dee,{set:$}),children:e})})})))}),I.useEffect(()=>{const H=F.current;if(H)return()=>cG(H)},[]);const j=a?"none":"auto";return Ge.jsx("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...E,children:Ge.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:Ge.jsx("canvas",{ref:F,style:{display:"block"},children:t})})})}),mte=I.forwardRef(function(e,t){return Ge.jsx(hG,{children:Ge.jsx(pte,{...e,ref:t})})});function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bl.apply(null,arguments)}const Q0=new Q,lP=new Q,gte=new Q,EL=new We;function vte(n,e,t){const r=Q0.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function yte(n,e){const t=Q0.setFromMatrixPosition(n.matrixWorld),r=lP.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(gte);return i.angleTo(s)>Math.PI/2}function _te(n,e,t,r){const i=Q0.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),EL.set(s.x,s.y),t.setFromCamera(EL,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function xte(n,e){if(e instanceof ho)return e.zoom;if(e instanceof Hn){const t=Q0.setFromMatrixPosition(n.matrixWorld),r=lP.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function wte(n,e,t){if(e instanceof Hn||e instanceof ho){const r=Q0.setFromMatrixPosition(n.matrixWorld),i=lP.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const UE=n=>Math.abs(n)<1e-10?0:n;function mG(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=UE(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const Ste=(n=>e=>mG(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Ate=(n=>(e,t)=>mG(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function bte(n){return n&&typeof n=="object"&&"current"in n}const Mte=I.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:f,onOcclude:d,castShadow:p,receiveShadow:v,material:g,geometry:y,zIndexRange:_=[16777271,0],calculatePosition:x=vte,as:w="div",wrapperClass:A,pointerEvents:b="auto",...E},T)=>{const{gl:M,camera:P,scene:D,size:F,raycaster:O,events:U,viewport:N}=Rr(),[$]=I.useState(()=>document.createElement(w)),X=I.useRef(),q=I.useRef(null),z=I.useRef(0),j=I.useRef([0,0]),H=I.useRef(null),V=I.useRef(null),G=(a==null?void 0:a.current)||U.connected||M.domElement.parentNode,J=I.useRef(null),re=I.useRef(!1),te=I.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&bte(f[0]),[f]);I.useLayoutEffect(()=>{const Ae=M.domElement;f&&f==="blending"?(Ae.style.zIndex=`${Math.floor(_[0]/2)}`,Ae.style.position="absolute",Ae.style.pointerEvents="none"):(Ae.style.zIndex=null,Ae.style.position=null,Ae.style.pointerEvents=null)},[f]),I.useLayoutEffect(()=>{if(q.current){const Ae=X.current=c2($);if(D.updateMatrixWorld(),c)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ye=x(q.current,P,F);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ye[0]}px,${ye[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend($):G.appendChild($)),()=>{G&&G.removeChild($),Ae.unmount()}}},[G,c]),I.useLayoutEffect(()=>{A&&($.className=A)},[A]);const Y=I.useMemo(()=>c?{position:"absolute",top:0,left:0,width:F.width,height:F.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-F.height/2,left:-F.width/2,width:F.width,height:F.height},...t},[t,s,o,F,c]),ce=I.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);I.useLayoutEffect(()=>{if(re.current=!1,c){var Ae;(Ae=X.current)==null||Ae.render(I.createElement("div",{ref:H,style:Y},I.createElement("div",{ref:V,style:ce},I.createElement("div",{ref:T,className:r,style:t,children:n}))))}else{var ye;(ye=X.current)==null||ye.render(I.createElement("div",{ref:T,style:Y,className:r,children:n}))}});const fe=I.useRef(!0);Zu(Ae=>{if(q.current){P.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);const ye=c?j.current:x(q.current,P,F);if(c||Math.abs(z.current-P.zoom)>e||Math.abs(j.current[0]-ye[0])>e||Math.abs(j.current[1]-ye[1])>e){const le=yte(q.current,P);let de=!1;te&&(Array.isArray(f)?de=f.map(Ye=>Ye.current):f!=="blending"&&(de=[D]));const Ie=fe.current;if(de){const Ye=_te(q.current,P,O,de);fe.current=Ye&&!le}else fe.current=!le;Ie!==fe.current&&(d?d(!fe.current):$.style.display=fe.current?"block":"none");const Ve=Math.floor(_[0]/2),Be=f?te?[_[0],Ve]:[Ve-1,0]:_;if($.style.zIndex=`${wte(q.current,P,Be)}`,c){const[Ye,De]=[F.width/2,F.height/2],Ue=P.projectionMatrix.elements[5]*De,{isOrthographicCamera:Qe,top:Ce,left:K,bottom:k,right:se}=P,me=Ste(P.matrixWorldInverse),Oe=Qe?`scale(${Ue})translate(${UE(-(se+K)/2)}px,${UE((Ce+k)/2)}px)`:`translateZ(${Ue}px)`;let Me=q.current.matrixWorld;u&&(Me=P.matrixWorldInverse.clone().transpose().copyPosition(Me).scale(q.current.scale),Me.elements[3]=Me.elements[7]=Me.elements[11]=0,Me.elements[15]=1),$.style.width=F.width+"px",$.style.height=F.height+"px",$.style.perspective=Qe?"":`${Ue}px`,H.current&&V.current&&(H.current.style.transform=`${Oe}${me}translate(${Ye}px,${De}px)`,V.current.style.transform=Ate(Me,1/((l||10)/400)))}else{const Ye=l===void 0?1:xte(q.current,P)*l;$.style.transform=`translate3d(${ye[0]}px,${ye[1]}px,0) scale(${Ye})`}j.current=ye,z.current=P.zoom}}if(!te&&J.current&&!re.current)if(c){if(H.current){const ye=H.current.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const{isOrthographicCamera:le}=P;if(le||y)E.scale&&(Array.isArray(E.scale)?E.scale instanceof Q?J.current.scale.copy(E.scale.clone().divideScalar(1)):J.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):J.current.scale.setScalar(1/E.scale));else{const de=(l||10)/400,Ie=ye.clientWidth*de,Ve=ye.clientHeight*de;J.current.scale.set(Ie,Ve,1)}re.current=!0}}}else{const ye=$.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const le=1/N.factor,de=ye.clientWidth*le,Ie=ye.clientHeight*le;J.current.scale.set(de,Ie,1),re.current=!0}J.current.lookAt(Ae.camera.position)}});const Re=I.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return I.createElement("group",bl({},E,{ref:q}),f&&!te&&I.createElement("mesh",{castShadow:p,receiveShadow:v,ref:J},y||I.createElement("planeGeometry",null),g||I.createElement("shaderMaterial",{side:bs,vertexShader:Re.vertexShader,fragmentShader:Re.fragmentShader})))}),CL=n=>{let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const d=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,a);return a},Ete=n=>n?CL(n):CL,Cte=n=>n;function Tte(n,e=Cte){const t=ue.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ue.useDebugValue(t),t}const TL=n=>{const e=Ete(n),t=r=>Tte(e,r);return Object.assign(t,e),t},Pte=n=>n?TL(n):TL;let Sm=0;const Rte=Pte(n=>(nh.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Sm)/(r-Sm)*100})},nh.onLoad=()=>{n({active:!1})},nh.onError=e=>n(t=>({errors:[...t.errors,e]})),nh.onProgress=(e,t,r)=>{t===r&&(Sm=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Sm)/(r-Sm)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Ite(n,e,t){return Math.max(e,Math.min(n,t))}const On={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function PL(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function RL(n,e,t,r=.15){return r===0?Ite(n,e,t):n<e?-PL(e-n,t-e,r)+e:n>t?+PL(n-t,t-e,r)+t:n}function Dte(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[RL(e,s,o,r),RL(t,a,l,i)]}function Bte(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lte(n){var e=Bte(n,"string");return typeof e=="symbol"?e:String(e)}function Ar(n,e,t){return e=Lte(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(t),!0).forEach(function(r){Ar(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const gG={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function DL(n){return n?n[0].toUpperCase()+n.slice(1):""}const kte=["enter","leave"];function Ote(n=!1,e){return n&&!kte.includes(e)}function Fte(n,e="",t=!1){const r=gG[n],i=r&&r[e]||e;return"on"+DL(n)+DL(i)+(Ote(t,i)?"Capture":"")}const Nte=["gotpointercapture","lostpointercapture"];function Ute(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=Nte.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function zte(n,e=""){const t=gG[n],r=t&&t[e]||e;return n+r}function vw(n){return"touches"in n}function vG(n){return vw(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Gte(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function Hte(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function yG(n){return vw(n)?Hte(n)[0]:n}function zE(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function Vte(n){return Gte(n).map(e=>e.identifier)}function BL(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return zE(t,r)}function rb(n){const e=yG(n);return vw(n)?e.identifier:e.pointerId}function Gh(n){const e=yG(n);return[e.clientX,e.clientY]}const LL=40,kL=800;function _G(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=LL,t*=LL):r===2&&(e*=kL,t*=kL),[e,t]}function Wte(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function jte(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function $_(n,...e){return typeof n=="function"?n(...e):n}function $te(){}function Xte(...n){return n.length===0?$te:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function OL(n,e){return Object.assign({},e,n||{})}const Jte=32;class xG{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?$_(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,jte(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);On.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,u]=r.threshold,{_step:c,values:f}=t;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),t.intentional=c[0]!==!1||c[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[E,T]=f;d[0]=c[0]!==!1?E-c[0]:0,d[1]=c[1]!==!1?T-c[1]:0}else d[0]=c[0]!==!1?o-c[0]:0,d[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=$_(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[g,y]=t.offset,[[_,x],[w,A]]=t._bounds;t.overflow=[g<_?-1:g>x?1:0,y<w?-1:y>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const b=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=Dte(t._bounds,t.offset,b),t.delta=On.sub(t.offset,p),this.computeMovement(),v&&(!t.last||s>Jte)){t.delta=On.sub(t.offset,p);const E=t.delta.map(Math.abs);On.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(tr(tr(tr({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Kte([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class Z0 extends xG{constructor(...e){super(...e),Ar(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=On.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=On.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[vG(e)]:r.axisThreshold;t.axis=Kte(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Yte=n=>n,FL=.15,wG={enabled(n=!0){return n},eventOptions(n,e,t){return tr(tr({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[FL,FL];case!1:return[0,0];default:return On.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return On.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||Yte},threshold(n){return On.toVector(n,0)}},Qte=0,$f=tr(tr({},wG),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Qte){return n},bounds(n={}){if(typeof n=="function")return s=>$f.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),NL={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Zte extends Z0{constructor(...e){super(...e),Ar(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=$f.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=rb(e),r._pointerActive=!0,this.computeValues(Gh(e)),this.computeInitial(),t.preventScrollAxis&&vG(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=rb(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=Gh(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=On.sub(s,t._values),this.computeValues(s)),On.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=rb(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[u,c]=t._movement,[f,d]=r.swipe.velocity,[p,v]=r.swipe.distance,g=r.swipe.duration;if(t.elapsedTime<g){const y=Math.abs(a/t.timeDelta),_=Math.abs(l/t.timeDelta);y>f&&Math.abs(u)>p&&(t.swipe[0]=Math.sign(a)),_>d&&Math.abs(c)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,qte(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=NL[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,On.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in NL&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function qte(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const q0=typeof window<"u"&&window.document&&window.document.createElement;function SG(){return q0&&"ontouchstart"in window}function ene(){return SG()||q0&&window.navigator.maxTouchPoints>1}function tne(){return q0&&"onpointerdown"in window}function nne(){return q0&&"exitPointerLock"in window.document}function rne(){try{return"constructor"in GestureEvent}catch{return!1}}const ro={isBrowser:q0,gesture:rne(),touch:SG(),touchscreen:ene(),pointer:tne(),pointerLock:nne()},ine=250,sne=180,one=.5,ane=50,lne=250,une=10,UL={mouse:0,touch:0,pen:8},cne=tr(tr({},$f),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ro.pointerLock,ro.touch&&t?"touch":this.pointerLock?"mouse":ro.pointer&&!i?"pointer":ro.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?ine:void 0,!(!ro.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=On.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=one,distance:e=ane,duration:t=lne}={}){return{velocity:this.transform(On.toVector(n)),distance:this.transform(On.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return sne;case!1:return 0;default:return n}},axisThreshold(n){return n?tr(tr({},UL),n):UL},keyboardDisplacement(n=une){return n}});function AG(n){const[e,t]=n.overflow,[r,i]=n._delta,[s,o]=n._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const fne=30,dne=100;class hne extends xG{constructor(...e){super(...e),Ar(this,"ingKey","pinching"),Ar(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=On.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*fne-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=BL(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=zE(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=BL(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=zE(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],s=t.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=On.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(r=>e[r]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-_G(e)[1]/dne*r.offset[0],0],On.addTo(r._movement,r._delta),AG(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const pne=tr(tr({},wG),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!ro.touch&&ro.gesture)return"gesture";if(ro.touch&&r)return"touch";if(ro.touchscreen){if(ro.pointer)return"pointer";if(ro.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=OL($_(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=OL($_(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",On.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class mne extends Z0{constructor(...e){super(...e),Ar(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Gh(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=Gh(e),r=this.state;r._delta=On.sub(t,r._values),On.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const gne=tr(tr({},$f),{},{mouseOnly:(n=!0)=>n});class vne extends Z0{constructor(...e){super(...e),Ar(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=Wte(e);t._delta=On.sub(r,t._values),On.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const yne=$f;class _ne extends Z0{constructor(...e){super(...e),Ar(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=_G(e),On.addTo(t._movement,t._delta),AG(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const xne=$f;class wne extends Z0{constructor(...e){super(...e),Ar(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Gh(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=Gh(e);t._movement=t._delta=On.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const Sne=tr(tr({},$f),{},{mouseOnly:(n=!0)=>n}),uP=new Map,GE=new Map;function bG(n){uP.set(n.key,n.engine),GE.set(n.key,n.resolver)}const MG={key:"drag",engine:Zte,resolver:cne},Ane={key:"hover",engine:wne,resolver:Sne},bne={key:"move",engine:mne,resolver:gne},Mne={key:"pinch",engine:hne,resolver:pne},Ene={key:"scroll",engine:vne,resolver:yne},Cne={key:"wheel",engine:_ne,resolver:xne};function Tne(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Pne(n,e){if(n==null)return{};var t=Tne(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const Rne={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=ro.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},Ine=["target","eventOptions","window","enabled","transform"];function t_(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=t_(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function Dne(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=Pne(r,Ine);if(t.shared=t_({target:i,eventOptions:s,window:o,enabled:a,transform:l},Rne),e){const c=GE.get(e);t[e]=t_(tr({shared:t.shared},u),c)}else for(const c in u){const f=GE.get(c);f&&(t[c]=t_(tr({shared:t.shared},u[c]),f))}return t}class EG{constructor(e,t){Ar(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=zte(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=tr(tr({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Bne{constructor(){Ar(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let Lne=class{constructor(e){Ar(this,"gestures",new Set),Ar(this,"_targetEventStore",new EG(this)),Ar(this,"gestureEventStores",{}),Ar(this,"gestureTimeoutStores",{}),Ar(this,"handlers",{}),Ar(this,"config",{}),Ar(this,"pointerIds",new Set),Ar(this,"touchIds",new Set),Ar(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),kne(this,e)}setEventIds(e){if(vw(e))return this.touchIds=new Set(Vte(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Dne(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=zL(r,a.eventOptions,!!i);if(a.enabled){const u=uP.get(o);new u(this,e,o).bind(l)}}const s=zL(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](tr(tr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=Xte(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=Ute(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Rd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new EG(n,e),n.gestureTimeoutStores[e]=new Bne}function kne(n,e){e.drag&&Rd(n,"drag"),e.wheel&&Rd(n,"wheel"),e.scroll&&Rd(n,"scroll"),e.move&&Rd(n,"move"),e.pinch&&Rd(n,"pinch"),e.hover&&Rd(n,"hover")}const zL=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(u=o.passive)!==null&&u!==void 0?u:e.passive;let d=a?r:Fte(r,i,c);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)},One=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Fne(n){const e={},t={},r=new Set;for(let i in n)One.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function Id(n,e,t,r,i,s){if(!n.has(t)||!uP.has(r))return;const o=t+"Start",a=t+"End",l=u=>{let c;return u.first&&o in e&&e[o](u),t in e&&(c=e[t](u)),u.last&&a in e&&e[a](u),c};i[r]=l,s[r]=s[r]||{}}function Nne(n,e){const[t,r,i]=Fne(n),s={};return Id(i,t,"onDrag","drag",s,e),Id(i,t,"onWheel","wheel",s,e),Id(i,t,"onScroll","scroll",s,e),Id(i,t,"onPinch","pinch",s,e),Id(i,t,"onMove","move",s,e),Id(i,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function CG(n,e={},t,r){const i=ue.useMemo(()=>new Lne(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),ue.useEffect(i.effect.bind(i)),ue.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Une(n,e){return bG(MG),CG({drag:n},e||{},"drag")}function zne(n){return n.forEach(bG),function(t,r){const{handlers:i,nativeHandlers:s,config:o}=Nne(t,r||{});return CG(i,o,void 0,s)}}function Gne(n,e){return zne([MG,Mne,Ene,Cne,bne,Ane])(n,e)}var cP=tv(),Ht=n=>ev(n,cP),fP=tv();Ht.write=n=>ev(n,fP);var yw=tv();Ht.onStart=n=>ev(n,yw);var dP=tv();Ht.onFrame=n=>ev(n,dP);var hP=tv();Ht.onFinish=n=>ev(n,hP);var _h=[];Ht.setTimeout=(n,e)=>{const t=Ht.now()+e,r=()=>{const s=_h.findIndex(o=>o.cancel==r);~s&&_h.splice(s,1),fu-=~s?1:0},i={time:t,handler:n,cancel:r};return _h.splice(TG(t),0,i),fu+=1,PG(),i};var TG=n=>~(~_h.findIndex(e=>e.time>n)||~_h.length);Ht.cancel=n=>{yw.delete(n),dP.delete(n),hP.delete(n),cP.delete(n),fP.delete(n)};Ht.sync=n=>{HE=!0,Ht.batchedUpdates(n),HE=!1};Ht.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,Ht.onStart(t)}return r.handler=n,r.cancel=()=>{yw.delete(t),e=null},r};var pP=typeof window<"u"?window.requestAnimationFrame:()=>{};Ht.use=n=>pP=n;Ht.now=typeof performance<"u"?()=>performance.now():Date.now;Ht.batchedUpdates=n=>n();Ht.catch=console.error;Ht.frameLoop="always";Ht.advance=()=>{Ht.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):IG()};var cu=-1,fu=0,HE=!1;function ev(n,e){HE?(e.delete(n),n(0)):(e.add(n),PG())}function PG(){cu<0&&(cu=0,Ht.frameLoop!=="demand"&&pP(RG))}function Hne(){cu=-1}function RG(){~cu&&(pP(RG),Ht.batchedUpdates(IG))}function IG(){const n=cu;cu=Ht.now();const e=TG(cu);if(e&&(DG(_h.splice(0,e),t=>t.handler()),fu-=e),!fu){Hne();return}yw.flush(),cP.flush(n?Math.min(64,cu-n):16.667),dP.flush(),fP.flush(),hP.flush()}function tv(){let n=new Set,e=n;return{add(t){fu+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return fu-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,fu-=e.size,DG(e,r=>r(t)&&n.add(r)),fu+=n.size,e=n)}}}function DG(n,e){n.forEach(t=>{try{e(t)}catch(r){Ht.catch(r)}})}var Vne=Object.defineProperty,Wne=(n,e)=>{for(var t in e)Vne(n,t,{get:e[t],enumerable:!0})},Ho={};Wne(Ho,{assign:()=>$ne,colors:()=>Eu,createStringInterpolator:()=>gP,skipAnimation:()=>LG,to:()=>BG,willAdvance:()=>vP});function VE(){}var jne=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),ut={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Ya(n,e){if(ut.arr(n)){if(!ut.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var vn=(n,e)=>n.forEach(e);function Ml(n,e,t){if(ut.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}var lo=n=>ut.und(n)?[]:ut.arr(n)?n:[n];function ug(n,e){if(n.size){const t=Array.from(n);n.clear(),vn(t,e)}}var Hm=(n,...e)=>ug(n,t=>t(...e)),mP=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),gP,BG,Eu=null,LG=!1,vP=VE,$ne=n=>{n.to&&(BG=n.to),n.now&&(Ht.now=n.now),n.colors!==void 0&&(Eu=n.colors),n.skipAnimation!=null&&(LG=n.skipAnimation),n.createStringInterpolator&&(gP=n.createStringInterpolator),n.requestAnimationFrame&&Ht.use(n.requestAnimationFrame),n.batchedUpdates&&(Ht.batchedUpdates=n.batchedUpdates),n.willAdvance&&(vP=n.willAdvance),n.frameLoop&&(Ht.frameLoop=n.frameLoop)},cg=new Set,so=[],ib=[],X_=0,_w={get idle(){return!cg.size&&!so.length},start(n){X_>n.priority?(cg.add(n),Ht.onStart(Xne)):(kG(n),Ht(WE))},advance:WE,sort(n){if(X_)Ht.onFrame(()=>_w.sort(n));else{const e=so.indexOf(n);~e&&(so.splice(e,1),OG(n))}},clear(){so=[],cg.clear()}};function Xne(){cg.forEach(kG),cg.clear(),Ht(WE)}function kG(n){so.includes(n)||OG(n)}function OG(n){so.splice(Jne(so,e=>e.priority>n.priority),0,n)}function WE(n){const e=ib;for(let t=0;t<so.length;t++){const r=so[t];X_=r.priority,r.idle||(vP(r),r.advance(n),r.idle||e.push(r))}return X_=0,ib=so,ib.length=0,so=e,so.length>0}function Jne(n,e){const t=n.findIndex(e);return t<0?n.length:t}var Kne=(n,e,t)=>Math.min(Math.max(t,n),e),Yne={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ko="[-+]?\\d*\\.?\\d+",J_=ko+"%";function xw(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var Qne=new RegExp("rgb"+xw(ko,ko,ko)),Zne=new RegExp("rgba"+xw(ko,ko,ko,ko)),qne=new RegExp("hsl"+xw(ko,J_,J_)),ere=new RegExp("hsla"+xw(ko,J_,J_,ko)),tre=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nre=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,rre=/^#([0-9a-fA-F]{6})$/,ire=/^#([0-9a-fA-F]{8})$/;function sre(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=rre.exec(n))?parseInt(e[1]+"ff",16)>>>0:Eu&&Eu[n]!==void 0?Eu[n]:(e=Qne.exec(n))?(Dd(e[1])<<24|Dd(e[2])<<16|Dd(e[3])<<8|255)>>>0:(e=Zne.exec(n))?(Dd(e[1])<<24|Dd(e[2])<<16|Dd(e[3])<<8|VL(e[4]))>>>0:(e=tre.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ire.exec(n))?parseInt(e[1],16)>>>0:(e=nre.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=qne.exec(n))?(GL(HL(e[1]),u1(e[2]),u1(e[3]))|255)>>>0:(e=ere.exec(n))?(GL(HL(e[1]),u1(e[2]),u1(e[3]))|VL(e[4]))>>>0:null}function sb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GL(n,e,t){const r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,s=sb(i,r,n+1/3),o=sb(i,r,n),a=sb(i,r,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Dd(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function HL(n){return(parseFloat(n)%360+360)%360/360}function VL(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function u1(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function WL(n){let e=sre(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${s})`}var t0=(n,e,t)=>{if(ut.fun(n))return n;if(ut.arr(n))return t0({range:n,output:e,extrapolate:t});if(ut.str(n.output[0]))return gP(n);const r=n,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=are(u,s);return ore(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function ore(n,e,t,r,i,s,o,a,l){let u=l?l(n):n;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>t){if(a==="identity")return u;a==="clamp"&&(u=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?u=-u:t===1/0?u=u-e:u=(u-e)/(t-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function are(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var lre=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const r=t*n,i=e==="end"?Math.floor(r):Math.ceil(r);return Kne(0,1,i/n)},K_=1.70158,c1=K_*1.525,jL=K_+1,$L=2*Math.PI/3,XL=2*Math.PI/4.5,f1=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,ure={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>jL*n*n*n-K_*n*n,easeOutBack:n=>1+jL*Math.pow(n-1,3)+K_*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((c1+1)*2*n-c1)/2:(Math.pow(2*n-2,2)*((c1+1)*(n*2-2)+c1)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*$L),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*$L)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*XL))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*XL)/2+1,easeInBounce:n=>1-f1(1-n),easeOutBounce:f1,easeInOutBounce:n=>n<.5?(1-f1(1-2*n))/2:(1+f1(2*n-1))/2,steps:lre},n0=Symbol.for("FluidValue.get"),Hh=Symbol.for("FluidValue.observers"),fa=n=>!!(n&&n[n0]),eo=n=>n&&n[n0]?n[n0]():n,JL=n=>n[Hh]||null;function cre(n,e){n.eventObserved?n.eventObserved(e):n(e)}function Y_(n,e){const t=n[Hh];t&&t.forEach(r=>{cre(r,e)})}var fre=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");dre(this,n)}},dre=(n,e)=>FG(n,n0,e);function nv(n,e){if(n[n0]){let t=n[Hh];t||FG(n,Hh,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function Q_(n,e){const t=n[Hh];if(t&&t.has(e)){const r=t.size-1;r?t.delete(e):n[Hh]=null,n.observerRemoved&&n.observerRemoved(r,e)}}var FG=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),n_=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hre=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,KL=new RegExp(`(${n_.source})(%|[a-z]+)`,"i"),pre=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ww=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,NG=n=>{const[e,t]=mre(n);if(!e||mP())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||n}else{if(t&&ww.test(t))return NG(t);if(t)return t}return n},mre=n=>{const e=ww.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]},ob,gre=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,UG=n=>{ob||(ob=Eu?new RegExp(`(${Object.keys(Eu).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>eo(s).replace(ww,NG).replace(hre,WL).replace(ob,WL)),t=e.map(s=>s.match(n_).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>t0({...n,output:s}));return s=>{var l;const o=!KL.test(e[0])&&((l=e.find(u=>KL.test(u)))==null?void 0:l.replace(n_,""));let a=0;return e[0].replace(n_,()=>`${i[a++](s)}${o||""}`).replace(pre,gre)}},yP="react-spring: ",zG=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${yP}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},vre=zG(console.warn);function yre(){vre(`${yP}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _re=zG(console.warn);function xre(){_re(`${yP}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Sw(n){return ut.str(n)&&(n[0]=="#"||/\d/.test(n)||!mP()&&ww.test(n)||n in(Eu||{}))}var _P=mP()?I.useEffect:I.useLayoutEffect,wre=()=>{const n=I.useRef(!1);return _P(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function GG(){const n=I.useState()[1],e=wre();return()=>{e.current&&n(Math.random())}}function Sre(n,e){const[t]=I.useState(()=>({inputs:e,result:n()})),r=I.useRef(),i=r.current;let s=i;return s?s.inputs&&Are(e,s.inputs)||(s={inputs:e,result:n()}):s=t,I.useEffect(()=>{r.current=s,i==t&&(t.inputs=t.result=void 0)},[s]),s.result}function Are(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var HG=n=>I.useEffect(n,bre),bre=[];function YL(n){const e=I.useRef();return I.useEffect(()=>{e.current=n}),e.current}var r0=Symbol.for("Animated:node"),Mre=n=>!!n&&n[r0]===n,ua=n=>n&&n[r0],xP=(n,e)=>jne(n,r0,e),Aw=n=>n&&n[r0]&&n[r0].getPayload(),VG=class{constructor(){xP(this,this)}getPayload(){return this.payload||[]}},rv=class extends VG{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,ut.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new rv(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,e){return ut.num(n)&&(this.lastPosition=n,e&&(n=Math.round(n/e)*e,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,ut.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},i0=class extends rv{constructor(n){super(0),this._string=null,this._toString=t0({output:[n,n]})}static create(n){return new i0(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(ut.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=t0({output:[this.getValue(),n]})),this._value=0,super.reset()}},Z_={dependencies:null},wP=class extends VG{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return Ml(this.source,(t,r)=>{Mre(t)?e[r]=t.getValue(n):fa(t)?e[r]=eo(t):n||(e[r]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&vn(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return Ml(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){Z_.dependencies&&fa(n)&&Z_.dependencies.add(n);const e=Aw(n);e&&vn(e,t=>this.add(t))}},WG=class extends wP{constructor(n){super(n)}static create(n){return new WG(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const e=this.getPayload();return n.length==e.length?e.map((t,r)=>t.setValue(n[r])).some(Boolean):(super.setValue(n.map(Ere)),!0)}};function Ere(n){return(Sw(n)?i0:rv).create(n)}function jE(n){const e=ua(n);return e?e.constructor:ut.arr(n)?WG:Sw(n)?i0:rv}var QL=(n,e)=>{const t=!ut.fun(n)||n.prototype&&n.prototype.isReactComponent;return I.forwardRef((r,i)=>{const s=I.useRef(null),o=t&&I.useCallback(v=>{s.current=Pre(i,v)},[i]),[a,l]=Tre(r,e),u=GG(),c=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&u()},f=new Cre(c,l),d=I.useRef();_P(()=>(d.current=f,vn(l,v=>nv(v,f)),()=>{d.current&&(vn(d.current.deps,v=>Q_(v,d.current)),Ht.cancel(d.current.update))})),I.useEffect(c,[]),HG(()=>()=>{const v=d.current;vn(v.deps,g=>Q_(g,v))});const p=e.getComponentProps(a.getValue());return I.createElement(n,{...p,ref:o})})},Cre=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&Ht.write(this.update)}};function Tre(n,e){const t=new Set;return Z_.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new wP(n),Z_.dependencies=null,[n,t]}function Pre(n,e){return n&&(ut.fun(n)?n(e):n.current=e),e}var ZL=Symbol.for("AnimatedComponent"),Rre=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new wP(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},s=o=>{const a=qL(o)||"Anonymous";return ut.str(o)?o=s[o]||(s[o]=QL(o,i)):o=o[ZL]||(o[ZL]=QL(o,i)),o.displayName=`Animated(${a})`,o};return Ml(n,(o,a)=>{ut.arr(n)&&(a=qL(o)),s[a]=s(o)}),{animated:s}},qL=n=>ut.str(n)?n:n&&ut.str(n.displayName)?n.displayName:ut.fun(n)&&n.name||null;function Gc(n,...e){return ut.fun(n)?n(...e):n}var fg=(n,e)=>n===!0||!!(e&&n&&(ut.fun(n)?n(e):lo(n).includes(e))),jG=(n,e)=>ut.obj(n)?e&&n[e]:n,$G=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,Ire=n=>n,SP=(n,e=Ire)=>{let t=Dre;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const r={};for(const i of t){const s=e(n[i],i);ut.und(s)||(r[i]=s)}return r},Dre=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Bre={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Lre(n){const e={};let t=0;if(Ml(n,(r,i)=>{Bre[i]||(e[i]=r,t++)}),t)return e}function XG(n){const e=Lre(n);if(e){const t={to:e};return Ml(n,(r,i)=>i in e||(t[i]=r)),t}return{...n}}function s0(n){return n=eo(n),ut.arr(n)?n.map(s0):Sw(n)?Ho.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function kre(n){for(const e in n)return!0;return!1}function $E(n){return ut.fun(n)||ut.arr(n)&&ut.obj(n[0])}function Ore(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function Fre(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var Nre={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},XE={...Nre.default,mass:1,damping:1,easing:ure.linear,clamp:!1},Ure=class{constructor(){this.velocity=0,Object.assign(this,XE)}};function zre(n,e,t){t&&(t={...t},ek(t,e),e={...t,...e}),ek(n,e),Object.assign(n,e);for(const o in XE)n[o]==null&&(n[o]=XE[o]);let{frequency:r,damping:i}=n;const{mass:s}=n;return ut.und(r)||(r<.01&&(r=.01),i<0&&(i=0),n.tension=Math.pow(2*Math.PI/r,2)*s,n.friction=4*Math.PI*i*s/r),n}function ek(n,e){if(!ut.und(e.decay))n.duration=void 0;else{const t=!ut.und(e.tension)||!ut.und(e.friction);(t||!ut.und(e.frequency)||!ut.und(e.damping)||!ut.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var tk=[],Gre=class{constructor(){this.changed=!1,this.values=tk,this.toValues=null,this.fromValues=tk,this.config=new Ure,this.immediate=!1}};function JG(n,{key:e,props:t,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=fg(t.cancel??(r==null?void 0:r.cancel),e);if(c)p();else{ut.und(t.pause)||(i.paused=fg(t.pause,e));let v=r==null?void 0:r.pause;v!==!0&&(v=i.paused||fg(v,e)),l=Gc(t.delay||0,e),v?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(u),u.cancel(),l=u.time-Ht.now()}function d(){l>0&&!Ho.skipAnimation?(i.delayed=!0,u=Ht.setTimeout(p,l),i.pauseQueue.add(f),i.timeouts.add(u)):p()}function p(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),n<=(i.cancelId||0)&&(c=!0);try{s.start({...t,callId:n,cancel:c},o)}catch(v){a(v)}}})}var AP=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?xh(n.get()):e.every(t=>t.noop)?KG(n.get()):Bo(n.get(),e.every(t=>t.finished)),KG=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Bo=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),xh=n=>({value:n,cancelled:!0,finished:!1});function YG(n,e,t,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;const u=SP(e,(y,_)=>_==="onRest"?void 0:y);let c,f;const d=new Promise((y,_)=>(c=y,f=_)),p=y=>{const _=i<=(t.cancelId||0)&&xh(r)||i!==t.asyncId&&Bo(r,!1);if(_)throw y.result=_,f(y),y},v=(y,_)=>{const x=new nk,w=new rk;return(async()=>{if(Ho.skipAnimation)throw o0(t),w.result=Bo(r,!1),f(w),w;p(x);const A=ut.obj(y)?{...y}:{..._,to:y};A.parentId=i,Ml(u,(E,T)=>{ut.und(A[T])&&(A[T]=E)});const b=await r.start(A);return p(x),t.paused&&await new Promise(E=>{t.resumeQueue.add(E)}),b})()};let g;if(Ho.skipAnimation)return o0(t),Bo(r,!1);try{let y;ut.arr(n)?y=(async _=>{for(const x of _)await v(x)})(n):y=Promise.resolve(n(v,r.stop.bind(r))),await Promise.all([y.then(c),d]),g=Bo(r.get(),!0,!1)}catch(y){if(y instanceof nk)g=y.result;else if(y instanceof rk)g=y.result;else throw y}finally{i==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return ut.fun(o)&&Ht.batchedUpdates(()=>{o(g,r,r.item)}),g})()}function o0(n,e){ug(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var nk=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},rk=class extends Error{constructor(){super("SkipAnimationSignal")}},JE=n=>n instanceof bP,Hre=1,bP=class extends fre{constructor(){super(...arguments),this.id=Hre++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=ua(this);return n&&n.getValue()}to(...n){return Ho.to(this,n)}interpolate(...n){return yre(),Ho.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){Y_(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||_w.sort(this),Y_(this,{type:"priority",parent:this,priority:n})}},Lf=Symbol.for("SpringPhase"),QG=1,ZG=2,qG=4,ab=n=>(n[Lf]&QG)>0,Zl=n=>(n[Lf]&ZG)>0,Am=n=>(n[Lf]&qG)>0,ik=(n,e)=>e?n[Lf]|=ZG|QG:n[Lf]&=-3,sk=(n,e)=>e?n[Lf]|=qG:n[Lf]&=-5,Vre=class extends bP{constructor(n,e){if(super(),this.animation=new Gre,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ut.und(n)||!ut.und(e)){const t=ut.obj(n)?{...n}:{...e,from:n};ut.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Zl(this)||this._state.asyncTo)||Am(this)}get goal(){return eo(this.animation.to)}get velocity(){const n=ua(this);return n instanceof rv?n.lastVelocity||0:n.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return ab(this)}get isAnimating(){return Zl(this)}get isPaused(){return Am(this)}get isDelayed(){return this._state.delayed}advance(n){let e=!0,t=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Aw(r.to);!o&&fa(r.to)&&(i=lo(eo(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const f=u.constructor==i0?1:o?o[c].lastPosition:i[c];let d=r.immediate,p=f;if(!d){if(p=u.lastPosition,s.tension<=0){u.done=!0;return}let v=u.elapsedTime+=n;const g=r.fromValues[c],y=u.v0!=null?u.v0:u.v0=ut.arr(s.velocity)?s.velocity[c]:s.velocity;let _;const x=s.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(ut.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,A=Math.exp(-(1-w)*v);p=g+y/(1-w)*(1-A),d=Math.abs(u.lastPosition-p)<=x,_=y*A}else{_=u.lastVelocity==null?y:u.lastVelocity;const w=s.restVelocity||x/10,A=s.clamp?0:s.bounce,b=!ut.und(A),E=g==f?u.v0>0:g<f;let T,M=!1;const P=1,D=Math.ceil(n/P);for(let F=0;F<D&&(T=Math.abs(_)>w,!(!T&&(d=Math.abs(f-p)<=x,d)));++F){b&&(M=p==f||p>f==E,M&&(_=-_*A,p=f));const O=-s.tension*1e-6*(p-f),U=-s.friction*.001*_,N=(O+U)/s.mass;_=_+N*P,p=p+_*P}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,v=u.elapsedTime+=n)),w=(s.progress||0)+v/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),p=g+s.easing(w)*(f-g),_=(p-u.lastPosition)/n,d=w==1}u.lastVelocity=_,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?u.done=!0:e=!1,u.setValue(p,s.round)&&(t=!0)});const a=ua(this),l=a.getValue();if(e){const u=eo(r.to);(l!==u||t)&&!s.decay?(a.setValue(u),this._onChange(u)):t&&s.decay&&this._onChange(l),this._stop()}else t&&this._onChange(l)}set(n){return Ht.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Zl(this)){const{to:n,config:e}=this.animation;Ht.batchedUpdates(()=>{this._onStart(),e.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,e){let t;return ut.und(n)?(t=this.queue||[],this.queue=[]):t=[ut.obj(n)?n:{...e,to:n}],Promise.all(t.map(r=>this._update(r))).then(r=>AP(this,r))}stop(n){const{to:e}=this.animation;return this._focus(this.get()),o0(this._state,n&&this._lastCallId),Ht.batchedUpdates(()=>this._stop(e,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const e=this.key||"";let{to:t,from:r}=n;t=ut.obj(t)?t[e]:t,(t==null||$E(t))&&(t=void 0),r=ut.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:t,from:r};return ab(this)||(n.reverse&&([t,r]=[r,t]),r=eo(r),ut.und(r)?ua(this)||this._set(t):this._set(r)),i}_update({...n},e){const{key:t,defaultProps:r}=this;n.default&&Object.assign(r,SP(n,(o,a)=>/^on/.test(a)?jG(o,t):o)),ak(this,n,"onProps"),Mm(this,"onProps",n,this);const i=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return JG(++this._lastCallId,{key:t,props:n,defaultProps:r,state:s,actions:{pause:()=>{Am(this)||(sk(this,!0),Hm(s.pauseQueue),Mm(this,"onPause",Bo(this,bm(this,this.animation.to)),this))},resume:()=>{Am(this)&&(sk(this,!1),Zl(this)&&this._resume(),Hm(s.resumeQueue),Mm(this,"onResume",Bo(this,bm(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(n.loop&&o.finished&&!(e&&o.noop)){const a=e6(n);if(a)return this._update(a,!0)}return o})}_merge(n,e,t){if(e.cancel)return this.stop(!0),t(xh(this));const r=!ut.und(n.to),i=!ut.und(n.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(xh(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:f=u}=n;i&&!r&&(!e.default||ut.und(c))&&(c=f),e.reverse&&([c,f]=[f,c]);const d=!Ya(f,u);d&&(a.from=f),f=eo(f);const p=!Ya(c,l);p&&this._focus(c);const v=$E(e.to),{config:g}=a,{decay:y,velocity:_}=g;(r||i)&&(g.velocity=0),e.config&&!v&&zre(g,Gc(e.config,s),e.config!==o.config?Gc(o.config,s):void 0);let x=ua(this);if(!x||ut.und(c))return t(Bo(this,!0));const w=ut.und(e.reset)?i&&!e.default:!ut.und(f)&&fg(e.reset,s),A=w?f:this.get(),b=s0(c),E=ut.num(b)||ut.arr(b)||Sw(b),T=!v&&(!E||fg(o.immediate||e.immediate,s));if(p){const F=jE(c);if(F!==x.constructor)if(T)x=this._set(b);else throw Error(`Cannot animate between ${x.constructor.name} and ${F.name}, as the "to" prop suggests`)}const M=x.constructor;let P=fa(c),D=!1;if(!P){const F=w||!ab(this)&&d;(p||F)&&(D=Ya(s0(A),b),P=!D),(!Ya(a.immediate,T)&&!T||!Ya(g.decay,y)||!Ya(g.velocity,_))&&(P=!0)}if(D&&Zl(this)&&(a.changed&&!w?P=!0:P||this._stop(l)),!v&&((P||fa(l))&&(a.values=x.getPayload(),a.toValues=fa(c)?null:M==i0?[1]:lo(b)),a.immediate!=T&&(a.immediate=T,!T&&!w&&this._set(l)),P)){const{onRest:F}=a;vn(jre,U=>ak(this,e,U));const O=Bo(this,bm(this,l));Hm(this._pendingCalls,O),this._pendingCalls.add(t),a.changed&&Ht.batchedUpdates(()=>{var U;a.changed=!w,F==null||F(O,this),w?Gc(o.onRest,O):(U=a.onStart)==null||U.call(a,O,this)})}w&&this._set(A),v?t(YG(e.to,e,this._state,this)):P?this._start():Zl(this)&&!p?this._pendingCalls.add(t):t(KG(A))}_focus(n){const e=this.animation;n!==e.to&&(JL(this)&&this._detach(),e.to=n,JL(this)&&this._attach())}_attach(){let n=0;const{to:e}=this.animation;fa(e)&&(nv(e,this),JE(e)&&(n=e.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;fa(n)&&Q_(n,this)}_set(n,e=!0){const t=eo(n);if(!ut.und(t)){const r=ua(this);if(!r||!Ya(t,r.getValue())){const i=jE(t);!r||r.constructor!=i?xP(this,i.create(t)):r.setValue(t),r&&Ht.batchedUpdates(()=>{this._onChange(t,e)})}}return ua(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,Mm(this,"onStart",Bo(this,bm(this,n.to)),this))}_onChange(n,e){e||(this._onStart(),Gc(this.animation.onChange,n,this)),Gc(this.defaultProps.onChange,n,this),super._onChange(n,e)}_start(){const n=this.animation;ua(this).reset(eo(n.to)),n.immediate||(n.fromValues=n.values.map(e=>e.lastPosition)),Zl(this)||(ik(this,!0),Am(this)||this._resume())}_resume(){Ho.skipAnimation?this.finish():_w.start(this)}_stop(n,e){if(Zl(this)){ik(this,!1);const t=this.animation;vn(t.values,i=>{i.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),Y_(this,{type:"idle",parent:this});const r=e?xh(this.get()):Bo(this.get(),bm(this,n??t.to));Hm(this._pendingCalls,r),t.changed&&(t.changed=!1,Mm(this,"onRest",r,this))}}};function bm(n,e){const t=s0(e),r=s0(n.get());return Ya(r,t)}function e6(n,e=n.loop,t=n.to){const r=Gc(e);if(r){const i=r!==!0&&XG(r),s=(i||n).reverse,o=!i||i.reset;return a0({...n,loop:e,default:!1,pause:void 0,to:!s||$E(t)?t:void 0,from:o?n.from:void 0,reset:o,...i})}}function a0(n){const{to:e,from:t}=n=XG(n),r=new Set;return ut.obj(e)&&ok(e,r),ut.obj(t)&&ok(t,r),n.keys=r.size?Array.from(r):null,n}function Wre(n){const e=a0(n);return ut.und(e.default)&&(e.default=SP(e)),e}function ok(n,e){Ml(n,(t,r)=>t!=null&&e.add(r))}var jre=["onStart","onRest","onChange","onPause","onResume"];function ak(n,e,t){n.animation[t]=e[t]!==$G(e,t)?jG(e[t],n.key):void 0}function Mm(n,e,...t){var r,i,s,o;(i=(r=n.animation)[e])==null||i.call(r,...t),(o=(s=n.defaultProps)[e])==null||o.call(s,...t)}var $re=["onStart","onChange","onRest"],Xre=1,Jre=class{constructor(n,e){this.id=Xre++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(const e in n){const t=n[e];ut.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(a0(n)),this}start(n){let{queue:e}=this;return n?e=lo(n).map(a0):this.queue=[],this._flush?this._flush(this,e):(s6(this,e),KE(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){const t=this.springs;vn(lo(e),r=>t[r].stop(!!n))}else o0(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(ut.und(n))this.start({pause:!0});else{const e=this.springs;vn(lo(n),t=>e[t].pause())}return this}resume(n){if(ut.und(n))this.start({pause:!1});else{const e=this.springs;vn(lo(n),t=>e[t].resume())}return this}each(n){Ml(this.springs,n)}_onFrame(){const{onStart:n,onChange:e,onRest:t}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,ug(n,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&t.size?this.get():null;i&&e.size&&ug(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,ug(t,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;Ht.onFrame(this._onFrame)}};function KE(n,e){return Promise.all(e.map(t=>t6(n,t))).then(t=>AP(n,t))}async function t6(n,e,t){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=ut.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=ut.arr(i)||ut.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):vn($re,g=>{const y=e[g];if(ut.fun(y)){const _=n._events[g];e[g]=({finished:x,cancelled:w})=>{const A=_.get(y);A?(x||(A.finished=!1),w&&(A.cancelled=!0)):_.set(y,{value:null,finished:x||!1,cancelled:w||!1})},u&&(u[g]=e[g])}});const f=n._state;e.pause===!f.paused?(f.paused=e.pause,Hm(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const d=(r||Object.keys(n.springs)).map(g=>n.springs[g].start(e)),p=e.cancel===!0||$G(e,"cancel")===!0;(c||p&&f.asyncId)&&d.push(JG(++n._lastAsyncId,{props:e,state:f,actions:{pause:VE,resume:VE,start(g,y){p?(o0(f,n._lastAsyncId),y(xh(n))):(g.onRest=a,y(YG(c,g,f,n)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const v=AP(n,await Promise.all(d));if(o&&v.finished&&!(t&&v.noop)){const g=e6(e,o,i);if(g)return s6(n,[g]),t6(n,g,!0)}return l&&Ht.batchedUpdates(()=>l(v,n,n.item)),v}function lk(n,e){const t={...n.springs};return e&&vn(lo(e),r=>{ut.und(r.keys)&&(r=a0(r)),ut.obj(r.to)||(r={...r,to:void 0}),i6(t,r,i=>r6(i))}),n6(n,t),t}function n6(n,e){Ml(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,nv(t,n))})}function r6(n,e){const t=new Vre;return t.key=n,e&&nv(t,e),t}function i6(n,e,t){e.keys&&vn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function s6(n,e){vn(e,t=>{i6(n.springs,t,r=>r6(r,n))})}var bw=({children:n,...e})=>{const t=I.useContext(q_),r=e.pause||!!t.pause,i=e.immediate||!!t.immediate;e=Sre(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=q_;return I.createElement(s,{value:e},n)},q_=Kre(bw,{});bw.Provider=q_.Provider;bw.Consumer=q_.Consumer;function Kre(n,e){return Object.assign(n,I.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var Yre=()=>{const n=[],e=function(r){xre();const i=[];return vn(n,(s,o)=>{if(ut.und(r))i.push(s.start());else{const a=t(r,s,o);a&&i.push(s.start(a))}}),i};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return vn(n,r=>r.pause(...arguments)),this},e.resume=function(){return vn(n,r=>r.resume(...arguments)),this},e.set=function(r){vn(n,(i,s)=>{const o=ut.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return vn(n,(s,o)=>{if(ut.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return vn(n,r=>r.stop(...arguments)),this},e.update=function(r){return vn(n,(i,s)=>i.update(this._getProps(r,i,s))),this};const t=function(r,i,s){return ut.fun(r)?r(s,i):r};return e._getProps=t,e};function Qre(n,e,t){const r=ut.fun(e)&&e;r&&!t&&(t=[]);const i=I.useMemo(()=>r||arguments.length==3?Yre():void 0,[]),s=I.useRef(0),o=GG(),a=I.useMemo(()=>({ctrls:[],queue:[],flush(_,x){const w=lk(_,x);return s.current>0&&!a.queue.length&&!Object.keys(w).some(b=>!_.springs[b])?KE(_,x):new Promise(b=>{n6(_,w),a.queue.push(()=>{b(KE(_,x))}),o()})}}),[]),l=I.useRef([...a.ctrls]),u=[],c=YL(n)||0;I.useMemo(()=>{vn(l.current.slice(n,c),_=>{Ore(_,i),_.stop(!0)}),l.current.length=n,f(c,n)},[n]),I.useMemo(()=>{f(0,Math.min(c,n))},t);function f(_,x){for(let w=_;w<x;w++){const A=l.current[w]||(l.current[w]=new Jre(null,a.flush)),b=r?r(w,A):e[w];b&&(u[w]=Wre(b))}}const d=l.current.map((_,x)=>lk(_,u[x])),p=I.useContext(bw),v=YL(p),g=p!==v&&kre(p);_P(()=>{s.current++,a.ctrls=l.current;const{queue:_}=a;_.length&&(a.queue=[],vn(_,x=>x())),vn(l.current,(x,w)=>{i==null||i.add(x),g&&x.start({default:p});const A=u[w];A&&(Fre(x,A.ref),x.ref?x.queue.push(A):x.start(A))})}),HG(()=>()=>{vn(a.ctrls,_=>_.stop(!0))});const y=d.map(_=>({..._}));return i?[y,i]:y}function Vo(n,e){const t=ut.fun(n),[[r],i]=Qre(1,t?n:[n],t?[]:e);return t||arguments.length==2?[r,i]:r}var Zre=class extends bP{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=t0(...e);const t=this._get(),r=jE(t);xP(this,r.create(t))}advance(n){const e=this._get(),t=this.get();Ya(e,t)||(ua(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&uk(this._active)&&lb(this)}_get(){const n=ut.arr(this.source)?this.source.map(eo):lo(eo(this.source));return this.calc(...n)}_start(){this.idle&&!uk(this._active)&&(this.idle=!1,vn(Aw(this),n=>{n.done=!1}),Ho.skipAnimation?(Ht.batchedUpdates(()=>this.advance()),lb(this)):_w.start(this))}_attach(){let n=1;vn(lo(this.source),e=>{fa(e)&&nv(e,this),JE(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){vn(lo(this.source),n=>{fa(n)&&Q_(n,this)}),this._active.clear(),lb(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=lo(this.source).reduce((e,t)=>Math.max(e,(JE(t)?t.priority:0)+1),0))}};function qre(n){return n.idle!==!1}function uk(n){return!n.size||Array.from(n).every(qre)}function lb(n){n.idle||(n.idle=!0,vn(Aw(n),e=>{e.done=!0}),Y_(n,{type:"idle",parent:n}))}Ho.assign({createStringInterpolator:UG,to:(n,e)=>new Zre(n,e)});var eie=["primitive"].concat(Object.keys(Hz).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));Ho.assign({createStringInterpolator:UG,colors:Yne,frameLoop:"demand"});Wee(()=>{Ht.advance()});var tie=Rre(eie,{applyAnimatedValues:nl}),Wo=tie.animated;function nie({enabled:n=!0,snap:e,global:t,domElement:r,cursor:i=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:u=[0,Math.PI/2],azimuth:c=[-1/0,1/0],config:f={mass:1,tension:170,friction:26}}){const d=Rr(E=>E.events),p=Rr(E=>E.gl),v=r||d.connected||p.domElement,{size:g}=Rr(),y=I.useMemo(()=>[a[0]+u[0],a[0]+u[1]],[a[0],u[0],u[1]]),_=I.useMemo(()=>[a[1]+c[0],a[1]+c[1]],[a[1],c[0],c[1]]),x=I.useMemo(()=>[Lo.clamp(a[0],...y),Lo.clamp(a[1],..._),a[2]],[a[0],a[1],a[2],y,_]),[w,A]=Vo(()=>({scale:1,rotation:x,config:f}));I.useEffect(()=>void A.start({scale:1,rotation:x,config:f}),[x]),I.useEffect(()=>{if(t&&i&&n)return v.style.cursor="grab",p.domElement.style.cursor="",()=>{v.style.cursor="default",p.domElement.style.cursor="default"}},[t,i,v,n]);const b=Gne({onHover:({last:E})=>{i&&!t&&n&&(v.style.cursor=E?"auto":"grab")},onDrag:({down:E,delta:[T,M],memo:[P,D]=w.rotation.animation.to||x})=>{if(!n)return[M,T];i&&(v.style.cursor=E?"grabbing":"grab"),T=Lo.clamp(D+T/g.width*Math.PI*o,..._),M=Lo.clamp(P+M/g.height*Math.PI*o,...y);const F=e&&!E&&typeof e!="boolean"?e:f;return A.start({scale:E&&M>y[1]/2?l:1,rotation:e&&!E?x:[M,T,0],config:O=>O==="scale"?{...F,friction:F.friction*3}:F}),[M,T]}},{target:t?v:void 0});return I.createElement(Wo.group,bl({},b==null?void 0:b(),w),s)}const MP=parseInt(I0.replace(/\D+/g,""));function rie(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},r=n.getIndex(),i=n.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(n.attributes),l={},u={},c=[],f=["getX","getY","getZ","getW"];for(let g=0,y=a.length;g<y;g++){const _=a[g];l[_]=[];const x=n.morphAttributes[_];x&&(u[_]=new Array(x.length).fill(0).map(()=>[]))}const d=Math.log10(1/e),p=Math.pow(10,d);for(let g=0;g<s;g++){const y=r?r.getX(g):g;let _="";for(let x=0,w=a.length;x<w;x++){const A=a[x],b=n.getAttribute(A),E=b.itemSize;for(let T=0;T<E;T++)_+=`${~~(b[f[T]](y)*p)},`}if(_ in t)c.push(t[_]);else{for(let x=0,w=a.length;x<w;x++){const A=a[x],b=n.getAttribute(A),E=n.morphAttributes[A],T=b.itemSize,M=l[A],P=u[A];for(let D=0;D<T;D++){const F=f[D];if(M.push(b[F](y)),E)for(let O=0,U=E.length;O<U;O++)P[O].push(E[O][F](y))}}t[_]=o,c.push(o),o++}}const v=n.clone();for(let g=0,y=a.length;g<y;g++){const _=a[g],x=n.getAttribute(_),w=new x.array.constructor(l[_]),A=new ln(w,x.itemSize,x.normalized);if(v.setAttribute(_,A),_ in u)for(let b=0;b<u[_].length;b++){const E=n.morphAttributes[_][b],T=new E.array.constructor(u[_][b]),M=new ln(T,E.itemSize,E.normalized);v.morphAttributes[_][b]=M}}return v.setIndex(c),v}function ck(n,e){if(e===G5)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===V_||e===x2){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===V_)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var oo=Uint8Array,du=Uint16Array,YE=Uint32Array,o6=new oo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a6=new oo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iie=new oo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l6=function(n,e){for(var t=new du(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new YE(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},u6=l6(o6,2),c6=u6[0],sie=u6[1];c6[28]=258,sie[258]=28;var oie=l6(a6,0),aie=oie[0],QE=new du(32768);for(var Ln=0;Ln<32768;++Ln){var ql=(Ln&43690)>>>1|(Ln&21845)<<1;ql=(ql&52428)>>>2|(ql&13107)<<2,ql=(ql&61680)>>>4|(ql&3855)<<4,QE[Ln]=((ql&65280)>>>8|(ql&255)<<8)>>>1}var dg=function(n,e,t){for(var r=n.length,i=0,s=new du(e);i<r;++i)++s[n[i]-1];var o=new du(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new du(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],f=o[n[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[QE[f]>>>l]=u}else for(a=new du(r),i=0;i<r;++i)n[i]&&(a[i]=QE[o[n[i]-1]++]>>>15-n[i]);return a},iv=new oo(288);for(var Ln=0;Ln<144;++Ln)iv[Ln]=8;for(var Ln=144;Ln<256;++Ln)iv[Ln]=9;for(var Ln=256;Ln<280;++Ln)iv[Ln]=7;for(var Ln=280;Ln<288;++Ln)iv[Ln]=8;var f6=new oo(32);for(var Ln=0;Ln<32;++Ln)f6[Ln]=5;var lie=dg(iv,9,1),uie=dg(f6,5,1),ub=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Co=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},cb=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},cie=function(n){return(n/8|0)+(n&7&&1)},fie=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof du?du:n instanceof YE?YE:oo)(t-e);return r.set(n.subarray(e,t)),r},die=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new oo(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new oo(r*3));var o=function(Y){var ce=e.length;if(Y>ce){var fe=new oo(Math.max(ce*2,Y));fe.set(e),e=fe}},a=t.f||0,l=t.p||0,u=t.b||0,c=t.l,f=t.d,d=t.m,p=t.n,v=r*8;do{if(!c){t.f=a=Co(n,l,1);var g=Co(n,l+1,3);if(l+=3,g)if(g==1)c=lie,f=uie,d=9,p=5;else if(g==2){var w=Co(n,l,31)+257,A=Co(n,l+10,15)+4,b=w+Co(n,l+5,31)+1;l+=14;for(var E=new oo(b),T=new oo(19),M=0;M<A;++M)T[iie[M]]=Co(n,l+M*3,7);l+=A*3;for(var P=ub(T),D=(1<<P)-1,F=dg(T,P,1),M=0;M<b;){var O=F[Co(n,l,D)];l+=O&15;var y=O>>>4;if(y<16)E[M++]=y;else{var U=0,N=0;for(y==16?(N=3+Co(n,l,3),l+=2,U=E[M-1]):y==17?(N=3+Co(n,l,7),l+=3):y==18&&(N=11+Co(n,l,127),l+=7);N--;)E[M++]=U}}var $=E.subarray(0,w),X=E.subarray(w);d=ub($),p=ub(X),c=dg($,d,1),f=dg(X,p,1)}else throw"invalid block type";else{var y=cie(l)+4,_=n[y-4]|n[y-3]<<8,x=y+_;if(x>r){if(s)throw"unexpected EOF";break}i&&o(u+_),e.set(n.subarray(y,x),u),t.b=u+=_,t.p=l=x*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var q=(1<<d)-1,z=(1<<p)-1,j=l;;j=l){var U=c[cb(n,l)&q],H=U>>>4;if(l+=U&15,l>v){if(s)throw"unexpected EOF";break}if(!U)throw"invalid length/literal";if(H<256)e[u++]=H;else if(H==256){j=l,c=null;break}else{var V=H-254;if(H>264){var M=H-257,G=o6[M];V=Co(n,l,(1<<G)-1)+c6[M],l+=G}var J=f[cb(n,l)&z],re=J>>>4;if(!J)throw"invalid distance";l+=J&15;var X=aie[re];if(re>3){var G=a6[re];X+=cb(n,l)&(1<<G)-1,l+=G}if(l>v){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var te=u+V;u<te;u+=4)e[u]=e[u-X],e[u+1]=e[u+1-X],e[u+2]=e[u+2-X],e[u+3]=e[u+3-X];u=te}}t.l=c,t.p=j,t.b=u,c&&(a=1,t.m=d,t.d=f,t.n=p)}while(!a);return u==e.length?e:fie(e,0,u)},hie=new oo(0),pie=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function d1(n,e){return die((pie(n),n.subarray(2,-4)),e)}var mie=typeof TextDecoder<"u"&&new TextDecoder,gie=0;try{mie.decode(hie,{stream:!0}),gie=1}catch{}const vie=n=>n&&n.isCubeTexture;class yie extends Wn{constructor(e,t){var r,i;const s=vie(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],p=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${MP>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,g={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},y=new pp(1,16),_=new Bs({uniforms:g,fragmentShader:v,vertexShader:p,side:bs});super(y,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var _ie=Object.defineProperty,xie=(n,e,t)=>e in n?_ie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wie=(n,e,t)=>(xie(n,e+"",t),t);class Sie{constructor(){wie(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Aie=Object.defineProperty,bie=(n,e,t)=>e in n?Aie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,It=(n,e,t)=>(bie(n,typeof e!="symbol"?e+"":e,t),t);const h1=new cp,fk=new tl,Mie=Math.cos(70*(Math.PI/180)),dk=(n,e)=>(n%e+e)%e;let Eie=class extends Sie{constructor(e,t){super(),It(this,"object"),It(this,"domElement"),It(this,"enabled",!0),It(this,"target",new Q),It(this,"minDistance",0),It(this,"maxDistance",1/0),It(this,"minZoom",0),It(this,"maxZoom",1/0),It(this,"minPolarAngle",0),It(this,"maxPolarAngle",Math.PI),It(this,"minAzimuthAngle",-1/0),It(this,"maxAzimuthAngle",1/0),It(this,"enableDamping",!1),It(this,"dampingFactor",.05),It(this,"enableZoom",!0),It(this,"zoomSpeed",1),It(this,"enableRotate",!0),It(this,"rotateSpeed",1),It(this,"enablePan",!0),It(this,"panSpeed",1),It(this,"screenSpacePanning",!0),It(this,"keyPanSpeed",7),It(this,"zoomToCursor",!1),It(this,"autoRotate",!1),It(this,"autoRotateSpeed",2),It(this,"reverseOrbit",!1),It(this,"reverseHorizontalOrbit",!1),It(this,"reverseVerticalOrbit",!1),It(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),It(this,"mouseButtons",{LEFT:Bc.ROTATE,MIDDLE:Bc.DOLLY,RIGHT:Bc.PAN}),It(this,"touches",{ONE:Lc.ROTATE,TWO:Lc.DOLLY_PAN}),It(this,"target0"),It(this,"position0"),It(this,"zoom0"),It(this,"_domElementKeyEvents",null),It(this,"getPolarAngle"),It(this,"getAzimuthalAngle"),It(this,"setPolarAngle"),It(this,"setAzimuthalAngle"),It(this,"getDistance"),It(this,"getZoomScale"),It(this,"listenToKeyEvents"),It(this,"stopListenToKeyEvents"),It(this,"saveState"),It(this,"reset"),It(this,"update"),It(this,"connect"),It(this,"dispose"),It(this,"dollyIn"),It(this,"dollyOut"),It(this,"getScale"),It(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=oe=>{let Pe=dk(oe,2*Math.PI),Ze=c.phi;Ze<0&&(Ze+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ae=Math.abs(Pe-Ze);2*Math.PI-ae<ae&&(Pe<Ze?Pe+=2*Math.PI:Ze+=2*Math.PI),f.phi=Pe-Ze,r.update()},this.setAzimuthalAngle=oe=>{let Pe=dk(oe,2*Math.PI),Ze=c.theta;Ze<0&&(Ze+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ae=Math.abs(Pe-Ze);2*Math.PI-ae<ae&&(Pe<Ze?Pe+=2*Math.PI:Ze+=2*Math.PI),f.theta=Pe-Ze,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",Ke),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ke),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const oe=new Q,Pe=new Q(0,1,0),Ze=new Yr().setFromUnitVectors(e.up,Pe),ae=Ze.clone().invert(),ne=new Q,Le=new Yr,st=2*Math.PI;return function(){const dt=r.object.position;Ze.setFromUnitVectors(e.up,Pe),ae.copy(Ze).invert(),oe.copy(dt).sub(r.target),oe.applyQuaternion(Ze),c.setFromVector3(oe),r.autoRotate&&l===a.NONE&&N(O()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Tt=r.minAzimuthAngle,Ct=r.maxAzimuthAngle;isFinite(Tt)&&isFinite(Ct)&&(Tt<-Math.PI?Tt+=st:Tt>Math.PI&&(Tt-=st),Ct<-Math.PI?Ct+=st:Ct>Math.PI&&(Ct-=st),Tt<=Ct?c.theta=Math.max(Tt,Math.min(Ct,c.theta)):c.theta=c.theta>(Tt+Ct)/2?Math.max(Tt,c.theta):Math.min(Ct,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&P||r.object.isOrthographicCamera?c.radius=J(c.radius):c.radius=J(c.radius*d),oe.setFromSpherical(c),oe.applyQuaternion(ae),dt.copy(r.target).add(oe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let St=!1;if(r.zoomToCursor&&P){let At=null;if(r.object instanceof Hn&&r.object.isPerspectiveCamera){const tn=oe.length();At=J(tn*d);const Qt=tn-At;r.object.position.addScaledVector(T,Qt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const tn=new Q(M.x,M.y,0);tn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),St=!0;const Qt=new Q(M.x,M.y,0);Qt.unproject(r.object),r.object.position.sub(Qt).add(tn),r.object.updateMatrixWorld(),At=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;At!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(At).add(r.object.position):(h1.origin.copy(r.object.position),h1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(h1.direction))<Mie?e.lookAt(r.target):(fk.setFromNormalAndCoplanarPoint(r.object.up,r.target),h1.intersectPlane(fk,r.target))))}else r.object instanceof ho&&r.object.isOrthographicCamera&&(St=d!==1,St&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,P=!1,St||ne.distanceToSquared(r.object.position)>u||8*(1-Le.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ne.copy(r.object.position),Le.copy(r.object.quaternion),St=!1,!0):!1}})(),this.connect=oe=>{r.domElement=oe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",tt),r.domElement.addEventListener("pointerdown",K),r.domElement.addEventListener("pointercancel",se),r.domElement.addEventListener("wheel",Me)},this.dispose=()=>{var oe,Pe,Ze,ae,ne,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(oe=r.domElement)==null||oe.removeEventListener("contextmenu",tt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",K),(Ze=r.domElement)==null||Ze.removeEventListener("pointercancel",se),(ae=r.domElement)==null||ae.removeEventListener("wheel",Me),(ne=r.domElement)==null||ne.ownerDocument.removeEventListener("pointermove",k),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",se),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ke)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new LE,f=new LE;let d=1;const p=new Q,v=new We,g=new We,y=new We,_=new We,x=new We,w=new We,A=new We,b=new We,E=new We,T=new Q,M=new We;let P=!1;const D=[],F={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function U(){return Math.pow(.95,r.zoomSpeed)}function N(oe){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=oe:f.theta-=oe}function $(oe){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=oe:f.phi-=oe}const X=(()=>{const oe=new Q;return function(Ze,ae){oe.setFromMatrixColumn(ae,0),oe.multiplyScalar(-Ze),p.add(oe)}})(),q=(()=>{const oe=new Q;return function(Ze,ae){r.screenSpacePanning===!0?oe.setFromMatrixColumn(ae,1):(oe.setFromMatrixColumn(ae,0),oe.crossVectors(r.object.up,oe)),oe.multiplyScalar(Ze),p.add(oe)}})(),z=(()=>{const oe=new Q;return function(Ze,ae){const ne=r.domElement;if(ne&&r.object instanceof Hn&&r.object.isPerspectiveCamera){const Le=r.object.position;oe.copy(Le).sub(r.target);let st=oe.length();st*=Math.tan(r.object.fov/2*Math.PI/180),X(2*Ze*st/ne.clientHeight,r.object.matrix),q(2*ae*st/ne.clientHeight,r.object.matrix)}else ne&&r.object instanceof ho&&r.object.isOrthographicCamera?(X(Ze*(r.object.right-r.object.left)/r.object.zoom/ne.clientWidth,r.object.matrix),q(ae*(r.object.top-r.object.bottom)/r.object.zoom/ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(oe){r.object instanceof Hn&&r.object.isPerspectiveCamera||r.object instanceof ho&&r.object.isOrthographicCamera?d=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(oe){j(d/oe)}function V(oe){j(d*oe)}function G(oe){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Pe=r.domElement.getBoundingClientRect(),Ze=oe.clientX-Pe.left,ae=oe.clientY-Pe.top,ne=Pe.width,Le=Pe.height;M.x=Ze/ne*2-1,M.y=-(ae/Le)*2+1,T.set(M.x,M.y,1).unproject(r.object).sub(r.object.position).normalize()}function J(oe){return Math.max(r.minDistance,Math.min(r.maxDistance,oe))}function re(oe){v.set(oe.clientX,oe.clientY)}function te(oe){G(oe),A.set(oe.clientX,oe.clientY)}function Y(oe){_.set(oe.clientX,oe.clientY)}function ce(oe){g.set(oe.clientX,oe.clientY),y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(N(2*Math.PI*y.x/Pe.clientHeight),$(2*Math.PI*y.y/Pe.clientHeight)),v.copy(g),r.update()}function fe(oe){b.set(oe.clientX,oe.clientY),E.subVectors(b,A),E.y>0?H(U()):E.y<0&&V(U()),A.copy(b),r.update()}function Re(oe){x.set(oe.clientX,oe.clientY),w.subVectors(x,_).multiplyScalar(r.panSpeed),z(w.x,w.y),_.copy(x),r.update()}function Ae(oe){G(oe),oe.deltaY<0?V(U()):oe.deltaY>0&&H(U()),r.update()}function ye(oe){let Pe=!1;switch(oe.code){case r.keys.UP:z(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:z(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:z(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:z(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(oe.preventDefault(),r.update())}function le(){if(D.length==1)v.set(D[0].pageX,D[0].pageY);else{const oe=.5*(D[0].pageX+D[1].pageX),Pe=.5*(D[0].pageY+D[1].pageY);v.set(oe,Pe)}}function de(){if(D.length==1)_.set(D[0].pageX,D[0].pageY);else{const oe=.5*(D[0].pageX+D[1].pageX),Pe=.5*(D[0].pageY+D[1].pageY);_.set(oe,Pe)}}function Ie(){const oe=D[0].pageX-D[1].pageX,Pe=D[0].pageY-D[1].pageY,Ze=Math.sqrt(oe*oe+Pe*Pe);A.set(0,Ze)}function Ve(){r.enableZoom&&Ie(),r.enablePan&&de()}function Be(){r.enableZoom&&Ie(),r.enableRotate&&le()}function Ye(oe){if(D.length==1)g.set(oe.pageX,oe.pageY);else{const Ze=je(oe),ae=.5*(oe.pageX+Ze.x),ne=.5*(oe.pageY+Ze.y);g.set(ae,ne)}y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(N(2*Math.PI*y.x/Pe.clientHeight),$(2*Math.PI*y.y/Pe.clientHeight)),v.copy(g)}function De(oe){if(D.length==1)x.set(oe.pageX,oe.pageY);else{const Pe=je(oe),Ze=.5*(oe.pageX+Pe.x),ae=.5*(oe.pageY+Pe.y);x.set(Ze,ae)}w.subVectors(x,_).multiplyScalar(r.panSpeed),z(w.x,w.y),_.copy(x)}function Ue(oe){const Pe=je(oe),Ze=oe.pageX-Pe.x,ae=oe.pageY-Pe.y,ne=Math.sqrt(Ze*Ze+ae*ae);b.set(0,ne),E.set(0,Math.pow(b.y/A.y,r.zoomSpeed)),H(E.y),A.copy(b)}function Qe(oe){r.enableZoom&&Ue(oe),r.enablePan&&De(oe)}function Ce(oe){r.enableZoom&&Ue(oe),r.enableRotate&&Ye(oe)}function K(oe){var Pe,Ze;r.enabled!==!1&&(D.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",k),(Ze=r.domElement)==null||Ze.ownerDocument.addEventListener("pointerup",se)),at(oe),oe.pointerType==="touch"?Fe(oe):me(oe))}function k(oe){r.enabled!==!1&&(oe.pointerType==="touch"?Ee(oe):Oe(oe))}function se(oe){var Pe,Ze,ae;Je(oe),D.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(oe.pointerId),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",k),(ae=r.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",se)),r.dispatchEvent(o),l=a.NONE}function me(oe){let Pe;switch(oe.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case Bc.DOLLY:if(r.enableZoom===!1)return;te(oe),l=a.DOLLY;break;case Bc.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enablePan===!1)return;Y(oe),l=a.PAN}else{if(r.enableRotate===!1)return;re(oe),l=a.ROTATE}break;case Bc.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(r.enableRotate===!1)return;re(oe),l=a.ROTATE}else{if(r.enablePan===!1)return;Y(oe),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Oe(oe){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;ce(oe);break;case a.DOLLY:if(r.enableZoom===!1)return;fe(oe);break;case a.PAN:if(r.enablePan===!1)return;Re(oe);break}}function Me(oe){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(oe.preventDefault(),r.dispatchEvent(s),Ae(oe),r.dispatchEvent(o))}function Ke(oe){r.enabled===!1||r.enablePan===!1||ye(oe)}function Fe(oe){switch(Xe(oe),D.length){case 1:switch(r.touches.ONE){case Lc.ROTATE:if(r.enableRotate===!1)return;le(),l=a.TOUCH_ROTATE;break;case Lc.PAN:if(r.enablePan===!1)return;de(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Lc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ve(),l=a.TOUCH_DOLLY_PAN;break;case Lc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ee(oe){switch(Xe(oe),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ye(oe),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;De(oe),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Qe(oe),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(oe),r.update();break;default:l=a.NONE}}function tt(oe){r.enabled!==!1&&oe.preventDefault()}function at(oe){D.push(oe)}function Je(oe){delete F[oe.pointerId];for(let Pe=0;Pe<D.length;Pe++)if(D[Pe].pointerId==oe.pointerId){D.splice(Pe,1);return}}function Xe(oe){let Pe=F[oe.pointerId];Pe===void 0&&(Pe=new We,F[oe.pointerId]=Pe),Pe.set(oe.pageX,oe.pageY)}function je(oe){const Pe=oe.pointerId===D[0].pointerId?D[1]:D[0];return F[Pe.pointerId]}this.dollyIn=(oe=U())=>{V(oe),r.update()},this.dollyOut=(oe=U())=>{H(oe),r.update()},this.getScale=()=>d,this.setScale=oe=>{j(oe),r.update()},this.getZoomScale=()=>U(),t!==void 0&&this.connect(t),this.update()}};function ex(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Zc="srgb",hl="srgb-linear",hk=3001,Cie=3e3;class EP extends ai{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Die(t)}),this.register(function(t){return new Bie(t)}),this.register(function(t){return new Hie(t)}),this.register(function(t){return new Vie(t)}),this.register(function(t){return new Wie(t)}),this.register(function(t){return new kie(t)}),this.register(function(t){return new Oie(t)}),this.register(function(t){return new Fie(t)}),this.register(function(t){return new Nie(t)}),this.register(function(t){return new Iie(t)}),this.register(function(t){return new Uie(t)}),this.register(function(t){return new Lie(t)}),this.register(function(t){return new Gie(t)}),this.register(function(t){return new zie(t)}),this.register(function(t){return new Pie(t)}),this.register(function(t){return new jie(t)}),this.register(function(t){return new $ie(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Mu.extractUrlBase(e);o=Mu.resolveURL(u,this.path)}else o=Mu.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Qr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ex(new Uint8Array(e.slice(0,4)))===d6){try{o[qt.KHR_BINARY_GLTF]=new Xie(e)}catch(c){i&&i(c);return}s=JSON.parse(o[qt.KHR_BINARY_GLTF].content)}else s=JSON.parse(ex(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new ose(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case qt.KHR_MATERIALS_UNLIT:o[c]=new Rie;break;case qt.KHR_DRACO_MESH_COMPRESSION:o[c]=new Jie(s,this.dracoLoader);break;case qt.KHR_TEXTURE_TRANSFORM:o[c]=new Kie;break;case qt.KHR_MESH_QUANTIZATION:o[c]=new Yie;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Tie(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Pie{constructor(e){this.parser=e,this.name=qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new ft(16777215);l.color!==void 0&&c.setRGB(l.color[0],l.color[1],l.color[2],hl);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Y2(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new K2(c),u.distance=f;break;case"spot":u=new J2(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Qa(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Rie{constructor(){this.name=qt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ui}extendParams(e,t,r){const i=[];e.color=new ft(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],hl),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Zc))}return Promise.all(i)}}class Iie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Die{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new We(a,a)}return Promise.all(s)}}class Bie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Lie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class kie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ft(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],hl)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Zc)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Oie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Fie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ft().setRGB(a[0],a[1],a[2],hl),Promise.all(s)}}class Nie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Uie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ft().setRGB(a[0],a[1],a[2],hl),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Zc)),Promise.all(s)}}class zie{constructor(e){this.parser=e,this.name=qt.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Gie{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_o}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Hie{constructor(e){this.parser=e,this.name=qt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Vie{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Wie{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jie{constructor(e){this.name=qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(p),c,f,d,i.mode,i.filter),p})})}else return null}}class $ie{constructor(e){this.name=qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Qs.TRIANGLES&&u.mode!==Qs.TRIANGLE_STRIP&&u.mode!==Qs.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],d=u[0].count,p=[];for(const v of f){const g=new Ft,y=new Q,_=new Yr,x=new Q(1,1,1),w=new D2(v.geometry,v.material,d);for(let A=0;A<d;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,A),l.SCALE&&x.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,g.compose(y,_,x));for(const A in l)if(A==="_COLOR_0"){const b=l[A];w.instanceColor=new Ou(b.array,b.itemSize,b.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&v.geometry.setAttribute(A,l[A]);en.prototype.copy.call(w,v),this.parser.assignFinalMaterial(w),p.push(w)}return c.isGroup?(c.clear(),c.add(...p),c):p[0]}))}}const d6="glTF",Em=12,pk={JSON:1313821514,BIN:5130562};class Xie{constructor(e){this.name=qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Em);if(this.header={magic:ex(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==d6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Em,i=new DataView(e,Em);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===pk.JSON){const l=new Uint8Array(e,Em+s,o);this.content=ex(l)}else if(a===pk.BIN){const l=Em+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Jie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=ZE[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=ZE[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],p=wh[d.componentType];u[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(f,d){i.decodeDracoFile(c,function(p){for(const v in p.attributes){const g=p.attributes[v],y=l[v];y!==void 0&&(g.normalized=y)}f(p)},a,u,hl,d)})})}}class Kie{constructor(){this.name=qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Yie{constructor(){this.name=qt.KHR_MESH_QUANTIZATION}}class h6 extends vp{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-t,f=(r-t)/c,d=f*f,p=d*f,v=e*u,g=v-u,y=-2*p+3*d,_=p-d,x=1-y,w=_-d+f;for(let A=0;A!==a;A++){const b=o[g+A+a],E=o[g+A+l]*c,T=o[v+A+a],M=o[v+A]*c;s[A]=x*b+w*E+y*T+_*M}return s}}const Qie=new Yr;class Zie extends h6{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Qie.fromArray(s).normalize().toArray(s),s}}const Qs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},wh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},mk={9728:lr,9729:rn,9984:Wg,9985:Qx,9986:yh,9987:Ea},gk={33071:Bn,33648:Oh,10497:Bu},fb={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ZE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...MP>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},eu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},qie={CUBICSPLINE:void 0,LINEAR:Pf,STEP:Fh},db={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ese(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new K0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ma})),n.DefaultMaterial}function Ec(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Qa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function tse(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function nse(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function rse(n){let e;const t=n.extensions&&n.extensions[qt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+hb(t.attributes):e=n.indices+":"+hb(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+hb(n.targets[r]);return e}function hb(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function qE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ise(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const sse=new Ft;class ose{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Tie,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new yp(this.options.manager):this.textureLoader=new Oz(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Qr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Ec(s,a,i),Qa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[qt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Mu.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=fb[i.type],a=wh[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new ln(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=fb[i.type],u=wh[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let g,y;if(p&&p!==f){const _=Math.floor(d/p),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let w=t.cache.get(x);w||(g=new u(a,_*p,i.count*p/c),w=new F0(g,p/c),t.cache.add(x,w)),y=new ku(w,l,d%p/c,v)}else a===null?g=new u(i.count*l):g=new u(a,d,i.count*l),y=new ln(g,l,v);if(i.sparse!==void 0){const _=fb.SCALAR,x=wh[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,b=new x(o[1],w,i.sparse.count*_),E=new u(o[2],A,i.sparse.count*l);a!==null&&(y=new ln(y.array.slice(),y.itemSize,y.normalized));for(let T=0,M=b.length;T<M;T++){const P=b[T];if(y.setX(P,E[T*l]),l>=2&&y.setY(P,E[T*l+1]),l>=3&&y.setZ(P,E[T*l+2]),l>=4&&y.setW(P,E[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=mk[d.magFilter]||rn,c.minFilter=mk[d.minFilter]||Ea,c.wrapS=gk[d.wrapS]||Bu,c.wrapT=gk[d.wrapT]||Bu,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let v=d;t.isImageBitmapLoader===!0&&(v=function(g){const y=new hn(g);y.needsUpdate=!0,d(y)}),t.load(Mu.resolveURL(f,s.path),v,void 0,p)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),Qa(f,o),f.userData.mimeType=o.mimeType||ise(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[qt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[qt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[qt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===hk?Zc:hl),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Zc?hk:Cie),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new lw,Lr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mi,Lr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return K0}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[qt.KHR_MATERIALS_UNLIT]){const f=i[qt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ft(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],hl),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,Zc)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=bs);const c=s.alphaMode||db.OPAQUE;if(c===db.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===db.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ui&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new We(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==Ui&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ui){const f=s.emissiveFactor;a.emissive=new ft().setRGB(f[0],f[1],f[2],hl)}return s.emissiveTexture!==void 0&&o!==Ui&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Zc)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Qa(f,s),t.associations.set(f,{materials:e}),s.extensions&&Ec(i,f,s),f})}createUniqueName(e){const t=an.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return vk(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=rse(u),f=i[c];if(f)o.push(f.promise);else{let d;u.extensions&&u.extensions[qt.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=vk(new Xt,u,t),i[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?ese(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let p=0,v=c.length;p<v;p++){const g=c[p],y=o[p];let _;const x=u[p];if(y.mode===Qs.TRIANGLES||y.mode===Qs.TRIANGLE_STRIP||y.mode===Qs.TRIANGLE_FAN||y.mode===void 0)_=s.isSkinnedMesh===!0?new I2(g,x):new Wn(g,x),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),y.mode===Qs.TRIANGLE_STRIP?_.geometry=ck(_.geometry,x2):y.mode===Qs.TRIANGLE_FAN&&(_.geometry=ck(_.geometry,V_));else if(y.mode===Qs.LINES)_=new Yo(g,x);else if(y.mode===Qs.LINE_STRIP)_=new Al(g,x);else if(y.mode===Qs.LINE_LOOP)_=new B2(g,x);else if(y.mode===Qs.POINTS)_=new L2(g,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(_.geometry.morphAttributes).length>0&&nse(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),Qa(_,s),y.extensions&&Ec(i,_,y),t.assignFinalMaterial(_),f.push(_)}for(let p=0,v=f.length;p<v;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&Ec(i,f[0],s),f[0];const d=new fl;s.extensions&&Ec(i,d,s),t.associations.set(d,{meshes:e});for(let p=0,v=f.length;p<v;p++)d.add(f[p]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Hn(Lo.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new ho(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Qa(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const d=new Ft;s!==null&&d.fromArray(s.array,u*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new N0(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],c=[];for(let f=0,d=i.channels.length;f<d;f++){const p=i.channels[f],v=i.samplers[p.sampler],g=p.target,y=g.node,_=i.parameters!==void 0?i.parameters[v.input]:v.input,x=i.parameters!==void 0?i.parameters[v.output]:v.output;g.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",x)),u.push(v),c.push(g))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(c)]).then(function(f){const d=f[0],p=f[1],v=f[2],g=f[3],y=f[4],_=[];for(let x=0,w=d.length;x<w;x++){const A=d[x],b=p[x],E=v[x],T=g[x],M=y[x];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const P=r._createAnimationTracks(A,b,E,T,M);if(P)for(let D=0;D<P.length;D++)_.push(P[D])}return new Uh(s,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],d=u[2];d!==null&&c.traverse(function(p){p.isSkinnedMesh&&p.bind(d,sse)});for(let p=0,v=f.length;p<v;p++)c.add(f[p]);return c})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new aw:u.length>1?c=new fl:u.length===1?c=u[0]:c=new en,c!==u[0])for(let f=0,d=u.length;f<d;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Qa(c,s),s.extensions&&Ec(r,c,s),s.matrix!==void 0){const f=new Ft;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new fl;r.name&&(s.name=i.createUniqueName(r.name)),Qa(s,r),r.extensions&&Ec(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[d,p]of i.associations)(d instanceof Lr||d instanceof hn)&&f.set(d,p);return c.traverse(d=>{const p=i.associations.get(d);p!=null&&f.set(d,p)}),f};return i.associations=u(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];eu[s.path]===eu.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let u;switch(eu[s.path]){case eu.weights:u=If;break;case eu.rotation:u=Fu;break;case eu.position:case eu.scale:u=Df;break;default:switch(r.itemSize){case 1:u=If;break;case 2:case 3:default:u=Df;break}break}const c=i.interpolation!==void 0?qie[i.interpolation]:Pf,f=this._getArrayFromAccessor(r);for(let d=0,p=l.length;d<p;d++){const v=new u(l[d]+"."+eu[s.path],t.array,f,c);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=qE(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Fu?Zie:h6;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ase(n,e,t){const r=e.attributes,i=new Jo;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new Q(l[0],l[1],l[2]),new Q(u[0],u[1],u[2])),a.normalized){const c=qE(wh[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Q,l=new Q;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,v=d.max;if(p!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(v[2]))),d.normalized){const g=qE(wh[d.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ra;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function vk(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=ZE[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Qa(n,e),ase(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?tse(n,e.targets,t):n})}class lse extends hp{constructor(e,t={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:u=1,letterSpacing:c=0,...f}=t;if(o===void 0)super();else{const d=o.generateShapes(e,l,{lineHeight:u,letterSpacing:c});super(d,{...f,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}var use=Object.defineProperty,cse=(n,e,t)=>e in n?use(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pb=(n,e,t)=>(cse(n,typeof e!="symbol"?e+"":e,t),t);class fse extends ai{constructor(e){super(e)}load(e,t,r,i){const s=new Qr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);t&&t(l)},r,i)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new dse(e)}}class dse{constructor(e){pb(this,"data"),pb(this,"isFont",!0),pb(this,"type","Font"),this.data=e}generateShapes(e,t=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=hse(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}function hse(n,e,t,r){const i=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<i.length;c++){const f=i[c];if(f===`
`)l=0,u-=o*r.lineHeight;else{const d=pse(f,s,l,u,t);d&&(l+=d.offsetX+r.letterSpacing,a.push(d.path))}}return a}function pse(n,e,t,r,i){const s=i.glyphs[n]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+i.familyName+".");return}const o=new Gz;let a,l,u,c,f,d,p,v;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,_=g.length;y<_;)switch(g[y++]){case"m":a=parseInt(g[y++])*e+t,l=parseInt(g[y++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(g[y++])*e+t,l=parseInt(g[y++])*e+r,o.lineTo(a,l);break;case"q":u=parseInt(g[y++])*e+t,c=parseInt(g[y++])*e+r,f=parseInt(g[y++])*e+t,d=parseInt(g[y++])*e+r,o.quadraticCurveTo(f,d,u,c);break;case"b":u=parseInt(g[y++])*e+t,c=parseInt(g[y++])*e+r,f=parseInt(g[y++])*e+t,d=parseInt(g[y++])*e+r,p=parseInt(g[y++])*e+t,v=parseInt(g[y++])*e+r,o.bezierCurveTo(f,d,p,v,u,c);break}}return{offsetX:s.ha*e,path:o}}class mse extends $2{constructor(e){super(e),this.type=Jr}parse(e){const o=function(M,P){switch(M){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},c=`
`,f=function(M,P,D){P=P||1024;let O=M.pos,U=-1,N=0,$="",X=String.fromCharCode.apply(null,new Uint16Array(M.subarray(O,O+128)));for(;0>(U=X.indexOf(c))&&N<P&&O<M.byteLength;)$+=X,N+=X.length,O+=128,X+=String.fromCharCode.apply(null,new Uint16Array(M.subarray(O,O+128)));return-1<U?(M.pos+=N+U+1,$+X.slice(0,U)):!1},d=function(M){const P=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,O=/^\s*FORMAT=(\S+)\s*$/,U=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let $,X;for((M.pos>=M.byteLength||!($=f(M)))&&o(1,"no header found"),(X=$.match(P))||o(3,"bad initial token"),N.valid|=1,N.programtype=X[1],N.string+=$+`
`;$=f(M),$!==!1;){if(N.string+=$+`
`,$.charAt(0)==="#"){N.comments+=$+`
`;continue}if((X=$.match(D))&&(N.gamma=parseFloat(X[1])),(X=$.match(F))&&(N.exposure=parseFloat(X[1])),(X=$.match(O))&&(N.valid|=2,N.format=X[1]),(X=$.match(U))&&(N.valid|=4,N.height=parseInt(X[1],10),N.width=parseInt(X[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2||o(3,"missing format specifier"),N.valid&4||o(3,"missing image size specifier"),N},p=function(M,P,D){const F=P;if(F<8||F>32767||M[0]!==2||M[1]!==2||M[2]&128)return new Uint8Array(M);F!==(M[2]<<8|M[3])&&o(3,"wrong scanline width");const O=new Uint8Array(4*P*D);O.length||o(4,"unable to allocate buffer space");let U=0,N=0;const $=4*F,X=new Uint8Array(4),q=new Uint8Array($);let z=D;for(;z>0&&N<M.byteLength;){N+4>M.byteLength&&o(1),X[0]=M[N++],X[1]=M[N++],X[2]=M[N++],X[3]=M[N++],(X[0]!=2||X[1]!=2||(X[2]<<8|X[3])!=F)&&o(3,"bad rgbe scanline format");let j=0,H;for(;j<$&&N<M.byteLength;){H=M[N++];const G=H>128;if(G&&(H-=128),(H===0||j+H>$)&&o(3,"bad scanline data"),G){const J=M[N++];for(let re=0;re<H;re++)q[j++]=J}else q.set(M.subarray(N,N+H),j),j+=H,N+=H}const V=F;for(let G=0;G<V;G++){let J=0;O[U]=q[G+J],J+=F,O[U+1]=q[G+J],J+=F,O[U+2]=q[G+J],J+=F,O[U+3]=q[G+J],U+=4}z--}return O},v=function(M,P,D,F){const O=M[P+3],U=Math.pow(2,O-128)/255;D[F+0]=M[P+0]*U,D[F+1]=M[P+1]*U,D[F+2]=M[P+2]*U,D[F+3]=1},g=function(M,P,D,F){const O=M[P+3],U=Math.pow(2,O-128)/255;D[F+0]=Yc.toHalfFloat(Math.min(M[P+0]*U,65504)),D[F+1]=Yc.toHalfFloat(Math.min(M[P+1]*U,65504)),D[F+2]=Yc.toHalfFloat(Math.min(M[P+2]*U,65504)),D[F+3]=Yc.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const _=d(y),x=_.width,w=_.height,A=p(y.subarray(y.pos),x,w);let b,E,T;switch(this.type){case Xr:T=A.length/4;const M=new Float32Array(T*4);for(let D=0;D<T;D++)v(A,D*4,M,D*4);b=M,E=Xr;break;case Jr:T=A.length/4;const P=new Uint16Array(T*4);for(let D=0;D<T;D++)g(A,D*4,P,D*4);b=P,E=Jr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:w,data:b,header:_.string,gamma:_.gamma,exposure:_.exposure,type:E}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Xr:case Jr:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=rn,o.magFilter=rn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Cm=MP>=152;class gse extends $2{constructor(e){super(e),this.type=Jr}parse(e){const P=Math.pow(2.7182818,2.2);function D(L,W){for(var ie=0,he=0;he<65536;++he)(he==0||L[he>>3]&1<<(he&7))&&(W[ie++]=he);for(var _e=ie-1;ie<65536;)W[ie++]=0;return _e}function F(L){for(var W=0;W<16384;W++)L[W]={},L[W].len=0,L[W].lit=0,L[W].p=null}const O={l:0,c:0,lc:0};function U(L,W,ie,he,_e){for(;ie<L;)W=W<<8|je(he,_e),ie+=8;ie-=L,O.l=W>>ie&(1<<L)-1,O.c=W,O.lc=ie}const N=new Array(59);function $(L){for(var W=0;W<=58;++W)N[W]=0;for(var W=0;W<65537;++W)N[L[W]]+=1;for(var ie=0,W=58;W>0;--W){var he=ie+N[W]>>1;N[W]=ie,ie=he}for(var W=0;W<65537;++W){var _e=L[W];_e>0&&(L[W]=_e|N[_e]++<<6)}}function X(L,W,ie,he,_e,xe,He){for(var $e=ie,qe=0,et=0;_e<=xe;_e++){if($e.value-ie.value>he)return!1;U(6,qe,et,L,$e);var nt=O.l;if(qe=O.c,et=O.lc,He[_e]=nt,nt==63){if($e.value-ie.value>he)throw"Something wrong with hufUnpackEncTable";U(8,qe,et,L,$e);var be=O.l+6;if(qe=O.c,et=O.lc,_e+be>xe+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)He[_e++]=0;_e--}else if(nt>=59){var be=nt-59+2;if(_e+be>xe+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)He[_e++]=0;_e--}}$(He)}function q(L){return L&63}function z(L){return L>>6}function j(L,W,ie,he){for(;W<=ie;W++){var _e=z(L[W]),xe=q(L[W]);if(_e>>xe)throw"Invalid table entry";if(xe>14){var He=he[_e>>xe-14];if(He.len)throw"Invalid table entry";if(He.lit++,He.p){var $e=He.p;He.p=new Array(He.lit);for(var qe=0;qe<He.lit-1;++qe)He.p[qe]=$e[qe]}else He.p=new Array(1);He.p[He.lit-1]=W}else if(xe)for(var et=0,qe=1<<14-xe;qe>0;qe--){var He=he[(_e<<14-xe)+et];if(He.len||He.p)throw"Invalid table entry";He.len=xe,He.lit=W,et++}}return!0}const H={c:0,lc:0};function V(L,W,ie,he){L=L<<8|je(ie,he),W+=8,H.c=L,H.lc=W}const G={c:0,lc:0};function J(L,W,ie,he,_e,xe,He,$e,qe,et){if(L==W){he<8&&(V(ie,he,_e,He),ie=H.c,he=H.lc),he-=8;var nt=ie>>he,nt=new Uint8Array([nt])[0];if(qe.value+nt>et)return!1;for(var be=$e[qe.value-1];nt-- >0;)$e[qe.value++]=be}else if(qe.value<et)$e[qe.value++]=L;else return!1;G.c=ie,G.lc=he}function re(L){return L&65535}function te(L){var W=re(L);return W>32767?W-65536:W}const Y={a:0,b:0};function ce(L,W){var ie=te(L),he=te(W),_e=he,xe=ie+(_e&1)+(_e>>1),He=xe,$e=xe-_e;Y.a=He,Y.b=$e}function fe(L,W){var ie=re(L),he=re(W),_e=ie-(he>>1)&65535,xe=he+_e-32768&65535;Y.a=xe,Y.b=_e}function Re(L,W,ie,he,_e,xe,He){for(var $e=He<16384,qe=ie>_e?_e:ie,et=1,nt;et<=qe;)et<<=1;for(et>>=1,nt=et,et>>=1;et>=1;){for(var be=0,mt=be+xe*(_e-nt),gt=xe*et,lt=xe*nt,Mt=he*et,kt=he*nt,Nt,Ut,vt,Pt;be<=mt;be+=lt){for(var zt=be,Gt=be+he*(ie-nt);zt<=Gt;zt+=kt){var Ot=zt+Mt,pn=zt+gt,Rn=pn+Mt;$e?(ce(L[zt+W],L[pn+W]),Nt=Y.a,vt=Y.b,ce(L[Ot+W],L[Rn+W]),Ut=Y.a,Pt=Y.b,ce(Nt,Ut),L[zt+W]=Y.a,L[Ot+W]=Y.b,ce(vt,Pt),L[pn+W]=Y.a,L[Rn+W]=Y.b):(fe(L[zt+W],L[pn+W]),Nt=Y.a,vt=Y.b,fe(L[Ot+W],L[Rn+W]),Ut=Y.a,Pt=Y.b,fe(Nt,Ut),L[zt+W]=Y.a,L[Ot+W]=Y.b,fe(vt,Pt),L[pn+W]=Y.a,L[Rn+W]=Y.b)}if(ie&et){var pn=zt+gt;$e?ce(L[zt+W],L[pn+W]):fe(L[zt+W],L[pn+W]),Nt=Y.a,L[pn+W]=Y.b,L[zt+W]=Nt}}if(_e&et)for(var zt=be,Gt=be+he*(ie-nt);zt<=Gt;zt+=kt){var Ot=zt+Mt;$e?ce(L[zt+W],L[Ot+W]):fe(L[zt+W],L[Ot+W]),Nt=Y.a,L[Ot+W]=Y.b,L[zt+W]=Nt}nt=et,et>>=1}return be}function Ae(L,W,ie,he,_e,xe,He,$e,qe,et){for(var nt=0,be=0,mt=$e,gt=Math.trunc(_e.value+(xe+7)/8);_e.value<gt;)for(V(nt,be,ie,_e),nt=H.c,be=H.lc;be>=14;){var lt=nt>>be-14&16383,Mt=W[lt];if(Mt.len)be-=Mt.len,J(Mt.lit,He,nt,be,ie,he,_e,qe,et,mt),nt=G.c,be=G.lc;else{if(!Mt.p)throw"hufDecode issues";var kt;for(kt=0;kt<Mt.lit;kt++){for(var Nt=q(L[Mt.p[kt]]);be<Nt&&_e.value<gt;)V(nt,be,ie,_e),nt=H.c,be=H.lc;if(be>=Nt&&z(L[Mt.p[kt]])==(nt>>be-Nt&(1<<Nt)-1)){be-=Nt,J(Mt.p[kt],He,nt,be,ie,he,_e,qe,et,mt),nt=G.c,be=G.lc;break}}if(kt==Mt.lit)throw"hufDecode issues"}}var Ut=8-xe&7;for(nt>>=Ut,be-=Ut;be>0;){var Mt=W[nt<<14-be&16383];if(Mt.len)be-=Mt.len,J(Mt.lit,He,nt,be,ie,he,_e,qe,et,mt),nt=G.c,be=G.lc;else throw"hufDecode issues"}return!0}function ye(L,W,ie,he,_e,xe){var He={value:0},$e=ie.value,qe=Xe(W,ie),et=Xe(W,ie);ie.value+=4;var nt=Xe(W,ie);if(ie.value+=4,qe<0||qe>=65537||et<0||et>=65537)throw"Something wrong with HUF_ENCSIZE";var be=new Array(65537),mt=new Array(16384);F(mt);var gt=he-(ie.value-$e);if(X(L,W,ie,gt,qe,et,be),nt>8*(he-(ie.value-$e)))throw"Something wrong with hufUncompress";j(be,qe,et,mt),Ae(be,mt,L,W,ie,nt,et,xe,_e,He)}function le(L,W,ie){for(var he=0;he<ie;++he)W[he]=L[W[he]]}function de(L){for(var W=1;W<L.length;W++){var ie=L[W-1]+L[W]-128;L[W]=ie}}function Ie(L,W){for(var ie=0,he=Math.floor((L.length+1)/2),_e=0,xe=L.length-1;!(_e>xe||(W[_e++]=L[ie++],_e>xe));)W[_e++]=L[he++]}function Ve(L){for(var W=L.byteLength,ie=new Array,he=0,_e=new DataView(L);W>0;){var xe=_e.getInt8(he++);if(xe<0){var He=-xe;W-=He+1;for(var $e=0;$e<He;$e++)ie.push(_e.getUint8(he++))}else{var He=xe;W-=2;for(var qe=_e.getUint8(he++),$e=0;$e<He+1;$e++)ie.push(qe)}}return ie}function Be(L,W,ie,he,_e,xe){var Ot=new DataView(xe.buffer),He=ie[L.idx[0]].width,$e=ie[L.idx[0]].height,qe=3,et=Math.floor(He/8),nt=Math.ceil(He/8),be=Math.ceil($e/8),mt=He-(nt-1)*8,gt=$e-(be-1)*8,lt={value:0},Mt=new Array(qe),kt=new Array(qe),Nt=new Array(qe),Ut=new Array(qe),vt=new Array(qe);for(let on=0;on<qe;++on)vt[on]=W[L.idx[on]],Mt[on]=on<1?0:Mt[on-1]+nt*be,kt[on]=new Float32Array(64),Nt[on]=new Uint16Array(64),Ut[on]=new Uint16Array(nt*64);for(let on=0;on<be;++on){var Pt=8;on==be-1&&(Pt=gt);var zt=8;for(let un=0;un<nt;++un){un==nt-1&&(zt=mt);for(let Vt=0;Vt<qe;++Vt)Nt[Vt].fill(0),Nt[Vt][0]=_e[Mt[Vt]++],Ye(lt,he,Nt[Vt]),De(Nt[Vt],kt[Vt]),Ue(kt[Vt]);Qe(kt);for(let Vt=0;Vt<qe;++Vt)Ce(kt[Vt],Ut[Vt],un*64)}let jn=0;for(let un=0;un<qe;++un){const Vt=ie[L.idx[un]].type;for(let Mn=8*on;Mn<8*on+Pt;++Mn){jn=vt[un][Mn];for(let Wi=0;Wi<et;++Wi){const fr=Wi*64+(Mn&7)*8;Ot.setUint16(jn+0*2*Vt,Ut[un][fr+0],!0),Ot.setUint16(jn+1*2*Vt,Ut[un][fr+1],!0),Ot.setUint16(jn+2*2*Vt,Ut[un][fr+2],!0),Ot.setUint16(jn+3*2*Vt,Ut[un][fr+3],!0),Ot.setUint16(jn+4*2*Vt,Ut[un][fr+4],!0),Ot.setUint16(jn+5*2*Vt,Ut[un][fr+5],!0),Ot.setUint16(jn+6*2*Vt,Ut[un][fr+6],!0),Ot.setUint16(jn+7*2*Vt,Ut[un][fr+7],!0),jn+=8*2*Vt}}if(et!=nt)for(let Mn=8*on;Mn<8*on+Pt;++Mn){const Wi=vt[un][Mn]+8*et*2*Vt,fr=et*64+(Mn&7)*8;for(let ls=0;ls<zt;++ls)Ot.setUint16(Wi+ls*2*Vt,Ut[un][fr+ls],!0)}}}for(var Gt=new Uint16Array(He),Ot=new DataView(xe.buffer),pn=0;pn<qe;++pn){ie[L.idx[pn]].decoded=!0;var Rn=ie[L.idx[pn]].type;if(ie[pn].type==2)for(var Nn=0;Nn<$e;++Nn){const on=vt[pn][Nn];for(var Un=0;Un<He;++Un)Gt[Un]=Ot.getUint16(on+Un*2*Rn,!0);for(var Un=0;Un<He;++Un)Ot.setFloat32(on+Un*2*Rn,ne(Gt[Un]),!0)}}}function Ye(L,W,ie){for(var he,_e=1;_e<64;)he=W[L.value],he==65280?_e=64:he>>8==255?_e+=he&255:(ie[_e]=he,_e++),L.value++}function De(L,W){W[0]=ne(L[0]),W[1]=ne(L[1]),W[2]=ne(L[5]),W[3]=ne(L[6]),W[4]=ne(L[14]),W[5]=ne(L[15]),W[6]=ne(L[27]),W[7]=ne(L[28]),W[8]=ne(L[2]),W[9]=ne(L[4]),W[10]=ne(L[7]),W[11]=ne(L[13]),W[12]=ne(L[16]),W[13]=ne(L[26]),W[14]=ne(L[29]),W[15]=ne(L[42]),W[16]=ne(L[3]),W[17]=ne(L[8]),W[18]=ne(L[12]),W[19]=ne(L[17]),W[20]=ne(L[25]),W[21]=ne(L[30]),W[22]=ne(L[41]),W[23]=ne(L[43]),W[24]=ne(L[9]),W[25]=ne(L[11]),W[26]=ne(L[18]),W[27]=ne(L[24]),W[28]=ne(L[31]),W[29]=ne(L[40]),W[30]=ne(L[44]),W[31]=ne(L[53]),W[32]=ne(L[10]),W[33]=ne(L[19]),W[34]=ne(L[23]),W[35]=ne(L[32]),W[36]=ne(L[39]),W[37]=ne(L[45]),W[38]=ne(L[52]),W[39]=ne(L[54]),W[40]=ne(L[20]),W[41]=ne(L[22]),W[42]=ne(L[33]),W[43]=ne(L[38]),W[44]=ne(L[46]),W[45]=ne(L[51]),W[46]=ne(L[55]),W[47]=ne(L[60]),W[48]=ne(L[21]),W[49]=ne(L[34]),W[50]=ne(L[37]),W[51]=ne(L[47]),W[52]=ne(L[50]),W[53]=ne(L[56]),W[54]=ne(L[59]),W[55]=ne(L[61]),W[56]=ne(L[35]),W[57]=ne(L[36]),W[58]=ne(L[48]),W[59]=ne(L[49]),W[60]=ne(L[57]),W[61]=ne(L[58]),W[62]=ne(L[62]),W[63]=ne(L[63])}function Ue(L){const W=.5*Math.cos(.7853975),ie=.5*Math.cos(3.14159/16),he=.5*Math.cos(3.14159/8),_e=.5*Math.cos(3*3.14159/16),xe=.5*Math.cos(5*3.14159/16),He=.5*Math.cos(3*3.14159/8),$e=.5*Math.cos(7*3.14159/16);for(var qe=new Array(4),et=new Array(4),nt=new Array(4),be=new Array(4),mt=0;mt<8;++mt){var gt=mt*8;qe[0]=he*L[gt+2],qe[1]=He*L[gt+2],qe[2]=he*L[gt+6],qe[3]=He*L[gt+6],et[0]=ie*L[gt+1]+_e*L[gt+3]+xe*L[gt+5]+$e*L[gt+7],et[1]=_e*L[gt+1]-$e*L[gt+3]-ie*L[gt+5]-xe*L[gt+7],et[2]=xe*L[gt+1]-ie*L[gt+3]+$e*L[gt+5]+_e*L[gt+7],et[3]=$e*L[gt+1]-xe*L[gt+3]+_e*L[gt+5]-ie*L[gt+7],nt[0]=W*(L[gt+0]+L[gt+4]),nt[3]=W*(L[gt+0]-L[gt+4]),nt[1]=qe[0]+qe[3],nt[2]=qe[1]-qe[2],be[0]=nt[0]+nt[1],be[1]=nt[3]+nt[2],be[2]=nt[3]-nt[2],be[3]=nt[0]-nt[1],L[gt+0]=be[0]+et[0],L[gt+1]=be[1]+et[1],L[gt+2]=be[2]+et[2],L[gt+3]=be[3]+et[3],L[gt+4]=be[3]-et[3],L[gt+5]=be[2]-et[2],L[gt+6]=be[1]-et[1],L[gt+7]=be[0]-et[0]}for(var lt=0;lt<8;++lt)qe[0]=he*L[16+lt],qe[1]=He*L[16+lt],qe[2]=he*L[48+lt],qe[3]=He*L[48+lt],et[0]=ie*L[8+lt]+_e*L[24+lt]+xe*L[40+lt]+$e*L[56+lt],et[1]=_e*L[8+lt]-$e*L[24+lt]-ie*L[40+lt]-xe*L[56+lt],et[2]=xe*L[8+lt]-ie*L[24+lt]+$e*L[40+lt]+_e*L[56+lt],et[3]=$e*L[8+lt]-xe*L[24+lt]+_e*L[40+lt]-ie*L[56+lt],nt[0]=W*(L[lt]+L[32+lt]),nt[3]=W*(L[lt]-L[32+lt]),nt[1]=qe[0]+qe[3],nt[2]=qe[1]-qe[2],be[0]=nt[0]+nt[1],be[1]=nt[3]+nt[2],be[2]=nt[3]-nt[2],be[3]=nt[0]-nt[1],L[0+lt]=be[0]+et[0],L[8+lt]=be[1]+et[1],L[16+lt]=be[2]+et[2],L[24+lt]=be[3]+et[3],L[32+lt]=be[3]-et[3],L[40+lt]=be[2]-et[2],L[48+lt]=be[1]-et[1],L[56+lt]=be[0]-et[0]}function Qe(L){for(var W=0;W<64;++W){var ie=L[0][W],he=L[1][W],_e=L[2][W];L[0][W]=ie+1.5747*_e,L[1][W]=ie-.1873*he-.4682*_e,L[2][W]=ie+1.8556*he}}function Ce(L,W,ie){for(var he=0;he<64;++he)W[ie+he]=Yc.toHalfFloat(K(L[he]))}function K(L){return L<=1?Math.sign(L)*Math.pow(Math.abs(L),2.2):Math.sign(L)*Math.pow(P,Math.abs(L)-1)}function k(L){return new DataView(L.array.buffer,L.offset.value,L.size)}function se(L){var W=L.viewer.buffer.slice(L.offset.value,L.offset.value+L.size),ie=new Uint8Array(Ve(W)),he=new Uint8Array(ie.length);return de(ie),Ie(ie,he),new DataView(he.buffer)}function me(L){var W=L.array.slice(L.offset.value,L.offset.value+L.size),ie=d1(W),he=new Uint8Array(ie.length);return de(ie),Ie(ie,he),new DataView(he.buffer)}function Oe(L){for(var W=L.viewer,ie={value:L.offset.value},he=new Uint16Array(L.width*L.scanlineBlockSize*(L.channels*L.type)),_e=new Uint8Array(8192),xe=0,He=new Array(L.channels),$e=0;$e<L.channels;$e++)He[$e]={},He[$e].start=xe,He[$e].end=He[$e].start,He[$e].nx=L.width,He[$e].ny=L.lines,He[$e].size=L.type,xe+=He[$e].nx*He[$e].ny*He[$e].size;var qe=Le(W,ie),et=Le(W,ie);if(et>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(qe<=et)for(var $e=0;$e<et-qe+1;$e++)_e[$e+qe]=oe(W,ie);var nt=new Uint16Array(65536),be=D(_e,nt),mt=Xe(W,ie);ye(L.array,W,ie,mt,he,xe);for(var $e=0;$e<L.channels;++$e)for(var gt=He[$e],lt=0;lt<He[$e].size;++lt)Re(he,gt.start+lt,gt.nx,gt.size,gt.ny,gt.nx*gt.size,be);le(nt,he,xe);for(var Mt=0,kt=new Uint8Array(he.buffer.byteLength),Nt=0;Nt<L.lines;Nt++)for(var Ut=0;Ut<L.channels;Ut++){var gt=He[Ut],vt=gt.nx*gt.size,Pt=new Uint8Array(he.buffer,gt.end*2,vt*2);kt.set(Pt,Mt),Mt+=vt*2,gt.end+=vt}return new DataView(kt.buffer)}function Me(L){var W=L.array.slice(L.offset.value,L.offset.value+L.size),ie=d1(W);const he=L.lines*L.channels*L.width,_e=L.type==1?new Uint16Array(he):new Uint32Array(he);let xe=0,He=0;const $e=new Array(4);for(let qe=0;qe<L.lines;qe++)for(let et=0;et<L.channels;et++){let nt=0;switch(L.type){case 1:$e[0]=xe,$e[1]=$e[0]+L.width,xe=$e[1]+L.width;for(let be=0;be<L.width;++be){const mt=ie[$e[0]++]<<8|ie[$e[1]++];nt+=mt,_e[He]=nt,He++}break;case 2:$e[0]=xe,$e[1]=$e[0]+L.width,$e[2]=$e[1]+L.width,xe=$e[2]+L.width;for(let be=0;be<L.width;++be){const mt=ie[$e[0]++]<<24|ie[$e[1]++]<<16|ie[$e[2]++]<<8;nt+=mt,_e[He]=nt,He++}break}}return new DataView(_e.buffer)}function Ke(L){var W=L.viewer,ie={value:L.offset.value},he=new Uint8Array(L.width*L.lines*(L.channels*L.type*2)),_e={version:Pe(W,ie),unknownUncompressedSize:Pe(W,ie),unknownCompressedSize:Pe(W,ie),acCompressedSize:Pe(W,ie),dcCompressedSize:Pe(W,ie),rleCompressedSize:Pe(W,ie),rleUncompressedSize:Pe(W,ie),rleRawSize:Pe(W,ie),totalAcUncompressedCount:Pe(W,ie),totalDcUncompressedCount:Pe(W,ie),acCompression:Pe(W,ie)};if(_e.version<2)throw"EXRLoader.parse: "+Se.compression+" version "+_e.version+" is unsupported";for(var xe=new Array,He=Le(W,ie)-2;He>0;){var $e=Fe(W.buffer,ie),qe=oe(W,ie),et=qe>>2&3,nt=(qe>>4)-1,be=new Int8Array([nt])[0],mt=oe(W,ie);xe.push({name:$e,index:be,type:mt,compression:et}),He-=$e.length+3}for(var gt=Se.channels,lt=new Array(L.channels),Mt=0;Mt<L.channels;++Mt){var kt=lt[Mt]={},Nt=gt[Mt];kt.name=Nt.name,kt.compression=0,kt.decoded=!1,kt.type=Nt.pixelType,kt.pLinear=Nt.pLinear,kt.width=L.width,kt.height=L.lines}for(var Ut={idx:new Array(3)},vt=0;vt<L.channels;++vt)for(var kt=lt[vt],Mt=0;Mt<xe.length;++Mt){var Pt=xe[Mt];kt.name==Pt.name&&(kt.compression=Pt.compression,Pt.index>=0&&(Ut.idx[Pt.index]=vt),kt.offset=vt)}if(_e.acCompressedSize>0)switch(_e.acCompression){case 0:var Ot=new Uint16Array(_e.totalAcUncompressedCount);ye(L.array,W,ie,_e.acCompressedSize,Ot,_e.totalAcUncompressedCount);break;case 1:var zt=L.array.slice(ie.value,ie.value+_e.totalAcUncompressedCount),Gt=d1(zt),Ot=new Uint16Array(Gt.buffer);ie.value+=_e.totalAcUncompressedCount;break}if(_e.dcCompressedSize>0){var pn={array:L.array,offset:ie,size:_e.dcCompressedSize},Rn=new Uint16Array(me(pn).buffer);ie.value+=_e.dcCompressedSize}if(_e.rleRawSize>0){var zt=L.array.slice(ie.value,ie.value+_e.rleCompressedSize),Gt=d1(zt),Nn=Ve(Gt.buffer);ie.value+=_e.rleCompressedSize}for(var Un=0,on=new Array(lt.length),Mt=0;Mt<on.length;++Mt)on[Mt]=new Array;for(var jn=0;jn<L.lines;++jn)for(var un=0;un<lt.length;++un)on[un].push(Un),Un+=lt[un].width*L.type*2;Be(Ut,on,lt,Ot,Rn,he);for(var Mt=0;Mt<lt.length;++Mt){var kt=lt[Mt];if(!kt.decoded)switch(kt.compression){case 2:for(var Vt=0,Mn=0,jn=0;jn<L.lines;++jn){for(var Wi=on[Mt][Vt],fr=0;fr<kt.width;++fr){for(var ls=0;ls<2*kt.type;++ls)he[Wi++]=Nn[Mn+ls*kt.width*kt.height];Mn++}Vt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(he.buffer)}function Fe(L,W){for(var ie=new Uint8Array(L),he=0;ie[W.value+he]!=0;)he+=1;var _e=new TextDecoder().decode(ie.slice(W.value,W.value+he));return W.value=W.value+he+1,_e}function Ee(L,W,ie){var he=new TextDecoder().decode(new Uint8Array(L).slice(W.value,W.value+ie));return W.value=W.value+ie,he}function tt(L,W){var ie=Je(L,W),he=Xe(L,W);return[ie,he]}function at(L,W){var ie=Xe(L,W),he=Xe(L,W);return[ie,he]}function Je(L,W){var ie=L.getInt32(W.value,!0);return W.value=W.value+4,ie}function Xe(L,W){var ie=L.getUint32(W.value,!0);return W.value=W.value+4,ie}function je(L,W){var ie=L[W.value];return W.value=W.value+1,ie}function oe(L,W){var ie=L.getUint8(W.value);return W.value=W.value+1,ie}const Pe=function(L,W){let ie;return"getBigInt64"in DataView.prototype?ie=Number(L.getBigInt64(W.value,!0)):ie=L.getUint32(W.value+4,!0)+Number(L.getUint32(W.value,!0)<<32),W.value+=8,ie};function Ze(L,W){var ie=L.getFloat32(W.value,!0);return W.value+=4,ie}function ae(L,W){return Yc.toHalfFloat(Ze(L,W))}function ne(L){var W=(L&31744)>>10,ie=L&1023;return(L>>15?-1:1)*(W?W===31?ie?NaN:1/0:Math.pow(2,W-15)*(1+ie/1024):6103515625e-14*(ie/1024))}function Le(L,W){var ie=L.getUint16(W.value,!0);return W.value+=2,ie}function st(L,W){return ne(Le(L,W))}function it(L,W,ie,he){for(var _e=ie.value,xe=[];ie.value<_e+he-1;){var He=Fe(W,ie),$e=Je(L,ie),qe=oe(L,ie);ie.value+=3;var et=Je(L,ie),nt=Je(L,ie);xe.push({name:He,pixelType:$e,pLinear:qe,xSampling:et,ySampling:nt})}return ie.value+=1,xe}function dt(L,W){var ie=Ze(L,W),he=Ze(L,W),_e=Ze(L,W),xe=Ze(L,W),He=Ze(L,W),$e=Ze(L,W),qe=Ze(L,W),et=Ze(L,W);return{redX:ie,redY:he,greenX:_e,greenY:xe,blueX:He,blueY:$e,whiteX:qe,whiteY:et}}function Tt(L,W){var ie=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],he=oe(L,W);return ie[he]}function Ct(L,W){var ie=Xe(L,W),he=Xe(L,W),_e=Xe(L,W),xe=Xe(L,W);return{xMin:ie,yMin:he,xMax:_e,yMax:xe}}function St(L,W){var ie=["INCREASING_Y"],he=oe(L,W);return ie[he]}function At(L,W){var ie=Ze(L,W),he=Ze(L,W);return[ie,he]}function tn(L,W){var ie=Ze(L,W),he=Ze(L,W),_e=Ze(L,W);return[ie,he,_e]}function Qt(L,W,ie,he,_e){if(he==="string"||he==="stringvector"||he==="iccProfile")return Ee(W,ie,_e);if(he==="chlist")return it(L,W,ie,_e);if(he==="chromaticities")return dt(L,ie);if(he==="compression")return Tt(L,ie);if(he==="box2i")return Ct(L,ie);if(he==="lineOrder")return St(L,ie);if(he==="float")return Ze(L,ie);if(he==="v2f")return At(L,ie);if(he==="v3f")return tn(L,ie);if(he==="int")return Je(L,ie);if(he==="rational")return tt(L,ie);if(he==="timecode")return at(L,ie);if(he==="preview")return ie.value+=_e,"skipped";ie.value+=_e}function bn(L,W,ie){const he={};if(L.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";he.version=L.getUint8(4);const _e=L.getUint8(5);he.spec={singleTile:!!(_e&2),longName:!!(_e&4),deepFormat:!!(_e&8),multiPart:!!(_e&16)},ie.value=8;for(var xe=!0;xe;){var He=Fe(W,ie);if(He==0)xe=!1;else{var $e=Fe(W,ie),qe=Xe(L,ie),et=Qt(L,W,ie,$e,qe);et===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${$e}'.`):he[He]=et}}if(_e&-5)throw console.error("EXRHeader:",he),"THREE.EXRLoader: provided file is currently unsupported.";return he}function qr(L,W,ie,he,_e){const xe={size:0,viewer:W,array:ie,offset:he,width:L.dataWindow.xMax-L.dataWindow.xMin+1,height:L.dataWindow.yMax-L.dataWindow.yMin+1,channels:L.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:L.channels[0].pixelType,uncompress:null,getter:null,format:null,[Cm?"colorSpace":"encoding"]:null};switch(L.compression){case"NO_COMPRESSION":xe.lines=1,xe.uncompress=k;break;case"RLE_COMPRESSION":xe.lines=1,xe.uncompress=se;break;case"ZIPS_COMPRESSION":xe.lines=1,xe.uncompress=me;break;case"ZIP_COMPRESSION":xe.lines=16,xe.uncompress=me;break;case"PIZ_COMPRESSION":xe.lines=32,xe.uncompress=Oe;break;case"PXR24_COMPRESSION":xe.lines=16,xe.uncompress=Me;break;case"DWAA_COMPRESSION":xe.lines=32,xe.uncompress=Ke;break;case"DWAB_COMPRESSION":xe.lines=256,xe.uncompress=Ke;break;default:throw"EXRLoader.parse: "+L.compression+" is unsupported"}if(xe.scanlineBlockSize=xe.lines,xe.type==1)switch(_e){case Xr:xe.getter=st,xe.inputSize=2;break;case Jr:xe.getter=Le,xe.inputSize=2;break}else if(xe.type==2)switch(_e){case Xr:xe.getter=Ze,xe.inputSize=4;break;case Jr:xe.getter=ae,xe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+xe.type+" for "+L.compression+".";xe.blockCount=(L.dataWindow.yMax+1)/xe.scanlineBlockSize;for(var He=0;He<xe.blockCount;He++)Pe(W,he);xe.outputChannels=xe.channels==3?4:xe.channels;const $e=xe.width*xe.height*xe.outputChannels;switch(_e){case Xr:xe.byteArray=new Float32Array($e),xe.channels<xe.outputChannels&&xe.byteArray.fill(1,0,$e);break;case Jr:xe.byteArray=new Uint16Array($e),xe.channels<xe.outputChannels&&xe.byteArray.fill(15360,0,$e);break;default:console.error("THREE.EXRLoader: unsupported type: ",_e);break}return xe.bytesPerLine=xe.width*xe.inputSize*xe.channels,xe.outputChannels==4?xe.format=Dr:xe.format=y2,Cm?xe.colorSpace="srgb-linear":xe.encoding=3e3,xe}const Fr=new DataView(e),ei=new Uint8Array(e),Z={value:0},Se=bn(Fr,e,Z),we=qr(Se,Fr,ei,Z,this.type),ge={value:0},ze={R:0,G:1,B:2,A:3,Y:0};for(let L=0;L<we.height/we.scanlineBlockSize;L++){const W=Xe(Fr,Z);we.size=Xe(Fr,Z),we.lines=W+we.scanlineBlockSize>we.height?we.height-W:we.scanlineBlockSize;const he=we.size<we.lines*we.bytesPerLine?we.uncompress(we):k(we);Z.value+=we.size;for(let _e=0;_e<we.scanlineBlockSize;_e++){const xe=_e+L*we.scanlineBlockSize;if(xe>=we.height)break;for(let He=0;He<we.channels;He++){const $e=ze[Se.channels[He].name];for(let qe=0;qe<we.width;qe++){ge.value=(_e*(we.channels*we.width)+He*we.width+qe)*we.inputSize;const et=(we.height-1-xe)*(we.width*we.outputChannels)+qe*we.outputChannels+$e;we.byteArray[et]=we.getter(he,ge)}}}}return{header:Se,width:we.width,height:we.height,data:we.byteArray,format:we.format,[Cm?"colorSpace":"encoding"]:we[Cm?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Cm?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=rn,o.magFilter=rn,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const mb=new WeakMap;class vse extends ai{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Qr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(mb.has(e)){const l=mb.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),mb.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Xt;e.index&&t.setIndex(new ln(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new ln(o,a))}return t}_loadLibrary(e,t){const r=new Qr(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=yse.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function yse(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const v=t(f,d,p,u),g=v.attributes.map(y=>y.array.buffer);v.index&&g.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},g)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let d,p;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(v===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const g={index:null,attributes:[]};for(const y in c){const _=self[f[y]];let x,w;if(u.useUniqueIDs)w=c[y],x=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[c[y]]),w===-1)continue;x=a.GetAttribute(d,w)}g.attributes.push(i(o,a,d,y,_,x))}return v===o.TRIANGULAR_MESH&&(g.index=r(o,a,d)),o.destroy(d),g}function r(o,a,l){const c=l.num_faces()*3,f=c*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const p=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:p,itemSize:1}}function i(o,a,l,u,c,f){const d=f.num_components(),v=l.num_points()*d,g=v*c.BYTES_PER_ELEMENT,y=s(o,c),_=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,f,y,g,_);const x=new c(o.HEAPF32.buffer,_,v).slice();return o._free(_),{name:u,array:x,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let p1;const gb=()=>{if(p1)return p1;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const g=f.charCodeAt(v);d[v]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let p=0;for(let v=0;v<f.length;++v)d[p++]=d[v]<60?r[d[v]]:(d[v]-60)*64+d[++v];return d.buffer.slice(0,p)}function l(f,d,p,v,g,y){const _=s.exports.sbrk,x=p+3&-4,w=_(x*v),A=_(g.length),b=new Uint8Array(s.exports.memory.buffer);b.set(g,A);const E=f(w,p,v,A,g.length);if(E===0&&y&&y(w,x,v),d.set(b.subarray(w,w+p*v)),_(w-_(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return p1={ready:o,supported:!0,decodeVertexBuffer(f,d,p,v,g){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,v,s.exports[u[g]])},decodeIndexBuffer(f,d,p,v){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,v)},decodeIndexSequence(f,d,p,v){l(s.exports.meshopt_decodeIndexSequence,f,d,p,v)},decodeGltfBuffer(f,d,p,v,g,y){l(s.exports[c[g]],f,d,p,v,s.exports[u[y]])}},p1};function _se(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:c},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=n[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&t(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function xse(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var p6=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return p6=function(){return n},n},wse=0,Sse=0,vb=!1,hg=Object.create(null),pg=Object.create(null),eC=Object.create(null);function _p(n){if((!n||typeof n.init!="function")&&!vb)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId,s=xse(n);i==null&&(i="#default");var o="workerModule"+ ++wse,a=n.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(vb=!0,c=_p({workerId:i,name:"<"+a+"> function dependency: "+c.name,init:`function(){return (
`+r_(c)+`
)}`}),vb=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!p6())return s.apply(void 0,c);if(!l){l=yk(i,"registerModule",u.workerModuleData);var d=function(){l=null,pg[i].delete(d)};(pg[i]||(pg[i]=new Set)).add(d)}return l.then(function(p){var v=p.isCallable;if(v)return yk(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:r_(t),getTransferables:r&&r_(r)},u.onMainThread=s,u}function Ase(n){pg[n]&&pg[n].forEach(function(e){e()}),hg[n]&&(hg[n].terminate(),delete hg[n])}function r_(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function bse(n){var e=hg[n];if(!e){var t=r_(_se);e=hg[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=eC[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete eC[s],o(i)}}return e}function yk(n,e,t){return new Promise(function(r,i){var s=++Sse;eC[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},bse(n).postMessage({messageId:s,action:e,data:t})})}function m6(){var n=function(e){function t(j,H,V,G,J,re,te,Y){var ce=1-te;Y.x=ce*ce*j+2*ce*te*V+te*te*J,Y.y=ce*ce*H+2*ce*te*G+te*te*re}function r(j,H,V,G,J,re,te,Y,ce,fe){var Re=1-ce;fe.x=Re*Re*Re*j+3*Re*Re*ce*V+3*Re*ce*ce*J+ce*ce*ce*te,fe.y=Re*Re*Re*H+3*Re*Re*ce*G+3*Re*ce*ce*re+ce*ce*ce*Y}function i(j,H){for(var V=/([MLQCZ])([^MLQCZ]*)/g,G,J,re,te,Y;G=V.exec(j);){var ce=G[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(fe){return parseFloat(fe)});switch(G[1]){case"M":te=J=ce[0],Y=re=ce[1];break;case"L":(ce[0]!==te||ce[1]!==Y)&&H("L",te,Y,te=ce[0],Y=ce[1]);break;case"Q":{H("Q",te,Y,te=ce[2],Y=ce[3],ce[0],ce[1]);break}case"C":{H("C",te,Y,te=ce[4],Y=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(te!==J||Y!==re)&&H("L",te,Y,J,re);break}}}function s(j,H,V){V===void 0&&(V=16);var G={x:0,y:0};i(j,function(J,re,te,Y,ce,fe,Re,Ae,ye){switch(J){case"L":H(re,te,Y,ce);break;case"Q":{for(var le=re,de=te,Ie=1;Ie<V;Ie++)t(re,te,fe,Re,Y,ce,Ie/(V-1),G),H(le,de,G.x,G.y),le=G.x,de=G.y;break}case"C":{for(var Ve=re,Be=te,Ye=1;Ye<V;Ye++)r(re,te,fe,Re,Ae,ye,Y,ce,Ye/(V-1),G),H(Ve,Be,G.x,G.y),Ve=G.x,Be=G.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(j,H){var V=j.getContext?j.getContext("webgl",u):j,G=l.get(V);if(!G){let Ve=function(Ce){var K=re[Ce];if(!K&&(K=re[Ce]=V.getExtension(Ce),!K))throw new Error(Ce+" not supported");return K},Be=function(Ce,K){var k=V.createShader(K);return V.shaderSource(k,Ce),V.compileShader(k),k},Ye=function(Ce,K,k,se){if(!te[Ce]){var me={},Oe={},Me=V.createProgram();V.attachShader(Me,Be(K,V.VERTEX_SHADER)),V.attachShader(Me,Be(k,V.FRAGMENT_SHADER)),V.linkProgram(Me),te[Ce]={program:Me,transaction:function(Fe){V.useProgram(Me),Fe({setUniform:function(tt,at){for(var Je=[],Xe=arguments.length-2;Xe-- >0;)Je[Xe]=arguments[Xe+2];var je=Oe[at]||(Oe[at]=V.getUniformLocation(Me,at));V["uniform"+tt].apply(V,[je].concat(Je))},setAttribute:function(tt,at,Je,Xe,je){var oe=me[tt];oe||(oe=me[tt]={buf:V.createBuffer(),loc:V.getAttribLocation(Me,tt),data:null}),V.bindBuffer(V.ARRAY_BUFFER,oe.buf),V.vertexAttribPointer(oe.loc,at,V.FLOAT,!1,0,0),V.enableVertexAttribArray(oe.loc),J?V.vertexAttribDivisor(oe.loc,Xe):Ve("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(oe.loc,Xe),je!==oe.data&&(V.bufferData(V.ARRAY_BUFFER,je,Je),oe.data=je)}})}}}te[Ce].transaction(se)},De=function(Ce,K){ce++;try{V.activeTexture(V.TEXTURE0+ce);var k=Y[Ce];k||(k=Y[Ce]=V.createTexture(),V.bindTexture(V.TEXTURE_2D,k),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,V.NEAREST),V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,V.NEAREST)),V.bindTexture(V.TEXTURE_2D,k),K(k,ce)}finally{ce--}},Ue=function(Ce,K,k){var se=V.createFramebuffer();fe.push(se),V.bindFramebuffer(V.FRAMEBUFFER,se),V.activeTexture(V.TEXTURE0+K),V.bindTexture(V.TEXTURE_2D,Ce),V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Ce,0);try{k(se)}finally{V.deleteFramebuffer(se),V.bindFramebuffer(V.FRAMEBUFFER,fe[--fe.length-1]||null)}},Qe=function(){re={},te={},Y={},ce=-1,fe.length=0};var Re=Ve,Ae=Be,ye=Ye,le=De,de=Ue,Ie=Qe,J=typeof WebGL2RenderingContext<"u"&&V instanceof WebGL2RenderingContext,re={},te={},Y={},ce=-1,fe=[];V.canvas.addEventListener("webglcontextlost",function(Ce){Qe(),Ce.preventDefault()},!1),l.set(V,G={gl:V,isWebGL2:J,getExtension:Ve,withProgram:Ye,withTexture:De,withTextureFramebuffer:Ue,handleContextLoss:Qe})}H(G)}function f(j,H,V,G,J,re,te,Y){te===void 0&&(te=15),Y===void 0&&(Y=null),c(j,function(ce){var fe=ce.gl,Re=ce.withProgram,Ae=ce.withTexture;Ae("copy",function(ye,le){fe.texImage2D(fe.TEXTURE_2D,0,fe.RGBA,J,re,0,fe.RGBA,fe.UNSIGNED_BYTE,H),Re("copy",o,a,function(de){var Ie=de.setUniform,Ve=de.setAttribute;Ve("aUV",2,fe.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ie("1i","image",le),fe.bindFramebuffer(fe.FRAMEBUFFER,Y||null),fe.disable(fe.BLEND),fe.colorMask(te&8,te&4,te&2,te&1),fe.viewport(V,G,J,re),fe.scissor(V,G,J,re),fe.drawArrays(fe.TRIANGLES,0,3)})})})}function d(j,H,V){var G=j.width,J=j.height;c(j,function(re){var te=re.gl,Y=new Uint8Array(G*J*4);te.readPixels(0,0,G,J,te.RGBA,te.UNSIGNED_BYTE,Y),j.width=H,j.height=V,f(te,Y,0,0,G,J)})}var p=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function v(j,H,V,G,J,re){re===void 0&&(re=1);var te=new Uint8Array(j*H),Y=G[2]-G[0],ce=G[3]-G[1],fe=[];s(V,function(Ve,Be,Ye,De){fe.push({x1:Ve,y1:Be,x2:Ye,y2:De,minX:Math.min(Ve,Ye),minY:Math.min(Be,De),maxX:Math.max(Ve,Ye),maxY:Math.max(Be,De)})}),fe.sort(function(Ve,Be){return Ve.maxX-Be.maxX});for(var Re=0;Re<j;Re++)for(var Ae=0;Ae<H;Ae++){var ye=de(G[0]+Y*(Re+.5)/j,G[1]+ce*(Ae+.5)/H),le=Math.pow(1-Math.abs(ye)/J,re)/2;ye<0&&(le=1-le),le=Math.max(0,Math.min(255,Math.round(le*255))),te[Ae*j+Re]=le}return te;function de(Ve,Be){for(var Ye=1/0,De=1/0,Ue=fe.length;Ue--;){var Qe=fe[Ue];if(Qe.maxX+De<=Ve)break;if(Ve+De>Qe.minX&&Be-De<Qe.maxY&&Be+De>Qe.minY){var Ce=_(Ve,Be,Qe.x1,Qe.y1,Qe.x2,Qe.y2);Ce<Ye&&(Ye=Ce,De=Math.sqrt(Ye))}}return Ie(Ve,Be)&&(De=-De),De}function Ie(Ve,Be){for(var Ye=0,De=fe.length;De--;){var Ue=fe[De];if(Ue.maxX<=Ve)break;var Qe=Ue.y1>Be!=Ue.y2>Be&&Ve<(Ue.x2-Ue.x1)*(Be-Ue.y1)/(Ue.y2-Ue.y1)+Ue.x1;Qe&&(Ye+=Ue.y1<Ue.y2?1:-1)}return Ye!==0}}function g(j,H,V,G,J,re,te,Y,ce,fe){re===void 0&&(re=1),Y===void 0&&(Y=0),ce===void 0&&(ce=0),fe===void 0&&(fe=0),y(j,H,V,G,J,re,te,null,Y,ce,fe)}function y(j,H,V,G,J,re,te,Y,ce,fe,Re){re===void 0&&(re=1),ce===void 0&&(ce=0),fe===void 0&&(fe=0),Re===void 0&&(Re=0);for(var Ae=v(j,H,V,G,J,re),ye=new Uint8Array(Ae.length*4),le=0;le<Ae.length;le++)ye[le*4+Re]=Ae[le];f(te,ye,ce,fe,j,H,1<<3-Re,Y)}function _(j,H,V,G,J,re){var te=J-V,Y=re-G,ce=te*te+Y*Y,fe=ce?Math.max(0,Math.min(1,((j-V)*te+(H-G)*Y)/ce)):0,Re=j-(V+fe*te),Ae=H-(G+fe*Y);return Re*Re+Ae*Ae}var x=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:g,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),T=null,M=!1,P={},D=new WeakMap;function F(j){if(!M&&!$(j))throw new Error("WebGL generation not supported")}function O(j,H,V,G,J,re,te){if(re===void 0&&(re=1),te===void 0&&(te=null),!te&&(te=T,!te)){var Y=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Y)throw new Error("OffscreenCanvas or DOM canvas not supported");te=T=Y.getContext("webgl",{depth:!1})}F(te);var ce=new Uint8Array(j*H*4);c(te,function(ye){var le=ye.gl,de=ye.withTexture,Ie=ye.withTextureFramebuffer;de("readable",function(Ve,Be){le.texImage2D(le.TEXTURE_2D,0,le.RGBA,j,H,0,le.RGBA,le.UNSIGNED_BYTE,null),Ie(Ve,Be,function(Ye){N(j,H,V,G,J,re,le,Ye,0,0,0),le.readPixels(0,0,j,H,le.RGBA,le.UNSIGNED_BYTE,ce)})})});for(var fe=new Uint8Array(j*H),Re=0,Ae=0;Re<ce.length;Re+=4)fe[Ae++]=ce[Re];return fe}function U(j,H,V,G,J,re,te,Y,ce,fe){re===void 0&&(re=1),Y===void 0&&(Y=0),ce===void 0&&(ce=0),fe===void 0&&(fe=0),N(j,H,V,G,J,re,te,null,Y,ce,fe)}function N(j,H,V,G,J,re,te,Y,ce,fe,Re){re===void 0&&(re=1),ce===void 0&&(ce=0),fe===void 0&&(fe=0),Re===void 0&&(Re=0),F(te);var Ae=[];s(V,function(ye,le,de,Ie){Ae.push(ye,le,de,Ie)}),Ae=new Float32Array(Ae),c(te,function(ye){var le=ye.gl,de=ye.isWebGL2,Ie=ye.getExtension,Ve=ye.withProgram,Be=ye.withTexture,Ye=ye.withTextureFramebuffer,De=ye.handleContextLoss;if(Be("rawDistances",function(Ue,Qe){(j!==Ue._lastWidth||H!==Ue._lastHeight)&&le.texImage2D(le.TEXTURE_2D,0,le.RGBA,Ue._lastWidth=j,Ue._lastHeight=H,0,le.RGBA,le.UNSIGNED_BYTE,null),Ve("main",w,A,function(Ce){var K=Ce.setAttribute,k=Ce.setUniform,se=!de&&Ie("ANGLE_instanced_arrays"),me=!de&&Ie("EXT_blend_minmax");K("aUV",2,le.STATIC_DRAW,0,E),K("aLineSegment",4,le.DYNAMIC_DRAW,1,Ae),k.apply(void 0,["4f","uGlyphBounds"].concat(G)),k("1f","uMaxDistance",J),k("1f","uExponent",re),Ye(Ue,Qe,function(Oe){le.enable(le.BLEND),le.colorMask(!0,!0,!0,!0),le.viewport(0,0,j,H),le.scissor(0,0,j,H),le.blendFunc(le.ONE,le.ONE),le.blendEquationSeparate(le.FUNC_ADD,de?le.MAX:me.MAX_EXT),le.clear(le.COLOR_BUFFER_BIT),de?le.drawArraysInstanced(le.TRIANGLES,0,3,Ae.length/4):se.drawArraysInstancedANGLE(le.TRIANGLES,0,3,Ae.length/4)})}),Ve("post",o,b,function(Ce){Ce.setAttribute("aUV",2,le.STATIC_DRAW,0,E),Ce.setUniform("1i","tex",Qe),le.bindFramebuffer(le.FRAMEBUFFER,Y),le.disable(le.BLEND),le.colorMask(Re===0,Re===1,Re===2,Re===3),le.viewport(ce,fe,j,H),le.scissor(ce,fe,j,H),le.drawArrays(le.TRIANGLES,0,3)})}),le.isContextLost())throw De(),new Error("webgl context lost")})}function $(j){var H=!j||j===T?P:j.canvas||j,V=D.get(H);if(V===void 0){M=!0;var G=null;try{var J=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=O(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);V=re&&J.length===re.length&&re.every(function(te,Y){return te===J[Y]}),V||(G="bad trial run results",console.info(J,re))}catch(te){V=!1,G=te.message}G&&console.warn("WebGL SDF generation not supported:",G),M=!1,D.set(H,V)}return V}var X=Object.freeze({__proto__:null,generate:O,generateIntoCanvas:U,generateIntoFramebuffer:N,isSupported:$});function q(j,H,V,G,J,re){J===void 0&&(J=Math.max(G[2]-G[0],G[3]-G[1])/2),re===void 0&&(re=1);try{return O.apply(X,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),v.apply(x,arguments)}}function z(j,H,V,G,J,re,te,Y,ce,fe){J===void 0&&(J=Math.max(G[2]-G[0],G[3]-G[1])/2),re===void 0&&(re=1),Y===void 0&&(Y=0),ce===void 0&&(ce=0),fe===void 0&&(fe=0);try{return U.apply(X,arguments)}catch(Re){return console.info("WebGL SDF generation failed, falling back to JS",Re),g.apply(x,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=z,e.javascript=x,e.pathToLineSegments=s,e.webgl=X,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function Mse(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(De,Ue){r[De]=1<<Ue+1,i[r[De]]=De}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var De=function(Qe){if(t.hasOwnProperty(Qe)){var Ce=0;t[Qe].split(",").forEach(function(K){var k=K.split("+"),se=k[0],me=k[1];se=parseInt(se,36),me=me?parseInt(me,36):0,c.set(Ce+=se,r[Qe]);for(var Oe=0;Oe<me;Oe++)c.set(++Ce,r[Qe])})}};for(var Ue in t)De(Ue)}}function d(De){return f(),c.get(De.codePointAt(0))||r.L}function p(De){return i[d(De)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(De,Ue){var Qe=36,Ce=0,K=new Map,k=Ue&&new Map,se;return De.split(",").forEach(function me(Oe){if(Oe.indexOf("+")!==-1)for(var Me=+Oe;Me--;)me(se);else{se=Oe;var Ke=Oe.split(">"),Fe=Ke[0],Ee=Ke[1];Fe=String.fromCodePoint(Ce+=parseInt(Fe,Qe)),Ee=String.fromCodePoint(Ce+=parseInt(Ee,Qe)),K.set(Fe,Ee),Ue&&k.set(Ee,Fe)}}),{map:K,reverseMap:k}}var y,_,x;function w(){if(!y){var De=g(v.pairs,!0),Ue=De.map,Qe=De.reverseMap;y=Ue,_=Qe,x=g(v.canonical,!1).map}}function A(De){return w(),y.get(De)||null}function b(De){return w(),_.get(De)||null}function E(De){return w(),x.get(De)||null}var T=r.L,M=r.R,P=r.EN,D=r.ES,F=r.ET,O=r.AN,U=r.CS,N=r.B,$=r.S,X=r.ON,q=r.BN,z=r.NSM,j=r.AL,H=r.LRO,V=r.RLO,G=r.LRE,J=r.RLE,re=r.PDF,te=r.LRI,Y=r.RLI,ce=r.FSI,fe=r.PDI;function Re(De,Ue){for(var Qe=125,Ce=new Uint32Array(De.length),K=0;K<De.length;K++)Ce[K]=d(De[K]);var k=new Map;function se(Ur,Ri){var dr=Ce[Ur];Ce[Ur]=Ri,k.set(dr,k.get(dr)-1),dr&a&&k.set(a,k.get(a)-1),k.set(Ri,(k.get(Ri)||0)+1),Ri&a&&k.set(a,(k.get(a)||0)+1)}for(var me=new Uint8Array(De.length),Oe=new Map,Me=[],Ke=null,Fe=0;Fe<De.length;Fe++)Ke||Me.push(Ke={start:Fe,end:De.length-1,level:Ue==="rtl"?1:Ue==="ltr"?0:qf(Fe,!1)}),Ce[Fe]&N&&(Ke.end=Fe,Ke=null);for(var Ee=J|G|V|H|s|fe|re|N,tt=function(Ur){return Ur+(Ur&1?1:2)},at=function(Ur){return Ur+(Ur&1?2:1)},Je=0;Je<Me.length;Je++){Ke=Me[Je];var Xe=[{_level:Ke.level,_override:0,_isolate:0}],je=void 0,oe=0,Pe=0,Ze=0;k.clear();for(var ae=Ke.start;ae<=Ke.end;ae++){var ne=Ce[ae];if(je=Xe[Xe.length-1],k.set(ne,(k.get(ne)||0)+1),ne&a&&k.set(a,(k.get(a)||0)+1),ne&Ee)if(ne&(J|G)){me[ae]=je._level;var Le=(ne===J?at:tt)(je._level);Le<=Qe&&!oe&&!Pe?Xe.push({_level:Le,_override:0,_isolate:0}):oe||Pe++}else if(ne&(V|H)){me[ae]=je._level;var st=(ne===V?at:tt)(je._level);st<=Qe&&!oe&&!Pe?Xe.push({_level:st,_override:ne&V?M:T,_isolate:0}):oe||Pe++}else if(ne&s){ne&ce&&(ne=qf(ae+1,!0)===1?Y:te),me[ae]=je._level,je._override&&se(ae,je._override);var it=(ne===Y?at:tt)(je._level);it<=Qe&&oe===0&&Pe===0?(Ze++,Xe.push({_level:it,_override:0,_isolate:1,_isolInitIndex:ae})):oe++}else if(ne&fe){if(oe>0)oe--;else if(Ze>0){for(Pe=0;!Xe[Xe.length-1]._isolate;)Xe.pop();var dt=Xe[Xe.length-1]._isolInitIndex;dt!=null&&(Oe.set(dt,ae),Oe.set(ae,dt)),Xe.pop(),Ze--}je=Xe[Xe.length-1],me[ae]=je._level,je._override&&se(ae,je._override)}else ne&re?(oe===0&&(Pe>0?Pe--:!je._isolate&&Xe.length>1&&(Xe.pop(),je=Xe[Xe.length-1])),me[ae]=je._level):ne&N&&(me[ae]=Ke.level);else me[ae]=je._level,je._override&&ne!==q&&se(ae,je._override)}for(var Tt=[],Ct=null,St=Ke.start;St<=Ke.end;St++){var At=Ce[St];if(!(At&l)){var tn=me[St],Qt=At&s,bn=At===fe;Ct&&tn===Ct._level?(Ct._end=St,Ct._endsWithIsolInit=Qt):Tt.push(Ct={_start:St,_end:St,_level:tn,_startsWithPDI:bn,_endsWithIsolInit:Qt})}}for(var qr=[],Fr=0;Fr<Tt.length;Fr++){var ei=Tt[Fr];if(!ei._startsWithPDI||ei._startsWithPDI&&!Oe.has(ei._start)){for(var Z=[Ct=ei],Se=void 0;Ct&&Ct._endsWithIsolInit&&(Se=Oe.get(Ct._end))!=null;)for(var we=Fr+1;we<Tt.length;we++)if(Tt[we]._start===Se){Z.push(Ct=Tt[we]);break}for(var ge=[],ze=0;ze<Z.length;ze++)for(var L=Z[ze],W=L._start;W<=L._end;W++)ge.push(W);for(var ie=me[ge[0]],he=Ke.level,_e=ge[0]-1;_e>=0;_e--)if(!(Ce[_e]&l)){he=me[_e];break}var xe=ge[ge.length-1],He=me[xe],$e=Ke.level;if(!(Ce[xe]&s)){for(var qe=xe+1;qe<=Ke.end;qe++)if(!(Ce[qe]&l)){$e=me[qe];break}}qr.push({_seqIndices:ge,_sosType:Math.max(he,ie)%2?M:T,_eosType:Math.max($e,He)%2?M:T})}}for(var et=0;et<qr.length;et++){var nt=qr[et],be=nt._seqIndices,mt=nt._sosType,gt=nt._eosType,lt=me[be[0]]&1?M:T;if(k.get(z))for(var Mt=0;Mt<be.length;Mt++){var kt=be[Mt];if(Ce[kt]&z){for(var Nt=mt,Ut=Mt-1;Ut>=0;Ut--)if(!(Ce[be[Ut]]&l)){Nt=Ce[be[Ut]];break}se(kt,Nt&(s|fe)?X:Nt)}}if(k.get(P))for(var vt=0;vt<be.length;vt++){var Pt=be[vt];if(Ce[Pt]&P)for(var zt=vt-1;zt>=-1;zt--){var Gt=zt===-1?mt:Ce[be[zt]];if(Gt&o){Gt===j&&se(Pt,O);break}}}if(k.get(j))for(var Ot=0;Ot<be.length;Ot++){var pn=be[Ot];Ce[pn]&j&&se(pn,M)}if(k.get(D)||k.get(U))for(var Rn=1;Rn<be.length-1;Rn++){var Nn=be[Rn];if(Ce[Nn]&(D|U)){for(var Un=0,on=0,jn=Rn-1;jn>=0&&(Un=Ce[be[jn]],!!(Un&l));jn--);for(var un=Rn+1;un<be.length&&(on=Ce[be[un]],!!(on&l));un++);Un===on&&(Ce[Nn]===D?Un===P:Un&(P|O))&&se(Nn,Un)}}if(k.get(P))for(var Vt=0;Vt<be.length;Vt++){var Mn=be[Vt];if(Ce[Mn]&P){for(var Wi=Vt-1;Wi>=0&&Ce[be[Wi]]&(F|l);Wi--)se(be[Wi],P);for(Vt++;Vt<be.length&&Ce[be[Vt]]&(F|l|P);Vt++)Ce[be[Vt]]!==P&&se(be[Vt],P)}}if(k.get(F)||k.get(D)||k.get(U))for(var fr=0;fr<be.length;fr++){var ls=be[fr];if(Ce[ls]&(F|D|U)){se(ls,X);for(var Da=fr-1;Da>=0&&Ce[be[Da]]&l;Da--)se(be[Da],X);for(var Ba=fr+1;Ba<be.length&&Ce[be[Ba]]&l;Ba++)se(be[Ba],X)}}if(k.get(P))for(var La=0,rc=mt;La<be.length;La++){var gv=be[La],Rp=Ce[gv];Rp&P?rc===T&&se(gv,T):Rp&o&&(rc=Rp)}if(k.get(a)){var ka=M|P|O,Yf=ka|T,ea=[];{for(var Ol=[],ta=0;ta<be.length;ta++)if(Ce[be[ta]]&a){var Zt=De[be[ta]],Ip=void 0;if(A(Zt)!==null)if(Ol.length<63)Ol.push({char:Zt,seqIndex:ta});else break;else if((Ip=b(Zt))!==null)for(var Oa=Ol.length-1;Oa>=0;Oa--){var Qf=Ol[Oa].char;if(Qf===Ip||Qf===b(E(Zt))||A(E(Qf))===Zt){ea.push([Ol[Oa].seqIndex,ta]),Ol.length=Oa;break}}}ea.sort(function(Ur,Ri){return Ur[0]-Ri[0]})}for(var Dp=0;Dp<ea.length;Dp++){for(var vv=ea[Dp],$n=vv[0],ic=vv[1],yv=!1,Ci=0,Bp=$n+1;Bp<ic;Bp++){var sc=be[Bp];if(Ce[sc]&Yf){yv=!0;var us=Ce[sc]&ka?M:T;if(us===lt){Ci=us;break}}}if(yv&&!Ci){Ci=mt;for(var Lp=$n-1;Lp>=0;Lp--){var _v=be[Lp];if(Ce[_v]&Yf){var cs=Ce[_v]&ka?M:T;cs!==lt?Ci=cs:Ci=lt;break}}}if(Ci){if(Ce[be[$n]]=Ce[be[ic]]=Ci,Ci!==lt){for(var Ti=$n+1;Ti<be.length;Ti++)if(!(Ce[be[Ti]]&l)){d(De[be[Ti]])&z&&(Ce[be[Ti]]=Ci);break}}if(Ci!==lt){for(var na=ic+1;na<be.length;na++)if(!(Ce[be[na]]&l)){d(De[be[na]])&z&&(Ce[be[na]]=Ci);break}}}}for(var Us=0;Us<be.length;Us++)if(Ce[be[Us]]&a){for(var kp=Us,Op=Us,ji=mt,oc=Us-1;oc>=0;oc--)if(Ce[be[oc]]&l)kp=oc;else{ji=Ce[be[oc]]&ka?M:T;break}for(var ac=gt,lc=Us+1;lc<be.length;lc++)if(Ce[be[lc]]&(a|l))Op=lc;else{ac=Ce[be[lc]]&ka?M:T;break}for(var Pi=kp;Pi<=Op;Pi++)Ce[be[Pi]]=ji===ac?ji:lt;Us=Op}}}for(var Nr=Ke.start;Nr<=Ke.end;Nr++){var Zf=me[Nr],wo=Ce[Nr];if(Zf&1?wo&(T|P|O)&&me[Nr]++:wo&M?me[Nr]++:wo&(O|P)&&(me[Nr]+=2),wo&l&&(me[Nr]=Nr===0?Ke.level:me[Nr-1]),Nr===Ke.end||d(De[Nr])&($|N))for(var Fl=Nr;Fl>=0&&d(De[Fl])&u;Fl--)me[Fl]=Ke.level}}return{levels:me,paragraphs:Me};function qf(Ur,Ri){for(var dr=Ur;dr<De.length;dr++){var hr=Ce[dr];if(hr&(M|j))return 1;if(hr&(N|T)||Ri&&hr===fe)return 0;if(hr&s){var fs=xv(dr);dr=fs===-1?De.length:fs}}return 0}function xv(Ur){for(var Ri=1,dr=Ur+1;dr<De.length;dr++){var hr=Ce[dr];if(hr&N)break;if(hr&fe){if(--Ri===0)return dr}else hr&s&&Ri++}return-1}}var Ae="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ye;function le(){if(!ye){var De=g(Ae,!0),Ue=De.map,Qe=De.reverseMap;Qe.forEach(function(Ce,K){Ue.set(K,Ce)}),ye=Ue}}function de(De){return le(),ye.get(De)||null}function Ie(De,Ue,Qe,Ce){var K=De.length;Qe=Math.max(0,Qe==null?0:+Qe),Ce=Math.min(K-1,Ce==null?K-1:+Ce);for(var k=new Map,se=Qe;se<=Ce;se++)if(Ue[se]&1){var me=de(De[se]);me!==null&&k.set(se,me)}return k}function Ve(De,Ue,Qe,Ce){var K=De.length;Qe=Math.max(0,Qe==null?0:+Qe),Ce=Math.min(K-1,Ce==null?K-1:+Ce);var k=[];return Ue.paragraphs.forEach(function(se){var me=Math.max(Qe,se.start),Oe=Math.min(Ce,se.end);if(me<Oe){for(var Me=Ue.levels.slice(me,Oe+1),Ke=Oe;Ke>=me&&d(De[Ke])&u;Ke--)Me[Ke]=se.level;for(var Fe=se.level,Ee=1/0,tt=0;tt<Me.length;tt++){var at=Me[tt];at>Fe&&(Fe=at),at<Ee&&(Ee=at|1)}for(var Je=Fe;Je>=Ee;Je--)for(var Xe=0;Xe<Me.length;Xe++)if(Me[Xe]>=Je){for(var je=Xe;Xe+1<Me.length&&Me[Xe+1]>=Je;)Xe++;Xe>je&&k.push([je+me,Xe+me])}}}),k}function Be(De,Ue,Qe,Ce){var K=Ye(De,Ue,Qe,Ce),k=[].concat(De);return K.forEach(function(se,me){k[me]=(Ue.levels[se]&1?de(De[se]):null)||De[se]}),k.join("")}function Ye(De,Ue,Qe,Ce){for(var K=Ve(De,Ue,Qe,Ce),k=[],se=0;se<De.length;se++)k[se]=se;return K.forEach(function(me){for(var Oe=me[0],Me=me[1],Ke=k.slice(Oe,Me+1),Fe=Ke.length;Fe--;)k[Me-Fe]=Ke[Fe]}),k}return e.closingToOpeningBracket=b,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=E,e.getEmbeddingLevels=Re,e.getMirroredCharacter=de,e.getMirroredCharactersMap=Ie,e.getReorderSegments=Ve,e.getReorderedIndices=Ye,e.getReorderedString=Be,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const g6=/\bvoid\s+main\s*\(\s*\)\s*{/g;function tC(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=$t[i];return s?tC(s):r}return n.replace(e,t)}const ni=[];for(let n=0;n<256;n++)ni[n]=(n<16?"0":"")+n.toString(16);function Ese(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ni[n&255]+ni[n>>8&255]+ni[n>>16&255]+ni[n>>24&255]+"-"+ni[e&255]+ni[e>>8&255]+"-"+ni[e>>16&15|64]+ni[e>>24&255]+"-"+ni[t&63|128]+ni[t>>8&255]+"-"+ni[t>>16&255]+ni[t>>24&255]+ni[r&255]+ni[r>>8&255]+ni[r>>16&255]+ni[r>>24&255]).toUpperCase()}const Cc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Cse=Date.now(),_k=new WeakMap,xk=new Map;let Tse=1e10;function nC(n,e){const t=Dse(e);let r=_k.get(n);if(r||_k.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(u,c){n.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let d=xk[f];if(!d){const p=Pse(this,u,e,t);d=xk[f]=p}u.vertexShader=d.vertexShader,u.fragmentShader=d.fragmentShader,Cc(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Cse}}),this[i]&&this[i](u)},o=function(){return a(e.chained?n:n.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:n}),Object.defineProperty(c,"id",{value:Tse++}),c.uuid=Ese(),c.uniforms=Cc({},u.uniforms,e.uniforms),c.defines=Cc({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",c.extensions=Cc({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:u=>{n.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return n.copy.call(this,u),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Cc(this.extensions,u.extensions),Cc(this.defines,u.defines),Cc(this.uniforms,C2.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new n.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=nC(n.isDerivedMaterial?n.getDepthMaterial():new nw({depthPacking:w2}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=nC(n.isDerivedMaterial?n.getDistanceMaterial():new rw,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function Pse(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:v}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||p)&&(e=tC(e)),(d||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=tC(t)),p){let g=p({vertexShader:e,fragmentShader:t});e=g.vertexShader,t=g.fragmentShader}if(d){let g=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(g.push(y),"")),f=`${d}
${g.join(`
`)}
${f}`}if(v){const g=`
uniform float ${v};
`;s=g+s,u=g+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(g,y,_,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,_))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=wk(e,i,s,o,a),t=wk(t,i,u,c,f),{vertexShader:e,fragmentShader:t}}function wk(n,e,t,r,i){return(r||i||t)&&(n=n.replace(g6,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function Rse(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Ise=0;const Sk=new Map;function Dse(n){const e=JSON.stringify(n,Rse);let t=Sk.get(e);return t==null&&Sk.set(e,t=++Ise),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Bse(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var v=o.readUint(i,s);s+=4;var g=o.readUint(i,s);s+=4,f[p]={offset:v,length:g}}for(d=0;d<u.length;d++){var y=u[d];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var d=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var d=u.readUshort(i,s);s+=2;var p=u.readUshort(i,s);s+=2;var v=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+d),c.featureList=e._lctf.readFeatureList(i,f+p),c.lookupList=e._lctf.readLookupList(i,f+v,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,o);u.push(p)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,d=0;d<c;d++){var p=a.readUshort(i,s);s+=2;var v=o(i,f,l+p,u);u.tabs.push(v)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,a+u));var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(c=0;c<f.length-1;c++)d.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var p=d[0],v=[];s=e.CFF.readIndex(i,s,v);var g=[];for(c=0;c<v.length-1;c++)g.push(a.readASCII(i,s+v[c],v[c+1]-v[c]));if(s+=v[v.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,v=[],s=e.CFF.readIndex(i,s,v);var y=[];for(c=0;c<v.length-1;c++)y.push(a.readBytes(i,s+v[c],v[c+1]-v[c]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var _=[];for(s=e.CFF.readIndex(i,s,_),p.FDArray=[],c=0;c<_.length-1;c++){var x=e.CFF.readDict(i,s+_[c],s+_[c+1]);e.CFF._readFDict(i,x,g),p.FDArray.push(x)}s+=_[_.length-1],s=p.FDSelect,p.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var A=a.readUshort(i,s);for(s+=2,c=0;c<A+1;c++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,g),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(u==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),c=0;c<=d;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,d=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(d=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(d=l-139,c=1),247<=l&&l<=250&&(d=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(d=256*-(l-251)-u-108,c=2),l==255&&(d=a.readInt(i,s+1)/65535,c=5),o.val=d??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,v=null;c<=20&&(p=c,d=1),c==12&&(p=100*c+f,d=2),c!=19&&c!=20||(p=c,d=2),21<=c&&c<=27&&(p=c,d=1),c==28&&(v=l.readShort(i,s+1),d=3),29<=c&&c<=31&&(p=c,d=1),32<=c&&c<=246&&(v=c-139,d=1),247<=c&&c<=250&&(v=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(v=256*-(c-251)-f-108,d=2),c==255&&(v=l.readInt(i,s+1)/65535,d=5),u.push(v??"o"+p),s+=d}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,v=null;if(c==28&&(v=a.readShort(i,s+1),d=3),c==29&&(v=a.readInt(i,s+1),d=5),32<=c&&c<=246&&(v=c-139,d=1),247<=c&&c<=250&&(v=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(v=256*-(c-251)-f-108,d=2),c==255)throw v=a.readInt(i,s+1)/65535,d=5,"unknown number";if(c==30){var g=[];for(d=1;;){var y=i[s+d];d++;var _=y>>4,x=15&y;if(_!=15&&g.push(_),x!=15&&g.push(x),x==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<g.length;b++)w+=A[g[b]];v=parseFloat(w)}c<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],d=1,c==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=u.length==1?u[0]:u,u=[]):u.push(v),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var v=a.readUint(i,s);s+=4;var g="p"+d+"e"+p,y=c.indexOf(v);if(y==-1){var _;y=l.tables.length,c.push(v);var x=a.readUshort(i,v);x==0?_=e.cmap.parse0(i,v):x==4?_=e.cmap.parse4(i,v):x==6?_=e.cmap.parse6(i,v):x==12?_=e.cmap.parse12(i,v):console.debug("unknown format: "+x,d,p,v),l.tables.push(_)}if(l[g]!=null)throw"multiple tables for one platform+encoding";l[g]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),d=o.readUint(i,c+4),p=o.readUint(i,c+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var d=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<d;c++){var p=a[l];if(l++,u.flags.push(p),(8&p)!=0){var v=a[l];l++;for(var g=0;g<v;g++)u.flags.push(p),c++}}for(u.xs=[],c=0;c<d;c++){var y=(2&u.flags[c])!=0,_=(16&u.flags[c])!=0;y?(u.xs.push(_?a[l]:-a[l]),l++):_?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<d;c++)y=(4&u.flags[c])!=0,_=(32&u.flags[c])!=0,y?(u.ys.push(_?a[l]:-a[l]),l++):_?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var x=0,w=0;for(c=0;c<d;c++)x+=u.xs[c],w+=u.ys[c],u.xs[c]=x,u.ys[c]=w}else{var A;u.parts=[];do{A=o.readUshort(a,l),l+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(b),b.glyphIndex=o.readUshort(a,l),l+=2,1&A){var E=o.readShort(a,l);l+=2;var T=o.readShort(a,l);l+=2}else E=o.readInt8(a,l),l++,T=o.readInt8(a,l),l++;2&A?(b.m.tx=E,b.m.ty=T):(b.p1=E,b.p2=T),8&A?(b.m.a=b.m.d=o.readF2dot14(a,l),l+=2):64&A?(b.m.a=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2):128&A&&(b.m.a=o.readF2dot14(a,l),l+=2,b.m.b=o.readF2dot14(a,l),l+=2,b.m.c=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2)}while(32&A);if(256&A){var M=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<M;c++)u.instr.push(a[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var u=e._bin.readUshort(i,s);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var d=l.readUshort(i,o);o+=2,d!=0&&(c.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&c.fmt>=1&&c.fmt<=2){d=l.readUshort(i,o),o+=2;var p=l.readUshort(i,o);o+=2;var v=e._lctf.numOfOnes(d),g=e._lctf.numOfOnes(p);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var _=0;_<y;_++){var x=u+l.readUshort(i,o);o+=2;var w=l.readUshort(i,x);x+=2;for(var A=[],b=0;b<w;b++){var E=l.readUshort(i,x);x+=2,d!=0&&(O=e.GPOS.readValueRecord(i,x,d),x+=2*v),p!=0&&(U=e.GPOS.readValueRecord(i,x,p),x+=2*g),A.push({gid2:E,val1:O,val2:U})}c.pairsets.push(A)}}if(c.fmt==2){var T=l.readUshort(i,o);o+=2;var M=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+T),c.classDef2=e._lctf.readClassDef(i,u+M),c.matrix=[],_=0;_<P;_++){var F=[];for(b=0;b<D;b++){var O=null,U=null;d!=0&&(O=e.GPOS.readValueRecord(i,o,d),o+=2*v),p!=0&&(U=e.GPOS.readValueRecord(i,o,p),o+=2*g),F.push({val1:O,val2:U})}c.matrix.push(F)}}}else if(s==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else if(s==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else{if(s==9&&c.fmt==1){var N=l.readUshort(i,o);o+=2;var $=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=N;else if(a.ltype!=N)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+$)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],u=s,c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){for(var d=[],p=0;p<o;p++)d.push(e.GPOS.readAnchorRecord(i,u+a.readUshort(i,s))),s+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);f.markClass=o.readUshort(i,s),a.push(f),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var d=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,d),o+=2*c.newg.length}}else if(s==2&&c.fmt==1){d=l.readUshort(i,o),o+=2,c.seqs=[];for(var p=0;p<d;p++){var v=l.readUshort(i,o)+u;o+=2;var g=l.readUshort(i,v);c.seqs.push(l.readUshorts(i,v+2,g))}}else if(s==4)for(c.vals=[],d=l.readUshort(i,o),o+=2,p=0;p<d;p++){var y=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+y))}else if(s==5&&c.fmt==2){if(c.fmt==2){var _=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+_),c.scset=[];var x=l.readUshort(i,o);for(o+=2,p=0;p<x;p++){var w=l.readUshort(i,o);o+=2,c.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,o),o+=2;for(var A=[],b=0;b<d;b++)A.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*b)));o+=2*d,p==0&&(c.backCvg=A),p==1&&(c.inptCvg=A),p==2&&(c.ahedCvg=A)}d=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&c.fmt==1){var E=l.readUshort(i,o);o+=2;var T=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=E;else if(a.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+T)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<c;d++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var v=p>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(d),v.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var d=0;d<f;d++)u.push(l.readUshort(i,s+(d<<1))<<1);if(c==1)for(d=0;d<f;d++)u.push(l.readUint(i,s+(d<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<u;p++){var v=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var A,b=f[_],E=d+12*u+w;if(v==0)A=a.readUnicode(i,E,x/2);else if(v==3&&g==0)A=a.readUnicode(i,E,x/2);else if(g==0)A=a.readASCII(i,E,x);else if(g==1)A=a.readUnicode(i,E,x/2);else if(g==3)A=a.readUnicode(i,E,x/2);else{if(v!=1)throw"unknown encoding "+g+", platformID: "+v;A=a.readASCII(i,E,x),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var T="p"+v+","+y.toString(16);l[T]==null&&(l[T]={}),l[T][b!==void 0?b:_]=A,l[T]._lang=y}for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==1033)return l[M];for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==0)return l[M];for(var M in l)if(l[M].postScriptName!=null&&l[M]._lang==3084)return l[M];for(var M in l)if(l[M].postScriptName!=null)return l[M];for(var M in l){c=M;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,d=1&i.flags[u],p=1&i.flags[c],v=1&i.flags[f],g=i.xs[u],y=i.ys[u];if(u==a)if(d){if(!p){e.U.P.moveTo(s,g,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else p?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+g)/2,(i.ys[c]+y)/2);d?p&&e.U.P.lineTo(s,g,y):v?e.U.P.qcurveTo(s,g,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,g,y,(g+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*c.a+p*c.b+c.tx),o.crds.push(d*c.c+p*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var d=f.vals[c],p=0;p<d.length;p++){var v=d[p],g=v.chain.length;if(!(g>l)){for(var y=!0,_=0,x=0;x<g;x++){for(;i[s+_+(1+x)]==-1;)_++;v.chain[x]!=i[s+_+(1+x)]&&(y=!1)}if(y){for(i[s]=v.nglyph,x=0;x<g+_;x++)i[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),A=f.cDef[w+2],b=f.scset[A],E=0;E<b.length;E++){var T=b[E],M=T.input;if(!(M.length>l)){for(y=!0,x=0;x<M.length;x++){var P=e._lctf.getInterval(f.cDef,i[s+1+x]);if(w==-1&&f.cDef[P+2]!=M[x]){y=!1;break}}if(y){var D=T.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var F=f.lookupRec;for(E=0;E<F.length;E+=2){w=F[E];var O=a[F[E+1]];e.U._applySubs(i,s+w,O,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,d=e.U.glyphToPath(i,c),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,d=s.width,p=s.open,v=0,g=s.x,y=s.y,_=0,x=0,w=0,A=0,b=0,E=0,T=0,M=0,P=0,D=0,F={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,F);var O=F.val;if(v+=F.size,O=="o1"||O=="o18")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(O=="o3"||O=="o23")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(O=="o4")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,g,y),p=!0;else if(O=="o5")for(;u.length>0;)g+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,g,y);else if(O=="o6"||O=="o7")for(var U=u.length,N=O=="o6",$=0;$<U;$++){var X=u.shift();N?g+=X:y+=X,N=!N,e.U.P.lineTo(l,g,y)}else if(O=="o8"||O=="o24"){U=u.length;for(var q=0;q+6<=U;)_=g+u.shift(),x=y+u.shift(),w=_+u.shift(),A=x+u.shift(),g=w+u.shift(),y=A+u.shift(),e.U.P.curveTo(l,_,x,w,A,g,y),q+=6;O=="o24"&&(g+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,g,y))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(x=y,w=(_=g+u.shift())+u.shift(),D=A=x+u.shift(),E=A,M=y,g=(T=(b=(P=w+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,_,x,w,A,P,D),e.U.P.curveTo(l,b,E,T,M,g,y)),O=="o1235"&&(_=g+u.shift(),x=y+u.shift(),w=_+u.shift(),A=x+u.shift(),P=w+u.shift(),D=A+u.shift(),b=P+u.shift(),E=D+u.shift(),T=b+u.shift(),M=E+u.shift(),g=T+u.shift(),y=M+u.shift(),u.shift(),e.U.P.curveTo(l,_,x,w,A,P,D),e.U.P.curveTo(l,b,E,T,M,g,y)),O=="o1236"&&(_=g+u.shift(),x=y+u.shift(),w=_+u.shift(),D=A=x+u.shift(),E=A,T=(b=(P=w+u.shift())+u.shift())+u.shift(),M=E+u.shift(),g=T+u.shift(),e.U.P.curveTo(l,_,x,w,A,P,D),e.U.P.curveTo(l,b,E,T,M,g,y)),O=="o1237"&&(_=g+u.shift(),x=y+u.shift(),w=_+u.shift(),A=x+u.shift(),P=w+u.shift(),D=A+u.shift(),b=P+u.shift(),E=D+u.shift(),T=b+u.shift(),M=E+u.shift(),Math.abs(T-g)>Math.abs(M-y)?g=T+u.shift():y=M+u.shift(),e.U.P.curveTo(l,_,x,w,A,P,D),e.U.P.curveTo(l,b,E,T,M,g,y));else if(O=="o14"){if(u.length>0&&!f&&(d=u.shift()+o.nominalWidthX,f=!0),u.length==4){var z=u.shift(),j=u.shift(),H=u.shift(),V=u.shift(),G=e.CFF.glyphBySE(o,H),J=e.CFF.glyphBySE(o,V);e.U._drawCFF(o.CharStrings[G],s,o,a,l),s.x=z,s.y=j,e.U._drawCFF(o.CharStrings[J],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(O=="o19"||O=="o20")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,v+=c+7>>3;else if(O=="o21")u.length>2&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),g+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(O=="o22")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),g+=u.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(O=="o25"){for(;u.length>6;)g+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,g,y);_=g+u.shift(),x=y+u.shift(),w=_+u.shift(),A=x+u.shift(),g=w+u.shift(),y=A+u.shift(),e.U.P.curveTo(l,_,x,w,A,g,y)}else if(O=="o26")for(u.length%2&&(g+=u.shift());u.length>0;)_=g,x=y+u.shift(),g=w=_+u.shift(),y=(A=x+u.shift())+u.shift(),e.U.P.curveTo(l,_,x,w,A,g,y);else if(O=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)x=y,w=(_=g+u.shift())+u.shift(),A=x+u.shift(),g=w+u.shift(),y=A,e.U.P.curveTo(l,_,x,w,A,g,y);else if(O=="o10"||O=="o29"){var re=O=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var te=u.pop(),Y=re.Subrs[te+re.Bias];s.x=g,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(Y,s,o,a,l),g=s.x,y=s.y,c=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(O=="o30"||O=="o31"){var ce=u.length,fe=(q=0,O=="o31");for(q+=ce-(U=-3&ce);q<U;)fe?(x=y,w=(_=g+u.shift())+u.shift(),y=(A=x+u.shift())+u.shift(),U-q==5?(g=w+u.shift(),q++):g=w,fe=!1):(_=g,x=y+u.shift(),w=_+u.shift(),A=x+u.shift(),g=w+u.shift(),U-q==5?(y=A+u.shift(),q++):y=A,fe=!0),e.U.P.curveTo(l,_,x,w,A,g,y),q+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,i),O;u.push(O)}}}s.x=g,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Lse(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(O,U){for(var N=new t(31),$=0;$<31;++$)N[$]=U+=1<<O[$-1];var X=new r(N[30]);for($=1;$<30;++$)for(var q=N[$];q<N[$+1];++q)X[q]=q-N[$]<<5|$;return[N,X]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var v=(43690&p)>>>1|(21845&p)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,d[p]=((65280&v)>>>8|(255&v)<<8)>>>1}var g=function(O,U,N){for(var $=O.length,X=0,q=new t(U);X<$;++X)++q[O[X]-1];var z,j=new t(U);for(X=0;X<U;++X)j[X]=j[X-1]+q[X-1]<<1;{z=new t(1<<U);var H=15-U;for(X=0;X<$;++X)if(O[X])for(var V=X<<4|O[X],G=U-O[X],J=j[O[X]-1]++<<G,re=J|(1<<G)-1;J<=re;++J)z[d[J]>>>H]=V}return z},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var _=new e(32);for(p=0;p<32;++p)_[p]=5;var x=g(y,9),w=g(_,5),A=function(O){for(var U=O[0],N=1;N<O.length;++N)O[N]>U&&(U=O[N]);return U},b=function(O,U,N){var $=U/8|0;return(O[$]|O[$+1]<<8)>>(7&U)&N},E=function(O,U){var N=U/8|0;return(O[N]|O[N+1]<<8|O[N+2]<<16)>>(7&U)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function(O,U,N){var $=new Error(U||T[O]);if($.code=O,Error.captureStackTrace&&Error.captureStackTrace($,M),!N)throw $;return $},P=function(O,U,N){var $=O.length;if(!$||N&&!N.l&&$<5)return U||new e(0);var X=!U||N,q=!N||N.i;N||(N={}),U||(U=new e(3*$));var z,j=function(je){var oe=U.length;if(je>oe){var Pe=new e(Math.max(2*oe,je));Pe.set(U),U=Pe}},H=N.f||0,V=N.p||0,G=N.b||0,J=N.l,re=N.d,te=N.m,Y=N.n,ce=8*$;do{if(!J){N.f=H=b(O,V,1);var fe=b(O,V+1,3);if(V+=3,!fe){var Re=O[(Qe=((z=V)/8|0)+(7&z&&1)+4)-4]|O[Qe-3]<<8,Ae=Qe+Re;if(Ae>$){q&&M(0);break}X&&j(G+Re),U.set(O.subarray(Qe,Ae),G),N.b=G+=Re,N.p=V=8*Ae;continue}if(fe==1)J=x,re=w,te=9,Y=5;else if(fe==2){var ye=b(O,V,31)+257,le=b(O,V+10,15)+4,de=ye+b(O,V+5,31)+1;V+=14;for(var Ie=new e(de),Ve=new e(19),Be=0;Be<le;++Be)Ve[o[Be]]=b(O,V+3*Be,7);V+=3*le;var Ye=A(Ve),De=(1<<Ye)-1,Ue=g(Ve,Ye);for(Be=0;Be<de;){var Qe,Ce=Ue[b(O,V,De)];if(V+=15&Ce,(Qe=Ce>>>4)<16)Ie[Be++]=Qe;else{var K=0,k=0;for(Qe==16?(k=3+b(O,V,3),V+=2,K=Ie[Be-1]):Qe==17?(k=3+b(O,V,7),V+=3):Qe==18&&(k=11+b(O,V,127),V+=7);k--;)Ie[Be++]=K}}var se=Ie.subarray(0,ye),me=Ie.subarray(ye);te=A(se),Y=A(me),J=g(se,te),re=g(me,Y)}else M(1);if(V>ce){q&&M(0);break}}X&&j(G+131072);for(var Oe=(1<<te)-1,Me=(1<<Y)-1,Ke=V;;Ke=V){var Fe=(K=J[E(O,V)&Oe])>>>4;if((V+=15&K)>ce){q&&M(0);break}if(K||M(2),Fe<256)U[G++]=Fe;else{if(Fe==256){Ke=V,J=null;break}var Ee=Fe-254;if(Fe>264){var tt=i[Be=Fe-257];Ee=b(O,V,(1<<tt)-1)+u[Be],V+=tt}var at=re[E(O,V)&Me],Je=at>>>4;if(at||M(3),V+=15&at,me=f[Je],Je>3&&(tt=s[Je],me+=E(O,V)&(1<<tt)-1,V+=tt),V>ce){q&&M(0);break}X&&j(G+131072);for(var Xe=G+Ee;G<Xe;G+=4)U[G]=U[G-me],U[G+1]=U[G+1-me],U[G+2]=U[G+2-me],U[G+3]=U[G+3-me];G=Xe}}N.l=J,N.p=Ke,N.b=G,J&&(H=1,N.m=te,N.d=re,N.n=Y)}while(!H);return G==U.length?U:function(je,oe,Pe){(Pe==null||Pe>je.length)&&(Pe=je.length);var Ze=new(je instanceof t?t:je instanceof r?r:e)(Pe-oe);return Ze.set(je.subarray(oe,Pe)),Ze}(U,0,G)},D=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(D,{stream:!0})}catch{}return n.convert_streams=function(O){var U=new DataView(O),N=0;function $(){var ye=U.getUint16(N);return N+=2,ye}function X(){var ye=U.getUint32(N);return N+=4,ye}function q(ye){Re.setUint16(Ae,ye),Ae+=2}function z(ye){Re.setUint32(Ae,ye),Ae+=4}for(var j={signature:X(),flavor:X(),length:X(),numTables:$(),reserved:$(),totalSfntSize:X(),majorVersion:$(),minorVersion:$(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},H=0;Math.pow(2,H)<=j.numTables;)H++;H--;for(var V=16*Math.pow(2,H),G=16*j.numTables-V,J=12,re=[],te=0;te<j.numTables;te++)re.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),J+=16;var Y,ce=new Uint8Array(12+16*re.length+re.reduce(function(ye,le){return ye+le.origLength+4},0)),fe=ce.buffer,Re=new DataView(fe),Ae=0;return z(j.flavor),q(j.numTables),q(V),q(H),q(G),re.forEach(function(ye){z(ye.tag),z(ye.origChecksum),z(J),z(ye.origLength),ye.outOffset=J,(J+=ye.origLength)%4!=0&&(J+=4-J%4)}),re.forEach(function(ye){var le,de=O.slice(ye.offset,ye.offset+ye.compLength);if(ye.compLength!=ye.origLength){var Ie=new Uint8Array(ye.origLength);le=new Uint8Array(de,2),P(le,Ie)}else Ie=new Uint8Array(de);ce.set(Ie,ye.outOffset);var Ve=0;(J=ye.outOffset+ye.origLength)%4!=0&&(Ve=4-J%4),ce.set(new Uint8Array(Ve).buffer,ye.outOffset+ye.origLength),Y=J+Ve}),fe.slice(0,Y)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function kse(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(T){if(!c){const M={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let P in r){let D=0;r[P].split(",").forEach(F=>{let[O,U]=F.split("+");O=parseInt(O,36),U=U?parseInt(U,36):0,c.set(D+=O,M[P]);for(let N=U;N--;)c.set(++D,M[P])})}}return c.get(T)||u}const d=1,p=2,v=3,g=4,y=[null,"isol","init","fina","medi"];function _(T){const M=new Uint8Array(T.length);let P=u,D=d,F=-1;for(let O=0;O<T.length;O++){const U=T.codePointAt(O);let N=f(U)|0,$=d;N&a||(P&(i|o|l)?N&(s|o|l)?($=v,(D===d||D===v)&&M[F]++):N&(i|u)&&(D===p||D===g)&&M[F]--:P&(s|u)&&(D===p||D===g)&&M[F]--,D=M[O]=$,P=N,F=O,U>65535&&O++)}return M}function x(T,M){const P=[];for(let F=0;F<M.length;F++){const O=M.codePointAt(F);O>65535&&F++,P.push(n.U.codeToGlyph(T,O))}const D=T.GSUB;if(D){const{lookupList:F,featureList:O}=D;let U;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,$=[];O.forEach(X=>{if(N.test(X.tag))for(let q=0;q<X.tab.length;q++){if($[X.tab[q]])continue;$[X.tab[q]]=!0;const z=F[X.tab[q]],j=/^(isol|init|fina|medi)$/.test(X.tag);j&&!U&&(U=_(M));for(let H=0;H<P.length;H++)(!U||!j||y[U[H]]===X.tag)&&n.U._applySubs(P,H,z,F)}})}return P}function w(T,M){const P=new Int16Array(M.length*3);let D=0;for(;D<M.length;D++){const N=M[D];if(N===-1)continue;P[D*3+2]=T.hmtx.aWidth[N];const $=T.GPOS;if($){const X=$.lookupList;for(let q=0;q<X.length;q++){const z=X[q];for(let j=0;j<z.tabs.length;j++){const H=z.tabs[j];if(z.ltype===1){if(n._lctf.coverageIndex(H.coverage,N)!==-1&&H.pos){U(H.pos,D);break}}else if(z.ltype===2){let V=null,G=F();if(G!==-1){const J=n._lctf.coverageIndex(H.coverage,M[G]);if(J!==-1){if(H.fmt===1){const re=H.pairsets[J];for(let te=0;te<re.length;te++)re[te].gid2===N&&(V=re[te])}else if(H.fmt===2){const re=n.U._getGlyphClass(M[G],H.classDef1),te=n.U._getGlyphClass(N,H.classDef2);V=H.matrix[re][te]}if(V){V.val1&&U(V.val1,G),V.val2&&U(V.val2,D);break}}}}else if(z.ltype===4){const V=n._lctf.coverageIndex(H.markCoverage,N);if(V!==-1){const G=F(O),J=G===-1?-1:n._lctf.coverageIndex(H.baseCoverage,M[G]);if(J!==-1){const re=H.markArray[V],te=H.baseArray[J][re.markClass];P[D*3]=te.x-re.x+P[G*3]-P[G*3+2],P[D*3+1]=te.y-re.y+P[G*3+1];break}}}else if(z.ltype===6){const V=n._lctf.coverageIndex(H.mark1Coverage,N);if(V!==-1){const G=F();if(G!==-1){const J=M[G];if(A(T,J)===3){const re=n._lctf.coverageIndex(H.mark2Coverage,J);if(re!==-1){const te=H.mark1Array[V],Y=H.mark2Array[re][te.markClass];P[D*3]=Y.x-te.x+P[G*3]-P[G*3+2],P[D*3+1]=Y.y-te.y+P[G*3+1];break}}}}}}}}else if(T.kern&&!T.cff){const X=F();if(X!==-1){const q=T.kern.glyph1.indexOf(M[X]);if(q!==-1){const z=T.kern.rval[q].glyph2.indexOf(N);z!==-1&&(P[X*3+2]+=T.kern.rval[q].vals[z])}}}}return P;function F(N){for(let $=D-1;$>=0;$--)if(M[$]!==-1&&(!N||N(M[$])))return $;return-1}function O(N){return A(T,N)===1}function U(N,$){for(let X=0;X<3;X++)P[$*3+X]+=N[X]||0}}function A(T,M){const P=T.GDEF&&T.GDEF.glyphClassDef;return P?n.U._getGlyphClass(M,P):0}function b(...T){for(let M=0;M<T.length;M++)if(typeof T[M]=="number")return T[M]}function E(T){const M=Object.create(null),P=T["OS/2"],D=T.hhea,F=T.head.unitsPerEm,O=b(P&&P.sTypoAscender,D&&D.ascender,F),U={unitsPerEm:F,ascender:O,descender:b(P&&P.sTypoDescender,D&&D.descender,0),capHeight:b(P&&P.sCapHeight,O),xHeight:b(P&&P.sxHeight,O),lineGap:b(P&&P.sTypoLineGap,D&&D.lineGap),supportsCodePoint(N){return n.U.codeToGlyph(T,N)>0},forEachGlyph(N,$,X,q){let z=0;const j=1/U.unitsPerEm*$,H=x(T,N);let V=0;const G=w(T,H);return H.forEach((J,re)=>{if(J!==-1){let te=M[J];if(!te){const{cmds:Y,crds:ce}=n.U.glyphToPath(T,J);let fe="",Re=0;for(let Ie=0,Ve=Y.length;Ie<Ve;Ie++){const Be=t[Y[Ie]];fe+=Y[Ie];for(let Ye=1;Ye<=Be;Ye++)fe+=(Ye>1?",":"")+ce[Re++]}let Ae,ye,le,de;if(ce.length){Ae=ye=1/0,le=de=-1/0;for(let Ie=0,Ve=ce.length;Ie<Ve;Ie+=2){let Be=ce[Ie],Ye=ce[Ie+1];Be<Ae&&(Ae=Be),Ye<ye&&(ye=Ye),Be>le&&(le=Be),Ye>de&&(de=Ye)}}else Ae=le=ye=de=0;te=M[J]={index:J,advanceWidth:T.hmtx.aWidth[J],xMin:Ae,yMin:ye,xMax:le,yMax:de,path:fe}}q.call(null,te,z+G[re*3]*j,G[re*3+1]*j,V),z+=G[re*3+2]*j,X&&(z+=X*$)}V+=N.codePointAt(V)>65535?2:1}),z}};return U}return function(M){const P=new Uint8Array(M,0,4),D=n._bin.readASCII(P,0,4);if(D==="wOFF")M=e(M);else if(D==="wOF2")throw new Error("woff2 fonts not supported");return E(n.parse(M)[0])}}const Ose=_p({name:"Typr Font Parser",dependencies:[Bse,Lse,kse],init(n,e,t){const r=n(),i=e();return t(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Fse(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var A=w>>5;this.buckets.set(A,(this.buckets.get(A)||0)|1<<(31&w))},e.prototype.has=function(w){var A=this.buckets.get(w>>5);return A!==void 0&&(A&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(A,b){w.push((+b).toString(36)+":"+A.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var A=this;this.buckets.clear(),w.split(",").forEach(function(b){var E=b.split(":");A.buckets.set(parseInt(E[0],36),parseInt(E[1],36))})};var t=Math.pow(2,8),r=t-1,i=~r;function s(w){var A=function(E){return E&i}(w).toString(16),b=function(E){return(E&i)+t-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+A+"-"+b+".json"}function o(w,A){var b=w&r,E=A.codePointAt(b/6|0);return((E=(E||48)-48)&1<<b%6)!=0}function a(w,A){var b;(b=w,b.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(E){return E.split("-").map(function(T){return parseInt(T.trim(),16)})})).forEach(function(E){var T=E[0],M=E[1];M===void 0&&(M=T),A(T,M)})}function l(w,A){a(w,function(b,E){for(var T=b;T<=E;T++)A(T)})}var u={},c={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(w){var A=f.get(w);return A||(A=new e,l(w.ranges,function(b){return A.add(b)}),f.set(w,A)),A}var v,g=new Map;function y(w,A,b){return w[A]?A:w[b]?b:function(E){for(var T in E)return T}(w)}function _(w,A){var b=A;if(!w.includes(b)){b=1/0;for(var E=0;E<w.length;E++)Math.abs(w[E]-A)<Math.abs(b-A)&&(b=w[E])}return b}function x(w){return v||(v=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(A){v.add(A)})),v.has(w)}return n.CodePointSet=e,n.clearCache=function(){u={},c={}},n.getFontsForString=function(w,A){A===void 0&&(A={});var b,E=A.lang;E===void 0&&(E=new RegExp("\\p{Script=Hangul}","u").test(b=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(b)?"ja":"en");var T=A.category;T===void 0&&(T="sans-serif");var M=A.style;M===void 0&&(M="normal");var P=A.weight;P===void 0&&(P=400);var D=(A.dataUrl||d).replace(/\/$/g,""),F=new Map,O=new Uint8Array(w.length),U={},N={},$=new Array(w.length),X=new Map,q=!1;function z(V){var G=g.get(V);return G||(G=fetch(D+"/"+V).then(function(J){if(!J.ok)throw new Error(J.statusText);return J.json().then(function(re){if(!Array.isArray(re)||re[0]!==1)throw new Error("Incorrect schema version; need 1, got "+re[0]);return re[1]})}).catch(function(J){if(D!==d)return q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+D+'", trying default CDN. '+J.message),q=!0),D=d,g.delete(V),z(V);throw J}),g.set(V,G)),G}for(var j=function(V){var G=w.codePointAt(V),J=s(G);$[V]=J,u[J]||X.has(J)||X.set(J,z(J).then(function(re){u[J]=re})),G>65535&&(V++,H=V)},H=0;H<w.length;H++)j(H);return Promise.all(X.values()).then(function(){X.clear();for(var V=function(J){var re=w.codePointAt(J),te=null,Y=u[$[J]],ce=void 0;for(var fe in Y){var Re=N[fe];if(Re===void 0&&(Re=N[fe]=new RegExp(fe).test(E||"en")),Re){for(var Ae in ce=fe,Y[fe])if(o(re,Y[fe][Ae])){te=Ae;break}break}}if(!te){e:for(var ye in Y)if(ye!==ce){for(var le in Y[ye])if(o(re,Y[ye][le])){te=le;break e}}}te||(console.debug("No font coverage for U+"+re.toString(16)),te="latin"),$[J]=te,c[te]||X.has(te)||X.set(te,z("font-meta/"+te+".json").then(function(de){c[te]=de})),re>65535&&(J++,G=J)},G=0;G<w.length;G++)V(G);return Promise.all(X.values())}).then(function(){for(var V,G=null,J=0;J<w.length;J++){var re=w.codePointAt(J);if(G&&(x(re)||p(G).has(re)))O[J]=O[J-1];else{G=c[$[J]];var te=U[G.id];if(!te){var Y=G.typeforms,ce=y(Y,T,"sans-serif"),fe=y(Y[ce],M,"normal"),Re=_((V=Y[ce])===null||V===void 0?void 0:V[fe],P);te=U[G.id]=D+"/font-files/"+G.id+"/"+ce+"."+fe+"."+Re+".woff"}var Ae=F.get(te);Ae==null&&(Ae=F.size,F.set(te,Ae)),O[J]=Ae}re>65535&&(J++,O[J]=O[J-1])}return{fontUrls:Array.from(F.keys()),chars:O}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function Nse(n,e){const t=Object.create(null),r=Object.create(null);function i(o,a){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=n(u.response);c.src=o,a(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function s(o,a){let l=t[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,u=>{u.src=o,t[o]=u,r[o].forEach(c=>c(u)),delete r[o]}))}return function(o,a,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:d}={}){const p=new Uint8Array(o.length),v=[];o.length||x();const g=new Map,y=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(A=>!A.lang||A.lang.test(l)).reverse(),u.length){let T=0;(function M(P=0){for(let D=P,F=o.length;D<F;D++){const O=o.codePointAt(D);if(T===1&&v[p[D-1]].supportsCodePoint(O)||D>0&&/\s/.test(o[D]))p[D]=p[D-1],T===2&&(y[y.length-1][1]=D);else for(let U=p[D],N=u.length;U<=N;U++)if(U===N){const $=T===2?y[y.length-1]:y[y.length]=[D,D];$[1]=D,T=2}else{p[D]=U;const{src:$,unicodeRange:X}=u[U];if(!X||w(O,X)){const q=t[$];if(!q){s($,()=>{M(D)});return}if(q.supportsCodePoint(O)){let z=g.get(q);typeof z!="number"&&(z=v.length,v.push(q),g.set(q,z)),p[D]=z,T=1;break}}}O>65535&&D+1<F&&(p[D+1]=p[D],D++,T===2&&(y[y.length-1][1]=D))}_()})()}else y.push([0,o.length-1]),_();function _(){if(y.length){const A=y.map(b=>o.substring(b[0],b[1]+1)).join(`
`);e.getFontsForString(A,{lang:l||void 0,style:c,weight:f,dataUrl:d}).then(({fontUrls:b,chars:E})=>{const T=v.length;let M=0;y.forEach(D=>{for(let F=0,O=D[1]-D[0];F<=O;F++)p[D[0]+F]=E[M++]+T;M++});let P=0;b.forEach((D,F)=>{s(D,O=>{v[F+T]=O,++P===b.length&&x()})})})}else x()}function x(){a({chars:p,fonts:v})}function w(A,b){for(let E=0;E<b.length;E++){const[T,M=T]=b[E];if(T<=A&&A<=M)return!0}return!1}}}const Use=_p({name:"FontResolver",dependencies:[Nse,Ose,Fse],init(n,e,t){return n(e,t())}});function zse(n,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:v,lang:g,fonts:y,style:_,weight:x,preResolvedFonts:w,unicodeFontsURL:A},b){const E=({chars:T,fonts:M})=>{let P,D;const F=[];for(let O=0;O<T.length;O++)T[O]!==D?(D=T[O],F.push(P={start:O,end:O,fontObj:M[T[O]]})):P.end=O;b(F)};w?E(w):n(v,E,{lang:g,fonts:y,style:_,weight:x,unicodeFontsURL:A})}function a({text:v="",font:g,lang:y,sdfGlyphSize:_=64,fontSize:x=400,fontWeight:w=1,fontStyle:A="normal",letterSpacing:b=0,lineHeight:E="normal",maxWidth:T=1/0,direction:M,textAlign:P="left",textIndent:D=0,whiteSpace:F="normal",overflowWrap:O="normal",anchorX:U=0,anchorY:N=0,metricsOnly:$=!1,unicodeFontsURL:X,preResolvedFonts:q=null,includeCaretPositions:z=!1,chunkedBoundsSize:j=8192,colorRanges:H=null},V){const G=f(),J={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),x=+x,b=+b,T=+T,E=E||"normal",D=+D,o({text:v,lang:y,style:A,weight:w,fonts:typeof g=="string"?[{src:g}]:g,unicodeFontsURL:X,preResolvedFonts:q},re=>{J.fontLoad=f()-G;const te=isFinite(T);let Y=null,ce=null,fe=null,Re=null,Ae=null,ye=null,le=null,de=null,Ie=0,Ve=0,Be=F!=="nowrap";const Ye=new Map,De=f();let Ue=D,Qe=0,Ce=new d;const K=[Ce];re.forEach(Me=>{const{fontObj:Ke}=Me,{ascender:Fe,descender:Ee,unitsPerEm:tt,lineGap:at,capHeight:Je,xHeight:Xe}=Ke;let je=Ye.get(Ke);if(!je){const ne=x/tt,Le=E==="normal"?(Fe-Ee+at)*ne:E*x,st=(Le-(Fe-Ee)*ne)/2,it=Math.min(Le,(Fe-Ee)*ne),dt=(Fe+Ee)/2*ne+it/2;je={index:Ye.size,src:Ke.src,fontObj:Ke,fontSizeMult:ne,unitsPerEm:tt,ascender:Fe*ne,descender:Ee*ne,capHeight:Je*ne,xHeight:Xe*ne,lineHeight:Le,baseline:-st-Fe*ne,caretTop:dt,caretBottom:dt-it},Ye.set(Ke,je)}const{fontSizeMult:oe}=je,Pe=v.slice(Me.start,Me.end+1);let Ze,ae;Ke.forEachGlyph(Pe,x,b,(ne,Le,st,it)=>{Le+=Qe,it+=Me.start,Ze=Le,ae=ne;const dt=v.charAt(it),Tt=ne.advanceWidth*oe,Ct=Ce.count;let St;if("isEmpty"in ne||(ne.isWhitespace=!!dt&&new RegExp(i).test(dt),ne.canBreakAfter=!!dt&&s.test(dt),ne.isEmpty=ne.xMin===ne.xMax||ne.yMin===ne.yMax||r.test(dt)),!ne.isWhitespace&&!ne.isEmpty&&Ve++,Be&&te&&!ne.isWhitespace&&Le+Tt+Ue>T&&Ct){if(Ce.glyphAt(Ct-1).glyphObj.canBreakAfter)St=new d,Ue=-Le;else for(let tn=Ct;tn--;)if(tn===0&&O==="break-word"){St=new d,Ue=-Le;break}else if(Ce.glyphAt(tn).glyphObj.canBreakAfter){St=Ce.splitAt(tn+1);const Qt=St.glyphAt(0).x;Ue-=Qt;for(let bn=St.count;bn--;)St.glyphAt(bn).x-=Qt;break}St&&(Ce.isSoftWrapped=!0,Ce=St,K.push(Ce),Ie=T)}let At=Ce.glyphAt(Ce.count);At.glyphObj=ne,At.x=Le+Ue,At.y=st,At.width=Tt,At.charIndex=it,At.fontData=je,dt===`
`&&(Ce=new d,K.push(Ce),Ue=-(Le+Tt+b*x)+D)}),Qe=Ze+ae.advanceWidth*oe+b*x});let k=0;K.forEach(Me=>{let Ke=!0;for(let Fe=Me.count;Fe--;){const Ee=Me.glyphAt(Fe);Ke&&!Ee.glyphObj.isWhitespace&&(Me.width=Ee.x+Ee.width,Me.width>Ie&&(Ie=Me.width),Ke=!1);let{lineHeight:tt,capHeight:at,xHeight:Je,baseline:Xe}=Ee.fontData;tt>Me.lineHeight&&(Me.lineHeight=tt);const je=Xe-Me.baseline;je<0&&(Me.baseline+=je,Me.cap+=je,Me.ex+=je),Me.cap=Math.max(Me.cap,Me.baseline+at),Me.ex=Math.max(Me.ex,Me.baseline+Je)}Me.baseline-=k,Me.cap-=k,Me.ex-=k,k+=Me.lineHeight});let se=0,me=0;if(U&&(typeof U=="number"?se=-U:typeof U=="string"&&(se=-Ie*(U==="left"?0:U==="center"?.5:U==="right"?1:u(U)))),N&&(typeof N=="number"?me=-N:typeof N=="string"&&(me=N==="top"?0:N==="top-baseline"?-K[0].baseline:N==="top-cap"?-K[0].cap:N==="top-ex"?-K[0].ex:N==="middle"?k/2:N==="bottom"?k:N==="bottom-baseline"?-K[K.length-1].baseline:u(N)*k)),!$){const Me=e.getEmbeddingLevels(v,M);Y=new Uint16Array(Ve),ce=new Uint8Array(Ve),fe=new Float32Array(Ve*2),Re={},le=[1/0,1/0,-1/0,-1/0],de=[],z&&(ye=new Float32Array(v.length*4)),H&&(Ae=new Uint8Array(Ve*3));let Ke=0,Fe=-1,Ee=-1,tt,at;if(K.forEach((Je,Xe)=>{let{count:je,width:oe}=Je;if(je>0){let Pe=0;for(let it=je;it--&&Je.glyphAt(it).glyphObj.isWhitespace;)Pe++;let Ze=0,ae=0;if(P==="center")Ze=(Ie-oe)/2;else if(P==="right")Ze=Ie-oe;else if(P==="justify"&&Je.isSoftWrapped){let it=0;for(let dt=je-Pe;dt--;)Je.glyphAt(dt).glyphObj.isWhitespace&&it++;ae=(Ie-oe)/it}if(ae||Ze){let it=0;for(let dt=0;dt<je;dt++){let Tt=Je.glyphAt(dt);const Ct=Tt.glyphObj;Tt.x+=Ze+it,ae!==0&&Ct.isWhitespace&&dt<je-Pe&&(it+=ae,Tt.width+=ae)}}const ne=e.getReorderSegments(v,Me,Je.glyphAt(0).charIndex,Je.glyphAt(Je.count-1).charIndex);for(let it=0;it<ne.length;it++){const[dt,Tt]=ne[it];let Ct=1/0,St=-1/0;for(let At=0;At<je;At++)if(Je.glyphAt(At).charIndex>=dt){let tn=At,Qt=At;for(;Qt<je;Qt++){let bn=Je.glyphAt(Qt);if(bn.charIndex>Tt)break;Qt<je-Pe&&(Ct=Math.min(Ct,bn.x),St=Math.max(St,bn.x+bn.width))}for(let bn=tn;bn<Qt;bn++){const qr=Je.glyphAt(bn);qr.x=St-(qr.x+qr.width-Ct)}break}}let Le;const st=it=>Le=it;for(let it=0;it<je;it++){const dt=Je.glyphAt(it);Le=dt.glyphObj;const Tt=Le.index,Ct=Me.levels[dt.charIndex]&1;if(Ct){const St=e.getMirroredCharacter(v[dt.charIndex]);St&&dt.fontData.fontObj.forEachGlyph(St,0,0,st)}if(z){const{charIndex:St,fontData:At}=dt,tn=dt.x+se,Qt=dt.x+dt.width+se;ye[St*4]=Ct?Qt:tn,ye[St*4+1]=Ct?tn:Qt,ye[St*4+2]=Je.baseline+At.caretBottom+me,ye[St*4+3]=Je.baseline+At.caretTop+me;const bn=St-Fe;bn>1&&c(ye,Fe,bn),Fe=St}if(H){const{charIndex:St}=dt;for(;St>Ee;)Ee++,H.hasOwnProperty(Ee)&&(at=H[Ee])}if(!Le.isWhitespace&&!Le.isEmpty){const St=Ke++,{fontSizeMult:At,src:tn,index:Qt}=dt.fontData,bn=Re[tn]||(Re[tn]={});bn[Tt]||(bn[Tt]={path:Le.path,pathBounds:[Le.xMin,Le.yMin,Le.xMax,Le.yMax]});const qr=dt.x+se,Fr=dt.y+Je.baseline+me;fe[St*2]=qr,fe[St*2+1]=Fr;const ei=qr+Le.xMin*At,Z=Fr+Le.yMin*At,Se=qr+Le.xMax*At,we=Fr+Le.yMax*At;ei<le[0]&&(le[0]=ei),Z<le[1]&&(le[1]=Z),Se>le[2]&&(le[2]=Se),we>le[3]&&(le[3]=we),St%j===0&&(tt={start:St,end:St,rect:[1/0,1/0,-1/0,-1/0]},de.push(tt)),tt.end++;const ge=tt.rect;if(ei<ge[0]&&(ge[0]=ei),Z<ge[1]&&(ge[1]=Z),Se>ge[2]&&(ge[2]=Se),we>ge[3]&&(ge[3]=we),Y[St]=Tt,ce[St]=Qt,H){const ze=St*3;Ae[ze]=at>>16&255,Ae[ze+1]=at>>8&255,Ae[ze+2]=at&255}}}}}),ye){const Je=v.length-Fe;Je>1&&c(ye,Fe,Je)}}const Oe=[];Ye.forEach(({index:Me,src:Ke,unitsPerEm:Fe,ascender:Ee,descender:tt,lineHeight:at,capHeight:Je,xHeight:Xe})=>{Oe[Me]={src:Ke,unitsPerEm:Fe,ascender:Ee,descender:tt,lineHeight:at,capHeight:Je,xHeight:Xe}}),J.typesetting=f()-De,V({glyphIds:Y,glyphFontIndices:ce,glyphPositions:fe,glyphData:Re,fontData:Oe,caretPositions:ye,glyphColors:Ae,chunkedBounds:de,fontSize:x,topBaseline:me+K[0].baseline,blockBounds:[se,me-k,se+Ie,me],visibleBounds:le,timings:J})})}function l(v,g){a({...v,metricsOnly:!0},y=>{const[_,x,w,A]=y.blockBounds;g({width:w-_,height:A-x})})}function u(v){let g=v.match(/^([\d.]+)%$/),y=g?parseFloat(g[1]):NaN;return isNaN(y)?0:y/100}function c(v,g,y){const _=v[g*4],x=v[g*4+1],w=v[g*4+2],A=v[g*4+3],b=(x-_)/y;for(let E=0;E<y;E++){const T=(g+E)*4;v[T]=_+b*E,v[T+1]=_+b*(E+1),v[T+2]=w,v[T+3]=A}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const p=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(v){let g=d.flyweight;return g.data=this.data,g.index=v,g},splitAt(v){let g=new d;return g.data=this.data.splice(v*p.length),g}},d.flyweight=p.reduce((v,g,y,_)=>(Object.defineProperty(v,g,{get(){return this.data[this.index*p.length+y]},set(x){this.data[this.index*p.length+y]=x}}),v),{data:null,index:0}),{typeset:a,measure:l}}const hf=()=>(self.performance||Date).now(),Mw=m6();let Ak;function Gse(n,e,t,r,i,s,o,a,l,u,c=!0){return c?Vse(n,e,t,r,i,s,o,a,l,u).then(null,f=>(Ak||(console.warn("WebGL SDF generation failed, falling back to JS",f),Ak=!0),Mk(n,e,t,r,i,s,o,a,l,u))):Mk(n,e,t,r,i,s,o,a,l,u)}const i_=[],Hse=5;let rC=0;function v6(){const n=hf();for(;i_.length&&hf()-n<Hse;)i_.shift()();rC=i_.length?setTimeout(v6,0):0}const Vse=(...n)=>new Promise((e,t)=>{i_.push(()=>{const r=hf();try{Mw.webgl.generateIntoCanvas(...n),e({timing:hf()-r})}catch(i){t(i)}}),rC||(rC=setTimeout(v6,0))}),Wse=4,jse=2e3,bk={};let $se=0;function Mk(n,e,t,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+$se++%Wse;let f=bk[c];return f||(f=bk[c]={workerModule:_p({name:c,workerId:c,dependencies:[m6,hf],init(d,p){const v=d().javascript.generate;return function(...g){const y=p();return{textureData:v(...g),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:p})=>{const v=hf(),g=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)g[y*4+u]=d[y];return Mw.webglUtils.renderImageData(o,g,a,l,n,e,1<<3-u),p+=hf()-v,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Ase(c)},jse)),{timing:p}})}function Xse(n){n._warm||(Mw.webgl.isSupported(n),n._warm=!0)}const Jse=Mw.webglUtils.resizeWebGLCanvasWithoutClearing,zd={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Kse=new ft;function Bd(){return(self.performance||Date).now()}const Ek=Object.create(null);function y6(n,e){n=Zse({},n);const t=Bd(),{defaultFontURL:r}=zd,i=[];if(r&&i.push({label:"default",src:Ck(r)}),n.font&&i.push({label:"user",src:Ck(n.font)}),n.font=i,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||zd.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||zd.unicodeFontsURL,n.colorRanges!=null){let p={};for(let v in n.colorRanges)if(n.colorRanges.hasOwnProperty(v)){let g=n.colorRanges[v];typeof g!="number"&&(g=Kse.set(g).getHex()),p[v]=g}n.colorRanges=p}Object.freeze(n);const{textureWidth:s,sdfExponent:o}=zd,{sdfGlyphSize:a}=n,l=s/a*4;let u=Ek[a];if(!u){const p=document.createElement("canvas");p.width=s,p.height=a*256/l,u=Ek[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:p,sdfTexture:new hn(p,void 0,void 0,void 0,rn,rn),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,Yse(u)}const{sdfTexture:c,sdfCanvas:f}=u;w6(n).then(p=>{const{glyphIds:v,glyphFontIndices:g,fontData:y,glyphPositions:_,fontSize:x,timings:w}=p,A=[],b=new Float32Array(v.length*4);let E=0,T=0;const M=Bd(),P=y.map(N=>{let $=u.glyphsByFont.get(N.src);return $||u.glyphsByFont.set(N.src,$=new Map),$});v.forEach((N,$)=>{const X=g[$],{src:q,unitsPerEm:z}=y[X];let j=P[X].get(N);if(!j){const{path:re,pathBounds:te}=p.glyphData[q][N],Y=Math.max(te[2]-te[0],te[3]-te[1])/a*(zd.sdfMargin*a+.5),ce=u.glyphCount++,fe=[te[0]-Y,te[1]-Y,te[2]+Y,te[3]+Y];P[X].set(N,j={path:re,atlasIndex:ce,sdfViewBox:fe}),A.push(j)}const{sdfViewBox:H}=j,V=_[T++],G=_[T++],J=x/z;b[E++]=V+H[0]*J,b[E++]=G+H[1]*J,b[E++]=V+H[2]*J,b[E++]=G+H[3]*J,v[$]=j.atlasIndex}),w.quads=(w.quads||0)+(Bd()-M);const D=Bd();w.sdf={};const F=f.height,O=Math.ceil(u.glyphCount/l),U=Math.pow(2,Math.ceil(Math.log2(O*a)));U>F&&(console.info(`Increasing SDF texture size ${F}->${U}`),Jse(f,s,U),c.dispose()),Promise.all(A.map(N=>_6(N,u,n.gpuAccelerateSDF).then(({timing:$})=>{w.sdf[N.atlasIndex]=$}))).then(()=>{A.length&&!u.contextLost&&(x6(u),c.needsUpdate=!0),w.sdfTotal=Bd()-D,w.total=Bd()-t,e(Object.freeze({parameters:n,sdfTexture:c,sdfGlyphSize:a,sdfExponent:o,glyphBounds:b,glyphAtlasIndices:v,glyphColors:p.glyphColors,caretPositions:p.caretPositions,chunkedBounds:p.chunkedBounds,ascender:p.ascender,descender:p.descender,lineHeight:p.lineHeight,capHeight:p.capHeight,xHeight:p.xHeight,topBaseline:p.topBaseline,blockBounds:p.blockBounds,visibleBounds:p.visibleBounds,timings:p.timings}))})}),Promise.resolve().then(()=>{u.contextLost||Xse(f)})}function _6({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=zd,u=Math.max(t[2]-t[0],t[3]-t[1]),c=Math.floor(e/4),f=c%(a/r)*r,d=Math.floor(c/(a/r))*r,p=e%4;return Gse(r,r,n,t,u,l,i,f,d,p,o)}function Yse(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(_6(s,n,!0))})}),Promise.all(r).then(()=>{x6(n),n.sdfTexture.needsUpdate=!0})})}function Qse({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;y6({font:n,sdfGlyphSize:t,text:i},r)}function Zse(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let m1;function Ck(n){return m1||(m1=typeof document>"u"?{}:document.createElement("a")),m1.href=n,m1.href}function x6(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const qse=_p({name:"Typesetter",dependencies:[zse,Use,Mse],init(n,e,t){return n(e,t())}}),w6=_p({name:"Typesetter",dependencies:[qse],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});w6.onMainThread;const Tk={};function eoe(n){let e=Tk[n];return e||(e=Tk[n]=new Ko(1,1,n,n).translate(.5,.5,0)),e}const toe="aTroikaGlyphBounds",Pk="aTroikaGlyphIndex",noe="aTroikaGlyphColor";class roe extends Q2{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ra,this.boundingBox=new Jo}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=eoe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){this.updateAttributeData(toe,e,4),this.updateAttributeData(Pk,t,1),this.updateAttributeData(noe,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,d=Math.abs(t),p=e[0]/d,v=e[2]/d,g=s((p+c)/f)!==s((v+c)/f)?-d:o(l(p)*d,l(v)*d),y=s((p-c)/f)!==s((v-c)/f)?d:a(l(p)*d,l(v)*d),_=s((p+i)/f)!==s((v+i)/f)?d*2:a(d-u(p)*d,d-u(v)*d);r.min.set(g,e[1],t<0?-_:0),r.max.set(y,e[3],t<0?0:_)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Pk).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new Ou(t,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const ioe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,soe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,ooe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,aoe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function loe(n){const e=nC(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new We},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new mn(0,0,0,0)},uTroikaClipRect:{value:new mn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new We},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ft},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new _i},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:ioe,vertexTransform:soe,fragmentDefs:ooe,fragmentColorTransform:aoe,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(g6,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const CP=new Ui({color:16777215,side:bs,transparent:!0}),Rk=8421504,Ik=new Ft,g1=new Q,yb=new Q,Tm=[],uoe=new Q,_b="+x+y";function Dk(n){return Array.isArray(n)?n[0]:n}let S6=()=>{const n=new Wn(new Ko(1,1),CP);return S6=()=>n,n},A6=()=>{const n=new Wn(new Ko(1,1,32,1),CP);return A6=()=>n,n};const coe={type:"syncstart"},foe={type:"synccomplete"},b6=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],doe=b6.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let M6=class extends Wn{constructor(){const e=new roe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Rk,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=_b,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(coe),y6({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(foe),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return loe(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=CP.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Dk(this.material).getDepthMaterial()}get customDistanceMaterial(){return Dk(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let u=0,c=0,f=0,d,p,v,g=0,y=0;if(t){let{outlineWidth:x,outlineOffsetX:w,outlineOffsetY:A,outlineBlur:b,outlineOpacity:E}=this;u=this._parsePercent(x)||0,c=Math.max(0,this._parsePercent(b)||0),d=E,g=this._parsePercent(w)||0,y=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??Rk),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(g,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)r.uTroikaClipRect.value.fromArray(_);else{const x=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new ft;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||_b;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==_b&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,d]=l;g1.set(0,0,0)[c]=u==="-"?1:-1,yb.set(0,0,0)[d]=f==="-"?-1:1,Ik.lookAt(uoe,g1.cross(yb),yb),a.setFromMatrix4(Ik)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new We){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new We){return g1.copy(e),this.localPositionToTextCoords(this.worldToLocal(g1),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?A6():S6(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const d=s[1]+u.getY(c)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,d,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Tm.length=0,o.raycast(e,Tm);for(let c=0;c<Tm.length;c++)Tm[c].object=this,t.push(Tm[c])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,doe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};b6.forEach(n=>{const e="_private_"+n;Object.defineProperty(M6.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new Jo;new ft;const hoe=I.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=Rr(({invalidate:v})=>v),[f]=I.useState(()=>new M6),[d,p]=I.useMemo(()=>{const v=[];let g="";return I.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?g+=y:v.push(y)}),[v,g]},[s]);return mw(()=>new Promise(v=>Qse({font:r,characters:o},v)),["troika-text",r,o]),I.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),I.useEffect(()=>()=>f.dispose(),[f]),I.createElement("primitive",bl({object:f,ref:u,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});let xb=null;async function poe(n){return typeof n=="string"?await(await fetch(n)).json():n}function moe(n){return xb||(xb=new fse),xb.parse(n)}async function E6(n){const e=await poe(n);return moe(e)}function TP(n){return mw(E6,[n])}TP.preload=n=>Xz(E6,[n]);TP.clear=n=>Jz([n]);const goe=["string","number"],voe=n=>{let e="";const t=[];return I.Children.forEach(n,r=>{goe.includes(typeof r)?e+=r+"":t.push(r)}),[e,...t]},iC=I.forwardRef(({font:n,letterSpacing:e=0,lineHeight:t=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:u=4,curveSegments:c=8,smooth:f,children:d,...p},v)=>{I.useMemo(()=>gw({RenamedTextGeometry:lse}),[]);const g=I.useRef(null),y=TP(n),_=I.useMemo(()=>({font:y,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:u,bevelOffset:l,curveSegments:c,letterSpacing:e,lineHeight:t}),[y,r,i,s,o,a,u,l,c,e,t]),[x,...w]=I.useMemo(()=>voe(d),[d]),A=I.useMemo(()=>[x,_],[x,_]);return I.useLayoutEffect(()=>{f&&(g.current.geometry=rie(g.current.geometry,f),g.current.geometry.computeVertexNormals())},[A,f]),I.useImperativeHandle(v,()=>g.current,[]),I.createElement("mesh",bl({},p,{ref:g}),I.createElement("renamedTextGeometry",{args:A}),w)}),wb=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function PP(n,e){const t=Rr(s=>s.gl),r=Ls(yp,wb(n)?Object.values(n):n);return I.useLayoutEffect(()=>{e==null||e(r)},[e]),I.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(r)?s=r:r instanceof hn?s=[r]:wb(r)&&(s=Object.values(r)),s.forEach(o=>{o instanceof hn&&t.initTexture(o)})}},[t,r]),I.useMemo(()=>{if(wb(n)){const s={};let o=0;for(const a in n)s[a]=r[o++];return s}else return r},[n,r])}PP.preload=n=>Ls.preload(yp,n);PP.clear=n=>Ls.clear(yp,n);let v1=null,C6="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function T6(n=!0,e=!0,t){return r=>{t&&t(r),n&&(v1||(v1=new vse),v1.setDecoderPath(typeof n=="string"?n:C6),r.setDRACOLoader(v1)),e&&r.setMeshoptDecoder(typeof gb=="function"?gb():gb)}}const Ir=(n,e,t,r)=>Ls(EP,n,T6(e,t,r));Ir.preload=(n,e,t,r)=>Ls.preload(EP,n,T6(e,t,r));Ir.clear=n=>Ls.clear(EP,n);Ir.setDecoderPath=n=>{C6=n};const yoe=I.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=Rr(E=>E.invalidate),d=Rr(E=>E.camera),p=Rr(E=>E.gl),v=Rr(E=>E.events),g=Rr(E=>E.setEvents),y=Rr(E=>E.set),_=Rr(E=>E.get),x=Rr(E=>E.performance),w=e||d,A=r||v.connected||p.domElement,b=I.useMemo(()=>new Eie(w),[w]);return Zu(()=>{b.enabled&&b.update()},-1),I.useEffect(()=>(s&&b.connect(s===!0?A:s),b.connect(A),()=>void b.dispose()),[s,A,t,b,f]),I.useEffect(()=>{const E=P=>{f(),t&&x.regress(),o&&o(P)},T=P=>{a&&a(P)},M=P=>{l&&l(P)};return b.addEventListener("change",E),b.addEventListener("start",T),b.addEventListener("end",M),()=>{b.removeEventListener("start",T),b.removeEventListener("end",M),b.removeEventListener("change",E)}},[o,a,l,b,f,g]),I.useEffect(()=>{if(n){const E=_().controls;return y({controls:b}),()=>y({controls:E})}},[n,b]),I.createElement("primitive",bl({ref:c,object:b,enableDamping:i},u))});function RP(n,e){const t=I.useRef(),[r]=I.useState(()=>e?e instanceof en?{current:e}:e:t),[i]=I.useState(()=>new Uz(void 0));I.useLayoutEffect(()=>{e&&(r.current=e instanceof en?e:e.current),i._root=r.current});const s=I.useRef({}),o=I.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}},[n]);return Zu((a,l)=>i.update(l)),I.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),o}const _oe=I.forwardRef(function({children:e,disable:t,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:f,onCentered:d,precise:p=!0,cacheKey:v=0,...g},y){const _=I.useRef(null),x=I.useRef(null),w=I.useRef(null);return I.useLayoutEffect(()=>{x.current.matrixWorld.identity();const A=new Jo().setFromObject(w.current,p),b=new Q,E=new Ra,T=A.max.x-A.min.x,M=A.max.y-A.min.y,P=A.max.z-A.min.z;A.getCenter(b),A.getBoundingSphere(E);const D=l?M/2:u?-M/2:0,F=o?-T/2:a?T/2:0,O=c?P/2:f?-P/2:0;x.current.position.set(t||r?0:-b.x+F,t||i?0:-b.y+D,t||s?0:-b.z+O),typeof d<"u"&&d({parent:_.current.parent,container:_.current,width:T,height:M,depth:P,boundingBox:A,boundingSphere:E,center:b,verticalAlignment:D,horizontalAlignment:F,depthAlignment:O})},[v,d,l,o,c,t,r,i,s,p,a,u,f]),I.useImperativeHandle(y,()=>_.current,[]),I.createElement("group",bl({ref:_},g),I.createElement("group",{ref:x},I.createElement("group",{ref:w},e)))});var P6={exports:{}},xoe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",woe=xoe,Soe=woe;function R6(){}function I6(){}I6.resetWarningCache=R6;var Aoe=function(){function n(r,i,s,o,a,l){if(l!==Soe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I6,resetWarningCache:R6};return t.PropTypes=t,t};P6.exports=Aoe();var boe=P6.exports;const En=sp(boe),Moe=3e3,Eoe=3001,Bk=I.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const u=I.useRef(null);I.useImperativeHandle(l,()=>u.current,[]);const c=I.useRef(Math.random()*1e4);return Zu(f=>{var d,p;if(!e||t===0)return;o&&f.invalidate();const v=c.current+f.clock.getElapsedTime();u.current.rotation.x=Math.cos(v/4*t)/8*r,u.current.rotation.y=Math.sin(v/4*t)/8*r,u.current.rotation.z=Math.sin(v/4*t)/20*r;let g=Math.sin(v/4*t)/10;g=Lo.mapLinear(g,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),u.current.position.y=g*i,u.current.updateMatrix()}),I.createElement("group",a,I.createElement("group",{ref:u,matrixAutoUpdate:!1},n))}),D6=(n,e,t)=>{let r;switch(n){case go:r=new Uint8ClampedArray(e*t*4);break;case Jr:r=new Uint16Array(e*t*4);break;case ul:r=new Uint32Array(e*t*4);break;case p2:r=new Int8Array(e*t*4);break;case m2:r=new Int16Array(e*t*4);break;case v2:r=new Int32Array(e*t*4);break;case Xr:r=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return r};let y1;const Coe=(n,e,t,r)=>{if(y1!==void 0)return y1;const i=new Ds(1,1,r);e.setRenderTarget(i);const s=new Wn(new Ko,new Ui({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=D6(n,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),y1=o[0]!==0,y1};class IP{constructor(e){var t,r,i,s,o,a,l,u,c,f,d,p,v,g,y,_;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(w){throw this._renderer.setRenderTarget(null),w}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const x={format:Dr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:rn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:rn,samples:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS:Bn,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT:Bn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=IP.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new O0,this._camera=new ho,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Coe(this._type,this._renderer,this._camera,x)){let w;switch(this._type){case Jr:w=this._renderer.extensions.has("EXT_color_buffer_float")?Xr:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Xr}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Wn(new Ko,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Ds(this.width,this.height,x),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.mapping:Iu}static instantiateRenderer(){const e=new iw;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=D6(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new ff(this.toArray(),this.width,this.height,Dr,this._type,(e==null?void 0:e.mapping)||Iu,(e==null?void 0:e.wrapS)||Bn,(e==null?void 0:e.wrapT)||Bn,(e==null?void 0:e.magFilter)||rn,(e==null?void 0:e.minFilter)||rn,(e==null?void 0:e.anisotropy)||1,Sl);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Bs&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof hn&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof hn&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Toe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Poe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Roe extends Bs{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:Toe,fragmentShader:Poe,uniforms:{sdr:{value:u},gainMap:{value:c},gamma:{value:new Q(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Q().fromArray(t)},offsetSdr:{value:new Q().fromArray(r)},gainMapMin:{value:new Q().fromArray(i)},gainMapMax:{value:new Q().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:ya,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class B6 extends Error{}class L6 extends Error{}const Pm=(n,e,t)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Ioe=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const r=e.indexOf("x:xmpmeta>",t),i=e.slice(t,r+10);try{const s=Pm(i,"hdrgm:GainMapMin","0"),o=Pm(i,"hdrgm:GainMapMax"),a=Pm(i,"hdrgm:Gamma","1"),l=Pm(i,"hdrgm:OffsetSDR","0.015625"),u=Pm(i,"hdrgm:OffsetHDR","0.015625"),c=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=c?c[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!d)throw new Error("Incomplete gainmap metadata");const p=d[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(v=>parseFloat(v)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(p)}}catch{}t=e.indexOf("<x:xmpmeta",r)}};class Doe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,u;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(u=s.getUint8(a+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const c=a+4;if(s.getUint32(c)===1297106432){const f=c+4;let d;if(s.getUint16(f)===18761)d=!1;else if(s.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const p=s.getUint32(f+4,!d);if(p<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=f+p,g=s.getUint16(v,!d),y=v+2;let _=0;for(let b=y;b<y+12*g;b+=12)s.getUint16(b,!d)===45057&&(_=s.getUint32(b+8,!d));const w=v+2+g*12+4,A=[];for(let b=w;b<w+_*16;b+=16){const E={MPType:s.getUint32(b,!d),size:s.getUint32(b+4,!d),dataOffset:s.getUint32(b+8,!d),dependantImages:s.getUint32(b+12,!d),start:-1,end:-1,isFII:!1};E.dataOffset?(E.start=f+E.dataOffset,E.isFII=!1):(E.start=0,E.isFII=!0),E.end=E.start+E.size,A.push(E)}if(this.options.extractNonFII&&A.length){const b=new Blob([s]),E=[];for(const T of A){if(T.isFII&&!this.options.extractFII)continue;const M=b.slice(T.start,T.end+1,"image/jpeg");E.push(M)}t(E)}}}a+=2+s.getUint16(a+2)}})}}const Boe=async n=>{const e=Ioe(n);if(!e)throw new L6("Gain map XMP metadata not found");const r=await new Doe({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new B6("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},Lk=n=>new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{t(i)},r.src=URL.createObjectURL(n)});class k6 extends ai{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new dw}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Roe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new hn,sdr:new hn});return new IP({width:16,height:16,type:Jr,colorSpace:Sl,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,u=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([s?Lk(s):Promise.resolve(void 0),Lk(o)]);l=d[0],a=d[1],u=!0}else{const d=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=d[0],a=d[1]}const c=new hn(l||new ImageData(2,2),Iu,Bn,Bn,rn,tE,Dr,go,1,Sl);c.flipY=u,c.needsUpdate=!0;const f=new hn(a,Iu,Bn,Bn,rn,tE,Dr,go,1,qs);f.flipY=u,f.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=c,e.material.sdr=f,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Loe extends k6{load([e,t,r],i,s,o){const a=this.prepareQuadRenderer();let l,u,c;const f=async()=>{if(l&&u&&c){try{await this.render(a,c,l,u)}catch(P){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),typeof o=="function"&&o(P),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let d=!0,p=0,v=0,g=!0,y=0,_=0,x=!0,w=0,A=0;const b=()=>{if(typeof s=="function"){const P=p+y+w,D=v+_+A,F=d&&g&&x;s(new ProgressEvent("progress",{lengthComputable:F,loaded:D,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);const E=new Qr(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");l=P,await f()},P=>{d=P.lengthComputable,v=P.loaded,p=P.total,b()},P=>{this.manager.itemError(e),typeof o=="function"&&o(P)});const T=new Qr(this._internalLoadingManager);T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(t,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");u=P,await f()},P=>{g=P.lengthComputable,_=P.loaded,y=P.total,b()},P=>{this.manager.itemError(t),typeof o=="function"&&o(P)});const M=new Qr(this._internalLoadingManager);return M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(r,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");c=JSON.parse(P),await f()},P=>{x=P.lengthComputable,A=P.loaded,w=P.total,b()},P=>{this.manager.itemError(r),typeof o=="function"&&o(P)}),a}}class koe extends k6{load(e,t,r,i){const s=this.prepareQuadRenderer(),o=new Qr(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let u,c,f;try{const d=await Boe(l);u=d.sdr,c=d.gainMap,f=d.metadata}catch(d){if(d instanceof L6||d instanceof B6)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw d}try{await this.render(s,f,u,c)}catch(d){this.manager.itemError(e),typeof i=="function"&&i(d),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const l0={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},O6="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Sh=n=>Array.isArray(n),DP=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Ew({files:n=DP,path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;t&&(BP(t),n=l0[t],e=O6),o=Sh(n);const{extension:a,isCubemap:l}=LP(n);if(s=kP(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=Rr(p=>p.gl);I.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function p(){Ls.clear(s,o?[n]:n)}u.domElement.addEventListener("webglcontextlost",p,{once:!0})},[n,u.domElement]);const c=Ls(s,o?[n]:n,p=>{(a==="webp"||a==="jpg"||a==="jpeg")&&p.setRenderer(u),p.setPath==null||p.setPath(e),i&&i(p)});let f=o?c[0]:c;if(a==="jpg"||a==="jpeg"||a==="webp"){var d;f=(d=f.renderTarget)==null?void 0:d.texture}return f.mapping=l?wl:kh,"colorSpace"in f?f.colorSpace=r??l?"srgb":"srgb-linear":f.encoding=r??l?Eoe:Moe,f}const Ooe={files:DP,path:"",preset:void 0,extensions:void 0};Ew.preload=n=>{const e={...Ooe,...n};let{files:t,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(BP(i),t=l0[i],r=O6);const{extension:o}=LP(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=kP(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ls.preload(a,Sh(t)?[t]:t,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const Foe={files:DP,preset:void 0};Ew.clear=n=>{const e={...Foe,...n};let{files:t}=e;const{preset:r}=e;r&&(BP(r),t=l0[r]);const{extension:i}=LP(t),s=kP(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ls.clear(s,Sh(t)?[t]:t)};function BP(n){if(!(n in l0))throw new Error("Preset must be one of: "+Object.keys(l0).join(", "))}function LP(n){var e;const t=Sh(n)&&n.length===6,r=Sh(n)&&n.length===3&&n.some(o=>o.endsWith("json")),i=Sh(n)?n[0]:n;return{extension:t?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:r}}function kP(n){return n==="cube"?Rz:n==="hdr"?mse:n==="exr"?gse:n==="jpg"||n==="jpeg"?koe:n==="webp"?Loe:null}const Noe=n=>n.current&&n.current.isScene,Uoe=n=>Noe(n)?n.current:n;function OP(n,e,t,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=Uoe(e||t),c=u.background,f=u.environment,d={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(u.environment=r),n&&(u.background=r),nl(u,i),()=>{n!=="only"&&(u.environment=f),n&&(u.background=c),nl(u,d)}}function FP({scene:n,background:e=!1,map:t,...r}){const i=Rr(s=>s.scene);return I.useLayoutEffect(()=>{if(t)return OP(e,n,i,t,r)}),null}function F6({background:n=!1,scene:e,blur:t,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const u=Ew(l),c=Rr(f=>f.scene);return I.useLayoutEffect(()=>OP(n,e,c,u,{backgroundBlurriness:t??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),I.useEffect(()=>()=>{u.dispose()},[u]),null}function zoe({children:n,near:e=.1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:d,scene:p,files:v,path:g,preset:y=void 0,extensions:_}){const x=Rr(M=>M.gl),w=Rr(M=>M.scene),A=I.useRef(null),[b]=I.useState(()=>new O0),E=I.useMemo(()=>{const M=new T2(r);return M.texture.type=Jr,M},[r]);I.useEffect(()=>()=>{E.dispose()},[E]),I.useLayoutEffect(()=>{if(i===1){const M=x.autoClear;x.autoClear=!0,A.current.update(x,b),x.autoClear=M}return OP(o,p,w,E.texture,{backgroundBlurriness:a??l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:d})},[n,b,E.texture,p,w,o,i,x]);let T=1;return Zu(()=>{if(i===1/0||T<i){const M=x.autoClear;x.autoClear=!0,A.current.update(x,b),x.autoClear=M,T++}}),I.createElement(I.Fragment,null,Yee(I.createElement(I.Fragment,null,n,I.createElement("cubeCamera",{ref:A,args:[e,t,E]}),v||y?I.createElement(F6,{background:!0,files:v,preset:y,path:g,extensions:_}):s?I.createElement(FP,{background:!0,map:s,extensions:_}):null),b))}function Goe(n){var e,t,r,i;const s=Ew(n),o=n.map||s;I.useMemo(()=>gw({GroundProjectedEnvImpl:yie}),[]),I.useEffect(()=>()=>{s.dispose()},[s]);const a=I.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,c=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return I.createElement(I.Fragment,null,I.createElement(FP,bl({},n,{map:o})),I.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function Hoe(n){return n.ground?I.createElement(Goe,n):n.map?I.createElement(FP,n):n.children?I.createElement(zoe,n):I.createElement(F6,n)}function Voe(n){switch(n){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}const Woe="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json",joe="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d";function $oe(n=0,e=1024,t){const r=mw(()=>fetch(Woe).then(c=>c.json()),["matcapList"]),i=r[0],s=I.useMemo(()=>Object.keys(r).length,[]),a=`${I.useMemo(()=>typeof n=="string"?n:typeof n=="number"?r[n]:null,[n])||i}${Voe(e)}.png`,l=`${joe}/${e}/${a}`;return[PP(l,t),l,s]}const _1=I.memo(function({color:e,finalY:t,finalX:r,finalZ:i,finalRotationZ:s,label:o,link:a,onAnimationFinish:l,textColor:u,textFontSize:c,textRotation:f,textOffset:d,...p}){const v=Ir("./models/one_part_logo.glb"),g=I.useRef(),[y,_]=I.useState(!1),[x,w]=I.useState(!1);return I.useEffect(()=>{const A=v.scene.clone(!0);A.traverse(b=>{b.isMesh&&(b.castShadow=!0,b.receiveShadow=!0,b.material=b.material.clone(),b.material.color.set(e))}),g.current.add(A)},[v,e]),I.useEffect(()=>{const A=setTimeout(()=>{_(!0)},2e3);return()=>clearTimeout(A)},[]),Zu(()=>{if(y&&g.current&&!x){const A=g.current.rotation.z,b=g.current.position.x,E=g.current.position.y,T=g.current.position.z;g.current.rotation.z=Lo.lerp(A,s,.05),g.current.position.y=Lo.lerp(E,t,.05),g.current.position.x=Lo.lerp(b,r,.05),g.current.position.z=Lo.lerp(T,i,.05);const M=Math.abs(g.current.rotation.z-s);Math.sqrt(Math.pow(g.current.position.x-r,2)+Math.pow(g.current.position.y-t,2)+Math.pow(g.current.position.z-i,2))<.01&&M<.01&&(w(!0),l&&l({label:o,link:a,x:r,y:t,z:i,textColor:u,textFontSize:c,textRotation:f,textOffset:d}))}}),Ge.jsx("group",{ref:g,...p,children:Ge.jsx("mesh",{position:[0,0,0],onClick:()=>{a&&(a.startsWith("http")?window.open(a,"_blank","noopener,noreferrer"):window.location.href=a)}})})});function kk(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function N6(...n){return e=>{let t=!1;const r=n.map(i=>{const s=kk(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kk(n[i],null)}}}}function Xf(...n){return I.useCallback(N6(...n),n)}var U6=I.forwardRef((n,e)=>{const{children:t,...r}=n,i=I.Children.toArray(t),s=i.find(Xoe);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return Ge.jsx(sC,{...r,ref:e,children:I.isValidElement(o)?I.cloneElement(o,void 0,a):null})}return Ge.jsx(sC,{...r,ref:e,children:t})});U6.displayName="Slot";var sC=I.forwardRef((n,e)=>{const{children:t,...r}=n;if(I.isValidElement(t)){const i=Koe(t);return I.cloneElement(t,{...Joe(r,t.props),ref:e?N6(e,i):i})}return I.Children.count(t)>1?I.Children.only(null):null});sC.displayName="SlotClone";var z6=({children:n})=>Ge.jsx(Ge.Fragment,{children:n});function Xoe(n){return I.isValidElement(n)&&n.type===z6}function Joe(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function Koe(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Yoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qu=Yoe.reduce((n,e)=>{const t=I.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?U6:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Ge.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Qoe(n,e){n&&Kx.flushSync(()=>n.dispatchEvent(e))}var kf=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},Zoe="Portal",G6=I.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=I.useState(!1);kf(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ZU.createPortal(Ge.jsx(qu.div,{...r,ref:e}),o):null});G6.displayName=Zoe;var qoe=G6,Ok=Object.prototype.hasOwnProperty;function u0(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&u0(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(Ok.call(n,t)&&++r&&!Ok.call(e,t)||!(t in e)||!u0(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Cw(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Tw=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Tw.prototype._test=function(e){var t=this.fn;try{Ah(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Ah(this.modifiers.slice(),t,this)(e)}catch{return!1}};Tw.prototype._check=function(e){try{Ah(this.modifiers.slice(),this.fn,this)(e)}catch{if(Ah(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Ah(this.modifiers.slice(),this.fn,this)(e))throw null};Tw.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){V6(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function H6(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Ah(n,e,t){if(n.length){var r=n.shift(),i=Ah(n,e,t);return r.perform(i,t)}else return H6(e)}function V6(n,e,t){if(n.length){var r=n.shift(),i=V6(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(H6(e,"async")(s))}}var eae=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},NP=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Ca=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Ca.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Tw(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Ca.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new eae(t,e.simple,e.async)),this};Ca.prototype._clone=function(){return new Ca(this.chain.slice(),this.nextRuleModifiers.slice())};Ca.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Ca.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new NP(r,e,i))}}),t};Ca.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new NP(t,e,r)}})};Ca.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){W6(e,t.chain.slice(),r,i)})};function W6(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){W6(n,e,t,r)},function(s){r(new NP(i,n,s))})}else t(n)}var Fk=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function tae(n,e){return e===void 0&&(e=!1),{simple:function(t){return Fk(t,e)||n.check(t)===void 0},async:function(t){return Fk(t,e)||n.testAsync(t)}}}function Qi(){return typeof Proxy<"u"?j6(new Ca):oC(new Ca)}var c0={};Qi.extend=function(n){Object.assign(c0,n)};Qi.clearCustomRules=function(){c0={}};function j6(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=j6(n._clone());if(r in tx)return i._applyModifier(tx[r],r);if(r in c0)return i._applyRule(c0[r],r);if(r in aC)return i._applyRule(aC[r],r)}})}function oC(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=oC(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},t=e(aC,n),r=e(c0,t);return Object.keys(tx).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=oC(r._clone());return s._applyModifier(tx[i],i)}})}),r}var tx={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return x1(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(x1(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&x1(e).every(n)}},async:function(n){return function(e){return Promise.all(x1(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return Nk(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return Nk(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function Nk(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function x1(n){return typeof n=="string"?n.split(""):n}var aC={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||nae;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Ld("string")},boolean:function(){return Ld("boolean")},undefined:function(){return Ld("undefined")},null:function(){return Ld("null")},array:function(){return Ld("array")},object:function(){return Ld("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return rae(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:tae};function Ld(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function nae(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function rae(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var _n="colors",Li="sizes",xt="space",iae={gap:xt,gridGap:xt,columnGap:xt,gridColumnGap:xt,rowGap:xt,gridRowGap:xt,inset:xt,insetBlock:xt,insetBlockEnd:xt,insetBlockStart:xt,insetInline:xt,insetInlineEnd:xt,insetInlineStart:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,marginBlock:xt,marginBlockEnd:xt,marginBlockStart:xt,marginInline:xt,marginInlineEnd:xt,marginInlineStart:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,paddingBlock:xt,paddingBlockEnd:xt,paddingBlockStart:xt,paddingInline:xt,paddingInlineEnd:xt,paddingInlineStart:xt,top:xt,right:xt,bottom:xt,left:xt,scrollMargin:xt,scrollMarginTop:xt,scrollMarginRight:xt,scrollMarginBottom:xt,scrollMarginLeft:xt,scrollMarginX:xt,scrollMarginY:xt,scrollMarginBlock:xt,scrollMarginBlockEnd:xt,scrollMarginBlockStart:xt,scrollMarginInline:xt,scrollMarginInlineEnd:xt,scrollMarginInlineStart:xt,scrollPadding:xt,scrollPaddingTop:xt,scrollPaddingRight:xt,scrollPaddingBottom:xt,scrollPaddingLeft:xt,scrollPaddingX:xt,scrollPaddingY:xt,scrollPaddingBlock:xt,scrollPaddingBlockEnd:xt,scrollPaddingBlockStart:xt,scrollPaddingInline:xt,scrollPaddingInlineEnd:xt,scrollPaddingInlineStart:xt,fontSize:"fontSizes",background:_n,backgroundColor:_n,backgroundImage:_n,borderImage:_n,border:_n,borderBlock:_n,borderBlockEnd:_n,borderBlockStart:_n,borderBottom:_n,borderBottomColor:_n,borderColor:_n,borderInline:_n,borderInlineEnd:_n,borderInlineStart:_n,borderLeft:_n,borderLeftColor:_n,borderRight:_n,borderRightColor:_n,borderTop:_n,borderTopColor:_n,caretColor:_n,color:_n,columnRuleColor:_n,fill:_n,outline:_n,outlineColor:_n,stroke:_n,textDecorationColor:_n,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Li,minBlockSize:Li,maxBlockSize:Li,inlineSize:Li,minInlineSize:Li,maxInlineSize:Li,width:Li,minWidth:Li,maxWidth:Li,height:Li,minHeight:Li,maxHeight:Li,flexBasis:Li,gridTemplateColumns:Li,gridTemplateRows:Li,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},sae=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,xp=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,sae))(e);return i in n?n[i]:n[i]=t(e,...r)}},pf=Symbol.for("sxs.internal"),UP=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),Uk=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:oae}=Object.prototype,lC=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),aae=/\s+(?![^()]*\))/,kd=n=>e=>n(...typeof e=="string"?String(e).split(aae):[e]),zk={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:kd((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:kd((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:kd((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:kd((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:kd((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:kd((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Sb=/([\d.]+)([^]*)/,lae=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,uae=(n,e)=>n in cae&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${lC(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${lC(n)}:${r}fit-content`)+s):String(e),cae={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},El=n=>n?n+"-":"",$6=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?El(e)+(a.includes("$")?"":El(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),fae=/\s*,\s*(?![^()]*\))/,dae=Object.prototype.toString,rh=(n,e,t,r,i)=>{let s,o,a;const l=(u,c,f)=>{let d,p;const v=g=>{for(d in g){const x=d.charCodeAt(0)===64,w=x&&Array.isArray(g[d])?g[d]:[g[d]];for(p of w){const A=/[A-Z]/.test(_=d)?_:_.replace(/-[^]/g,E=>E[1].toUpperCase()),b=typeof p=="object"&&p&&p.toString===dae&&(!r.utils[A]||!c.length);if(A in r.utils&&!b){const E=r.utils[A];if(E!==o){o=E,v(E(p)),o=null;continue}}else if(A in zk){const E=zk[A];if(E!==a){a=E,v(E(p)),a=null;continue}}if(x&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,T,M,P,D,F)=>{const O=Sb.test(T),U=.0625*(O?-1:1),[N,$]=O?[P,T]:[T,P];return"("+(M[0]==="="?"":M[0]===">"===O?"max-":"min-")+N+":"+(M[0]!=="="&&M.length===1?$.replace(Sb,(X,q,z)=>Number(q)+U*(M===">"?1:-1)+z):$)+(D?") and ("+(D[0]===">"?"min-":"max-")+N+":"+(D.length===1?F.replace(Sb,(X,q,z)=>Number(q)+U*(D===">"?-1:1)+z):F):"")+")"})),b){const E=x?f.concat(d):[...f],T=x?[...c]:lae(c,d.split(fae));s!==void 0&&i(Gk(...s)),s=void 0,l(p,T,E)}else s===void 0&&(s=[[],c,f]),d=x||d.charCodeAt(0)!==36?d:`--${El(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=b?p:typeof p=="number"?p&&A in hae?String(p)+"px":String(p):$6(uae(A,p??""),r.prefix,r.themeMap[A]),s[0].push(`${x?`${d} `:`${lC(d)}:`}${p}`)}}var y,_};v(u),s!==void 0&&i(Gk(...s)),s=void 0};l(n,e,t)},Gk=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,hae={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Hk=n=>String.fromCharCode(n+(n>25?39:97)),mf=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Hk(t%52)+r;return Hk(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Vm=["themed","global","styled","onevar","resonevar","allvar","inline"],pae=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},mae=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(n).styleSheets||[];for(const a of i)if(pae(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=c;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),v=Vm[p[0]];v&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[v]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Vm.length-1;a>=0;--a){const l=Vm[a];if(!o[l]){const u=Vm[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}gae(o[l])}};return r(),e},gae=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Rm=Symbol(),vae=xp(),Vk=(n,e)=>vae(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[pf]){r.type==null&&(r.type=i[pf].type);for(const s of i[pf].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(yae(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),_ae(n,r,e)}),yae=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${El(i.prefix)}c-${mf(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){c=l,f=d,oae.call(c,f)||(l[d]="undefined");const p=n[d];for(const v in p){const g={[d]:String(v)};String(v)==="undefined"&&u.push(d);const y=p[v],_=[g,y,!Uk(y)];o.push(_)}}var c,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...v}=d;p=typeof p=="object"&&p||{};for(const y in v)v[y]=String(v[y]);const g=[v,p,!Uk(p)];a.push(g)}return[s,r,o,a,l,u]},_ae=(n,e,t)=>{const[r,i,s,o]=xae(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[Rm].length;p++){const[v,g]=d[Rm][p];f.rules[v].apply(g)}return d[Rm]=[],null}return d[Rm]=[],d.rules={},Vm.forEach(p=>d.rules[p]={apply:v=>d[Rm].push([p,v])}),d})(t):null,l=(a||t).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||wae;const{css:d,...p}=f,v={};for(const _ in s)if(delete p[_],_ in f){let x=f[_];typeof x=="object"&&x?v[_]={"@initial":s[_],...x}:(x=String(x),v[_]=x!=="undefined"||o.has(_)?x:s[_])}else v[_]=s[_];const g=new Set([...i]);for(const[_,x,w,A]of e.composers){t.rules.styled.cache.has(_)||(t.rules.styled.cache.add(_),rh(x,[`.${_}`],[],n,T=>{l.styled.apply(T)}));const b=Wk(w,v,n.media),E=Wk(A,v,n.media,!0);for(const T of b)if(T!==void 0)for(const[M,P,D]of T){const F=`${_}-${mf(P)}-${M}`;g.add(F);const O=(D?t.rules.resonevar:t.rules.onevar).cache,U=D?l.resonevar:l.onevar;O.has(F)||(O.add(F),rh(P,[`.${F}`],[],n,N=>{U.apply(N)}))}for(const T of E)if(T!==void 0)for(const[M,P]of T){const D=`${_}-${mf(P)}-${M}`;g.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),rh(P,[`.${D}`],[],n,F=>{l.allvar.apply(F)}))}}if(typeof d=="object"&&d){const _=`${r}-i${mf(d)}-css`;g.add(_),t.rules.inline.cache.has(_)||(t.rules.inline.cache.add(_),rh(d,[`.${_}`],[],n,x=>{l.inline.apply(x)}))}for(const _ of String(f.className||"").trim().split(/\s+/))_&&g.add(_);const y=p.className=[...g].join(" ");return{type:e.type,className:y,selector:u,props:p,toString:()=>y,deferredInjector:a}};return UP(c,{className:r,selector:u,[pf]:e,toString:()=>(t.rules.styled.cache.has(r)||c(),r)})},xae=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,t,r,new Set(i)]},Wk=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,v,g=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const _=y.slice(1);(v=v||[]).push(_ in t?t[_]:y.replace(/^@media ?/,"")),c=!0}u+=g,p=!0}++g}if(v&&v.length&&(o={["@media "+v.join(", ")]:o}),!p)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},wae={},Sae=xp(),Aae=(n,e)=>Sae(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=mf(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}rh(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return UP(r,{toString:r})}),bae=xp(),Mae=(n,e)=>bae(n,()=>t=>{const r=`${El(n.prefix)}k-${mf(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];rh(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return UP(i,{get name(){return i()},toString:i})}),Eae=class{constructor(e,t,r,i){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+El(this.prefix)+El(this.scale)+this.token}toString(){return this.computedValue}},Cae=xp(),Tae=(n,e)=>Cae(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${El(n.prefix)}t-${mf(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${El(n.prefix)}${l}-${u}`,f=$6(String(r[l][u]),n.prefix,l);s[l][u]=new Eae(u,f,l,n.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Pae=xp(),Rae=xp(),Iae=n=>{const e=(t=>{let r=!1;const i=Pae(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...iae},utils:typeof s.utils=="object"&&s.utils||{}},f=mae(l),d={css:Vk(c,f),globalCss:Aae(c,f),keyframes:Mae(c,f),createTheme:Tae(c,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:c,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(u)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Rae(t,()=>{const i=Vk(t,r);return(...s)=>{const o=i(...s),a=o[pf].type,l=ue.forwardRef((u,c)=>{const f=u&&u.as||a,{props:d,deferredInjector:p}=o(u);return delete d.as,d.ref=c,p?ue.createElement(ue.Fragment,null,ue.createElement(f,d),ue.createElement(p,null)):ue.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[pf]=o[pf],l}}))(e),e};function rl(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function X6(n,e=[]){let t=[];function r(s,o){const a=I.createContext(o),l=t.length;t=[...t,o];const u=f=>{var _;const{scope:d,children:p,...v}=f,g=((_=d==null?void 0:d[n])==null?void 0:_[l])||a,y=I.useMemo(()=>v,Object.values(v));return Ge.jsx(g.Provider,{value:y,children:p})};u.displayName=s+"Provider";function c(f,d){var g;const p=((g=d==null?void 0:d[n])==null?void 0:g[l])||a,v=I.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,c]}const i=()=>{const s=t.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return I.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Dae(i,...e)]}function Dae(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function wp(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Bae(n,e=globalThis==null?void 0:globalThis.document){const t=wp(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Lae="DismissableLayer",uC="dismissableLayer.update",kae="dismissableLayer.pointerDownOutside",Oae="dismissableLayer.focusOutside",jk,J6=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K6=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,u=I.useContext(J6),[c,f]=I.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=I.useState({}),v=Xf(e,T=>f(T)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(y),x=c?g.indexOf(c):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,A=x>=_,b=Uae(T=>{const M=T.target,P=[...u.branches].some(D=>D.contains(M));!A||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),E=zae(T=>{const M=T.target;[...u.branches].some(D=>D.contains(M))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return Bae(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),I.useEffect(()=>{if(c)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jk=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),$k(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=jk)}},[c,d,t,u]),I.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),$k())},[c,u]),I.useEffect(()=>{const T=()=>p({});return document.addEventListener(uC,T),()=>document.removeEventListener(uC,T)},[]),Ge.jsx(qu.div,{...l,ref:v,style:{pointerEvents:w?A?"auto":"none":void 0,...n.style},onFocusCapture:rl(n.onFocusCapture,E.onFocusCapture),onBlurCapture:rl(n.onBlurCapture,E.onBlurCapture),onPointerDownCapture:rl(n.onPointerDownCapture,b.onPointerDownCapture)})});K6.displayName=Lae;var Fae="DismissableLayerBranch",Nae=I.forwardRef((n,e)=>{const t=I.useContext(J6),r=I.useRef(null),i=Xf(e,r);return I.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),Ge.jsx(qu.div,{...n,ref:i})});Nae.displayName=Fae;function Uae(n,e=globalThis==null?void 0:globalThis.document){const t=wp(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Y6(kae,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function zae(n,e=globalThis==null?void 0:globalThis.document){const t=wp(n),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&Y6(Oae,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $k(){const n=new CustomEvent(uC);document.dispatchEvent(n)}function Y6(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Qoe(i,s):i.dispatchEvent(s)}var Gae=b7.useId||(()=>{}),Hae=0;function Vae(n){const[e,t]=I.useState(Gae());return kf(()=>{t(r=>r??String(Hae++))},[n]),e?`radix-${e}`:""}const Wae=["top","right","bottom","left"],Nu=Math.min,ws=Math.max,nx=Math.round,w1=Math.floor,xa=n=>({x:n,y:n}),jae={left:"right",right:"left",bottom:"top",top:"bottom"},$ae={start:"end",end:"start"};function cC(n,e,t){return ws(n,Nu(e,t))}function Cl(n,e){return typeof n=="function"?n(e):n}function Tl(n){return n.split("-")[0]}function Sp(n){return n.split("-")[1]}function zP(n){return n==="x"?"y":"x"}function GP(n){return n==="y"?"height":"width"}function Uu(n){return["top","bottom"].includes(Tl(n))?"y":"x"}function HP(n){return zP(Uu(n))}function Xae(n,e,t){t===void 0&&(t=!1);const r=Sp(n),i=HP(n),s=GP(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=rx(o)),[o,rx(o)]}function Jae(n){const e=rx(n);return[fC(n),e,fC(e)]}function fC(n){return n.replace(/start|end/g,e=>$ae[e])}function Kae(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Yae(n,e,t,r){const i=Sp(n);let s=Kae(Tl(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(fC)))),s}function rx(n){return n.replace(/left|right|bottom|top/g,e=>jae[e])}function Qae(n){return{top:0,right:0,bottom:0,left:0,...n}}function Q6(n){return typeof n!="number"?Qae(n):{top:n,right:n,bottom:n,left:n}}function ix(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Xk(n,e,t){let{reference:r,floating:i}=n;const s=Uu(e),o=HP(e),a=GP(o),l=Tl(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Sp(e)){case"start":p[o]-=d*(t&&u?-1:1);break;case"end":p[o]+=d*(t&&u?-1:1);break}return p}const Zae=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:c,y:f}=Xk(u,r,l),d=r,p={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:_}=a[g],{x,y:w,data:A,reset:b}=await _({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});c=x??c,f=w??f,p={...p,[y]:{...p[y],...A}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(u=b.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):b.rects),{x:c,y:f}=Xk(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function f0(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Cl(e,n),v=Q6(p),y=a[d?f==="floating"?"reference":"floating":f],_=ix(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),x=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},b=ix(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(_.top-b.top+v.top)/A.y,bottom:(b.bottom-_.bottom+v.bottom)/A.y,left:(_.left-b.left+v.left)/A.x,right:(b.right-_.right+v.right)/A.x}}const qae=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=Cl(n,e)||{};if(u==null)return{};const f=Q6(c),d={x:t,y:r},p=HP(i),v=GP(p),g=await o.getDimensions(u),y=p==="y",_=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[p]-d[p]-s.floating[v],b=d[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=E?E[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=a.floating[w]||s.floating[v]);const M=A/2-b/2,P=T/2-g[v]/2-1,D=Nu(f[_],P),F=Nu(f[x],P),O=D,U=T-g[v]-F,N=T/2-g[v]/2+M,$=cC(O,N,U),X=!l.arrow&&Sp(i)!=null&&N!==$&&s.reference[v]/2-(N<O?D:F)-g[v]/2<0,q=X?N<O?N-O:N-U:0;return{[p]:d[p]+q,data:{[p]:$,centerOffset:N-$-q,...X&&{alignmentOffset:q}},reset:X}}}),ele=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Cl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=Tl(i),x=Uu(a),w=Tl(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),b=d||(w||!g?[rx(a)]:Jae(a)),E=v!=="none";!d&&E&&b.push(...Yae(a,g,v,A));const T=[a,...b],M=await f0(e,y),P=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&P.push(M[_]),f){const N=Xae(i,o,A);P.push(M[N[0]],M[N[1]])}if(D=[...D,{placement:i,overflows:P}],!P.every(N=>N<=0)){var F,O;const N=(((F=s.flip)==null?void 0:F.index)||0)+1,$=T[N];if($)return{data:{index:N,overflows:D},reset:{placement:$}};let X=(O=D.filter(q=>q.overflows[0]<=0).sort((q,z)=>q.overflows[1]-z.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(p){case"bestFit":{var U;const q=(U=D.filter(z=>{if(E){const j=Uu(z.placement);return j===x||j==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((z,j)=>z[1]-j[1])[0])==null?void 0:U[0];q&&(X=q);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function Jk(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Kk(n){return Wae.some(e=>n[e]>=0)}const tle=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Cl(n,e);switch(r){case"referenceHidden":{const s=await f0(e,{...i,elementContext:"reference"}),o=Jk(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Kk(o)}}}case"escaped":{const s=await f0(e,{...i,altBoundary:!0}),o=Jk(s,t.floating);return{data:{escapedOffsets:o,escaped:Kk(o)}}}default:return{}}}}};async function nle(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tl(t),a=Sp(t),l=Uu(t)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,f=Cl(e,n);let{mainAxis:d,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*c,y:d*u}:{x:d*u,y:p*c}}const rle=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await nle(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ile=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:x}=y;return{x:_,y:x}}},...l}=Cl(n,e),u={x:t,y:r},c=await f0(e,l),f=Uu(Tl(i)),d=zP(f);let p=u[d],v=u[f];if(s){const y=d==="y"?"top":"left",_=d==="y"?"bottom":"right",x=p+c[y],w=p-c[_];p=cC(x,p,w)}if(o){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=v+c[y],w=v-c[_];v=cC(x,v,w)}const g=a.fn({...e,[d]:p,[f]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[d]:s,[f]:o}}}}}},sle=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Cl(n,e),c={x:t,y:r},f=Uu(i),d=zP(f);let p=c[d],v=c[f];const g=Cl(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=d==="y"?"height":"width",A=s.reference[d]-s.floating[w]+y.mainAxis,b=s.reference[d]+s.reference[w]-y.mainAxis;p<A?p=A:p>b&&(p=b)}if(u){var _,x;const w=d==="y"?"width":"height",A=["top","left"].includes(Tl(i)),b=s.reference[f]-s.floating[w]+(A&&((_=o.offset)==null?void 0:_[f])||0)+(A?0:y.crossAxis),E=s.reference[f]+s.reference[w]+(A?0:((x=o.offset)==null?void 0:x[f])||0)-(A?y.crossAxis:0);v<b?v=b:v>E&&(v=E)}return{[d]:p,[f]:v}}}},ole=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Cl(n,e),c=await f0(e,u),f=Tl(i),d=Sp(i),p=Uu(i)==="y",{width:v,height:g}=s.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,y=d==="end"?"top":"bottom");const x=g-c.top-c.bottom,w=v-c.left-c.right,A=Nu(g-c[y],x),b=Nu(v-c[_],w),E=!e.middlewareData.shift;let T=A,M=b;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(M=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=x),E&&!d){const D=ws(c.left,0),F=ws(c.right,0),O=ws(c.top,0),U=ws(c.bottom,0);p?M=v-2*(D!==0||F!==0?D+F:ws(c.left,c.right)):T=g-2*(O!==0||U!==0?O+U:ws(c.top,c.bottom))}await l({...e,availableWidth:M,availableHeight:T});const P=await o.getDimensions(a.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Pw(){return typeof window<"u"}function Ap(n){return Z6(n)?(n.nodeName||"").toLowerCase():"#document"}function Ts(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ia(n){var e;return(e=(Z6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Z6(n){return Pw()?n instanceof Node||n instanceof Ts(n).Node:!1}function jo(n){return Pw()?n instanceof Element||n instanceof Ts(n).Element:!1}function Ta(n){return Pw()?n instanceof HTMLElement||n instanceof Ts(n).HTMLElement:!1}function Yk(n){return!Pw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ts(n).ShadowRoot}function sv(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=$o(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function ale(n){return["table","td","th"].includes(Ap(n))}function Rw(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function VP(n){const e=WP(),t=jo(n)?$o(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function lle(n){let e=zu(n);for(;Ta(e)&&!Vh(e);){if(VP(e))return e;if(Rw(e))return null;e=zu(e)}return null}function WP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vh(n){return["html","body","#document"].includes(Ap(n))}function $o(n){return Ts(n).getComputedStyle(n)}function Iw(n){return jo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function zu(n){if(Ap(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Yk(n)&&n.host||Ia(n);return Yk(e)?e.host:e}function q6(n){const e=zu(n);return Vh(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ta(e)&&sv(e)?e:q6(e)}function d0(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=q6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ts(i);if(s){const a=dC(o);return e.concat(o,o.visualViewport||[],sv(i)?i:[],a&&t?d0(a):[])}return e.concat(i,d0(i,[],t))}function dC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function e8(n){const e=$o(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ta(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=nx(t)!==s||nx(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function jP(n){return jo(n)?n:n.contextElement}function bh(n){const e=jP(n);if(!Ta(e))return xa(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=e8(e);let o=(s?nx(t.width):t.width)/r,a=(s?nx(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ule=xa(0);function t8(n){const e=Ts(n);return!WP()||!e.visualViewport?ule:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cle(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ts(n)?!1:e}function Of(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=jP(n);let o=xa(1);e&&(r?jo(r)&&(o=bh(r)):o=bh(n));const a=cle(s,t,r)?t8(s):xa(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Ts(s),p=r&&jo(r)?Ts(r):r;let v=d,g=dC(v);for(;g&&r&&p!==v;){const y=bh(g),_=g.getBoundingClientRect(),x=$o(g),w=_.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,A=_.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,u*=y.y,c*=y.x,f*=y.y,l+=w,u+=A,v=Ts(g),g=dC(v)}}return ix({width:c,height:f,x:l,y:u})}function $P(n,e){const t=Iw(n).scrollLeft;return e?e.left+t:Of(Ia(n)).left+t}function n8(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:$P(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function fle(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Ia(r),a=e?Rw(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=xa(1);const c=xa(0),f=Ta(r);if((f||!f&&!s)&&((Ap(r)!=="body"||sv(o))&&(l=Iw(r)),Ta(r))){const p=Of(r);u=bh(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const d=o&&!f&&!s?n8(o,l,!0):xa(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:t.y*u.y-l.scrollTop*u.y+c.y+d.y}}function dle(n){return Array.from(n.getClientRects())}function hle(n){const e=Ia(n),t=Iw(n),r=n.ownerDocument.body,i=ws(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ws(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+$P(n);const a=-t.scrollTop;return $o(r).direction==="rtl"&&(o+=ws(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ple(n,e){const t=Ts(n),r=Ia(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=WP();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function mle(n,e){const t=Of(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ta(n)?bh(n):xa(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Qk(n,e,t){let r;if(e==="viewport")r=ple(n,t);else if(e==="document")r=hle(Ia(n));else if(jo(e))r=mle(e,t);else{const i=t8(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ix(r)}function r8(n,e){const t=zu(n);return t===e||!jo(t)||Vh(t)?!1:$o(t).position==="fixed"||r8(t,e)}function gle(n,e){const t=e.get(n);if(t)return t;let r=d0(n,[],!1).filter(a=>jo(a)&&Ap(a)!=="body"),i=null;const s=$o(n).position==="fixed";let o=s?zu(n):n;for(;jo(o)&&!Vh(o);){const a=$o(o),l=VP(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sv(o)&&!l&&r8(n,o))?r=r.filter(c=>c!==o):i=a,o=zu(o)}return e.set(n,r),r}function vle(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Rw(e)?[]:gle(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,c)=>{const f=Qk(e,c,i);return u.top=ws(f.top,u.top),u.right=Nu(f.right,u.right),u.bottom=Nu(f.bottom,u.bottom),u.left=ws(f.left,u.left),u},Qk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yle(n){const{width:e,height:t}=e8(n);return{width:e,height:t}}function _le(n,e,t){const r=Ta(e),i=Ia(e),s=t==="fixed",o=Of(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=xa(0);if(r||!r&&!s)if((Ap(e)!=="body"||sv(i))&&(a=Iw(e)),r){const d=Of(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=$P(i));const u=i&&!r&&!s?n8(i,a):xa(0),c=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:c,y:f,width:o.width,height:o.height}}function Ab(n){return $o(n).position==="static"}function Zk(n,e){if(!Ta(n)||$o(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ia(n)===t&&(t=t.ownerDocument.body),t}function i8(n,e){const t=Ts(n);if(Rw(n))return t;if(!Ta(n)){let i=zu(n);for(;i&&!Vh(i);){if(jo(i)&&!Ab(i))return i;i=zu(i)}return t}let r=Zk(n,e);for(;r&&ale(r)&&Ab(r);)r=Zk(r,e);return r&&Vh(r)&&Ab(r)&&!VP(r)?t:r||lle(n)||t}const xle=async function(n){const e=this.getOffsetParent||i8,t=this.getDimensions,r=await t(n.floating);return{reference:_le(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wle(n){return $o(n).direction==="rtl"}const Sle={convertOffsetParentRelativeRectToViewportRelativeRect:fle,getDocumentElement:Ia,getClippingRect:vle,getOffsetParent:i8,getElementRects:xle,getClientRects:dle,getDimensions:yle,getScale:bh,isElement:jo,isRTL:wle};function s8(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Ale(n,e){let t=null,r;const i=Ia(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:c,top:f,width:d,height:p}=u;if(a||e(),!d||!p)return;const v=w1(f),g=w1(i.clientWidth-(c+d)),y=w1(i.clientHeight-(f+p)),_=w1(c),w={rootMargin:-v+"px "+-g+"px "+-y+"px "+-_+"px",threshold:ws(0,Nu(1,l))||1};let A=!0;function b(E){const T=E[0].intersectionRatio;if(T!==l){if(!A)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!s8(u,n.getBoundingClientRect())&&o(),A=!1}try{t=new IntersectionObserver(b,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(b,w)}t.observe(n)}return o(!0),s}function ble(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=jP(n),c=i||s?[...u?d0(u):[],...d0(e)]:[];c.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const f=u&&a?Ale(u,t):null;let d=-1,p=null;o&&(p=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let v,g=l?Of(n):null;l&&y();function y(){const _=Of(n);g&&!s8(g,_)&&t(),g=_,v=requestAnimationFrame(y)}return t(),()=>{var _;c.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const Mle=rle,Ele=ile,Cle=ele,Tle=ole,Ple=tle,qk=qae,Rle=sle,Ile=(n,e,t)=>{const r=new Map,i={platform:Sle,...t},s={...i.platform,_c:r};return Zae(n,e,{...i,platform:s})};var s_=typeof document<"u"?I.useLayoutEffect:I.useEffect;function sx(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!sx(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!sx(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function o8(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function eO(n,e){const t=o8(n);return Math.round(e*t)/t}function bb(n){const e=I.useRef(n);return s_(()=>{e.current=n}),e}function Dle(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[c,f]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=I.useState(r);sx(d,r)||p(r);const[v,g]=I.useState(null),[y,_]=I.useState(null),x=I.useCallback(z=>{z!==E.current&&(E.current=z,g(z))},[]),w=I.useCallback(z=>{z!==T.current&&(T.current=z,_(z))},[]),A=s||v,b=o||y,E=I.useRef(null),T=I.useRef(null),M=I.useRef(c),P=l!=null,D=bb(l),F=bb(i),O=bb(u),U=I.useCallback(()=>{if(!E.current||!T.current)return;const z={placement:e,strategy:t,middleware:d};F.current&&(z.platform=F.current),Ile(E.current,T.current,z).then(j=>{const H={...j,isPositioned:O.current!==!1};N.current&&!sx(M.current,H)&&(M.current=H,Kx.flushSync(()=>{f(H)}))})},[d,e,t,F,O]);s_(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const N=I.useRef(!1);s_(()=>(N.current=!0,()=>{N.current=!1}),[]),s_(()=>{if(A&&(E.current=A),b&&(T.current=b),A&&b){if(D.current)return D.current(A,b,U);U()}},[A,b,U,D,P]);const $=I.useMemo(()=>({reference:E,floating:T,setReference:x,setFloating:w}),[x,w]),X=I.useMemo(()=>({reference:A,floating:b}),[A,b]),q=I.useMemo(()=>{const z={position:t,left:0,top:0};if(!X.floating)return z;const j=eO(X.floating,c.x),H=eO(X.floating,c.y);return a?{...z,transform:"translate("+j+"px, "+H+"px)",...o8(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:j,top:H}},[t,a,X.floating,c.x,c.y]);return I.useMemo(()=>({...c,update:U,refs:$,elements:X,floatingStyles:q}),[c,U,$,X,q])}const Ble=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?qk({element:r.current,padding:i}).fn(t):{}:r?qk({element:r,padding:i}).fn(t):{}}}},Lle=(n,e)=>({...Mle(n),options:[n,e]}),kle=(n,e)=>({...Ele(n),options:[n,e]}),Ole=(n,e)=>({...Rle(n),options:[n,e]}),Fle=(n,e)=>({...Cle(n),options:[n,e]}),Nle=(n,e)=>({...Tle(n),options:[n,e]}),Ule=(n,e)=>({...Ple(n),options:[n,e]}),zle=(n,e)=>({...Ble(n),options:[n,e]});var Gle="Arrow",a8=I.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return Ge.jsx(qu.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:Ge.jsx("polygon",{points:"0,0 30,0 15,10"})})});a8.displayName=Gle;var Hle=a8;function Vle(n){const[e,t]=I.useState(void 0);return kf(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var XP="Popper",[l8,u8]=X6(XP),[Wle,c8]=l8(XP),f8=n=>{const{__scopePopper:e,children:t}=n,[r,i]=I.useState(null);return Ge.jsx(Wle,{scope:e,anchor:r,onAnchorChange:i,children:t})};f8.displayName=XP;var d8="PopperAnchor",h8=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=c8(d8,t),o=I.useRef(null),a=Xf(e,o);return I.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:Ge.jsx(qu.div,{...i,ref:a})});h8.displayName=d8;var JP="PopperContent",[jle,$le]=l8(JP),p8=I.forwardRef((n,e)=>{var ce,fe,Re,Ae,ye,le;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=n,y=c8(JP,t),[_,x]=I.useState(null),w=Xf(e,de=>x(de)),[A,b]=I.useState(null),E=Vle(A),T=(E==null?void 0:E.width)??0,M=(E==null?void 0:E.height)??0,P=r+(s!=="center"?"-"+s:""),D=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},F=Array.isArray(u)?u:[u],O=F.length>0,U={padding:D,boundary:F.filter(Jle),altBoundary:O},{refs:N,floatingStyles:$,placement:X,isPositioned:q,middlewareData:z}=Dle({strategy:"fixed",placement:P,whileElementsMounted:(...de)=>ble(...de,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Lle({mainAxis:i+M,alignmentAxis:o}),l&&kle({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ole():void 0,...U}),l&&Fle({...U}),Nle({...U,apply:({elements:de,rects:Ie,availableWidth:Ve,availableHeight:Be})=>{const{width:Ye,height:De}=Ie.reference,Ue=de.floating.style;Ue.setProperty("--radix-popper-available-width",`${Ve}px`),Ue.setProperty("--radix-popper-available-height",`${Be}px`),Ue.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ue.setProperty("--radix-popper-anchor-height",`${De}px`)}}),A&&zle({element:A,padding:a}),Kle({arrowWidth:T,arrowHeight:M}),d&&Ule({strategy:"referenceHidden",...U})]}),[j,H]=v8(X),V=wp(v);kf(()=>{q&&(V==null||V())},[q,V]);const G=(ce=z.arrow)==null?void 0:ce.x,J=(fe=z.arrow)==null?void 0:fe.y,re=((Re=z.arrow)==null?void 0:Re.centerOffset)!==0,[te,Y]=I.useState();return kf(()=>{_&&Y(window.getComputedStyle(_).zIndex)},[_]),Ge.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:q?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Ae=z.transformOrigin)==null?void 0:Ae.x,(ye=z.transformOrigin)==null?void 0:ye.y].join(" "),...((le=z.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:Ge.jsx(jle,{scope:t,placedSide:j,onArrowChange:b,arrowX:G,arrowY:J,shouldHideArrow:re,children:Ge.jsx(qu.div,{"data-side":j,"data-align":H,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});p8.displayName=JP;var m8="PopperArrow",Xle={top:"bottom",right:"left",bottom:"top",left:"right"},g8=I.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=$le(m8,r),o=Xle[s.placedSide];return Ge.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:Ge.jsx(Hle,{...i,ref:t,style:{...i.style,display:"block"}})})});g8.displayName=m8;function Jle(n){return n!==null}var Kle=n=>({name:"transformOrigin",options:n,fn(e){var y,_,x;const{placement:t,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,c]=v8(t),f={start:"0%",center:"50%",end:"100%"}[c],d=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?f:`${d}px`,g=`${-l}px`):u==="top"?(v=o?f:`${d}px`,g=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?f:`${p}px`):u==="left"&&(v=`${r.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:v,y:g}}}});function v8(n){const[e,t="center"]=n.split("-");return[e,t]}var Yle=f8,Qle=h8,Zle=p8,qle=g8;function eue(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var y8=n=>{const{present:e,children:t}=n,r=tue(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),s=Xf(r.ref,nue(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};y8.displayName="Presence";function tue(n){const[e,t]=I.useState(),r=I.useRef({}),i=I.useRef(n),s=I.useRef("none"),o=n?"mounted":"unmounted",[a,l]=eue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=S1(r.current);s.current=a==="mounted"?u:"none"},[a]),kf(()=>{const u=r.current,c=i.current;if(c!==n){const d=s.current,p=S1(u);n?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),kf(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=p=>{const g=S1(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},d=p=>{p.target===e&&(s.current=S1(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(u=>{u&&(r.current=getComputedStyle(u)),t(u)},[])}}function S1(n){return(n==null?void 0:n.animationName)||"none"}function nue(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function rue({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=iue({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=wp(t),l=I.useCallback(u=>{if(s){const f=typeof u=="function"?u(n):u;f!==n&&a(f)}else i(u)},[s,n,i,a]);return[o,l]}function iue({defaultProp:n,onChange:e}){const t=I.useState(n),[r]=t,i=I.useRef(r),s=wp(e);return I.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var sue="VisuallyHidden",_8=I.forwardRef((n,e)=>Ge.jsx(qu.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));_8.displayName=sue;var oue=_8,[Dw,Y_e]=X6("Tooltip",[u8]),Bw=u8(),aue="TooltipProvider",hC="tooltip.open",[Q_e,KP]=Dw(aue),Lw="Tooltip",[lue,kw]=Dw(Lw),x8=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=KP(Lw,n.__scopeTooltip),u=Bw(e),[c,f]=I.useState(null),d=Vae(),p=I.useRef(0),v=o??l.disableHoverableContent,g=a??l.delayDuration,y=I.useRef(!1),[_=!1,x]=rue({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(hC))):l.onClose(),s==null||s(T)}}),w=I.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),A=I.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,x(!0)},[x]),b=I.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),E=I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,x(!0),p.current=0},g)},[g,x]);return I.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),Ge.jsx(Yle,{...u,children:Ge.jsx(lue,{scope:e,contentId:d,open:_,stateAttribute:w,trigger:c,onTriggerChange:f,onTriggerEnter:I.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:I.useCallback(()=>{v?b():(window.clearTimeout(p.current),p.current=0)},[b,v]),onOpen:A,onClose:b,disableHoverableContent:v,children:t})})};x8.displayName=Lw;var pC="TooltipTrigger",w8=I.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=kw(pC,t),s=KP(pC,t),o=Bw(t),a=I.useRef(null),l=Xf(e,a,i.onTriggerChange),u=I.useRef(!1),c=I.useRef(!1),f=I.useCallback(()=>u.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),Ge.jsx(Qle,{asChild:!0,...o,children:Ge.jsx(qu.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:rl(n.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:rl(n.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:rl(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:rl(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:rl(n.onBlur,i.onClose),onClick:rl(n.onClick,i.onClose)})})});w8.displayName=pC;var uue="TooltipPortal",[Z_e,cue]=Dw(uue,{forceMount:void 0}),Wh="TooltipContent",S8=I.forwardRef((n,e)=>{const t=cue(Wh,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=kw(Wh,n.__scopeTooltip);return Ge.jsx(y8,{present:r||o.open,children:o.disableHoverableContent?Ge.jsx(A8,{side:i,...s,ref:e}):Ge.jsx(fue,{side:i,...s,ref:e})})}),fue=I.forwardRef((n,e)=>{const t=kw(Wh,n.__scopeTooltip),r=KP(Wh,n.__scopeTooltip),i=I.useRef(null),s=Xf(e,i),[o,a]=I.useState(null),{trigger:l,onClose:u}=t,c=i.current,{onPointerInTransitChange:f}=r,d=I.useCallback(()=>{a(null),f(!1)},[f]),p=I.useCallback((v,g)=>{const y=v.currentTarget,_={x:v.clientX,y:v.clientY},x=pue(_,y.getBoundingClientRect()),w=mue(_,x),A=gue(g.getBoundingClientRect()),b=yue([...w,...A]);a(b),f(!0)},[f]);return I.useEffect(()=>()=>d(),[d]),I.useEffect(()=>{if(l&&c){const v=y=>p(y,c),g=y=>p(y,l);return l.addEventListener("pointerleave",v),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),c.removeEventListener("pointerleave",g)}}},[l,c,p,d]),I.useEffect(()=>{if(o){const v=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(y))||(c==null?void 0:c.contains(y)),w=!vue(_,o);x?d():w&&(d(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,c,o,u,d]),Ge.jsx(A8,{...n,ref:s})}),[due,hue]=Dw(Lw,{isInside:!1}),A8=I.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=kw(Wh,t),u=Bw(t),{onClose:c}=l;return I.useEffect(()=>(document.addEventListener(hC,c),()=>document.removeEventListener(hC,c)),[c]),I.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),Ge.jsx(K6,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:Ge.jsxs(Zle,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Ge.jsx(z6,{children:r}),Ge.jsx(due,{scope:t,isInside:!0,children:Ge.jsx(oue,{id:l.contentId,role:"tooltip",children:i||r})})]})})});S8.displayName=Wh;var b8="TooltipArrow",M8=I.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Bw(t);return hue(b8,t).isInside?null:Ge.jsx(qle,{...i,...r,ref:e})});M8.displayName=b8;function pue(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mue(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function gue(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function vue(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,c=e[o].y;l>r!=c>r&&t<(u-a)*(r-l)/(c-l)+a&&(i=!i)}return i}function yue(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),_ue(e)}function _ue(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var xue=x8,wue=w8,Sue=S8,Aue=M8;function bue(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xn(n,e){if(n==null)return{};var t=bue(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Kn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Kn||(Kn={}));const Mue={[Kn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Kn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Kn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Kn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Kn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Kn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Kn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Kn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Kn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Kn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Kn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function E8(n,e,...t){const[r,...i]=Mue[e](...t);console[n]("LEVA: "+r,...i)}const ol=E8.bind(null,"warn"),Eue=E8.bind(null,"log"),Cue=["value"],Tue=["schema"],Pue=["value"],C8=[],Ff={};function tO(n){let{value:e}=n,t=xn(n,Cue);for(let r of C8){const i=r(e,t);if(i)return i}}function kl(n,e){let{schema:t}=e,r=xn(e,Tue);if(n in Ff){ol(Kn.ALREADY_REGISTERED_TYPE,n);return}C8.push((i,s)=>t(i,s)&&n),Ff[n]=r}function Mb(n,e,t,r){const{normalize:i}=Ff[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=xn(e,Pue);return{value:s,settings:o}}function Rue(n,e,t,r,i,s){const{sanitize:o}=Ff[n];return o?o(e,t,r,i,s):e}function nO(n,e,t){const{format:r}=Ff[n];return r?r(e,t):e}function Iue(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(t),!0).forEach(function(r){Iue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Gu=(n,e,t)=>n>t?t:n<e?e:n,Due=n=>{if(n===""||typeof n=="number")return n;try{const e=tu(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Bue=Math.log(10);function iO(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Bue)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const ox=(n,e,t)=>t===e?0:(Gu(n,e,t)-e)/(t-e),ax=(n,e,t)=>n*(t-e)+e,Lue=()=>"_"+Math.random().toString(36).substr(2,9),sO=/\(([0-9+\-*/^ .]+)\)/,oO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,aO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,lO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,uO=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,cO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function tu(n){if(isNaN(Number(n)))if(sO.test(n)){const e=n.replace(sO,(t,r)=>String(tu(r)));return tu(e)}else if(oO.test(n)){const e=n.replace(oO,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return tu(e)}else if(aO.test(n)){const e=n.replace(aO,(t,r,i)=>String(Number(r)*Number(i)));return tu(e)}else if(lO.test(n)){const e=n.replace(lO,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return tu(e)}else if(uO.test(n)){const e=n.replace(uO,(t,r,i)=>String(Number(r)+Number(i)));return tu(e)}else if(cO.test(n)){const e=n.replace(cO,(t,r,i)=>String(Number(r)-Number(i)));return tu(e)}else return Number(n);return Number(n)}function kue(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Oue(n,e){const t=Lt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Fue(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function T8(n){return Object.prototype.toString.call(n)==="[object Object]"}const Nue=n=>T8(n)&&Object.keys(n).length===0;let Uo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Uo||(Uo={}));let Xo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Xo||(Xo={}));const Uue=["type","__customInput"],zue=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Gue=["type"];function P8(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:Lt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:b,__customInput:E}=n,T=xn(n,Uue);return P8(E,e,T,b)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:f,onChange:d,onEditStart:p,onEditEnd:v,transient:g}=n,y=xn(n,zue),_=Lt({render:o,key:e,label:a??e,hint:f,transient:g??!!d,onEditStart:p,onEditEnd:v,disabled:c,optional:l,order:u},t);let{type:x}=y,w=xn(y,Gue);if(x=r??x,x in Uo)return{type:x,input:w,options:_};let A;return r&&T8(w)&&"value"in w?A=w.value:A=Nue(w)?void 0:w,{type:x,input:A,options:Lt(Lt({},_),{},{onChange:d,optional:(i=_.optional)!==null&&i!==void 0?i:!1,disabled:(s=_.disabled)!==null&&s!==void 0?s:!1})}}function Hue(n,e,t,r){const i=P8(n,e),{type:s,input:o,options:a}=i;if(s)return s in Uo?i:{type:s,input:Mb(s,o,t,r),options:a};let l=tO(o);return l?{type:l,input:Mb(l,o,t,r),options:a}:(l=tO({value:o}),l?{type:l,input:Mb(l,{value:o},t,r),options:a}:!1)}function fO(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=R8({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Vue=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function R8({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Rue(n,o,t,e,i,s)}catch(l){throw new Vue(`The value \`${r}\` did not result in a correct value.`,e,l)}return u0(a,e)?e:a}const I8=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},D8=n=>n.shiftKey?5:n.altKey?1/5:1;function Wue(n,e){const t=console.error;console.error=()=>{},ZU.render(n,e),console.error=t}const jue=["value"],$ue=["min","max"],Xue=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},B8=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=Gu(i,e,t);return r?s+r:s},Jue=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},L8=n=>{let{value:e}=n,t=xn(n,jue);const{min:r=-1/0,max:i=1/0}=t,s=xn(t,$ue);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Gu(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?iO(l)*10:iO(o);l=l||u/10;const c=Math.round(Gu(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:Lt({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},k8=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var O8=Object.freeze({__proto__:null,schema:Xue,sanitize:B8,format:Jue,normalize:L8,sanitizeStep:k8});function cr(){return cr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cr.apply(this,arguments)}const F8=I.createContext({});function Ei(){return I.useContext(F8)}const YP=I.createContext(null),N8=I.createContext(null),U8=I.createContext(null);function ov(){return I.useContext(N8)}function Kue(){return I.useContext(U8)}const z8=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function A1(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Im={$inputStyle:()=>n=>A1(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>A1(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>A1(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>A1(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Dt,css:q_e,createTheme:Yue,globalCss:Que,keyframes:exe}=Iae({prefix:"leva",theme:z8(),utils:Lt(Lt({},Im),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Im.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Im.$focusStyle()(n)}),$hover:n=>({"&:hover":Im.$hoverStyle()(n)}),$active:n=>({"&:active":Im.$activeStyle()(n)})})}),Zue=Que({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function que(n){const e=z8();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=Yue(e);return{theme:e,className:t.className}}function pl(n,e){const{theme:t}=I.useContext(YP);if(!(n in t)||!(e in t[n]))return ol(Kn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const G8=Dt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),H8=Dt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${G8}`]:{paddingLeft:0}}),ece=Dt(H8,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),tce=Dt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),nce=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],rce=["onUpdate"];function QP(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=n,c=xn(n,nce);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:v}=Ei(),g=a||f,y=I.useRef(null),_=u>0,x=_?"textarea":"input",w=I.useCallback(E=>T=>{const M=T.currentTarget.value;E(M)},[]);ue.useEffect(()=>{const E=y.current,T=w(M=>{r(M),p()});return E==null||E.addEventListener("blur",T),()=>E==null?void 0:E.removeEventListener("blur",T)},[w,r,p]);const A=I.useCallback(E=>{E.key==="Enter"&&w(r)(E)},[w,r]),b=Object.assign({as:x},_?{rows:u}:{},c);return ue.createElement(tce,{textArea:_},e&&typeof e=="string"?ue.createElement(H8,null,e):e,ue.createElement(G8,cr({levaType:o,ref:y,id:g,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:w(i),onFocus:()=>d(),onKeyPress:A,onKeyDown:s,disabled:v},b)))}function ice(n){let{onUpdate:e}=n,t=xn(n,rce);const r=I.useCallback(s=>e(Due(s)),[e]),i=I.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ue.createElement(QP,cr({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const lx=Dt("div",{}),mC=Dt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),sce=Dt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${mC}::after`]:{opacity:.6},[`${lx}:hover > & + ${mC}::after`]:{opacity:.6},[`${lx}:hover > & > svg`]:{opacity:1}}),V8=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${lx}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),W8=Dt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${V8} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),j8=Dt(W8,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),oce=Dt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),ace=Dt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),gC=Dt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),lce=Dt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${gC}`]:{pointerEvents:"auto"}}}}}),$8=Dt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),uce=Dt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),cce=Dt(Aue,{fill:"$toolTipBackground"});function ZP({children:n}){const{className:e}=I.useContext(YP);return ue.createElement(qoe,{className:e},n)}const fce=["align"];function dce(){const{id:n,disable:e,disabled:t}=Ei();return ue.createElement(ue.Fragment,null,ue.createElement(ace,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),ue.createElement("label",{htmlFor:n+"__disable"}))}function hce(n){const{id:e,optional:t,hint:r}=Ei(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return ue.createElement(ue.Fragment,null,t&&ue.createElement(dce,null),r!==void 0?ue.createElement(xue,null,ue.createElement(wue,{asChild:!0},ue.createElement(gC,cr({},i,n))),ue.createElement(Sue,{side:"top",sideOffset:2},ue.createElement(uce,null,r,ue.createElement(cce,null)))):ue.createElement(gC,cr({},i,s,n)))}function qo(n){let{align:e}=n,t=xn(n,fce);const{value:r,label:i,key:s,disabled:o}=Ei(),{hideCopyButton:a}=Kue(),l=!a&&s!==void 0,[u,c]=I.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{ol(Kn.CLIPBOARD_ERROR,{[s]:r})}};return ue.createElement(oce,{align:e,onPointerLeave:()=>c(!1)},ue.createElement(hce,t),l&&!o&&ue.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ue.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ue.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ue.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ue.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ue.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const pce=["toggled"],mce=Dt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function qP(n){let{toggled:e}=n,t=xn(n,pce);return ue.createElement(mce,cr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),ue.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const gce=["input"];function xo(n){let{input:e}=n,t=xn(n,gce);return e?ue.createElement(j8,t):ue.createElement(W8,t)}function X8({value:n,type:e,settings:t,setValue:r}){const[i,s]=I.useState(nO(e,n,t)),o=I.useRef(n),a=I.useRef(t);a.current=t;const l=I.useCallback(c=>s(nO(e,c,a.current)),[e]),u=I.useCallback(c=>{try{r(c)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return I.useEffect(()=>{u0(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:u}}function av(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Ei();return Une(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function vce(n){const e=I.useRef(null),t=I.useRef(null),r=I.useRef(!1);return I.useEffect(()=>{const i=I8(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),I.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function J8(){const n=I.useRef(null),e=I.useRef({x:0,y:0}),t=I.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const yce=["__refCount"],Eb=(n,e)=>{if(!n[e])return null;const t=n[e];return xn(t,yce)};function _ce(n){const e=ov(),[t,r]=I.useState(Eb(e.getData(),n)),i=I.useCallback(u=>e.setValueAtPath(n,u,!0),[n,e]),s=I.useCallback(u=>e.setSettingsAtPath(n,u),[n,e]),o=I.useCallback(u=>e.disableInputAtPath(n,u),[n,e]),a=I.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=I.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return I.useEffect(()=>{r(Eb(e.getData(),n));const u=e.useStore.subscribe(c=>Eb(c.data,n),r,{equalityFn:Cw});return()=>u()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const xce=Dt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),K8=Dt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),vC=Dt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Y8=Dt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Q8=Dt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function wce({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=I.useRef(null),a=I.useRef(null),l=I.useRef(0),u=pl("sizes","scrubberWidth"),c=av(({event:d,first:p,xy:[v],movement:[g],memo:y})=>{if(p){const{width:x,left:w}=o.current.getBoundingClientRect();l.current=x-parseFloat(u),y=(d==null?void 0:d.target)===a.current?n:ax((v-w)/x,e,t)}const _=y+ax(g/l.current,0,t-e);return r(k8(_,{step:i,initialValue:s})),y}),f=ox(n,e,t);return ue.createElement(Y8,cr({ref:o},c()),ue.createElement(K8,null,ue.createElement(Q8,{style:{left:0,right:`${(1-f)*100}%`}})),ue.createElement(vC,{ref:a,style:{left:`calc(${f} * (100% - ${u}))`}}))}const Sce=ue.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=I.useState(!1),o=av(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(f=>parseFloat(f)+Math.floor(c)*t*D8(u)),c=0),c));return ue.createElement(ece,cr({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function Z8({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ue.createElement(Sce,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return ue.createElement(ice,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Ace(){const n=Ei(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return ue.createElement(xo,{input:!0},ue.createElement(qo,null,e),ue.createElement(xce,{hasRange:l},l&&ue.createElement(wce,cr({value:parseFloat(t),onDrag:r},i)),ue.createElement(Z8,cr({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:bce}=O8,Mce=xn(O8,["sanitizeStep"]);var Ece=Lt({component:Ace},Mce);const Cce=(n,e)=>Qi().schema({options:Qi().passesAnyOf(Qi().object(),Qi().array())}).test(e),Tce=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Pce=(n,{values:e})=>e.indexOf(n),Rce=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Ice=Object.freeze({__proto__:null,schema:Cce,sanitize:Tce,format:Pce,normalize:Rce});const Dce=Dt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),yC=Dt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Bce=Dt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${yC}:focus + &`]:{$focusStyle:""},[`${yC}:hover + &`]:{$hoverStyle:""}});function Lce({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=I.useRef();return e===a[n]&&(l.current=o[n]),ue.createElement(Dce,null,ue.createElement(yC,{id:r,value:n,onChange:u=>t(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>ue.createElement("option",{key:u,value:c},u))),ue.createElement(Bce,null,l.current),ue.createElement(qP,{toggled:!0}))}function kce(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(Lce,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var Oce=Lt({component:kce},Ice);const Fce=n=>Qi().string().test(n),Nce=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Uce=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var zce=Object.freeze({__proto__:null,schema:Fce,sanitize:Nce,normalize:Uce});const Gce=["displayValue","onUpdate","onChange","editable"],Hce=Dt("div",{whiteSpace:"pre-wrap"});function Vce(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=xn(n,Gce);return i?ue.createElement(QP,cr({value:e,onUpdate:t,onChange:r},s)):ue.createElement(Hce,null,e)}function Wce(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(Vce,cr({displayValue:t,onUpdate:r,onChange:i},e)))}var jce=Lt({component:Wce},zce);const $ce=n=>Qi().boolean().test(n),Xce=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Jce=Object.freeze({__proto__:null,schema:$ce,sanitize:Xce});const Kce=Dt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Yce({value:n,onUpdate:e,id:t,disabled:r}){return ue.createElement(Kce,null,ue.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),ue.createElement("label",{htmlFor:t},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ue.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Qce(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(Yce,{value:e,onUpdate:t,id:i,disabled:r}))}var Zce=Lt({component:Qce},Jce);const qce=["locked"];function efe({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=I.useRef(n[t]);o.current=n[t];const a=I.useCallback(u=>i({[t]:R8({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,t]),l=X8({type:"NUMBER",value:n[t],settings:r,setValue:a});return ue.createElement(Z8,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const tfe=Dt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function nfe(n){let{locked:e}=n,t=xn(n,qce);return ue.createElement("svg",cr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?ue.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ue.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function eR({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Ei(),{lock:o,locked:a}=t;return ue.createElement(tfe,{withLock:o},o&&ue.createElement(nfe,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,u)=>ue.createElement(efe,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const q8=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=L8(Lt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},rfe=["lock"],ife=["value"];function sfe(n){const e=Qi().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function ofe(n){return Array.isArray(n)?"array":"object"}function mg(n,e,t){return ofe(n)===e?n:e==="array"?Object.values(n):Fue(n,t)}const afe=(n,e,t)=>{const r=mg(n,"object",e.keys);for(let o in r)r[o]=B8(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=mg(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*c}else s=Lt(Lt({},o),r)}return mg(s,e.format,e.keys)},lfe=(n,e)=>mg(n,"object",e.keys),ufe=n=>!!n&&("step"in n||"min"in n||"max"in n);function cfe(n,e,t=[]){const{lock:r=!1}=e,i=xn(e,rfe),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=mg(n,"object",o),l=ufe(i)?o.reduce((c,f)=>Object.assign(c,{[f]:i}),{}):i,u=q8(a,l);return{value:s==="array"?n:a,settings:Lt(Lt({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function eH(n){return{schema:sfe(n.length),normalize:e=>{let{value:t}=e,r=xn(e,ife);return cfe(t,r,n)},format:(e,t)=>lfe(e,t),sanitize:(e,t,r)=>afe(e,t,r)}}var ffe={grad:.9,turn:360,rad:360/(2*Math.PI)},Ja=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Wr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},uo=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},tH=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},dO=function(n){return{r:uo(n.r,0,255),g:uo(n.g,0,255),b:uo(n.b,0,255),a:uo(n.a)}},Cb=function(n){return{r:Wr(n.r),g:Wr(n.g),b:Wr(n.b),a:Wr(n.a,3)}},dfe=/^#([0-9a-f]{3,8})$/i,b1=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},nH=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},rH=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},hO=function(n){return{h:tH(n.h),s:uo(n.s,0,100),l:uo(n.l,0,100),a:uo(n.a)}},pO=function(n){return{h:Wr(n.h),s:Wr(n.s),l:Wr(n.l),a:Wr(n.a,3)}},mO=function(n){return rH((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},gg=function(n){return{h:(e=nH(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},hfe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,pfe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mfe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gfe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_C={string:[[function(n){var e=dfe.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Wr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Wr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=mfe.exec(n)||gfe.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:dO({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=hfe.exec(n)||pfe.exec(n);if(!e)return null;var t,r,i=hO({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(ffe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return mO(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Ja(e)&&Ja(t)&&Ja(r)?dO({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Ja(e)||!Ja(t)||!Ja(r))return null;var o=hO({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return mO(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Ja(e)||!Ja(t)||!Ja(r))return null;var o=function(a){return{h:tH(a.h),s:uo(a.s,0,100),v:uo(a.v,0,100),a:uo(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return rH(o)},"hsv"]]},gO=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},iH=function(n){return typeof n=="string"?gO(n.trim(),_C.string):typeof n=="object"&&n!==null?gO(n,_C.object):[null,void 0]},vfe=function(n){return iH(n)[1]},Tb=function(n,e){var t=gg(n);return{h:t.h,s:uo(t.s+100*e,0,100),l:t.l,a:t.a}},Pb=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},vO=function(n,e){var t=gg(n);return{h:t.h,s:t.s,l:uo(t.l+100*e,0,100),a:t.a}},xC=function(){function n(e){this.parsed=iH(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Wr(Pb(this.rgba),2)},n.prototype.isDark=function(){return Pb(this.rgba)<.5},n.prototype.isLight=function(){return Pb(this.rgba)>=.5},n.prototype.toHex=function(){return e=Cb(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?b1(Wr(255*s)):"","#"+b1(t)+b1(r)+b1(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Cb(this.rgba)},n.prototype.toRgbString=function(){return e=Cb(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return pO(gg(this.rgba))},n.prototype.toHslString=function(){return e=pO(gg(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=nH(this.rgba),{h:Wr(e.h),s:Wr(e.s),v:Wr(e.v),a:Wr(e.a,3)};var e},n.prototype.invert=function(){return Fi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Fi(Tb(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Fi(Tb(this.rgba,-e))},n.prototype.grayscale=function(){return Fi(Tb(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Fi(vO(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Fi(vO(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Fi({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Wr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=gg(this.rgba);return typeof e=="number"?Fi({h:e,s:t.s,l:t.l,a:t.a}):Wr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Fi(e).toHex()},n}(),Fi=function(n){return n instanceof xC?n:new xC(n)},yO=[],yfe=function(n){n.forEach(function(e){yO.indexOf(e)<0&&(e(xC,_C),yO.push(e))})};function _fe(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var v in t){var g=(a=c,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<f&&(f=g,d=v)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function bp(){return(bp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function tR(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function wC(n){var e=I.useRef(n),t=I.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var jh=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},vg=function(n){return"touches"in n},SC=function(n){return n&&n.ownerDocument.defaultView||self},_O=function(n,e,t){var r=n.getBoundingClientRect(),i=vg(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:jh((i.pageX-(r.left+SC(n).pageXOffset))/r.width),top:jh((i.pageY-(r.top+SC(n).pageYOffset))/r.height)}},xO=function(n){!vg(n)&&n.preventDefault()},nR=ue.memo(function(n){var e=n.onMove,t=n.onKey,r=tR(n,["onMove","onKey"]),i=I.useRef(null),s=wC(e),o=wC(t),a=I.useRef(null),l=I.useRef(!1),u=I.useMemo(function(){var p=function(y){xO(y),(vg(y)?y.touches.length>0:y.buttons>0)&&i.current?s(_O(i.current,y,a.current)):g(!1)},v=function(){return g(!1)};function g(y){var _=l.current,x=SC(i.current),w=y?x.addEventListener:x.removeEventListener;w(_?"touchmove":"mousemove",p),w(_?"touchend":"mouseup",v)}return[function(y){var _=y.nativeEvent,x=i.current;if(x&&(xO(_),!function(A,b){return b&&!vg(A)}(_,l.current)&&x)){if(vg(_)){l.current=!0;var w=_.changedTouches||[];w.length&&(a.current=w[0].identifier)}x.focus(),s(_O(x,_,a.current)),g(!0)}},function(y){var _=y.which||y.keyCode;_<37||_>40||(y.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},g]},[o,s]),c=u[0],f=u[1],d=u[2];return I.useEffect(function(){return d},[d]),ue.createElement("div",bp({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),lv=function(n){return n.filter(Boolean).join(" ")},rR=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=lv(["react-colorful__pointer",n.className]);return ue.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},ue.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},zi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},sH=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:zi(n.h),s:zi(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:zi(i/2),a:zi(r,2)}},AC=function(n){var e=sH(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Rb=function(n){var e=sH(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},oH=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:zi(255*[r,a,o,o,l,r][u]),g:zi(255*[l,r,r,a,o,o][u]),b:zi(255*[o,o,l,r,r,a][u]),a:zi(i,2)}},aH=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:zi(60*(a<0?a+6:a)),s:zi(s?o/s*100:0),v:zi(s/255*100),a:i}},lH=ue.memo(function(n){var e=n.hue,t=n.onChange,r=lv(["react-colorful__hue",n.className]);return ue.createElement("div",{className:r},ue.createElement(nR,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:jh(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":zi(e),"aria-valuemax":"360","aria-valuemin":"0"},ue.createElement(rR,{className:"react-colorful__hue-pointer",left:e/360,color:AC({h:e,s:100,v:100,a:1})})))}),uH=ue.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:AC({h:e.h,s:100,v:100,a:1})};return ue.createElement("div",{className:"react-colorful__saturation",style:r},ue.createElement(nR,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:jh(e.s+100*i.left,0,100),v:jh(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+zi(e.s)+"%, Brightness "+zi(e.v)+"%"},ue.createElement(rR,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:AC(e)})))}),iR=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function cH(n,e,t){var r=wC(t),i=I.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=I.useRef({color:e,hsva:s});I.useEffect(function(){if(!n.equal(e,a.current.color)){var u=n.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,n]),I.useEffect(function(){var u;iR(s,a.current.hsva)||n.equal(u=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,n,r]);var l=I.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var xfe=typeof window<"u"?I.useLayoutEffect:I.useEffect,wfe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},wO=new Map,fH=function(n){xfe(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!wO.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,wO.set(e,t);var r=wfe();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Sfe=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=tR(n,["className","colorModel","color","onChange"]),a=I.useRef(null);fH(a);var l=cH(t,i,s),u=l[0],c=l[1],f=lv(["react-colorful",e]);return ue.createElement("div",bp({},o,{ref:a,className:f}),ue.createElement(uH,{hsva:u,onChange:c}),ue.createElement(lH,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Afe=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+Rb(Object.assign({},t,{a:0}))+", "+Rb(Object.assign({},t,{a:1}))+")"},s=lv(["react-colorful__alpha",e]),o=zi(100*t.a);return ue.createElement("div",{className:s},ue.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ue.createElement(nR,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:jh(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ue.createElement(rR,{className:"react-colorful__alpha-pointer",left:t.a,color:Rb(t)})))},bfe=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=tR(n,["className","colorModel","color","onChange"]),a=I.useRef(null);fH(a);var l=cH(t,i,s),u=l[0],c=l[1],f=lv(["react-colorful",e]);return ue.createElement("div",bp({},o,{ref:a,className:f}),ue.createElement(uH,{hsva:u,onChange:c}),ue.createElement(lH,{hue:u.h,onChange:c}),ue.createElement(Afe,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},Mfe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:aH,fromHsva:oH,equal:iR},Efe=function(n){return ue.createElement(bfe,bp({},n,{colorModel:Mfe}))},Cfe={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return aH({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=oH(n)).r,g:e.g,b:e.b};var e},equal:iR},Tfe=function(n){return ue.createElement(Sfe,bp({},n,{colorModel:Cfe}))};function Mp(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function Ep(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Pfe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Rfe(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Pfe(arguments[e]));return n}var Ife=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function uv(n,e){var t=Dfe(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Dfe(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Ife.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var Bfe=[".DS_Store","Thumbs.db"];function Lfe(n){return Mp(this,void 0,void 0,function(){return Ep(this,function(e){return ux(n)&&kfe(n)?[2,Ufe(n.dataTransfer,n.type)]:Ofe(n)?[2,Ffe(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Nfe(n)]:[2,[]]})})}function kfe(n){return ux(n.dataTransfer)}function Ofe(n){return ux(n)&&ux(n.target)}function ux(n){return typeof n=="object"&&n!==null}function Ffe(n){return bC(n.target.files).map(function(e){return uv(e)})}function Nfe(n){return Mp(this,void 0,void 0,function(){var e;return Ep(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return uv(r)})]}})})}function Ufe(n,e){return Mp(this,void 0,void 0,function(){var t,r;return Ep(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=bC(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(zfe))]):[3,2];case 1:return r=i.sent(),[2,SO(dH(r))];case 2:return[2,SO(bC(n.files).map(function(s){return uv(s)}))]}})})}function SO(n){return n.filter(function(e){return Bfe.indexOf(e.name)===-1})}function bC(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function zfe(n){if(typeof n.webkitGetAsEntry!="function")return AO(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?hH(e):AO(n)}function dH(n){return n.reduce(function(e,t){return Rfe(e,Array.isArray(t)?dH(t):[t])},[])}function AO(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=uv(e);return Promise.resolve(t)}function Gfe(n){return Mp(this,void 0,void 0,function(){return Ep(this,function(e){return[2,n.isDirectory?hH(n):Hfe(n)]})})}function hH(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Mp(o,void 0,void 0,function(){var l,u,c;return Ep(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(Gfe)),i.push(c),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Hfe(n){return Mp(this,void 0,void 0,function(){return Ep(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=uv(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var Vfe=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function bO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(t),!0).forEach(function(r){pH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pH(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EO(n,e){return Xfe(n)||$fe(n,e)||jfe(n,e)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(n,e){if(n){if(typeof n=="string")return CO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CO(n,e)}}function CO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $fe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Xfe(n){if(Array.isArray(n))return n}var Jfe="file-invalid-type",Kfe="file-too-large",Yfe="file-too-small",Qfe="too-many-files",Zfe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Jfe,message:"File type must be ".concat(t)}},TO=function(e){return{code:Kfe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},PO=function(e){return{code:Yfe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},qfe={code:Qfe,message:"Too many files"};function mH(n,e){var t=n.type==="application/x-moz-file"||Vfe(n,e);return[t,t?null:Zfe(e)]}function gH(n,e,t){if(Dm(n.size))if(Dm(e)&&Dm(t)){if(n.size>t)return[!1,TO(t)];if(n.size<e)return[!1,PO(e)]}else{if(Dm(e)&&n.size<e)return[!1,PO(e)];if(Dm(t)&&n.size>t)return[!1,TO(t)]}return[!0,null]}function Dm(n){return n!=null}function ede(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=mH(a,t),u=EO(l,1),c=u[0],f=gH(a,r,i),d=EO(f,1),p=d[0];return c&&p})}function cx(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function M1(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function RO(n){n.preventDefault()}function tde(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function nde(n){return n.indexOf("Edge/")!==-1}function rde(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return tde(n)||nde(n)}function aa(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!cx(r)&&a&&a.apply(void 0,[r].concat(s)),cx(r)})}}function ide(){return"showOpenFilePicker"in window}function sde(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return MO(MO({},e),{},pH({},t,[]))},{}):{}}]}function ode(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function ade(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var lde=["children"],ude=["open"],cde=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],fde=["refKey","onChange","onClick"];function dde(n){return mde(n)||pde(n)||vH(n)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mde(n){if(Array.isArray(n))return MC(n)}function Ib(n,e){return yde(n)||vde(n,e)||vH(n,e)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(n,e){if(n){if(typeof n=="string")return MC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MC(n,e)}}function MC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vde(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function yde(n){if(Array.isArray(n))return n}function IO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(t),!0).forEach(function(r){EC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EC(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fx(n,e){if(n==null)return{};var t=_de(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _de(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var sR=I.forwardRef(function(n,e){var t=n.children,r=fx(n,lde),i=_H(r),s=i.open,o=fx(i,ude);return I.useImperativeHandle(e,function(){return{open:s}},[s]),ue.createElement(I.Fragment,null,t(Jn(Jn({},o),{},{open:s})))});sR.displayName="Dropzone";var yH={disabled:!1,getFilesFromEvent:Lfe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};sR.defaultProps=yH;sR.propTypes={children:En.func,accept:En.oneOfType([En.string,En.arrayOf(En.string)]),multiple:En.bool,preventDropOnDocument:En.bool,noClick:En.bool,noKeyboard:En.bool,noDrag:En.bool,noDragEventsBubbling:En.bool,minSize:En.number,maxSize:En.number,maxFiles:En.number,disabled:En.bool,getFilesFromEvent:En.func,onFileDialogCancel:En.func,onFileDialogOpen:En.func,useFsAccessApi:En.bool,onDragEnter:En.func,onDragLeave:En.func,onDragOver:En.func,onDrop:En.func,onDropAccepted:En.func,onDropRejected:En.func,validator:En.func};var CC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function _H(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Jn(Jn({},yH),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,v=e.onDropRejected,g=e.onFileDialogCancel,y=e.onFileDialogOpen,_=e.useFsAccessApi,x=e.preventDropOnDocument,w=e.noClick,A=e.noKeyboard,b=e.noDrag,E=e.noDragEventsBubbling,T=e.validator,M=I.useMemo(function(){return typeof y=="function"?y:DO},[y]),P=I.useMemo(function(){return typeof g=="function"?g:DO},[g]),D=I.useRef(null),F=I.useRef(null),O=I.useReducer(xde,CC),U=Ib(O,2),N=U[0],$=U[1],X=N.isFocused,q=N.isFileDialogActive,z=N.draggedFiles,j=I.useRef(typeof window<"u"&&window.isSecureContext&&_&&ide()),H=function(){!j.current&&q&&setTimeout(function(){if(F.current){var se=F.current.files;se.length||($({type:"closeDialog"}),P())}},300)};I.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[F,q,P,j]);var V=I.useRef([]),G=function(se){D.current&&D.current.contains(se.target)||(se.preventDefault(),V.current=[])};I.useEffect(function(){return x&&(document.addEventListener("dragover",RO,!1),document.addEventListener("drop",G,!1)),function(){x&&(document.removeEventListener("dragover",RO),document.removeEventListener("drop",G))}},[D,x]);var J=I.useCallback(function(k){k.preventDefault(),k.persist(),Be(k),V.current=[].concat(dde(V.current),[k.target]),M1(k)&&Promise.resolve(i(k)).then(function(se){cx(k)&&!E||($({draggedFiles:se,isDragActive:!0,type:"setDraggedFiles"}),u&&u(k))})},[i,u,E]),re=I.useCallback(function(k){k.preventDefault(),k.persist(),Be(k);var se=M1(k);if(se&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return se&&f&&f(k),!1},[f,E]),te=I.useCallback(function(k){k.preventDefault(),k.persist(),Be(k);var se=V.current.filter(function(Oe){return D.current&&D.current.contains(Oe)}),me=se.indexOf(k.target);me!==-1&&se.splice(me,1),V.current=se,!(se.length>0)&&($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),M1(k)&&c&&c(k))},[D,c,E]),Y=I.useCallback(function(k,se){var me=[],Oe=[];k.forEach(function(Me){var Ke=mH(Me,t),Fe=Ib(Ke,2),Ee=Fe[0],tt=Fe[1],at=gH(Me,o,s),Je=Ib(at,2),Xe=Je[0],je=Je[1],oe=T?T(Me):null;if(Ee&&Xe&&!oe)me.push(Me);else{var Pe=[tt,je];oe&&(Pe=Pe.concat(oe)),Oe.push({file:Me,errors:Pe.filter(function(Ze){return Ze})})}}),(!a&&me.length>1||a&&l>=1&&me.length>l)&&(me.forEach(function(Me){Oe.push({file:Me,errors:[qfe]})}),me.splice(0)),$({acceptedFiles:me,fileRejections:Oe,type:"setFiles"}),d&&d(me,Oe,se),Oe.length>0&&v&&v(Oe,se),me.length>0&&p&&p(me,se)},[$,a,t,o,s,l,d,p,v,T]),ce=I.useCallback(function(k){k.preventDefault(),k.persist(),Be(k),V.current=[],M1(k)&&Promise.resolve(i(k)).then(function(se){cx(k)&&!E||Y(se,k)}),$({type:"reset"})},[i,Y,E]),fe=I.useCallback(function(){if(j.current){$({type:"openDialog"}),M();var k={multiple:a,types:sde(t)};window.showOpenFilePicker(k).then(function(se){return i(se)}).then(function(se){Y(se,null),$({type:"closeDialog"})}).catch(function(se){ode(se)?(P(se),$({type:"closeDialog"})):ade(se)&&(j.current=!1,F.current&&(F.current.value=null,F.current.click()))});return}F.current&&($({type:"openDialog"}),M(),F.current.value=null,F.current.click())},[$,M,P,_,Y,t,a]),Re=I.useCallback(function(k){!D.current||!D.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),fe())},[D,fe]),Ae=I.useCallback(function(){$({type:"focus"})},[]),ye=I.useCallback(function(){$({type:"blur"})},[]),le=I.useCallback(function(){w||(rde()?setTimeout(fe,0):fe())},[w,fe]),de=function(se){return r?null:se},Ie=function(se){return A?null:de(se)},Ve=function(se){return b?null:de(se)},Be=function(se){E&&se.stopPropagation()},Ye=I.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=k.refKey,me=se===void 0?"ref":se,Oe=k.role,Me=k.onKeyDown,Ke=k.onFocus,Fe=k.onBlur,Ee=k.onClick,tt=k.onDragEnter,at=k.onDragOver,Je=k.onDragLeave,Xe=k.onDrop,je=fx(k,cde);return Jn(Jn(EC({onKeyDown:Ie(aa(Me,Re)),onFocus:Ie(aa(Ke,Ae)),onBlur:Ie(aa(Fe,ye)),onClick:de(aa(Ee,le)),onDragEnter:Ve(aa(tt,J)),onDragOver:Ve(aa(at,re)),onDragLeave:Ve(aa(Je,te)),onDrop:Ve(aa(Xe,ce)),role:typeof Oe=="string"&&Oe!==""?Oe:"button"},me,D),!r&&!A?{tabIndex:0}:{}),je)}},[D,Re,Ae,ye,le,J,re,te,ce,A,b,r]),De=I.useCallback(function(k){k.stopPropagation()},[]),Ue=I.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=k.refKey,me=se===void 0?"ref":se,Oe=k.onChange,Me=k.onClick,Ke=fx(k,fde),Fe=EC({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:de(aa(Oe,ce)),onClick:de(aa(Me,De)),tabIndex:-1},me,F);return Jn(Jn({},Fe),Ke)}},[F,t,a,ce,r]),Qe=z.length,Ce=Qe>0&&ede({files:z,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),K=Qe>0&&!Ce;return Jn(Jn({},N),{},{isDragAccept:Ce,isDragReject:K,isFocused:X&&!r,getRootProps:Ye,getInputProps:Ue,rootRef:D,inputRef:F,open:de(fe)})}function xde(n,e){switch(e.type){case"focus":return Jn(Jn({},n),{},{isFocused:!0});case"blur":return Jn(Jn({},n),{},{isFocused:!1});case"openDialog":return Jn(Jn({},CC),{},{isFileDialogActive:!0});case"closeDialog":return Jn(Jn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Jn(Jn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Jn(Jn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Jn({},CC);default:return n}}function DO(){}function wde(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function p(){const v=c(e);if(!f(d,v)){const g=d;u(d=v,g)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Sde=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),BO=Sde?I.useEffect:I.useLayoutEffect;function Ade(n){const e=typeof n=="function"?wde(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=I.useReducer(y=>y+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(r),u=I.useRef(i),c=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),p=!i(f.current,d)),BO(()=>{p&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const v=I.useRef(o);BO(()=>{const y=()=>{try{const x=e.getState(),w=l.current(x);u.current(f.current,w)||(a.current=x,f.current=w,s())}catch{c.current=!0,s()}},_=e.subscribe(y);return e.getState()!==v.current&&y(),_},[]);const g=p?d:f.current;return I.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const bde=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=d=>{const p=o(d);if(!c(f,p)){const v=f;a(f=p,v)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Mde=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ede=Mde;function LO(n){return Ede(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var xH=function(e){var t,r;return!(LO(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,LO(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cde=xH,oR=function(e){return Cde(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Tde=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Pde=oR,Rde=Tde;function wH(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];TC(i)&&Rde(i,Ide,n)}return n}function Ide(n,e){if(Dde(e)){var t=this[e];TC(n)&&TC(t)?wH(t,n):this[e]=n}}function TC(n){return Pde(n)&&!Array.isArray(n)}function Dde(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Bde=wH;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Lde=function(n,e,t,r,i){if(!kde(n)||!e)return n;if(e=E1(e),t&&(e+="."+E1(t)),r&&(e+="."+E1(r)),i&&(e+="."+E1(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function kde(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function E1(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Ode=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];t.call(o,u)&&(r[u]=o[u])}return r},Fde=oR,Nde=Ode,Ude=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");kO(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Gde(t)&&(t=Hde(t)),kO(t)&&(zde(n,t),Nde(n,t))}return n};function zde(n,e){for(var t in e)Vde(e,t)&&(n[t]=e[t])}function Gde(n){return n&&typeof n=="string"}function Hde(n){var e={};for(var t in n)e[t]=n[t];return e}function kO(n){return n&&typeof n=="object"||Fde(n)}function Vde(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Wde=Ude,jde=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=Wde({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<c;){var v=n[f],g=n[f+1],y={val:v,idx:f,arr:l,str:n};if(o.push(y),v==="\\"){y.val=Xde(r,n,f)===!0?v+g:g,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[v]){a.push(v);var _=p(),x=f+1;if(n.indexOf(_,x+1)!==-1)for(;a.length&&x<c;){var w=n[++x];if(w==="\\"){w++;continue}if(i.indexOf(w)!==-1){x=PC(n,w,x+1);continue}if(_=p(),a.length&&n.indexOf(_,x+1)===-1)break;if(s[w]){a.push(w);continue}_===w&&a.pop()}if(d=x,d===-1){l[l.length-1]+=v;continue}v=n.slice(f,d+1),y.val=v,y.idx=f=d}if(i.indexOf(v)!==-1){if(d=PC(n,v,f+1),d===-1){l[l.length-1]+=v;continue}$de(v,r)===!0?v=n.slice(f,d+1):v=n.slice(f+1,d),y.val=v,y.idx=f=d}if(typeof t=="function"&&(t(y,o),v=y.val,f=y.idx),y.val===u&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function PC(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?PC(n,e,i+1):i}function $de(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function Xde(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Jde=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},OO=Jde,Kde=function(e){OO(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];OO(i)&&Yde(e,i)}return e};function Yde(n,e){for(var t in e)Qde(e,t)&&(n[t]=e[t])}function Qde(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Zde=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var qde=jde,ehe=Kde,FO=xH,NO=Zde,the=function(n,e,t){if(!NO(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=qde(e,{sep:".",brackets:!0}).filter(nhe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){NO(o[a])||(o[a]={}),o=o[a];continue}FO(o[a])&&FO(t)?o[a]=ehe({},o[a],t):o[a]=t}return n};function nhe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Db=oR,UO=Bde,rhe=Lde,zO=the,ihe=function(e,t,r){if(!Db(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return UO.apply(null,arguments);if(typeof r=="string")return zO(e,t,r),e;var i=rhe(e,t);return Db(r)&&Db(i)&&(r=UO({},i,r)),zO(e,t,r),e};const she=sp(ihe),aR=(...n)=>n.filter(Boolean).join(".");function ohe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function ahe(n,e){return Object.entries(kue(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function lhe(n,e){const t=I.useRef();return u0(n,t.current)||(t.current=n),t.current}function SH(n,e){return I.useMemo(n,lhe(e))}function uhe(n){const e=I.useRef(null),t=I.useRef(null),r=I.useRef(!0);return I.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),I.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const che=n=>{const[e,t]=I.useState(n.getVisiblePaths());return I.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Cw});return()=>r()},[n]),e};function fhe(n,e,t){return n.useStore(i=>{const s=Lt(Lt({},t),i.data);return ahe(s,e)},Cw)}function AH(n=3){const e=I.useRef(null),t=I.useRef(null),[r,i]=I.useState(!1),s=I.useCallback(()=>i(!0),[]),o=I.useCallback(()=>i(!1),[]);return I.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=t.current.getBoundingClientRect(),f=a+c>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}yfe([_fe]);const dhe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Qi.extend({color:()=>n=>Fi(n).isValid()});const hhe=n=>Qi().color().test(n);function bH(n,{format:e,hasAlpha:t,isString:r}){const i=dhe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?Oue(s,["a"]):s}const MH=(n,e)=>{const t=Fi(n);if(!t.isValid())throw Error("Invalid color");return bH(t,e)},phe=(n,e)=>bH(Fi(n),Lt(Lt({},e),{},{isString:!0,format:"hex"})),mhe=({value:n})=>{const e=vfe(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:MH(n,i),settings:i}};var ghe=Object.freeze({__proto__:null,schema:hhe,sanitize:MH,format:phe,normalize:mhe});const vhe=Dt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),yhe=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),_he=Dt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function GO(n,e){return e!=="rgb"?Fi(n).toRgb():n}function xhe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ei(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:u,shown:c,show:f,hide:d}=AH(),p=I.useRef(0),[v,g]=I.useState(()=>GO(n,o)),y=a?Efe:Tfe,_=()=>{g(GO(n,o)),f(),i()},x=()=>{d(),s(),window.clearTimeout(p.current)},w=()=>{p.current=window.setTimeout(x,500)};return I.useEffect(()=>()=>window.clearTimeout(p.current),[]),ue.createElement(ue.Fragment,null,ue.createElement(vhe,{ref:l,active:c,onClick:()=>_(),style:{color:e}}),c&&ue.createElement(ZP,null,ue.createElement($8,{onPointerUp:x}),ue.createElement(_he,{ref:u,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:A=>A.buttons===0&&w()},ue.createElement(y,{color:v,onChange:r}))))}function whe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,t),ue.createElement(yhe,null,ue.createElement(xhe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),ue.createElement(QP,{value:e,onChange:r,onUpdate:i})))}var She=Lt({component:whe},ghe);function Ahe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(eR,{value:e,settings:r,onUpdate:t}))}var bhe=Lt({component:Ahe},eH(["x","y","z"]));const Mhe=Dt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Ehe=Dt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Che({value:n,settings:e,onUpdate:t}){const r=I.useRef(),i=I.useRef(0),s=I.useRef(0),o=I.useRef(1),[a,l]=I.useState(!1),[u,c]=I.useState(!1),[f,d]=J8(),p=I.useRef(null),v=I.useRef(null);I.useLayoutEffect(()=>{if(a){const{top:O,left:U,width:N,height:$}=p.current.getBoundingClientRect();v.current.style.left=U+N/2+"px",v.current.style.top=O+$/2+"px"}},[a]);const{keys:[g,y],joystick:_}=e,x=_==="invertY"?1:-1,{[g]:{step:w},[y]:{step:A}}=e,b=pl("sizes","joystickWidth"),E=pl("sizes","joystickHeight"),T=parseFloat(b)*.8/2,M=parseFloat(E)*.8/2,P=I.useCallback(()=>{r.current||(c(!0),i.current&&d({x:i.current*T}),s.current&&d({y:s.current*-M}),r.current=window.setInterval(()=>{t(O=>{const U=w*i.current*o.current,N=x*A*s.current*o.current;return Array.isArray(O)?{[g]:O[0]+U,[y]:O[1]+N}:{[g]:O[g]+U,[y]:O[y]+N}})},16))},[T,M,t,d,w,A,g,y,x]),D=I.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);I.useEffect(()=>{function O(U){o.current=D8(U)}return window.addEventListener("keydown",O),window.addEventListener("keyup",O),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",O),window.removeEventListener("keyup",O)}},[]);const F=av(({first:O,active:U,delta:[N,$],movement:[X,q]})=>{O&&l(!0);const z=Gu(X,-T,T),j=Gu(q,-M,M);i.current=Math.abs(X)>Math.abs(z)?Math.sign(X-z):0,s.current=Math.abs(q)>Math.abs(j)?Math.sign(j-q):0;let H=n[g],V=n[y];U?(i.current||(H+=N*w*o.current,d({x:z})),s.current||(V-=x*$*A*o.current,d({y:j})),i.current||s.current?P():D(),t({[g]:H,[y]:V})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return ue.createElement(Mhe,cr({ref:p},F()),a&&ue.createElement(ZP,null,ue.createElement(Ehe,{ref:v,isOutOfBounds:u},ue.createElement("div",null),ue.createElement("span",{ref:f}))))}const The=Dt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Phe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ei();return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(The,{withJoystick:!!r.joystick},r.joystick&&ue.createElement(Che,{value:e,settings:r,onUpdate:t}),ue.createElement(eR,{value:e,settings:r,onUpdate:t})))}const Rhe=["joystick"],EH=eH(["x","y"]),Ihe=n=>{let{joystick:e=!0}=n,t=xn(n,Rhe);const{value:r,settings:i}=EH.normalize(t);return{value:r,settings:Lt(Lt({},i),{},{joystick:e})}};var Dhe=Lt(Lt({component:Phe},EH),{},{normalize:Ihe});const Bhe=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},Lhe=(n,e)=>typeof e=="object"&&"image"in e,khe=({image:n})=>({value:n});var Ohe=Object.freeze({__proto__:null,sanitize:Bhe,schema:Lhe,normalize:khe});const Fhe=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Nhe=Dt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Uhe=Dt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),zhe=Dt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Ghe=Dt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Hhe=Dt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Vhe(){const{label:n,value:e,onUpdate:t,disabled:r}=Ei(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=AH(),u=I.useCallback(v=>{v.length&&t(v[0])},[t]),c=I.useCallback(v=>{v.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=_H({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(Fhe,null,ue.createElement(Uhe,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ue.createElement(ZP,null,ue.createElement($8,{onPointerUp:l,style:{cursor:"pointer"}}),ue.createElement(zhe,{ref:s,style:{backgroundImage:`url(${e})`}})),ue.createElement(Nhe,f({isDragAccept:p}),ue.createElement("input",d()),ue.createElement(Ghe,null,p?"drop image":"click or drop")),ue.createElement(Hhe,{onClick:c,disabled:!e})))}var Whe=Lt({component:Vhe},Ohe);const HO=Qi().number(),jhe=(n,e)=>Qi().array().length(2).every.number().test(n)&&Qi().schema({min:HO,max:HO}).test(e),dx=n=>({min:n[0],max:n[1]}),CH=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?dx(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=Lt(Lt({},s),i);return[Gu(Number(o),e,Math.max(e,a)),Gu(Number(a),Math.min(t,o),t)]},$he=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=q8(dx(n),{min:r,max:r}),s=[e,t],o=Lt(Lt({},i),{},{bounds:s});return{value:CH(dx(n),o,n),settings:o}};var Xhe=Object.freeze({__proto__:null,schema:jhe,format:dx,sanitize:CH,normalize:$he});const Jhe=["value","bounds","onDrag"],Khe=["bounds"],Yhe=Dt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Qhe(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=xn(n,Jhe);const o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),u=I.useRef(0),c=pl("sizes","scrubberWidth"),f=av(({event:v,first:g,xy:[y],movement:[_],memo:x={}})=>{if(g){const{width:A,left:b}=o.current.getBoundingClientRect();u.current=A-parseFloat(c);const E=(v==null?void 0:v.target)===a.current||(v==null?void 0:v.target)===l.current;x.pos=ax((y-b)/A,t,r);const T=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=T<0||T===0&&x.pos<=e.min?"min":"max",E&&(x.pos=e[x.key])}const w=x.pos+ax(_/u.current,0,r-t);return i({[x.key]:bce(w,s[x.key])}),x}),d=`calc(${ox(e.min,t,r)} * (100% - ${c} - 8px) + 4px)`,p=`calc(${1-ox(e.max,t,r)} * (100% - ${c} - 8px) + 4px)`;return ue.createElement(Y8,cr({ref:o},f()),ue.createElement(K8,null,ue.createElement(Q8,{style:{left:d,right:p}})),ue.createElement(vC,{position:"left",ref:a,style:{left:d}}),ue.createElement(vC,{position:"right",ref:l,style:{right:p}}))}function Zhe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Ei(),i=xn(r,Khe);return ue.createElement(ue.Fragment,null,ue.createElement(xo,{input:!0},ue.createElement(qo,null,n),ue.createElement(Yhe,null,ue.createElement(Qhe,cr({value:e},r,{onDrag:t})),ue.createElement(eR,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var qhe=Lt({component:Zhe},Xhe);const epe=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},tpe=["type","value"],npe=["onChange","transient","onEditStart","onEditEnd"],rpe=function(){const e=Ade(bde(()=>({data:{}}))),t=epe();this.storeId=Lue(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,f])=>{f.render&&a.some(d=>d.indexOf(c)===0)&&!f.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(f=>c.indexOf(f)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in Uo&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{let d=u[c];if(d){const{type:p,value:v}=f,g=xn(f,tpe);p!==d.type?ol(Kn.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,g),d.__refCount++)}else u[c]=Lt(Lt({},f),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return fO(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=Lt(Lt({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{try{fO(u[c],f,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{ol(Kn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Lt(Lt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Lt(Lt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,f])=>{if(c==="")return ol(Kn.EMPTY_KEY);let d=aR(a,c);if(f.type===Uo.FOLDER){const p=s(f.schema,d,l);Object.assign(u,p),d in r||(r[d]=f.settings)}else if(c in l)ol(Kn.DUPLICATE_KEYS,c,d,l[c].path);else{const p=Hue(f,c,d,u);if(p){const{type:v,options:g,input:y}=p,{onChange:_,transient:x,onEditStart:w,onEditEnd:A}=g,b=xn(g,npe);u[d]=Lt(Lt(Lt({type:v},b),y),{},{fromPanel:!0}),l[c]={path:d,onChange:_,transient:x,onEditStart:w,onEditEnd:A}}else ol(Kn.UNKNOWN_INPUT,d,f)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},TH=new rpe,ipe={collapsed:!1};function spe(n,e){return{type:Uo.FOLDER,schema:n,settings:Lt(Lt({},ipe),e)}}const VO=n=>"__levaInput"in n,ope=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=ohe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&she(t,o,{[s]:{__levaInput:!0,path:i}})}),t},ape=["type","label","path","valueKey","value","settings","setValue","disabled"];function lpe(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,u=xn(n,ape);const{displayValue:c,onChange:f,onUpdate:d}=X8({type:e,value:s,settings:o,setValue:a}),p=Ff[e].component;return p?ue.createElement(F8.Provider,{value:Lt({key:i,path:r,id:""+r,label:t,displayValue:c,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},u)},ue.createElement(lce,{disabled:l},ue.createElement(p,null))):(ol(Kn.NO_COMPONENT_FOR_TYPE,e,r),null)}const upe=Dt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function cpe({onClick:n,settings:e,label:t}){const r=ov();return ue.createElement(xo,null,ue.createElement(upe,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const fpe=Dt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),dpe=Dt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),hpe=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function ppe(n){const{label:e,opts:t}=hpe(n),r=ov();return ue.createElement(xo,{input:!!e},e&&ue.createElement(qo,null,e),ue.createElement(fpe,null,Object.entries(t).map(([i,s])=>ue.createElement(dpe,{key:i,onClick:()=>s(r.get)},i))))}const mpe=Dt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),PH=100;function gpe(n,e){n.push(e),n.length>PH&&n.shift()}const vpe=I.forwardRef(function({initialValue:n},e){const t=pl("colors","highlight3"),r=pl("colors","elevation2"),i=pl("colors","highlight1"),[s,o]=I.useMemo(()=>[Fi(i).alpha(.4).toRgbString(),Fi(i).alpha(.1).toRgbString()],[i]),a=I.useRef([n]),l=I.useRef(n),u=I.useRef(n),c=I.useRef(),f=I.useCallback((v,g)=>{if(!v)return;const{width:y,height:_}=v,x=new Path2D,w=y/PH,A=_*.05;for(let T=0;T<a.current.length;T++){const M=ox(a.current[T],l.current,u.current),P=w*T,D=_-M*(_-A*2)-A;x.lineTo(P,D)}g.clearRect(0,0,y,_);const b=new Path2D(x);b.lineTo(w*(a.current.length+1),_),b.lineTo(0,_),b.lineTo(0,0);const E=g.createLinearGradient(0,0,0,_);E.addColorStop(0,s),E.addColorStop(1,o),g.fillStyle=E,g.fill(b),g.strokeStyle=r,g.lineJoin="round",g.lineWidth=14,g.stroke(x),g.strokeStyle=t,g.lineWidth=2,g.stroke(x)},[t,r,s,o]),[d,p]=vce(f);return I.useImperativeHandle(e,()=>({frame:v=>{(l.current===void 0||v<l.current)&&(l.current=v),(u.current===void 0||v>u.current)&&(u.current=v),gpe(a.current,v),c.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),I.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),ue.createElement(mpe,{ref:d})}),WO=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),ype=I.forwardRef(function({initialValue:n},e){const[t,r]=I.useState(WO(n));return I.useImperativeHandle(e,()=>({frame:i=>r(WO(i))}),[]),ue.createElement("div",null,t)});function jO(n){return typeof n=="function"?n():n.current}function _pe({label:n,objectOrFn:e,settings:t}){const r=I.useRef(),i=I.useRef(jO(e));return I.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(jO(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),ue.createElement(xo,{input:!0},ue.createElement(qo,{align:"top"},n),t.graph?ue.createElement(vpe,{ref:r,initialValue:i.current}):ue.createElement(ype,{ref:r,initialValue:i.current}))}const xpe=["type","label","key"],wpe={[Uo.BUTTON]:cpe,[Uo.BUTTON_GROUP]:ppe,[Uo.MONITOR]:_pe},Spe=ue.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=_ce(n);if(!e)return null;const{type:l,label:u,key:c}=e,f=xn(e,xpe);if(l in Uo){const d=wpe[l];return ue.createElement(d,cr({label:u,path:n},f))}return l in Ff?ue.createElement(lpe,cr({key:s+n,type:l,label:u,storeId:s,path:n,valueKey:c,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Eue(Kn.UNSUPPORTED_INPUT,l,n),null)});function Ape({toggle:n,toggled:e,name:t}){return ue.createElement(sce,{onClick:()=>n()},ue.createElement(qP,{toggled:e}),ue.createElement("div",null,t))}const bpe=({name:n,path:e,tree:t})=>{const r=ov(),i=aR(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=I.useState(!s),u=I.useRef(null),c=pl("colors","folderWidgetColor"),f=pl("colors","folderTextColor");return I.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,c,f]),ue.createElement(lx,{ref:u},ue.createElement(Ape,{name:n,toggled:a,toggle:()=>l(d=>!d)}),ue.createElement(RH,{parent:i,tree:t,toggled:a}))},RH=ue.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=uhe(s),l=ov(),u=([f,d])=>{var p;return(VO(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(aR(r,f)).order)||0},c=Object.entries(i).sort((f,d)=>u(f)-u(d));return ue.createElement(mC,{ref:o,isRoot:n,fill:e,flat:t},ue.createElement(V8,{ref:a,isRoot:n,toggled:s},c.map(([f,d])=>VO(d)?ue.createElement(Spe,{key:d.path,valueKey:d.valueKey,path:d.path}):ue.createElement(bpe,{key:f,name:f,path:r,tree:d}))))}),Mpe=Dt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${j8}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),IH=40,hx=Dt("i",{$flexCenter:"",width:IH,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Epe=Dt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Cpe=Dt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${hx}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Tpe=Dt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Ppe=Dt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:IH}}}}),Rpe=ue.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=I.useState(""),s=I.useMemo(()=>I8(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return I.useEffect(()=>{s(r)},[r,s]),ue.createElement(ue.Fragment,null,ue.createElement(Tpe,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ue.createElement(hx,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Ipe({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,f]=I.useState(!1),d=I.useRef(null);I.useEffect(()=>{var v,g;c?(v=d.current)===null||v===void 0||v.focus():(g=d.current)===null||g===void 0||g.blur()},[c]);const p=av(({offset:[v,g],first:y,last:_})=>{e({x:v,y:g}),y&&t({x:v,y:g}),_&&r({x:v,y:g})},{filterTaps:!0,from:({offset:[v,g]})=>[(u==null?void 0:u.x)||v,(u==null?void 0:u.y)||g]});return I.useEffect(()=>{const v=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&f(y=>!y)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),ue.createElement(ue.Fragment,null,ue.createElement(Epe,{mode:a?"drag":void 0},ue.createElement(hx,{active:!s,onClick:()=>i()},ue.createElement(qP,{toggled:s,width:12,height:8})),ue.createElement(Ppe,cr({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?ue.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ue.createElement("circle",{cx:"2",cy:"2",r:"2"}),ue.createElement("circle",{cx:"14",cy:"2",r:"2"}),ue.createElement("circle",{cx:"26",cy:"2",r:"2"}),ue.createElement("circle",{cx:"2",cy:"12",r:"2"}),ue.createElement("circle",{cx:"14",cy:"12",r:"2"}),ue.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&ue.createElement(hx,{active:c,onClick:()=>f(v=>!v)},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ue.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ue.createElement(Cpe,{toggled:c},ue.createElement(Rpe,{ref:d,setFilter:n,toggle:i})))}const Dpe=["store","hidden","theme","collapsed"];function Bpe(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=xn(n,Dpe);const o=SH(()=>que(r),[r]),[a,l]=I.useState(!i),u=typeof i=="object"?!i.collapsed:a,c=I.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:ue.createElement(YP.Provider,{value:o},ue.createElement(Lpe,cr({store:e},s,{toggled:u,setToggle:c,rootClass:o.className})))}const Lpe=ue.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,f;const d=che(n),[p,v]=I.useState(""),g=I.useMemo(()=>ope(d,p),[d,p]),[y,_]=J8(),x=i||d.length>0,w=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,b=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,T=typeof o=="object"&&o.onDrag||void 0,M=typeof o=="object"&&o.onDragStart||void 0,P=typeof o=="object"&&o.onDragEnd||void 0;return ue.useEffect(()=>{_({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,_]),Zue(),ue.createElement(U8.Provider,{value:{hideCopyButton:a}},ue.createElement(Mpe,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&ue.createElement(Ipe,{onDrag:D=>{_(D),T==null||T(D)},onDragStart:D=>M==null?void 0:M(D),onDragEnd:D=>P==null?void 0:P(D),setFilter:v,toggle:D=>u(F=>D??!F),toggled:l,title:w,drag:A,filterEnabled:b,from:E}),x&&ue.createElement(N8.Provider,{value:n},ue.createElement(RH,{isRoot:!0,fill:t,flat:r,tree:g,toggled:l}))))}),kpe=["isRoot"];let px=!1,qc=null;function DH(n){let{isRoot:e=!1}=n,t=xn(n,kpe);return I.useEffect(()=>(px=!0,!e&&qc&&(qc.remove(),qc=null),()=>{e||(px=!1)}),[e]),ue.createElement(Bpe,cr({store:TH},t))}function Ope(n){I.useEffect(()=>{n&&!px&&(qc||(qc=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(qc),Wue(ue.createElement(DH,{isRoot:!0}),qc))),px=!0)},[n])}function Fpe(n,e,t,r,i){let s,o,a,l,u;return typeof n=="string"?(o=n,s=e,Array.isArray(t)&&(u=t)):(s=n,Array.isArray(e)?u=e:(l=e,u=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function ec(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=Fpe(n,e,t),c=typeof o=="function",f=I.useRef(!1),d=I.useRef(!0),p=SH(()=>{f.current=!0;const F=typeof o=="function"?o():o;return s?{[s]:spe(F,a)}:F},u),v=!(l!=null&&l.store);Ope(v);const[g]=I.useState(()=>(l==null?void 0:l.store)||TH),[y,_]=I.useMemo(()=>g.getDataFromSchema(p),[g,p]),[x,w,A,b,E]=I.useMemo(()=>{const F=[],O=[],U={},N={},$={};return Object.values(_).forEach(({path:X,onChange:q,onEditStart:z,onEditEnd:j,transient:H})=>{F.push(X),q?(U[X]=q,H||O.push(X)):O.push(X),z&&(N[X]=z),j&&($[X]=j)}),[F,O,U,N,$]},[_]),T=I.useMemo(()=>g.orderPaths(x),[x,g]),M=fhe(g,w,y),P=I.useCallback(F=>{const O=Object.entries(F).reduce((U,[N,$])=>Object.assign(U,{[_[N].path]:$}),{});g.set(O,!1)},[g,_]),D=I.useCallback(F=>g.get(_[F].path),[g,_]);return I.useEffect(()=>{const F=!d.current&&f.current;return g.addData(y,F),d.current=!1,f.current=!1,()=>g.disposePaths(T)},[g,T,y]),I.useEffect(()=>{const F=[];return Object.entries(A).forEach(([O,U])=>{U(g.get(O),O,Lt({initial:!0,get:g.get},g.getInput(O)));const N=g.useStore.subscribe($=>{const X=$.data[O];return[X.disabled?void 0:X.value,X]},([$,X])=>U($,O,Lt({initial:!1,get:g.get},X)),{equalityFn:Cw});F.push(N)}),()=>F.forEach(O=>O())},[g,A]),I.useEffect(()=>{const F=[];return Object.entries(b).forEach(([O,U])=>F.push(g.subscribeToEditStart(O,U))),Object.entries(E).forEach(([O,U])=>F.push(g.subscribeToEditEnd(O,U))),()=>F.forEach(O=>O())},[b,E,g]),c?[M,P,D]:M}kl(Xo.SELECT,Oce);kl(Xo.IMAGE,Whe);kl(Xo.NUMBER,Ece);kl(Xo.COLOR,She);kl(Xo.STRING,jce);kl(Xo.BOOLEAN,Zce);kl(Xo.INTERVAL,qhe);kl(Xo.VECTOR3D,bhe);kl(Xo.VECTOR2D,Dhe);function Npe(){const{scene:n,animations:e}=Ir("./models/MillWithAnimation.glb"),[t,r]=I.useState(!1),i=I.useRef(),s=RP(e,n),o=ec("WindMil",{positionX:{value:-2.74,min:-3,max:1,step:.001},positionY:{value:-.49,min:-1,max:1,step:.001},positionZ:{value:2.12,min:0,max:4,step:.001},rotationY:{value:3.78,min:0,max:Math.PI*2,step:.001},scaleValue:{value:.05,min:0,max:.2,step:.001}});I.useEffect(()=>{s.actions.CircleAction.play()},[s.actions]),I.useEffect(()=>{const l=setTimeout(()=>{r(!0)},4450);return()=>clearTimeout(l)},[]),I.useEffect(()=>{n.traverse(l=>{l.isMesh&&(l.material.color=new ft("#ffffff"))})},[n]);const a=Vo({scale:t?o.scaleValue:0,position:[o.positionX,o.positionY,o.positionZ],rotation:[0,o.rotationY,0],config:{tension:170,friction:26}});return Ge.jsx(Wo.primitive,{ref:i,visible:t,object:n,scale:a.scale,position:a.position,rotation:a.rotation})}function Upe({externalHover:n=!1}){const{scene:e}=Ir("./models/Technologie.glb"),[t,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef();I.useEffect(()=>{const v=setTimeout(()=>{r(!0)},3950);return()=>clearTimeout(v)},[]),I.useEffect(()=>{e.traverse(v=>{v.isMesh&&(v.material.transparent=!1,v.material.opacity=1,v.material.needsUpdate=!0,v.castShadow=!0,v.receiveShadow=!0)})},[e]);const{positionX:a,positionY:l,positionZ:u,rotationY:c}=ec("Technologies",{positionX:{value:-.6,min:-5,max:5,step:.1},positionY:{value:-.5,min:-5,max:5,step:.1},positionZ:{value:2.1,min:-5,max:5,step:.1},rotationY:{value:2.2,min:0,max:Math.PI*2,step:.1}}),{scale:f,position:d,rotation:p}=Vo({scale:t?.3:0,position:[a,i||n?l+.2:l,u],rotation:[0,i||n?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return Ge.jsx(Wo.primitive,{ref:o,visible:t,object:e,scale:f,position:d,rotation:p,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function zpe({externalHover:n=!1}){const{scene:e,animations:t}=Ir("./models/Auta.glb"),[r,i]=I.useState(!1),[s,o]=I.useState(!1),a=I.useRef(),l=RP(t,e),{positionX:u,positionY:c,positionZ:f,rotationY:d}=ec("Auta",{positionX:{value:.44,min:-5,max:5,step:.001},positionY:{value:-.515,min:-5,max:5,step:.001},positionZ:{value:2.08,min:-5,max:5,step:.001},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}}),p=l.actions["Car.Low.003Action"];I.useEffect(()=>(p&&p.play(),()=>{p&&(p.stop(),p.reset())}),[l.actions]),I.useEffect(()=>{s?p.stop():p.play()},[s]),I.useEffect(()=>{const _=setTimeout(()=>{i(!0)},4350);return()=>clearTimeout(_)},[]),I.useEffect(()=>{e.traverse(_=>{_.isMesh&&(_.material.transparent=!1,_.material.opacity=1,_.material.needsUpdate=!0,_.castShadow=!0,_.receiveShadow=!0)})},[e]);const{scale:v,position:g,rotation:y}=Vo({scale:r?.2:0,position:[u,s||n?c+.2:c,f],rotation:[0,s||n?d+Math.PI*.1:d,0],config:{tension:170,friction:26}});return Ge.jsx(Ge.Fragment,{children:Ge.jsx(Wo.primitive,{ref:a,visible:r,object:e,scale:v,position:g,rotation:y,onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1)})})}function Gpe({externalHover:n=!1}){const{scene:e}=Ir("./models/Hala.glb"),[t,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef(),{positionX:a,positionY:l,positionZ:u,rotationY:c}=ec("Hala",{positionX:{value:2.8,min:-5,max:5,step:.1},positionY:{value:-.4,min:-5,max:5,step:.01},positionZ:{value:2,min:-5,max:5,step:.1},rotationY:{value:0,min:0,max:Math.PI*2,step:.1}});I.useEffect(()=>{const v=setTimeout(()=>{r(!0)},4550);return()=>clearTimeout(v)},[]),I.useEffect(()=>{e.traverse(v=>{v.isMesh&&(v.material.transparent=!1,v.material.opacity=1,v.material.needsUpdate=!0,v.castShadow=!0,v.receiveShadow=!0)})},[e]);const{scale:f,position:d,rotation:p}=Vo({scale:t?.3:0,position:[a,i||n?l+.2:l,u],rotation:[0,i||n?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return Ge.jsx(Wo.primitive,{ref:o,visible:t,object:e,scale:f,position:d,rotation:p,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function Hpe({externalHover:n=!1}){const{scene:e,animations:t}=Ir("./models/wodorowy_hub.glb"),[r,i]=I.useState(!1),[s,o]=I.useState(!1),a=I.useRef(),{positionX:l,positionY:u,positionZ:c,rotationY:f}=ec("Wodorowy Hub",{positionX:{value:-2.6,min:-5,max:5,step:.01},positionY:{value:-.37,min:-5,max:5,step:.01},positionZ:{value:2.5,min:-5,max:5,step:.01},rotationY:{value:0,min:0,max:Math.PI*2,step:.01}});I.useEffect(()=>{const g=setTimeout(()=>{i(!0)},3850);return()=>clearTimeout(g)},[]),I.useEffect(()=>{e.traverse(g=>{g.isMesh&&(g.material.transparent=!1,g.material.opacity=1,g.material.needsUpdate=!0,g.castShadow=!0,g.receiveShadow=!0)})},[e]),I.useEffect(()=>{e.traverse(g=>{g.isMesh&&(g.geometry.computeBoundingSphere(),g.geometry.computeBoundingBox())})},[e]);const{scale:d,position:p,rotation:v}=Vo({scale:r?.25:0,position:[l,s||n?u+.2:u,c],rotation:[0,s||n?f+Math.PI*.1:f,0],config:{tension:170,friction:26}});return Ge.jsx(Ge.Fragment,{children:Ge.jsx(Wo.primitive,{ref:a,visible:r,object:e,scale:d,position:p,rotation:v,onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),onClick:()=>window.open("https://teamid.f.pl/","_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},frustumCulled:!0})})}function Vpe({externalHover:n=!1}){const{scene:e}=Ir("./models/wodorowy_tir.glb"),[t,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef(),{positionX:a,positionY:l,positionZ:u,rotationY:c}=ec("HydrogenTruck",{positionX:{value:1.1,min:-5,max:5,step:.001},positionY:{value:-.527,min:-5,max:5,step:.001},positionZ:{value:2.1,min:-5,max:5,step:.001},rotationY:{value:-.5,min:-2,max:Math.PI*2,step:.1}});I.useEffect(()=>{e.traverse(v=>{v.isMesh&&(v.material.transparent=!1,v.material.opacity=1,v.material.needsUpdate=!0,v.castShadow=!0,v.receiveShadow=!0)})},[e]),I.useEffect(()=>{const v=setTimeout(()=>{r(!0)},4250);return()=>clearTimeout(v)},[]);const{scale:f,position:d,rotation:p}=Vo({scale:t?.3:0,position:[a,i||n?l+.2:l,u],rotation:[0,i||n?c+Math.PI*.1:c,0],config:{tension:170,friction:26}});return Ge.jsx(Ge.Fragment,{children:Ge.jsx(Wo.primitive,{ref:o,visible:t,object:e,scale:f,position:d,rotation:p,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})})}function Wpe({count:n=500,texturePath:e="/textures/star_04.png"}){const t=I.useRef();I.useMemo(()=>new en,[]);const r=Ls(yp,e),i=I.useMemo(()=>{const l=new Float32Array(n*3);for(let u=0;u<n;u++)l.set([(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],u*3);return l},[n]);Zu(()=>{t.current&&(t.current.rotation.y+=7e-4)});const{alphaTest:s,size:o,opacity:a}=ec("Particles",{alphaTest:{value:.3,min:0,max:1,step:.01},size:{value:.25,min:.01,max:1,step:.01},opacity:{value:.79,min:0,max:1,step:.01}});return Ge.jsxs("points",{ref:t,children:[Ge.jsx("bufferGeometry",{children:Ge.jsx("bufferAttribute",{attach:"attributes-position",array:i,itemSize:3,count:i.length/3})}),Ge.jsx("pointsMaterial",{map:r,transparent:!0,alphaTest:s,size:o,sizeAttenuation:!0,opacity:a,depthWrite:!1,blending:G_,vertexColors:!1,fog:!0,toneMapped:!1})]})}function jpe(){return Ge.jsxs(Ge.Fragment,{children:[Ge.jsx("directionalLight",{castShadow:!0,position:[4,4,1],intensity:.7,"shadow-mapSize":[1024,1024],"shadow-camera-near":1,"shadow-camera-far":10,"shadow-camera-top":10,"shadow-camera-right":10,"shadow-camera-bottom":-10,"shadow-camera-left":-10,"shadow-normalBias":.04}),Ge.jsx("ambientLight",{intensity:.4})]})}function Za(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BH(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ps={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$h={duration:.5,overwrite:!1,delay:0},lR,Si,Vn,wa=1e8,xi=1/wa,RC=Math.PI*2,$pe=RC/4,Xpe=0,LH=Math.sqrt,Jpe=Math.cos,Kpe=Math.sin,Zr=function(e){return typeof e=="string"},ur=function(e){return typeof e=="function"},Pl=function(e){return typeof e=="number"},uR=function(e){return typeof e>"u"},Pa=function(e){return typeof e=="object"},rs=function(e){return e!==!1},cR=function(){return typeof window<"u"},C1=function(e){return ur(e)||Zr(e)},kH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ai=Array.isArray,IC=/(?:-?\.?\d|\.)+/gi,OH=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ih=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Bb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,FH=/[+-]=-?[.\d]+/,NH=/[^,'"\[\]\s]+/gi,Ype=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qn,ca,DC,fR,ks={},mx={},UH,zH=function(e){return(mx=Nf(e,ks))&&as},dR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},h0=function(e,t){return!t&&console.warn(e)},GH=function(e,t){return e&&(ks[e]=t)&&mx&&(mx[e]=t)||ks},p0=function(){return 0},Qpe={suppressEvents:!0,isStart:!0,kill:!1},o_={suppressEvents:!0,kill:!1},Zpe={suppressEvents:!0},hR={},Cu=[],BC={},HH,xs={},Lb={},$O=30,a_=[],pR="",mR=function(e){var t=e[0],r,i;if(Pa(t)||ur(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=a_.length;i--&&!a_[i].targetTest(t););r=a_[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new d9(e[i],r)))||e.splice(i,1);return e},gf=function(e){return e._gsap||mR(co(e))[0]._gsap},VH=function(e,t,r){return(r=e[t])&&ur(r)?e[t]():uR(r)&&e.getAttribute&&e.getAttribute(t)||r},is=function(e,t){return(e=e.split(",")).forEach(t)||e},vr=function(e){return Math.round(e*1e5)/1e5||0},$r=function(e){return Math.round(e*1e7)/1e7||0},Mh=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},qpe=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},gx=function(){var e=Cu.length,t=Cu.slice(0),r,i;for(BC={},Cu.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},WH=function(e,t,r,i){Cu.length&&!Si&&gx(),e.render(t,r,Si&&t<0&&(e._initted||e._startAt)),Cu.length&&!Si&&gx()},jH=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(NH).length<2?t:Zr(e)?e.trim():e},$H=function(e){return e},vo=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},eme=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Nf=function(e,t){for(var r in t)e[r]=t[r];return e},XO=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Pa(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},vx=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},yg=function(e){var t=e.parent||Qn,r=e.keyframes?eme(Ai(e.keyframes)):vo;if(rs(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},tme=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},XH=function(e,t,r,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Ow=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Hu=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},vf=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},nme=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},LC=function(e,t,r,i){return e._startAt&&(Si?e._startAt.revert(o_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},rme=function n(e){return!e||e._ts&&n(e.parent)},JO=function(e){return e._repeat?Xh(e._tTime,e=e.duration()+e._rDelay)*e:0},Xh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},yx=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Fw=function(e){return e._end=$r(e._start+(e._tDur/Math.abs(e._ts||e._rts||xi)||0))},Nw=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=$r(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Fw(e),r._dirty||vf(r,e)),e},JH=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=yx(e.rawTime(),t),(!t._dur||cv(0,t.totalDuration(),r)-t._tTime>xi)&&t.render(r,!0)),vf(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},pa=function(e,t,r,i){return t.parent&&Hu(t),t._start=$r((Pl(r)?r:r||e!==Qn?Ks(e,r,t):e._time)+t._delay),t._end=$r(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),XH(e,t,"_first","_last",e._sort?"_start":0),kC(t)||(e._recent=t),i||JH(e,t),e._ts<0&&Nw(e,e._tTime),e},KH=function(e,t){return(ks.ScrollTrigger||dR("scrollTrigger",t))&&ks.ScrollTrigger.create(t,e)},YH=function(e,t,r,i,s){if(vR(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Si&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&HH!==Ss.frame)return Cu.push(e),e._lazy=[s,i],1},ime=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},kC=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},sme=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&ime(e)&&!(!e._initted&&kC(e))||(e._ts<0||e._dp._ts<0)&&!kC(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=cv(0,e._tDur,t),c=Xh(l,a),e._yoyo&&c&1&&(o=1-o),c!==Xh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Si||i||e._zTime===xi||!t&&e._zTime){if(!e._initted&&YH(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?xi:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&LC(e,t,r,!0),e._onUpdate&&!r&&Ms(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Ms(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Hu(e,1),!r&&!Si&&(Ms(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},ome=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Jh=function(e,t,r,i){var s=e._repeat,o=$r(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:$r(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Nw(e,e._tTime=e._tDur*a),e.parent&&Fw(e),r||vf(e.parent,e),e},KO=function(e){return e instanceof Ni?vf(e):Jh(e,e._dur)},ame={_start:0,endTime:p0,totalDuration:p0},Ks=function n(e,t,r){var i=e.labels,s=e._recent||ame,o=e.duration()>=wa?s.endTime(!1):e._dur,a,l,u;return Zr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&r&&(l=l/100*(Ai(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},_g=function(e,t,r){var i=Pl(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=rs(l.vars.inherit)&&l.parent;o.immediateRender=rs(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new br(t[0],o,t[s+1])},tc=function(e,t){return e||e===0?t(e):t},cv=function(e,t,r){return r<e?e:r>t?t:r},yi=function(e,t){return!Zr(e)||!(t=Ype.exec(e))?"":t[1]},lme=function(e,t,r){return tc(r,function(i){return cv(e,t,i)})},OC=[].slice,QH=function(e,t){return e&&Pa(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Pa(e[0]))&&!e.nodeType&&e!==ca},ume=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Zr(i)&&!t||QH(i,1)?(s=r).push.apply(s,co(i)):r.push(i)})||r},co=function(e,t,r){return Vn&&!t&&Vn.selector?Vn.selector(e):Zr(e)&&!r&&(DC||!Kh())?OC.call((t||fR).querySelectorAll(e),0):Ai(e)?ume(e,r):QH(e)?OC.call(e,0):e?[e]:[]},FC=function(e){return e=co(e)[0]||h0("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return co(t,r.querySelectorAll?r:r===e?h0("Invalid scope")||fR.createElement("div"):e)}},ZH=function(e){return e.sort(function(){return .5-Math.random()})},qH=function(e){if(ur(e))return e;var t=Pa(e)?e:{each:e},r=yf(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=t.axis,c=i,f=i;return Zr(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(d,p,v){var g=(v||t).length,y=o[g],_,x,w,A,b,E,T,M,P;if(!y){if(P=t.grid==="auto"?0:(t.grid||[1,wa])[1],!P){for(T=-1e8;T<(T=v[P++].getBoundingClientRect().left)&&P<g;);P<g&&P--}for(y=o[g]=[],_=l?Math.min(P,g)*c-.5:i%P,x=P===wa?0:l?g*f/P-.5:i/P|0,T=0,M=wa,E=0;E<g;E++)w=E%P-_,A=x-(E/P|0),y[E]=b=u?Math.abs(u==="y"?A:w):LH(w*w+A*A),b>T&&(T=b),b<M&&(M=b);i==="random"&&ZH(y),y.max=T-M,y.min=M,y.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(P>g?g-1:u?u==="y"?g/P:P:Math.max(P,g/P))||0)*(i==="edges"?-1:1),y.b=g<0?s-g:s,y.u=yi(t.amount||t.each)||0,r=r&&g<0?u9(r):r}return g=(y[d]-y.min)/y.max||0,$r(y.b+(r?r(g):g)*y.v)+y.u}},NC=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=$r(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Pl(r)?0:yi(r))}},e9=function(e,t){var r=Ai(e),i,s;return!r&&Pa(e)&&(i=r=e.radius||wa,e.values?(e=co(e.values),(s=!Pl(e[0]))&&(i*=i)):e=NC(e.increment)),tc(t,r?ur(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=wa,c=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!i||u<=i?e[c]:o,s||c===o||Pl(o)?c:c+yi(o)}:NC(e))},t9=function(e,t,r,i){return tc(Ai(e)?!t:r===!0?!!(r=0):!i,function(){return Ai(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},cme=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},fme=function(e,t){return function(r){return e(parseFloat(r))+(t||yi(r))}},dme=function(e,t,r){return r9(e,t,0,1,r)},n9=function(e,t,r){return tc(r,function(i){return e[~~t(i)]})},hme=function n(e,t,r){var i=t-e;return Ai(e)?n9(e,n(0,e.length),t):tc(r,function(s){return(i+(s-e)%i)%i+e})},pme=function n(e,t,r){var i=t-e,s=i*2;return Ai(e)?n9(e,n(0,e.length-1),t):tc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},m0=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?NH:IC),r+=e.substr(t,i-t)+t9(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},r9=function(e,t,r,i,s){var o=t-e,a=i-r;return tc(s,function(l){return r+((l-e)/o*a||0)})},mme=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=Zr(e),a={},l,u,c,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Ai(e)&&!Ai(t)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(n(e[u-1],e[u]));f--,s=function(v){v*=f;var g=Math.min(d,~~v);return c[g](v-g)},r=t}else i||(e=Nf(Ai(e)?[]:{},e));if(!c){for(l in t)gR.call(a,e,l,"get",t[l]);s=function(v){return xR(v,a)||(o?e.p:e)}}}return tc(r,s)},YO=function(e,t,r){var i=e.labels,s=wa,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ms=function(e,t,r){var i=e.vars,s=i[t],o=Vn,a=e._ctx,l,u,c;if(s)return l=i[t+"Params"],u=i.callbackScope||e,r&&Cu.length&&gx(),a&&(Vn=a),c=l?s.apply(u,l):s.call(u),Vn=o,c},Wm=function(e){return Hu(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Si),e.progress()<1&&Ms(e,"onInterrupt"),e},sh,i9=[],s9=function(e){if(e)if(e=!e.name&&e.default||e,cR()||e.headless){var t=e.name,r=ur(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:p0,render:xR,add:gR,kill:Ime,modifier:Rme,rawVars:0},o={targetTest:0,get:0,getSetter:_R,aliases:{},register:0};if(Kh(),e!==i){if(xs[t])return;vo(i,vo(vx(e,s),o)),Nf(i.prototype,Nf(s,vx(e,o))),xs[i.prop=t]=i,e.targetTest&&(a_.push(i),hR[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}GH(t,i),e.register&&e.register(as,i,ss)}else i9.push(e)},Sn=255,jm={aqua:[0,Sn,Sn],lime:[0,Sn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Sn],navy:[0,0,128],white:[Sn,Sn,Sn],olive:[128,128,0],yellow:[Sn,Sn,0],orange:[Sn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Sn,0,0],pink:[Sn,192,203],cyan:[0,Sn,Sn],transparent:[Sn,Sn,Sn,0]},kb=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Sn+.5|0},o9=function(e,t,r){var i=e?Pl(e)?[e>>16,e>>8&Sn,e&Sn]:0:jm.black,s,o,a,l,u,c,f,d,p,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),jm[e])i=jm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Sn,i&Sn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Sn,e&Sn]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(IC),!t)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=kb(l+1/3,s,o),i[1]=kb(l,s,o),i[2]=kb(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(OH),r&&i.length<4&&(i[3]=1),i}else i=e.match(IC)||jm.transparent;i=i.map(Number)}return t&&!v&&(s=i[0]/Sn,o=i[1]/Sn,a=i[2]/Sn,f=Math.max(s,o,a),d=Math.min(s,o,a),c=(f+d)/2,f===d?l=u=0:(p=f-d,u=c>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},a9=function(e){var t=[],r=[],i=-1;return e.split(Tu).forEach(function(s){var o=s.match(ih)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},QO=function(e,t,r){var i="",s=(e+i).match(Tu),o=t?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(d){return(d=o9(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=a9(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(Tu,"1").split(ih),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(Tu),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},Tu=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in jm)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),gme=/hsl[a]?\(/,l9=function(e){var t=e.join(" "),r;if(Tu.lastIndex=0,Tu.test(t))return r=gme.test(t),e[1]=QO(e[1],r),e[0]=QO(e[0],r,a9(e[1])),!0},g0,Ss=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,d,p,v=function g(y){var _=n()-i,x=y===!0,w,A,b,E;if((_>e||_<0)&&(r+=_-t),i+=_,b=i-r,w=b-o,(w>0||x)&&(E=++f.frame,d=b-f.time*1e3,f.time=b=b/1e3,o+=w+(w>=s?4:s-w),A=1),x||(l=u(g)),A)for(p=0;p<a.length;p++)a[p](b,d,E,y)};return f={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){UH&&(!DC&&cR()&&(ca=DC=window,fR=ca.document||{},ks.gsap=as,(ca.gsapVersions||(ca.gsapVersions=[])).push(as.version),zH(mx||ca.GreenSockGlobals||!ca.gsap&&ca||{}),i9.forEach(s9)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(y){return setTimeout(y,o-f.time*1e3+1|0)},g0=1,v(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),g0=0,u=p0},lagSmoothing:function(y,_){e=y||1/0,t=Math.min(_||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,_,x){var w=_?function(A,b,E,T){y(A,b,E,T),f.remove(w)}:y;return f.remove(y),a[x?"unshift":"push"](w),Kh(),w},remove:function(y,_){~(_=a.indexOf(y))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},f}(),Kh=function(){return!g0&&Ss.wake()},sn={},vme=/^[\d.\-M][\d.\-,\s]/,yme=/["']/g,_me=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[i]=isNaN(u)?u.replace(yme,"").trim():+u,i=l.substr(a+1).trim();return t},xme=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},wme=function(e){var t=(e+"").split("("),r=sn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[_me(t[1])]:xme(e).split(",").map(jH)):sn._CE&&vme.test(e)?sn._CE("",e):r},u9=function(e){return function(t){return 1-e(1-t)}},c9=function n(e,t){for(var r=e._first,i;r;)r instanceof Ni?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},yf=function(e,t){return e&&(ur(e)?e:sn[e]||wme(e))||t},Jf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return is(e,function(a){sn[a]=ks[a]=s,sn[o=a.toLowerCase()]=r;for(var l in s)sn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=sn[a+"."+l]=s[l]}),s},f9=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ob=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/RC*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*Kpe((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:f9(a);return s=RC/s,l.config=function(u,c){return n(e,u,c)},l},Fb=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:f9(r);return i.config=function(s){return n(e,s)},i};is("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Jf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});sn.Linear.easeNone=sn.none=sn.Linear.easeIn;Jf("Elastic",Ob("in"),Ob("out"),Ob());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Jf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Jf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Jf("Circ",function(n){return-(LH(1-n*n)-1)});Jf("Sine",function(n){return n===1?1:-Jpe(n*$pe)+1});Jf("Back",Fb("in"),Fb("out"),Fb());sn.SteppedEase=sn.steps=ks.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-xi;return function(a){return((i*cv(0,o,a)|0)+s)*r}}};$h.ease=sn["quad.out"];is("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return pR+=n+","+n+"Params,"});var d9=function(e,t){this.id=Xpe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:VH,this.set=t?t.getSetter:_R},v0=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jh(this,+t.duration,1,1),this.data=t.data,Vn&&(this._ctx=Vn,Vn.data.push(this)),g0||Ss.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Jh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Kh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Nw(this,r),!s._dp||s.parent||JH(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&pa(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===xi||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),WH(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+JO(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+JO(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Xh(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?yx(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(cv(-Math.abs(this._delay),this._tDur,s),i!==!1),Fw(this),nme(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Kh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xi&&(this._tTime-=xi)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&pa(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(rs(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yx(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Zpe);var i=Si;return Si=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Si=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,KO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,KO(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ks(this,r),rs(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,rs(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-xi)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=ur(r)?r:$H,a=function(){var u=i.then;i.then=null,ur(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Wm(this)},n}();vo(v0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ni=function(n){BH(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=rs(r.sortChildren),Qn&&pa(r.parent||Qn,Za(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&KH(Za(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return _g(0,arguments,this),this},t.from=function(i,s,o){return _g(1,arguments,this),this},t.fromTo=function(i,s,o,a){return _g(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,yg(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new br(i,s,Ks(this,o),1),this},t.call=function(i,s,o){return pa(this,br.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new br(i,o,Ks(this,l)),this},t.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,yg(o).immediateRender=rs(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},t.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,yg(a).immediateRender=rs(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:$r(i),f=this._zTime<0!=i<0&&(this._initted||!u),d,p,v,g,y,_,x,w,A,b,E,T;if(this!==Qn&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),d=c,A=this._start,w=this._ts,_=!w,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,y=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(d=$r(c%y),c===l?(g=this._repeat,d=u):(g=~~(c/y),g&&g===c/y&&(d=u,g--),d>u&&(d=u)),b=Xh(this._tTime,y),!a&&this._tTime&&b!==g&&this._tTime-b*y-this._dur<=0&&(b=g),E&&g&1&&(d=u-d,T=1),g!==b&&!this._lock){var M=E&&b&1,P=M===(E&&g&1);if(g<b&&(M=!M),a=M?0:c%u?u:c,this._lock=1,this.render(a||(T?0:$r(g*y)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&Ms(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,P&&(this._lock=2,a=M?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;c9(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=ome(this,$r(a),$r(d)),x&&(c-=d-(d=x._start))),this._tTime=c,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!g&&(Ms(this,"onStart"),this._tTime!==c))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(v=p._next,(p._act||d>=p._start)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!_){x=0,v&&(c+=this._zTime=-1e-8);break}}p=v}else{p=this._last;for(var D=i<0?i:d;p;){if(v=p._prev,(p._act||D<=p._end)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,s,o||Si&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!_){x=0,v&&(c+=this._zTime=D?-1e-8:xi);break}}p=v}}if(x&&!s&&(this.pause(),x.render(d>=a?0:-1e-8)._zTime=d>=a?1:-1,this._ts))return this._start=A,Fw(this),this.render(i,s,o);this._onUpdate&&!s&&Ms(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(A===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Hu(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(Ms(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Pl(s)||(s=Ks(this,s,i)),!(i instanceof v0)){if(Ai(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Zr(i))return this.addLabel(i,s);if(ur(i))i=br.delayedCall(0,i);else return this}return this!==i?pa(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-1e8);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof br?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Zr(i)?this.removeLabel(i):ur(i)?this.killTweensOf(i):(Ow(this,i),i===this._recent&&(this._recent=this._last),vf(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=$r(Ss.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ks(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=br.delayedCall(0,s||p0,o);return a.data="isPause",this._hasPause=1,pa(this,a,Ks(this,i))},t.removePause=function(i){var s=this._first;for(i=Ks(this,i);s;)s._start===i&&s.data==="isPause"&&Hu(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)hu!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=co(i),l=this._first,u=Pl(s),c;l;)l instanceof br?qpe(l._targets,a)&&(u?(!hu||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ks(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,p,v=br.to(o,vo({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||xi,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());v._dur!==y&&Jh(v,y,0,1).render(v._time,!0,!0),p=1}c&&c.apply(v,f||[])}},s));return d?v.render(0):v},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,vo({startAt:{time:Ks(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),YO(this,Ks(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),YO(this,Ks(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+xi)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return vf(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),vf(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=wa,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,pa(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;Jh(o,o===Qn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Qn._ts&&(WH(Qn,yx(i,Qn)),HH=Ss.frame),Ss.frame>=$O){$O+=Ps.autoSleep||120;var s=Qn._first;if((!s||!s._ts)&&Ps.autoSleep&&Ss._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ss.sleep()}}},e}(v0);vo(Ni.prototype,{_lock:0,_hasPause:0,_forcing:0});var Sme=function(e,t,r,i,s,o,a){var l=new ss(this._pt,e,t,0,1,y9,null,s),u=0,c=0,f,d,p,v,g,y,_,x;for(l.b=r,l.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=m0(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),d=r.match(Bb)||[];f=Bb.exec(i);)v=f[0],g=i.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),v!==d[c++]&&(y=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:g||c===1?g:",",s:y,c:v.charAt(1)==="="?Mh(y,v)-y:parseFloat(v)-y,m:p&&p<4?Math.round:0},u=Bb.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(FH.test(i)||_)&&(l.e=0),this._pt=l,l},gR=function(e,t,r,i,s,o,a,l,u,c){ur(i)&&(i=i(s||0,e,o));var f=e[t],d=r!=="get"?r:ur(f)?u?e[t.indexOf("set")||!ur(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,p=ur(f)?u?Cme:g9:yR,v;if(Zr(i)&&(~i.indexOf("random(")&&(i=m0(i)),i.charAt(1)==="="&&(v=Mh(d,i)+(yi(d)||0),(v||v===0)&&(i=v))),!c||d!==i||UC)return!isNaN(d*i)&&i!==""?(v=new ss(this._pt,e,t,+d||0,i-(d||0),typeof f=="boolean"?Pme:v9,0,p),u&&(v.fp=u),a&&v.modifier(a,this,e),this._pt=v):(!f&&!(t in e)&&dR(t,i),Sme.call(this,e,t,d,i,p,l||Ps.stringFilter,u))},Ame=function(e,t,r,i,s){if(ur(e)&&(e=xg(e,s,t,r,i)),!Pa(e)||e.style&&e.nodeType||Ai(e)||kH(e))return Zr(e)?xg(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=xg(e[a],s,t,r,i);return o},h9=function(e,t,r,i,s,o){var a,l,u,c;if(xs[e]&&(a=new xs[e]).init(s,a.rawVars?t[e]:Ame(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new ss(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==sh))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},hu,UC,vR=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,v=e._dur,g=e._startAt,y=e._targets,_=e.parent,x=_&&_.data==="nested"?_.vars.targets:y,w=e._overwrite==="auto"&&!lR,A=e.timeline,b,E,T,M,P,D,F,O,U,N,$,X,q;if(A&&(!d||!s)&&(s="none"),e._ease=yf(s,$h.ease),e._yEase=f?u9(yf(f===!0?s:f,$h.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!A&&!!i.runBackwards,!A||d&&!i.stagger){if(O=y[0]?gf(y[0]).harness:0,X=O&&i[O.prop],b=vx(i,hR),g&&(g._zTime<0&&g.progress(1),t<0&&c&&a&&!p?g.render(-1,!0):g.revert(c&&v?o_:Qpe),g._lazy=0),o){if(Hu(e._startAt=br.set(y,vo({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!g&&rs(l),startAt:null,delay:0,onUpdate:u&&function(){return Ms(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Si||!a&&!p)&&e._startAt.revert(o_),a&&v&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(c&&v&&!g){if(t&&(a=!1),T=vo({overwrite:!1,data:"isFromStart",lazy:a&&!g&&rs(l),immediateRender:a,stagger:0,parent:_},b),X&&(T[O.prop]=X),Hu(e._startAt=br.set(y,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Si?e._startAt.revert(o_):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,xi,xi);else if(!t)return}for(e._pt=e._ptCache=0,l=v&&rs(l)||l&&!v,E=0;E<y.length;E++){if(P=y[E],F=P._gsap||mR(y)[E]._gsap,e._ptLookup[E]=N={},BC[F.id]&&Cu.length&&gx(),$=x===y?E:x.indexOf(P),O&&(U=new O).init(P,X||b,e,$,x)!==!1&&(e._pt=M=new ss(e._pt,P,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(z){N[z]=M}),U.priority&&(D=1)),!O||X)for(T in b)xs[T]&&(U=h9(T,b,e,$,P,x))?U.priority&&(D=1):N[T]=M=gR.call(e,P,T,"get",b[T],$,x,0,i.stringFilter);e._op&&e._op[E]&&e.kill(P,e._op[E]),w&&e._pt&&(hu=e,Qn.killTweensOf(P,N,e.globalTime(t)),q=!e.parent,hu=0),e._pt&&l&&(BC[F.id]=1)}D&&_9(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!q,d&&t<=0&&A.render(wa,!0,!0)},bme=function(e,t,r,i,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,f,d,p;if(!u)for(u=e._ptCache[t]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return UC=1,e.vars[t]="+=0",vR(e,a),UC=0,l?h0(t+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)f=u[p],c=f._pt||f,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=vr(r)+yi(f.e)),f.b&&(f.b=c.s+yi(f.b))},Mme=function(e,t){var r=e[0]?gf(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Nf({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Eme=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Ai(t))a=r[e]||(r[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},xg=function(e,t,r,i,s){return ur(e)?e.call(t,r,i,s):Zr(e)&&~e.indexOf("random(")?m0(e):e},p9=pR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",m9={};is(p9+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return m9[n]=1});var br=function(n){BH(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:yg(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,v=l.keyframes,g=l.defaults,y=l.scrollTrigger,_=l.yoyoEase,x=i.parent||Qn,w=(Ai(r)||kH(r)?Pl(r[0]):"length"in i)?[r]:co(r),A,b,E,T,M,P,D,F;if(a._targets=w.length?mR(w):h0("GSAP target "+r+" not found. https://gsap.com",!Ps.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,v||d||C1(u)||C1(c)){if(i=a.vars,A=a.timeline=new Ni({data:"nested",defaults:g||{},targets:x&&x.data==="nested"?x.vars.targets:w}),A.kill(),A.parent=A._dp=Za(a),A._start=0,d||C1(u)||C1(c)){if(T=w.length,D=d&&qH(d),Pa(d))for(M in d)~p9.indexOf(M)&&(F||(F={}),F[M]=d[M]);for(b=0;b<T;b++)E=vx(i,m9),E.stagger=0,_&&(E.yoyoEase=_),F&&Nf(E,F),P=w[b],E.duration=+xg(u,Za(a),b,P,w),E.delay=(+xg(c,Za(a),b,P,w)||0)-a._delay,!d&&T===1&&E.delay&&(a._delay=c=E.delay,a._start+=c,E.delay=0),A.to(P,E,D?D(b,P,w):0),A._ease=sn.none;A.duration()?u=c=0:a.timeline=0}else if(v){yg(vo(A.vars.defaults,{ease:"none"})),A._ease=yf(v.ease||i.ease||"none");var O=0,U,N,$;if(Ai(v))v.forEach(function(X){return A.to(w,X,">")}),A.duration();else{E={};for(M in v)M==="ease"||M==="easeEach"||Eme(M,v[M],E,v.easeEach);for(M in E)for(U=E[M].sort(function(X,q){return X.t-q.t}),O=0,b=0;b<U.length;b++)N=U[b],$={ease:N.e,duration:(N.t-(b?U[b-1].t:0))/100*u},$[M]=N.v,A.to(w,$,O),O+=$.duration;A.duration()<u&&A.to({},{duration:u-A.duration()})}}u||a.duration(u=A.duration())}else a.timeline=0;return p===!0&&!lR&&(hu=Za(a),Qn.killTweensOf(w),hu=0),pa(x,Za(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!v&&a._start===$r(x._time)&&rs(f)&&rme(Za(a))&&x.data!=="nested")&&(a._tTime=-1e-8,a.render(Math.max(0,-c)||0)),y&&KH(Za(a),y),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-xi&&!c?l:i<xi?0:i,d,p,v,g,y,_,x,w,A;if(!u)sme(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=f,w=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(g*100+i,s,o);if(d=$r(f%g),f===l?(v=this._repeat,d=u):(v=~~(f/g),v&&v===$r(f/g)&&(d=u,v--),d>u&&(d=u)),_=this._yoyo&&v&1,_&&(A=this._yEase,d=u-d),y=Xh(this._tTime,g),d===a&&!o&&this._initted&&v===y)return this._tTime=f,this;v!==y&&(w&&this._yEase&&c9(w,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==g&&this._initted&&(this._lock=o=1,this.render($r(g*v),!0).invalidate()._lock=0))}if(!this._initted){if(YH(this,c?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==y))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(A||this._ease)(d/u),this._from&&(this.ratio=x=1-x),d&&!a&&!s&&!v&&(Ms(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(x,p.d),p=p._next;w&&w.render(i<0?i:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&LC(this,i,s,o),Ms(this,"onUpdate")),this._repeat&&v!==y&&this.vars.onRepeat&&!s&&this.parent&&Ms(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&LC(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Hu(this,1),!s&&!(c&&!a)&&(f||a||_)&&(Ms(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){g0||Ss.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||vR(this,u),c=this._ease(u/this._dur),bme(this,i,s,o,a,c,u,l)?this.resetTo(i,s,o,a,1):(Nw(this,0),this.parent||XH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Wm(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,hu&&hu.vars.overwrite!==!0)._first||Wm(this),this.parent&&o!==this.timeline.totalDuration()&&Jh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?co(i):a,u=this._ptLookup,c=this._pt,f,d,p,v,g,y,_;if((!s||s==="all")&&tme(a,l))return s==="all"&&(this._pt=0),Wm(this);for(f=this._op=this._op||[],s!=="all"&&(Zr(s)&&(g={},is(s,function(x){return g[x]=1}),s=g),s=Mme(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){d=u[_],s==="all"?(f[_]=s,v=d,p={}):(p=f[_]=f[_]||{},v=s);for(g in v)y=d&&d[g],y&&((!("kill"in y.d)||y.d.kill(g)===!0)&&Ow(this,y,"_pt"),delete d[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&c&&Wm(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return _g(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return _g(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Qn.killTweensOf(i,s,o)},e}(v0);vo(br.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});is("staggerTo,staggerFrom,staggerFromTo",function(n){br[n]=function(){var e=new Ni,t=OC.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var yR=function(e,t,r){return e[t]=r},g9=function(e,t,r){return e[t](r)},Cme=function(e,t,r,i){return e[t](i.fp,r)},Tme=function(e,t,r){return e.setAttribute(t,r)},_R=function(e,t){return ur(e[t])?g9:uR(e[t])&&e.setAttribute?Tme:yR},v9=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Pme=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},y9=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},xR=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Rme=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Ime=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Ow(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Dme=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},_9=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},ss=function(){function n(t,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||v9,this.d=l||this,this.set=u||yR,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Dme,this.m=r,this.mt=s,this.tween=i},n}();is(pR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return hR[n]=1});ks.TweenMax=ks.TweenLite=br;ks.TimelineLite=ks.TimelineMax=Ni;Qn=new Ni({sortChildren:!1,defaults:$h,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ps.stringFilter=l9;var _f=[],l_={},Bme=[],ZO=0,Lme=0,Nb=function(e){return(l_[e]||Bme).map(function(t){return t()})},zC=function(){var e=Date.now(),t=[];e-ZO>2&&(Nb("matchMediaInit"),_f.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=ca.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&t.push(r))}),Nb("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ZO=e,Nb("matchMedia"))},x9=function(){function n(t,r){this.selector=r&&FC(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Lme++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){ur(r)&&(s=i,i=r,r=ur);var o=this,a=function(){var u=Vn,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=FC(s)),Vn=o,f=i.apply(o,arguments),ur(f)&&o._r.push(f),Vn=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===ur?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=Vn;Vn=null,r(this),Vn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof br&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=s.data.length;l--;)u=s.data[l],u instanceof Ni?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof br)&&u.revert&&u.revert(r);s._r.forEach(function(c){return c(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=_f.length;o--;)_f[o].id===this.id&&_f.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),kme=function(){function n(t){this.contexts=[],this.scope=t,Vn&&Vn.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Pa(r)||(r={matches:r});var o=new x9(0,s||this.scope),a=o.conditions={},l,u,c;Vn&&!o.selector&&(o.selector=Vn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=ca.matchMedia(r[u]),l&&(_f.indexOf(o)<0&&_f.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(zC):l.addEventListener("change",zC)));return c&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),_x={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return s9(i)})},timeline:function(e){return new Ni(e)},getTweensOf:function(e,t){return Qn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Zr(e)&&(e=co(e)[0]);var s=gf(e||{}).get,o=r?$H:jH;return r==="native"&&(r=""),e&&(t?o((xs[t]&&xs[t].get||s)(e,t,r,i)):function(a,l,u){return o((xs[a]&&xs[a].get||s)(e,a,l,u))})},quickSetter:function(e,t,r){if(e=co(e),e.length>1){var i=e.map(function(c){return as.quickSetter(c,t,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=xs[t],a=gf(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(c){var f=new o;sh._pt=0,f.init(e,r?c+r:c,sh,0,[e]),f.render(1,f),sh._pt&&xR(1,sh)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,t,r){var i,s=as.to(e,Nf((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,u,c){return s.resetTo(t,l,u,c)};return o.tween=s,o},isTweening:function(e){return Qn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yf(e.ease,$h.ease)),XO($h,e||{})},config:function(e){return XO(Ps,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!xs[a]&&!ks[a]&&h0(t+" effect requires "+a+" plugin.")}),Lb[t]=function(a,l,u){return r(co(a),vo(l||{},s),u)},o&&(Ni.prototype[t]=function(a,l,u){return this.add(Lb[t](a,Pa(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){sn[e]=yf(t)},parseEase:function(e,t){return arguments.length?yf(e,t):sn},getById:function(e){return Qn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ni(e),i,s;for(r.smoothChildTiming=rs(e.smoothChildTiming),Qn.remove(r),r._dp=0,r._time=r._tTime=Qn._time,i=Qn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof br&&i.vars.onComplete===i._targets[0]))&&pa(r,i,i._start-i._delay),i=s;return pa(Qn,r,0),r},context:function(e,t){return e?new x9(e,t):Vn},matchMedia:function(e){return new kme(e)},matchMediaRefresh:function(){return _f.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||zC()},addEventListener:function(e,t){var r=l_[e]||(l_[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=l_[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:hme,wrapYoyo:pme,distribute:qH,random:t9,snap:e9,normalize:dme,getUnit:yi,clamp:lme,splitColor:o9,toArray:co,selector:FC,mapRange:r9,pipe:cme,unitize:fme,interpolate:mme,shuffle:ZH},install:zH,effects:Lb,ticker:Ss,updateRoot:Ni.updateRoot,plugins:xs,globalTimeline:Qn,core:{PropTween:ss,globals:GH,Tween:br,Timeline:Ni,Animation:v0,getCache:gf,_removeLinkedListItem:Ow,reverting:function(){return Si},context:function(e){return e&&Vn&&(Vn.data.push(e),e._ctx=Vn),Vn},suppressOverwrites:function(e){return lR=e}}};is("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return _x[n]=br[n]});Ss.add(Ni.updateRoot);sh=_x.to({},{duration:0});var Ome=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Fme=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Ome(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},Ub=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(Zr(s)&&(l={},is(s,function(c){return l[c]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}Fme(a,s)}}}},as=_x.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Si?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Ub("roundProps",NC),Ub("modifiers"),Ub("snap",e9))||_x;br.version=Ni.version=as.version="3.12.5";UH=1;cR()&&Kh();sn.Power0;sn.Power1;sn.Power2;sn.Power3;sn.Power4;sn.Linear;sn.Quad;sn.Cubic;sn.Quart;sn.Quint;sn.Strong;sn.Elastic;sn.Back;sn.SteppedEase;sn.Bounce;sn.Sine;sn.Expo;sn.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var qO,pu,Eh,wR,ef,eF,SR,Nme=function(){return typeof window<"u"},Rl={},Oc=180/Math.PI,Ch=Math.PI/180,Od=Math.atan2,tF=1e8,AR=/([A-Z])/g,Ume=/(left|right|width|margin|padding|x)/i,zme=/[\s,\(]\S/,ma={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},GC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Gme=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Hme=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Vme=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},w9=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},S9=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Wme=function(e,t,r){return e.style[t]=r},jme=function(e,t,r){return e.style.setProperty(t,r)},$me=function(e,t,r){return e._gsap[t]=r},Xme=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Jme=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Kme=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},qn="transform",os=qn+"Origin",Yme=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Rl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=ma[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=il(i,a)}):this.tfm[e]=o.x?o[e]:il(i,e),e===os&&(this.tfm.zOrigin=o.zOrigin);else return ma.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(qn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(os,t,"")),e=qn}(s||t)&&this.props.push(e,t,s[e])},A9=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Qme=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(AR,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=SR(),(!s||!s.isStart)&&!r[qn]&&(A9(r),i.zOrigin&&r[os]&&(r[os]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},b9=function(e,t){var r={target:e,props:[],revert:Qme,save:Yme};return e._gsap||as.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},M9,HC=function(e,t){var r=pu.createElementNS?pu.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):pu.createElement(e);return r&&r.style?r:pu.createElement(e)},Sa=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(AR,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Yh(t)||t,1)||""},nF="O,Moz,ms,Ms,Webkit".split(","),Yh=function(e,t,r){var i=t||ef,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(nF[o]+e in s););return o<0?null:(o===3?"ms":o>=0?nF[o]:"")+e},VC=function(){Nme()&&window.document&&(qO=window,pu=qO.document,Eh=pu.documentElement,ef=HC("div")||{style:{}},HC("div"),qn=Yh(qn),os=qn+"Origin",ef.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",M9=!!Yh("perspective"),SR=as.core.reverting,wR=1)},zb=function n(e){var t=HC("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Eh.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Eh.removeChild(t),this.style.cssText=s,o},rF=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},E9=function(e){var t;try{t=e.getBBox()}catch{t=zb.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===zb||(t=zb.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+rF(e,["x","cx","x1"])||0,y:+rF(e,["y","cy","y1"])||0,width:0,height:0}:t},C9=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&E9(e))},Uf=function(e,t){if(t){var r=e.style,i;t in Rl&&t!==os&&(t=qn),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(AR,"-$1").toLowerCase())):r.removeAttribute(t)}},mu=function(e,t,r,i,s,o){var a=new ss(e._pt,t,r,0,1,o?S9:w9);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},iF={deg:1,rad:1,turn:1},Zme={grid:1,flex:1},Vu=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=ef.style,l=Ume.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",v,g,y,_;if(i===o||!s||iF[i]||iF[o])return s;if(o!=="px"&&!d&&(s=n(e,t,r,"px")),_=e.getCTM&&C9(e),(p||o==="%")&&(Rl[t]||~t.indexOf("adius")))return v=_?e.getBBox()[l?"width":"height"]:e[c],vr(p?s/v*f:s/100*v);if(a[l?"width":"height"]=f+(d?o:i),g=~t.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===pu||!g.appendChild)&&(g=pu.body),y=g._gsap,y&&p&&y.width&&l&&y.time===Ss.time&&!y.uncache)return vr(s/y.width*f);if(p&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=f+i,v=e[c],x?e.style[t]=x:Uf(e,t)}else(p||o==="%")&&!Zme[Sa(g,"display")]&&(a.position=Sa(e,"position")),g===e&&(a.position="static"),g.appendChild(ef),v=ef[c],g.removeChild(ef),a.position="absolute";return l&&p&&(y=gf(g),y.time=Ss.time,y.width=g[c]),vr(d?v*s/f:v&&s?f/v*s:0)},il=function(e,t,r,i){var s;return wR||VC(),t in ma&&t!=="transform"&&(t=ma[t],~t.indexOf(",")&&(t=t.split(",")[0])),Rl[t]&&t!=="transform"?(s=_0(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:wx(Sa(e,os))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=xx[t]&&xx[t](e,t,r)||Sa(e,t)||VH(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Vu(e,t,s,r)+r:s},qme=function(e,t,r,i){if(!r||r==="none"){var s=Yh(t,e,1),o=s&&Sa(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Sa(e,"borderTopColor"))}var a=new ss(this._pt,e.style,t,0,1,y9),l=0,u=0,c,f,d,p,v,g,y,_,x,w,A,b;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(g=e.style[t],e.style[t]=i,i=Sa(e,t)||i,g?e.style[t]=g:Uf(e,t)),c=[r,i],l9(c),r=c[0],i=c[1],d=r.match(ih)||[],b=i.match(ih)||[],b.length){for(;f=ih.exec(i);)y=f[0],x=i.substring(l,f.index),v?v=(v+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(v=1),y!==(g=d[u++]||"")&&(p=parseFloat(g)||0,A=g.substr((p+"").length),y.charAt(1)==="="&&(y=Mh(p,y)+A),_=parseFloat(y),w=y.substr((_+"").length),l=ih.lastIndex-w.length,w||(w=w||Ps.units[t]||A,l===i.length&&(i+=w,a.e+=w)),A!==w&&(p=Vu(e,t,g,w)||0),a._pt={_next:a._pt,p:x||u===1?x:",",s:p,c:_-p,m:v&&v<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?S9:w9;return FH.test(i)&&(a.e=0),this._pt=a,a},sF={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ege=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=sF[r]||r,t[1]=sF[i]||i,t.join(" ")},tge=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],Rl[a]&&(l=1,a=a==="transformOrigin"?os:qn),Uf(r,a);l&&(Uf(r,qn),o&&(o.svg&&r.removeAttribute("transform"),_0(r,1),o.uncache=1,A9(i)))}},xx={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new ss(e._pt,t,r,0,0,tge);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},y0=[1,0,0,1,0,0],T9={},P9=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},oF=function(e){var t=Sa(e,qn);return P9(t)?y0:t.substr(7).match(OH).map(vr)},bR=function(e,t){var r=e._gsap||gf(e),i=e.style,s=oF(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?y0:s):(s===y0&&!e.offsetParent&&e!==Eh&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,Eh.appendChild(e)),s=oF(e),l?i.display=l:Uf(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Eh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},WC=function(e,t,r,i,s,o){var a=e._gsap,l=s||bR(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],v=l[1],g=l[2],y=l[3],_=l[4],x=l[5],w=t.split(" "),A=parseFloat(w[0])||0,b=parseFloat(w[1])||0,E,T,M,P;r?l!==y0&&(T=p*y-v*g)&&(M=A*(y/T)+b*(-g/T)+(g*x-y*_)/T,P=A*(-v/T)+b*(p/T)-(p*x-v*_)/T,A=M,b=P):(E=E9(e),A=E.x+(~w[0].indexOf("%")?A/100*E.width:A),b=E.y+(~(w[1]||w[0]).indexOf("%")?b/100*E.height:b)),i||i!==!1&&a.smooth?(_=A-u,x=b-c,a.xOffset=f+(_*p+x*g)-_,a.yOffset=d+(_*v+x*y)-x):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=b,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[os]="0px 0px",o&&(mu(o,a,"xOrigin",u,A),mu(o,a,"yOrigin",c,b),mu(o,a,"xOffset",f,a.xOffset),mu(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+b)},_0=function(e,t){var r=e._gsap||new d9(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Sa(e,os)||"0",c,f,d,p,v,g,y,_,x,w,A,b,E,T,M,P,D,F,O,U,N,$,X,q,z,j,H,V,G,J,re,te;return c=f=d=g=y=_=x=w=A=0,p=v=1,r.svg=!!(e.getCTM&&C9(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[qn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[qn]!=="none"?l[qn]:"")),i.scale=i.rotate=i.translate="none"),T=bR(e,r.svg),r.svg&&(r.uncache?(z=e.getBBox(),u=r.xOrigin-z.x+"px "+(r.yOrigin-z.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),WC(e,q||u,!!q||r.originIsAbsolute,r.smooth!==!1,T)),b=r.xOrigin||0,E=r.yOrigin||0,T!==y0&&(F=T[0],O=T[1],U=T[2],N=T[3],c=$=T[4],f=X=T[5],T.length===6?(p=Math.sqrt(F*F+O*O),v=Math.sqrt(N*N+U*U),g=F||O?Od(O,F)*Oc:0,x=U||N?Od(U,N)*Oc+g:0,x&&(v*=Math.abs(Math.cos(x*Ch))),r.svg&&(c-=b-(b*F+E*U),f-=E-(b*O+E*N))):(te=T[6],J=T[7],H=T[8],V=T[9],G=T[10],re=T[11],c=T[12],f=T[13],d=T[14],M=Od(te,G),y=M*Oc,M&&(P=Math.cos(-M),D=Math.sin(-M),q=$*P+H*D,z=X*P+V*D,j=te*P+G*D,H=$*-D+H*P,V=X*-D+V*P,G=te*-D+G*P,re=J*-D+re*P,$=q,X=z,te=j),M=Od(-U,G),_=M*Oc,M&&(P=Math.cos(-M),D=Math.sin(-M),q=F*P-H*D,z=O*P-V*D,j=U*P-G*D,re=N*D+re*P,F=q,O=z,U=j),M=Od(O,F),g=M*Oc,M&&(P=Math.cos(M),D=Math.sin(M),q=F*P+O*D,z=$*P+X*D,O=O*P-F*D,X=X*P-$*D,F=q,$=z),y&&Math.abs(y)+Math.abs(g)>359.9&&(y=g=0,_=180-_),p=vr(Math.sqrt(F*F+O*O+U*U)),v=vr(Math.sqrt(X*X+te*te)),M=Od($,X),x=Math.abs(M)>2e-4?M*Oc:0,A=re?1/(re<0?-re:re):0),r.svg&&(q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!P9(Sa(e,qn)),q&&e.setAttribute("transform",q))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(p*=-1,x+=g<=0?180:-180,g+=g<=0?180:-180):(v*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=c-((r.xPercent=c&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=vr(p),r.scaleY=vr(v),r.rotation=vr(g)+a,r.rotationX=vr(y)+a,r.rotationY=vr(_)+a,r.skewX=x+a,r.skewY=w+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!t&&r.zOrigin||0)&&(i[os]=wx(u)),r.xOffset=r.yOffset=0,r.force3D=Ps.force3D,r.renderTransform=r.svg?rge:M9?R9:nge,r.uncache=0,r},wx=function(e){return(e=e.split(" "))[0]+" "+e[1]},Gb=function(e,t,r){var i=yi(t);return vr(parseFloat(t)+parseFloat(Vu(e,"x",r+"px",i)))+i},nge=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,R9(e,t)},Tc="0deg",Bm="0px",Pc=") ",R9=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,v=r.scaleX,g=r.scaleY,y=r.transformPerspective,_=r.force3D,x=r.target,w=r.zOrigin,A="",b=_==="auto"&&e&&e!==1||_===!0;if(w&&(f!==Tc||c!==Tc)){var E=parseFloat(c)*Ch,T=Math.sin(E),M=Math.cos(E),P;E=parseFloat(f)*Ch,P=Math.cos(E),o=Gb(x,o,T*P*-w),a=Gb(x,a,-Math.sin(E)*-w),l=Gb(x,l,M*P*-w+w)}y!==Bm&&(A+="perspective("+y+Pc),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(b||o!==Bm||a!==Bm||l!==Bm)&&(A+=l!==Bm||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Pc),u!==Tc&&(A+="rotate("+u+Pc),c!==Tc&&(A+="rotateY("+c+Pc),f!==Tc&&(A+="rotateX("+f+Pc),(d!==Tc||p!==Tc)&&(A+="skew("+d+", "+p+Pc),(v!==1||g!==1)&&(A+="scale("+v+", "+g+Pc),x.style[qn]=A||"translate(0, 0)"},rge=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,v=r.xOrigin,g=r.yOrigin,y=r.xOffset,_=r.yOffset,x=r.forceCSS,w=parseFloat(o),A=parseFloat(a),b,E,T,M,P;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=Ch,u*=Ch,b=Math.cos(l)*f,E=Math.sin(l)*f,T=Math.sin(l-u)*-d,M=Math.cos(l-u)*d,u&&(c*=Ch,P=Math.tan(u-c),P=Math.sqrt(1+P*P),T*=P,M*=P,c&&(P=Math.tan(c),P=Math.sqrt(1+P*P),b*=P,E*=P)),b=vr(b),E=vr(E),T=vr(T),M=vr(M)):(b=f,M=d,E=T=0),(w&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(w=Vu(p,"x",o,"px"),A=Vu(p,"y",a,"px")),(v||g||y||_)&&(w=vr(w+v-(v*b+g*T)+y),A=vr(A+g-(v*E+g*M)+_)),(i||s)&&(P=p.getBBox(),w=vr(w+i/100*P.width),A=vr(A+s/100*P.height)),P="matrix("+b+","+E+","+T+","+M+","+w+","+A+")",p.setAttribute("transform",P),x&&(p.style[qn]=P)},ige=function(e,t,r,i,s){var o=360,a=Zr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Oc:1),u=l-i,c=i+u+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-360)),f==="cw"&&u<0?u=(u+o*tF)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*tF)%o-~~(u/o)*o)),e._pt=d=new ss(e._pt,t,r,i,u,Gme),d.e=c,d.u="deg",e._props.push(r),d},aF=function(e,t){for(var r in t)e[r]=t[r];return e},sge=function(e,t,r){var i=aF({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,p,v;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[qn]=t,a=_0(r,1),Uf(r,qn),r.setAttribute("transform",u)):(u=getComputedStyle(r)[qn],o[qn]=t,a=_0(r,1),o[qn]=u);for(l in Rl)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(p=yi(u),v=yi(c),f=p!==v?Vu(r,l,u,v):parseFloat(u),d=parseFloat(c),e._pt=new ss(e._pt,a,l,f,d-f,GC),e._pt.u=v||0,e._props.push(l));aF(a,i)};is("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});xx[e>1?"border"+n:n]=function(a,l,u,c,f){var d,p;if(arguments.length<4)return d=o.map(function(v){return il(a,v,u)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},o.forEach(function(v,g){return p[v]=d[g]=d[g]||d[(g-1)/2|0]}),a.init(l,p,f)}});var I9={name:"css",register:VC,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,p,v,g,y,_,x,w,A,b,E,T,M;wR||VC(),this.styles=this.styles||b9(e),M=this.styles.props,this.tween=r;for(g in t)if(g!=="autoRound"&&(c=t[g],!(xs[g]&&h9(g,t,r,i,e,s)))){if(p=typeof c,v=xx[g],p==="function"&&(c=c.call(r,i,e,s),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=m0(c)),v)v(this,e,g,c,r)&&(T=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),c+="",Tu.lastIndex=0,Tu.test(u)||(y=yi(u),_=yi(c)),_?y!==_&&(u=Vu(e,g,u,_)+_):y&&(c+=y),this.add(a,"setProperty",u,c,i,s,0,0,g),o.push(g),M.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(u=typeof l[g]=="function"?l[g].call(r,i,e,s):l[g],Zr(u)&&~u.indexOf("random(")&&(u=m0(u)),yi(u+"")||u==="auto"||(u+=Ps.units[g]||yi(il(e,g))||""),(u+"").charAt(1)==="="&&(u=il(e,g))):u=il(e,g),d=parseFloat(u),x=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),x&&(c=c.substr(2)),f=parseFloat(c),g in ma&&(g==="autoAlpha"&&(d===1&&il(e,"visibility")==="hidden"&&f&&(d=0),M.push("visibility",0,a.visibility),mu(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=ma[g],~g.indexOf(",")&&(g=g.split(",")[0]))),w=g in Rl,w){if(this.styles.save(g),A||(b=e._gsap,b.renderTransform&&!t.parseTransform||_0(e,t.parseTransform),E=t.smoothOrigin!==!1&&b.smooth,A=this._pt=new ss(this._pt,a,qn,0,1,b.renderTransform,b,0,-1),A.dep=1),g==="scale")this._pt=new ss(this._pt,b,"scaleY",b.scaleY,(x?Mh(b.scaleY,x+f):f)-b.scaleY||0,GC),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){M.push(os,0,a[os]),c=ege(c),b.svg?WC(e,c,0,E,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==b.zOrigin&&mu(this,b,"zOrigin",b.zOrigin,_),mu(this,a,g,wx(u),wx(c)));continue}else if(g==="svgOrigin"){WC(e,c,1,E,0,this);continue}else if(g in T9){ige(this,b,g,d,x?Mh(d,x+c):c);continue}else if(g==="smoothOrigin"){mu(this,b,"smooth",b.smooth,c);continue}else if(g==="force3D"){b[g]=c;continue}else if(g==="transform"){sge(this,c,e);continue}}else g in a||(g=Yh(g)||g);if(w||(f||f===0)&&(d||d===0)&&!zme.test(c)&&g in a)y=(u+"").substr((d+"").length),f||(f=0),_=yi(c)||(g in Ps.units?Ps.units[g]:y),y!==_&&(d=Vu(e,g,u,_)),this._pt=new ss(this._pt,w?b:a,g,d,(x?Mh(d,x+f):f)-d,!w&&(_==="px"||g==="zIndex")&&t.autoRound!==!1?Vme:GC),this._pt.u=_||0,y!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=Hme);else if(g in a)qme.call(this,e,g,u,x?x+c:c);else if(g in e)this.add(e,g,u||e[g],x?x+c:c,i,s);else if(g!=="parseTransform"){dR(g,c);continue}w||(g in a?M.push(g,0,a[g]):M.push(g,1,u||e[g])),o.push(g)}}T&&_9(this)},render:function(e,t){if(t.tween._time||!SR())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:il,aliases:ma,getSetter:function(e,t,r){var i=ma[t];return i&&i.indexOf(",")<0&&(t=i),t in Rl&&t!==os&&(e._gsap.x||il(e,"x"))?r&&eF===r?t==="scale"?Xme:$me:(eF=r||{})&&(t==="scale"?Jme:Kme):e.style&&!uR(e.style[t])?Wme:~t.indexOf("-")?jme:_R(e,t)},core:{_removeProperty:Uf,_getMatrix:bR}};as.utils.checkPrefix=Yh;as.core.getStyleSaver=b9;(function(n,e,t,r){var i=is(n+","+e+","+t,function(s){Rl[s]=1});is(e,function(s){Ps.units[s]="deg",T9[s]=1}),ma[i[13]]=n+","+e,is(r,function(s){var o=s.split(":");ma[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");is("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ps.units[n]="px"});as.registerPlugin(I9);var jC=as.registerPlugin(I9)||as;jC.core.Tween;gw({DreiText3D:iC});const oge=()=>{const[n,e]=I.useState(!1);$oe("7B5254_E9DCC7_B19986_C8AC91",256),I.useEffect(()=>{const i=setTimeout(()=>{e(!0)},3e3);return()=>clearTimeout(i)},[]);const t="CARBON".split("").map((i,s)=>Vo({position:n?[s*.6-2.2,0,0]:[-5-s,Math.random()*2-1,-5],rotation:n?[0,0,0]:[0,-Math.PI*2,0],scale:n?1.5:0,config:{mass:1,tension:280,friction:60},delay:n?s*100:0})),r="TAX".split("").map((i,s)=>Vo({position:n?[s*.5+2.2,0,0]:[10+s,Math.random()*2-1,5],rotation:n?[0,0,0]:[0,Math.PI*2,0],scale:n?1.5:0,config:{mass:1,tension:280,friction:60},delay:n?(s+6)*100:0}));return Ge.jsx(I.Suspense,{fallback:null,children:Ge.jsx(_oe,{position:[0,1.2,0],children:Ge.jsxs("group",{children:["CARBON".split("").map((i,s)=>Ge.jsx(Wo.group,{position:t[s].position,rotation:t[s].rotation,scale:t[s].scale,children:Ge.jsxs(iC,{font:"/fonts/Ubuntu_Regular.json",size:.4,height:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.01,bevelSize:.01,bevelOffset:0,bevelSegments:5,children:[i,Ge.jsx("meshStandardMaterial",{color:"#ffffff",metalness:.8,roughness:.2})]})},`carbon-${s}`)),"TAX".split("").map((i,s)=>Ge.jsx(Wo.group,{position:r[s].position,rotation:r[s].rotation,scale:r[s].scale,children:Ge.jsxs(iC,{font:"/fonts/Ubuntu_Regular.json",size:.4,height:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.01,bevelSize:.01,bevelOffset:0,bevelSegments:5,children:[i,Ge.jsx("meshStandardMaterial",{color:"#ffffff",metalness:.8,roughness:.2})]})},`tax-${s}`))]})})})},D9=I.createContext({});function age(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const MR=I.createContext(null),B9=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function lge(n=!0){const e=I.useContext(MR);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=I.useId();I.useEffect(()=>{n&&i(s)},[n]);const o=I.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const ER=typeof window<"u",uge=ER?I.useLayoutEffect:I.useEffect,Rs=n=>n;let $C=Rs;function CR(n){let e;return()=>(e===void 0&&(e=n()),e)}const Qh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ml=n=>n*1e3,gl=n=>n/1e3,cge={skipAnimations:!1,useManualTiming:!1};function fge(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),n()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const p=f&&r?e:t;return c&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{t.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const T1=["read","resolveKeyframes","update","preRender","render","postRender"],dge=40;function L9(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=T1.reduce((_,x)=>(_[x]=fge(s),_),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=o,p=()=>{const _=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,dge),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(p))},v=()=>{t=!0,r=!0,i.isProcessing||n(p)};return{schedule:T1.reduce((_,x)=>{const w=o[x];return _[x]=(A,b=!1,E=!1)=>(t||v(),w.schedule(A,b,E)),_},{}),cancel:_=>{for(let x=0;x<T1.length;x++)o[T1[x]].cancel(_)},state:i,steps:o}}const{schedule:Fn,cancel:Wu,state:ii,steps:Hb}=L9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0),k9=I.createContext({strict:!1}),lF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zh={};for(const n in lF)Zh[n]={isEnabled:e=>lF[n].some(t=>!!e[t])};function hge(n){for(const e in n)Zh[e]={...Zh[e],...n[e]}}const pge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pge.has(n)}let O9=n=>!Sx(n);function mge(n){n&&(O9=e=>e.startsWith("on")?!Sx(e):n(e))}try{mge(require("@emotion/is-prop-valid").default)}catch{}function gge(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(O9(i)||t===!0&&Sx(i)||!e&&!Sx(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function vge(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Uw=I.createContext({});function x0(n){return typeof n=="string"||Array.isArray(n)}function zw(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const TR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PR=["initial",...TR];function Gw(n){return zw(n.animate)||PR.some(e=>x0(n[e]))}function F9(n){return!!(Gw(n)||n.variants)}function yge(n,e){if(Gw(n)){const{initial:t,animate:r}=n;return{initial:t===!1||x0(t)?t:void 0,animate:x0(r)?r:void 0}}return n.inherit!==!1?e:{}}function _ge(n){const{initial:e,animate:t}=yge(n,I.useContext(Uw));return I.useMemo(()=>({initial:e,animate:t}),[uF(e),uF(t)])}function uF(n){return Array.isArray(n)?n.join(" "):n}const xge=Symbol.for("motionComponentSymbol");function oh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function wge(n,e,t){return I.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):oh(t)&&(t.current=r))},[e])}const RR=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sge="framerAppearId",N9="data-"+RR(Sge),{schedule:IR,cancel:txe}=L9(queueMicrotask,!1),U9=I.createContext({});function Age(n,e,t,r,i){var s,o;const{visualElement:a}=I.useContext(Uw),l=I.useContext(k9),u=I.useContext(MR),c=I.useContext(B9).reducedMotion,f=I.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=I.useContext(U9);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&bge(f.current,t,i,p);const v=I.useRef(!1);I.useInsertionEffect(()=>{d&&v.current&&d.update(t,u)});const g=t[N9],y=I.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return uge(()=>{d&&(v.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),IR.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),I.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,g)}),y.current=!1))}),d}function bge(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:z9(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&oh(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function z9(n){if(n)return n.options.allowProjection!==!1?n.projection:z9(n.parent)}function Mge({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,o;n&&hge(n);function a(u,c){let f;const d={...I.useContext(B9),...u,layoutId:Ege(u)},{isStatic:p}=d,v=_ge(u),g=r(u,p);if(!p&&ER){Cge();const y=Tge(d);f=y.MeasureLayout,v.visualElement=Age(i,g,d,e,y.ProjectionNode)}return Ge.jsxs(Uw.Provider,{value:v,children:[f&&v.visualElement?Ge.jsx(f,{visualElement:v.visualElement,...d}):null,t(i,u,wge(g,v.visualElement,c),g,p,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=I.forwardRef(a);return l[xge]=i,l}function Ege({layoutId:n}){const e=I.useContext(D9).id;return e&&n!==void 0?e+"-"+n:n}function Cge(n,e){I.useContext(k9).strict}function Tge(n){const{drag:e,layout:t}=Zh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Pge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DR(n){return typeof n!="string"||n.includes("-")?!1:!!(Pge.indexOf(n)>-1||/[A-Z]/u.test(n))}function cF(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function BR(n,e,t,r){if(typeof e=="function"){const[i,s]=cF(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=cF(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const XC=n=>Array.isArray(n),Rge=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Ige=n=>XC(n)?n[n.length-1]||0:n,wi=n=>!!(n&&n.getVelocity);function u_(n){const e=wi(n)?n.get():n;return Rge(e)?e.toValue():e}function Dge({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const o={latestValues:Bge(r,i,s,n),renderState:e()};return t&&(o.onMount=a=>t({props:r,current:a,...o}),o.onUpdate=a=>t(a)),o}const G9=n=>(e,t)=>{const r=I.useContext(Uw),i=I.useContext(MR),s=()=>Dge(n,e,r,i);return t?s():age(s)};function Bge(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=u_(s[d]);let{initial:o,animate:a}=n;const l=Gw(n),u=F9(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!zw(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const v=BR(n,d[p]);if(v){const{transitionEnd:g,transition:y,..._}=v;for(const x in _){let w=_[x];if(Array.isArray(w)){const A=c?w.length-1:0;w=w[A]}w!==null&&(i[x]=w)}for(const x in g)i[x]=g[x]}}}return i}const Cp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kf=new Set(Cp),H9=n=>e=>typeof e=="string"&&e.startsWith(n),V9=H9("--"),Lge=H9("var(--"),LR=n=>Lge(n)?kge.test(n.split("/*")[0].trim()):!1,kge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,W9=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Il=(n,e,t)=>t>e?e:t<n?n:t,Tp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},w0={...Tp,transform:n=>Il(0,1,n)},P1={...Tp,default:1},fv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),nu=fv("deg"),Aa=fv("%"),Bt=fv("px"),Oge=fv("vh"),Fge=fv("vw"),fF={...Aa,parse:n=>Aa.parse(n)/100,transform:n=>Aa.transform(n*100)},Nge={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt},Uge={rotate:nu,rotateX:nu,rotateY:nu,rotateZ:nu,scale:P1,scaleX:P1,scaleY:P1,scaleZ:P1,skew:nu,skewX:nu,skewY:nu,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:w0,originX:fF,originY:fF,originZ:Bt},dF={...Tp,transform:Math.round},kR={...Nge,...Uge,zIndex:dF,size:Bt,fillOpacity:w0,strokeOpacity:w0,numOctaves:dF},zge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gge=Cp.length;function Hge(n,e,t){let r="",i=!0;for(let s=0;s<Gge;s++){const o=Cp[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=W9(a,kR[o]);if(!l){i=!1;const c=zge[o]||o;r+=`${c}(${u}) `}t&&(e[o]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function OR(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(Kf.has(l)){o=!0;continue}else if(V9(l)){i[l]=u;continue}else{const c=W9(u,kR[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||t?r.transform=Hge(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const Vge={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wge={offset:"strokeDashoffset",array:"strokeDasharray"};function jge(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Vge:Wge;n[s.offset]=Bt.transform(-r);const o=Bt.transform(e),a=Bt.transform(t);n[s.array]=`${o} ${a}`}function hF(n,e,t){return typeof n=="string"?n:Bt.transform(e+t*n)}function $ge(n,e,t){const r=hF(e,n.x,n.width),i=hF(t,n.y,n.height);return`${r} ${i}`}function FR(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(OR(n,u,f),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:p,dimensions:v}=n;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=$ge(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),o!==void 0&&jge(d,o,a,l,!1)}const NR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),j9=()=>({...NR(),attrs:{}}),UR=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $9(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const X9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J9(n,e,t,r){$9(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(X9.has(i)?i:RR(i),e.attrs[i])}const Ax={};function Xge(n){Object.assign(Ax,n)}function K9(n,{layout:e,layoutId:t}){return Kf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ax[n]||n==="opacity")}function zR(n,e,t){var r;const{style:i}=n,s={};for(const o in i)(wi(i[o])||e.style&&wi(e.style[o])||K9(o,n)||((r=t==null?void 0:t.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Y9(n,e,t){const r=zR(n,e,t);for(const i in n)if(wi(n[i])||wi(e[i])){const s=Cp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function Jge(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const pF=["x","y","width","height","cx","cy","r"],Kge={useVisualState:G9({scrapeMotionValuesFromProps:Y9,createRenderState:j9,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const a in i)if(Kf.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<pF.length;a++){const l=pF[a];n[l]!==e[l]&&(o=!0)}o&&Fn.read(()=>{Jge(t,r),Fn.render(()=>{FR(r,i,UR(t.tagName),n.transformTemplate),J9(t,r)})})}})},Yge={useVisualState:G9({scrapeMotionValuesFromProps:zR,createRenderState:NR})};function Q9(n,e,t){for(const r in e)!wi(e[r])&&!K9(r,t)&&(n[r]=e[r])}function Qge({transformTemplate:n},e){return I.useMemo(()=>{const t=NR();return OR(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Zge(n,e){const t=n.style||{},r={};return Q9(r,t,n),Object.assign(r,Qge(n,e)),r}function qge(n,e){const t={},r=Zge(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function e0e(n,e,t,r){const i=I.useMemo(()=>{const s=j9();return FR(s,e,UR(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Q9(s,n.style,n),i.style={...s,...i.style}}return i}function t0e(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(DR(t)?e0e:qge)(r,s,o,t),u=gge(r,typeof t=="string",n),c=t!==I.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=I.useMemo(()=>wi(f)?f.get():f,[f]);return I.createElement(t,{...c,children:d})}}function n0e(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...DR(r)?Kge:Yge,preloadedFeatures:n,useRender:t0e(i),createVisualElement:e,Component:r};return Mge(o)}}function Z9(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Hw(n,e,t){const r=n.getProps();return BR(r,e,t!==void 0?t:r.custom,n)}const r0e=CR(()=>window.ScrollTimeline!==void 0);class i0e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(r0e()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class s0e extends i0e{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function GR(n,e){return n?n[e]||n.default||n:void 0}const JC=2e4;function q9(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<JC;)e+=t,r=n.next(e);return e>=JC?1/0:e}function HR(n){return typeof n=="function"}function mF(n,e){n.timeline=e,n.onfinish=null}const VR=n=>Array.isArray(n)&&typeof n[0]=="number",o0e={linearEasing:void 0};function a0e(n,e){const t=CR(n);return()=>{var r;return(r=o0e[e])!==null&&r!==void 0?r:t()}}const bx=a0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eV=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(Qh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function tV(n){return!!(typeof n=="function"&&bx()||!n||typeof n=="string"&&(n in KC||bx())||VR(n)||Array.isArray(n)&&n.every(tV))}const $m=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,KC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$m([0,.65,.55,1]),circOut:$m([.55,0,1,.45]),backIn:$m([.31,.01,.66,-.59]),backOut:$m([.33,1.53,.69,.99])};function nV(n,e){if(n)return typeof n=="function"&&bx()?eV(n,e):VR(n)?$m(n):Array.isArray(n)?n.map(t=>nV(t,e)||KC.easeOut):KC[n]}const To={x:!1,y:!1};function rV(){return To.x||To.y}function l0e(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function iV(n,e){const t=l0e(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function gF(n){return!(n.pointerType==="touch"||rV())}function u0e(n,e,t={}){const[r,i,s]=iV(n,t),o=a=>{if(!gF(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=f=>{gF(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const sV=(n,e)=>e?n===e?!0:sV(n,e.parentElement):!1,WR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,c0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f0e(n){return c0e.has(n.tagName)||n.tabIndex!==-1}const Xm=new WeakSet;function vF(n){return e=>{e.key==="Enter"&&n(e)}}function Vb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const d0e=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=vF(()=>{if(Xm.has(t))return;Vb(t,"down");const i=vF(()=>{Vb(t,"up")}),s=()=>Vb(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function yF(n){return WR(n)&&!rV()}function h0e(n,e,t={}){const[r,i,s]=iV(n,t),o=a=>{const l=a.currentTarget;if(!yF(a)||Xm.has(l))return;Xm.add(l);const u=e(l,a),c=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!yF(p)||!Xm.has(l))&&(Xm.delete(l),typeof u=="function"&&u(p,{success:v}))},f=p=>{c(p,t.useGlobalTarget||sV(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!f0e(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>d0e(u,i),i)}),s}function p0e(n){return n==="x"||n==="y"?To[n]?null:(To[n]=!0,()=>{To[n]=!1}):To.x||To.y?null:(To.x=To.y=!0,()=>{To.x=To.y=!1})}const oV=new Set(["width","height","top","left","right","bottom",...Cp]);let c_;function m0e(){c_=void 0}const ba={now:()=>(c_===void 0&&ba.set(ii.isProcessing||cge.useManualTiming?ii.timestamp:performance.now()),c_),set:n=>{c_=n,queueMicrotask(m0e)}};function jR(n,e){n.indexOf(e)===-1&&n.push(e)}function $R(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class XR{constructor(){this.subscriptions=[]}add(e){return jR(this.subscriptions,e),()=>$R(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aV(n,e){return e?n*(1e3/e):0}const _F=30,g0e=n=>!isNaN(parseFloat(n));class v0e{constructor(e,t={}){this.version="12.0.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ba.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ba.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new XR);const r=this.events[e].add(t);return e==="change"?()=>{r(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ba.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_F)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,_F);return aV(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function S0(n,e){return new v0e(n,e)}function y0e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,S0(t))}function _0e(n,e){const t=Hw(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=Ige(s[o]);y0e(n,o,a)}}function x0e(n){return!!(wi(n)&&n.add)}function YC(n,e){const t=n.getValue("willChange");if(x0e(t))return t.add(e)}function lV(n){return n.props[N9]}const uV=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,w0e=1e-7,S0e=12;function A0e(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=uV(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>w0e&&++a<S0e);return o}function dv(n,e,t,r){if(n===e&&t===r)return Rs;const i=s=>A0e(s,0,1,n,t);return s=>s===0||s===1?s:uV(i(s),e,r)}const cV=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,fV=n=>e=>1-n(1-e),dV=dv(.33,1.53,.69,.99),JR=fV(dV),hV=cV(JR),pV=n=>(n*=2)<1?.5*JR(n):.5*(2-Math.pow(2,-10*(n-1))),KR=n=>1-Math.sin(Math.acos(n)),mV=fV(KR),gV=cV(KR),vV=n=>/^0[^.\s]+$/u.test(n);function b0e(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vV(n):!0}const wg=n=>Math.round(n*1e5)/1e5,YR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M0e(n){return n==null}const E0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QR=(n,e)=>t=>!!(typeof t=="string"&&E0e.test(t)&&t.startsWith(n)||e&&!M0e(t)&&Object.prototype.hasOwnProperty.call(t,e)),yV=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(YR);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},C0e=n=>Il(0,255,n),Wb={...Tp,transform:n=>Math.round(C0e(n))},tf={test:QR("rgb","red"),parse:yV("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Wb.transform(n)+", "+Wb.transform(e)+", "+Wb.transform(t)+", "+wg(w0.transform(r))+")"};function T0e(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const QC={test:QR("#"),parse:T0e,transform:tf.transform},ah={test:QR("hsl","hue"),parse:yV("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Aa.transform(wg(e))+", "+Aa.transform(wg(t))+", "+wg(w0.transform(r))+")"},gi={test:n=>tf.test(n)||QC.test(n)||ah.test(n),parse:n=>tf.test(n)?tf.parse(n):ah.test(n)?ah.parse(n):QC.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?tf.transform(n):ah.transform(n)},P0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R0e(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(YR))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(P0e))===null||t===void 0?void 0:t.length)||0)>0}const _V="number",xV="color",I0e="var",D0e="var(",xF="${}",B0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function A0(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(B0e,l=>(gi.test(l)?(r.color.push(s),i.push(xV),t.push(gi.parse(l))):l.startsWith(D0e)?(r.var.push(s),i.push(I0e),t.push(l)):(r.number.push(s),i.push(_V),t.push(parseFloat(l))),++s,xF)).split(xF);return{values:t,split:a,indexes:r,types:i}}function wV(n){return A0(n).values}function SV(n){const{split:e,types:t}=A0(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===_V?s+=wg(i[o]):a===xV?s+=gi.transform(i[o]):s+=i[o]}return s}}const L0e=n=>typeof n=="number"?0:n;function k0e(n){const e=wV(n);return SV(n)(e.map(L0e))}const ju={test:R0e,parse:wV,createTransformer:SV,getAnimatableNone:k0e},O0e=new Set(["brightness","contrast","saturate","opacity"]);function F0e(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(YR)||[];if(!r)return n;const i=t.replace(r,"");let s=O0e.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const N0e=/\b([a-z-]*)\(.*?\)/gu,ZC={...ju,getAnimatableNone:n=>{const e=n.match(N0e);return e?e.map(F0e).join(" "):n}},U0e={...kR,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:ZC,WebkitFilter:ZC},ZR=n=>U0e[n];function AV(n,e){let t=ZR(n);return t!==ZC&&(t=ju),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const z0e=new Set(["auto","none","0"]);function G0e(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!z0e.has(s)&&A0(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=AV(t,i)}const wF=n=>n===Tp||n===Bt,SF=(n,e)=>parseFloat(n.split(", ")[e]),AF=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return SF(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?SF(s[1],n):0}},H0e=new Set(["x","y","z"]),V0e=Cp.filter(n=>!H0e.has(n));function W0e(n){const e=[];return V0e.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const qh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:AF(4,13),y:AF(5,14)};qh.translateX=qh.x;qh.translateY=qh.y;const xf=new Set;let qC=!1,eT=!1;function bV(){if(eT){const n=Array.from(xf).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=W0e(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eT=!1,qC=!1,xf.forEach(n=>n.complete()),xf.clear()}function MV(){xf.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(eT=!0)})}function j0e(){MV(),bV()}class qR{constructor(e,t,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xf.add(this),qC||(qC=!0,Fn.read(MV),Fn.resolveKeyframes(bV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const l=r.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EV=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),$0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X0e(n){const e=$0e.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function CV(n,e,t=1){const[r,i]=X0e(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return EV(o)?parseFloat(o):o}return LR(i)?CV(i,e,t+1):i}const TV=n=>e=>e.test(n),J0e={test:n=>n==="auto",parse:n=>n},PV=[Tp,Bt,Aa,nu,Fge,Oge,J0e],bF=n=>PV.find(TV(n));class RV extends qR{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),LR(u))){const c=CV(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!oV.has(r)||e.length!==2)return;const[i,s]=e,o=bF(i),a=bF(s);if(o!==a)if(wF(o)&&wF(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)b0e(e[i])&&r.push(i);r.length&&G0e(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=qh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const MF=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ju.test(n)||n==="0")&&!n.startsWith("url("));function K0e(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Y0e(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=MF(i,e),a=MF(s,e);return!o||!a?!1:K0e(n)||(t==="spring"||HR(t))&&r}const Q0e=n=>n!==null;function Vw(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Q0e),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Z0e=40;class IV{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ba.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Z0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&j0e(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ba.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Y0e(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Vw(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,t);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const er=(n,e,t)=>n+(e-n)*t;function jb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function q0e({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=jb(l,a,n+1/3),s=jb(l,a,n),o=jb(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Mx(n,e){return t=>t>0?e:n}const $b=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},eve=[QC,tf,ah],tve=n=>eve.find(e=>e.test(n));function EF(n){const e=tve(n);if(!e)return!1;let t=e.parse(n);return e===ah&&(t=q0e(t)),t}const CF=(n,e)=>{const t=EF(n),r=EF(e);if(!t||!r)return Mx(n,e);const i={...t};return s=>(i.red=$b(t.red,r.red,s),i.green=$b(t.green,r.green,s),i.blue=$b(t.blue,r.blue,s),i.alpha=er(t.alpha,r.alpha,s),tf.transform(i))},nve=(n,e)=>t=>e(n(t)),hv=(...n)=>n.reduce(nve),tT=new Set(["none","hidden"]);function rve(n,e){return tT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ive(n,e){return t=>er(n,e,t)}function e3(n){return typeof n=="number"?ive:typeof n=="string"?LR(n)?Mx:gi.test(n)?CF:ave:Array.isArray(n)?DV:typeof n=="object"?gi.test(n)?CF:sve:Mx}function DV(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>e3(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function sve(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=e3(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function ove(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][i[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;r[s]=l,i[o]++}return r}const ave=(n,e)=>{const t=ju.createTransformer(e),r=A0(n),i=A0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tT.has(n)&&!i.values.length||tT.has(e)&&!r.values.length?rve(n,e):hv(DV(ove(r,i),i.values),t):Mx(n,e)};function BV(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?er(n,e,t):e3(n)(n,e)}const lve=5;function LV(n,e,t){const r=Math.max(e-lve,0);return aV(t-n(r),e-r)}const or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},TF=.001;function uve({duration:n=or.duration,bounce:e=or.bounce,velocity:t=or.velocity,mass:r=or.mass}){let i,s,o=1-e;o=Il(or.minDamping,or.maxDamping,o),n=Il(or.minDuration,or.maxDuration,gl(n)),o<1?(i=u=>{const c=u*o,f=c*n,d=c-t,p=nT(u,o),v=Math.exp(-f);return TF-d/p*v},s=u=>{const f=u*o*n,d=f*t+t,p=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-f),g=nT(Math.pow(u,2),o);return(-i(u)+TF>0?-1:1)*((d-p)*v)/g}):(i=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-.001+c*f},s=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const a=5/n,l=fve(i,s,a);if(n=ml(n),isNaN(l))return{stiffness:or.stiffness,damping:or.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const cve=12;function fve(n,e,t){let r=t;for(let i=1;i<cve;i++)r=r-n(r)/e(r);return r}function nT(n,e){return n*Math.sqrt(1-e*e)}const dve=["duration","bounce"],hve=["stiffness","damping","mass"];function PF(n,e){return e.some(t=>n[t]!==void 0)}function pve(n){let e={velocity:or.velocity,stiffness:or.stiffness,damping:or.damping,mass:or.mass,isResolvedFromDuration:!1,...n};if(!PF(n,hve)&&PF(n,dve))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Il(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:or.mass,stiffness:i,damping:s}}else{const t=uve(n);e={...e,...t,mass:or.mass},e.isResolvedFromDuration=!0}return e}function kV(n=or.visualDuration,e=or.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=pve({...t,velocity:-gl(t.velocity||0)}),v=d||0,g=u/(2*Math.sqrt(l*c)),y=o-s,_=gl(Math.sqrt(l/c)),x=Math.abs(y)<5;r||(r=x?or.restSpeed.granular:or.restSpeed.default),i||(i=x?or.restDelta.granular:or.restDelta.default);let w;if(g<1){const b=nT(_,g);w=E=>{const T=Math.exp(-g*_*E);return o-T*((v+g*_*y)/b*Math.sin(b*E)+y*Math.cos(b*E))}}else if(g===1)w=b=>o-Math.exp(-_*b)*(y+(v+_*y)*b);else{const b=_*Math.sqrt(g*g-1);w=E=>{const T=Math.exp(-g*_*E),M=Math.min(b*E,300);return o-T*((v+g*_*y)*Math.sinh(M)+b*y*Math.cosh(M))/b}}const A={calculatedDuration:p&&f||null,next:b=>{const E=w(b);if(p)a.done=b>=f;else{let T=0;g<1&&(T=b===0?ml(v):LV(w,b,E));const M=Math.abs(T)<=r,P=Math.abs(o-E)<=i;a.done=M&&P}return a.value=a.done?o:E,a},toString:()=>{const b=Math.min(q9(A),JC),E=eV(T=>A.next(b*T).value,b,30);return b+"ms "+E}};return A}function RF({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],d={done:!1,value:f},p=M=>a!==void 0&&M<a||l!==void 0&&M>l,v=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let g=t*e;const y=f+g,_=o===void 0?y:o(y);_!==y&&(g=_-f);const x=M=>-g*Math.exp(-M/r),w=M=>_+x(M),A=M=>{const P=x(M),D=w(M);d.done=Math.abs(P)<=u,d.value=d.done?_:D};let b,E;const T=M=>{p(d.value)&&(b=M,E=kV({keyframes:[d.value,v(d.value)],velocity:LV(w,M,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:M=>{let P=!1;return!E&&b===void 0&&(P=!0,A(M),T(M)),b!==void 0&&M>=b?E.next(M-b):(!P&&A(M),d)}}}const mve=dv(.42,0,1,1),gve=dv(0,0,.58,1),OV=dv(.42,0,.58,1),vve=n=>Array.isArray(n)&&typeof n[0]!="number",IF={linear:Rs,easeIn:mve,easeInOut:OV,easeOut:gve,circIn:KR,circInOut:gV,circOut:mV,backIn:JR,backInOut:hV,backOut:dV,anticipate:pV},DF=n=>{if(VR(n)){$C(n.length===4);const[e,t,r,i]=n;return dv(e,t,r,i)}else if(typeof n=="string")return $C(IF[n]!==void 0),IF[n];return n};function yve(n,e,t){const r=[],i=t||BV,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rs:e;a=hv(l,a)}r.push(a)}return r}function _ve(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if($C(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=yve(e,r,i),l=a.length,u=c=>{if(o&&c<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const d=Qh(n[f],n[f+1],c);return a[f](d)};return t?c=>u(Il(n[0],n[s-1],c)):u}function xve(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Qh(0,e,r);n.push(er(t,1,i))}}function wve(n){const e=[0];return xve(e,n.length-1),e}function Sve(n,e){return n.map(t=>t*e)}function Ave(n,e){return n.map(()=>e||OV).splice(0,n.length-1)}function Ex({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=vve(r)?r.map(DF):DF(r),s={done:!1,value:e[0]},o=Sve(t&&t.length===e.length?t:wve(e),n),a=_ve(o,e,{ease:Array.isArray(i)?i:Ave(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const bve=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Fn.update(e,!0),stop:()=>Wu(e),now:()=>ii.isProcessing?ii.timestamp:ba.now()}},Mve={decay:RF,inertia:RF,tween:Ex,keyframes:Ex,spring:kV},Eve=n=>n/100;class t3 extends IV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||qR,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=HR(t)?t:Mve[t]||Ex;let l,u;a!==Ex&&typeof e[0]!="number"&&(l=hv(Eve,BV(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=q9(c));const{calculatedDuration:f}=c,d=f+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:p,repeatType:v,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-d*(this.speed>=0?1:-1),x=this.speed>=0?_<0:_>c;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,A=s;if(p){const M=Math.min(this.currentTime,c)/f;let P=Math.floor(M),D=M%1;!D&&M>=1&&(D=1),D===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(v==="reverse"?(D=1-D,g&&(D-=g/f)):v==="mirror"&&(A=o)),w=Il(0,1,D)*f}const b=x?{done:!1,value:l[0]}:A.next(w);a&&(b.value=a(b.value));let{done:E}=b;!x&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&i!==void 0&&(b.value=Vw(l,this.options,i)),y&&y(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?gl(e.calculatedDuration):0}get time(){return gl(this.currentTime)}set time(e){e=ml(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bve,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Cve=new Set(["opacity","clipPath","filter","transform"]);function Tve(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=nV(a,i);return Array.isArray(c)&&(u.easing=c),n.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Pve=CR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cx=10,Rve=2e4;function Ive(n){return HR(n.type)||n.type==="spring"||!tV(n.ease)}function Dve(n,e){const t=new t3({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<Rve;)r=t.sample(s),i.push(r.value),s+=Cx;return{times:void 0,keyframes:i,duration:s-Cx,ease:"linear"}}const FV={anticipate:pV,backInOut:hV,circInOut:gV};function Bve(n){return n in FV}class BF extends IV{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new RV(s,(o,a)=>this.onKeyframesResolved(o,a),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&bx()&&Bve(s)&&(s=FV[s]),Ive(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:v,...g}=this.options,y=Dve(e,g);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const c=Tve(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(mF(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Vw(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return gl(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return gl(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ml(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Rs;const{animation:r}=t;mF(r,e)}return Rs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...p}=this.options,v=new t3({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=ml(this.time);u.setWithVelocity(v.sample(g-Cx).value,v.sample(g).value,Cx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return Pve()&&r&&Cve.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Lve={type:"spring",stiffness:500,damping:25,restSpeed:10},kve=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ove={type:"keyframes",duration:.8},Fve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nve=(n,{keyframes:e})=>e.length>2?Ove:Kf.has(n)?n.startsWith("scale")?kve(e[1]):Lve:Fve;function Uve({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const n3=(n,e,t,r={},i,s)=>o=>{const a=GR(r,n)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ml(l);let c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};Uve(a)||(c={...c,...Nve(n,c)}),c.duration&&(c.duration=ml(c.duration)),c.repeatDelay&&(c.repeatDelay=ml(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const d=Vw(c.keyframes,a);if(d!==void 0)return Fn.update(()=>{c.onUpdate(d),c.onComplete()}),new s0e([])}return!s&&BF.supports(c)?new BF(c):new t3(c)};function zve({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function NV(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in l){const d=n.getValue(f,(s=n.latestValues[f])!==null&&s!==void 0?s:null),p=l[f];if(p===void 0||c&&zve(c,f))continue;const v={delay:t,...GR(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const _=lV(n);if(_){const x=window.MotionHandoffAnimation(_,f,Fn);x!==null&&(v.startTime=x,g=!0)}}YC(n,f),d.start(n3(f,d,p,n.shouldReduceMotion&&oV.has(f)?{type:!1}:v,n,g));const y=d.animation;y&&u.push(y)}return a&&Promise.all(u).then(()=>{Fn.update(()=>{a&&_0e(n,a)})}),u}function rT(n,e,t={}){var r;const i=Hw(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(NV(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=s;return Gve(n,e,c+u,f,d,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(t.delay)])}function Gve(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(n.variantChildren).sort(Hve).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(rT(u,e,{...s,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Hve(n,e){return n.sortNodePosition(e)}function Vve(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>rT(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=rT(n,e,t);else{const i=typeof e=="function"?Hw(n,e,t.custom):e;r=Promise.all(NV(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const Wve=PR.length;function UV(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?UV(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Wve;t++){const r=PR[t],i=n.props[r];(x0(i)||i===!1)&&(e[r]=i)}return e}const jve=[...TR].reverse(),$ve=TR.length;function Xve(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Vve(n,t,r)))}function Jve(n){let e=Xve(n),t=LF(),r=!0;const i=l=>(u,c)=>{var f;const d=Hw(n,c,l==="exit"?(f=n.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:v,...g}=d;u={...u,...g,...v}}return u};function s(l){e=l(n)}function o(l){const{props:u}=n,c=UV(n.parent)||{},f=[],d=new Set;let p={},v=1/0;for(let y=0;y<$ve;y++){const _=jve[y],x=t[_],w=u[_]!==void 0?u[_]:c[_],A=x0(w),b=_===l?x.isActive:null;b===!1&&(v=y);let E=w===c[_]&&w!==u[_]&&A;if(E&&r&&n.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...p},!x.isActive&&b===null||!w&&!x.prevProp||zw(w)||typeof w=="boolean")continue;const T=Kve(x.prevProp,w);let M=T||_===l&&x.isActive&&!E&&A||y>v&&A,P=!1;const D=Array.isArray(w)?w:[w];let F=D.reduce(i(_),{});b===!1&&(F={});const{prevResolvedValues:O={}}=x,U={...O,...F},N=q=>{M=!0,d.has(q)&&(P=!0,d.delete(q)),x.needsAnimating[q]=!0;const z=n.getValue(q);z&&(z.liveStyle=!1)};for(const q in U){const z=F[q],j=O[q];if(p.hasOwnProperty(q))continue;let H=!1;XC(z)&&XC(j)?H=!Z9(z,j):H=z!==j,H?z!=null?N(q):d.add(q):z!==void 0&&d.has(q)?N(q):x.protectedKeys[q]=!0}x.prevProp=w,x.prevResolvedValues=F,x.isActive&&(p={...p,...F}),r&&n.blockInitialAnimation&&(M=!1),M&&(!(E&&T)||P)&&f.push(...D.map(q=>({animation:q,options:{type:_}})))}if(d.size){const y={};d.forEach(_=>{const x=n.getBaseTarget(_),w=n.getValue(_);w&&(w.liveStyle=!0),y[_]=x??null}),f.push({animation:y})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function a(l,u){var c;if(t[l].isActive===u)return Promise.resolve();(c=n.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),t[l].isActive=u;const f=o(l);for(const d in t)t[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=LF(),r=!0}}}function Kve(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Z9(e,n):!1}function Rc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LF(){return{animate:Rc(!0),whileInView:Rc(),whileHover:Rc(),whileTap:Rc(),whileDrag:Rc(),whileFocus:Rc(),exit:Rc()}}class nc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yve extends nc{constructor(e){super(e),e.animationState||(e.animationState=Jve(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Qve=0;class Zve extends nc{constructor(){super(...arguments),this.id=Qve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qve={animation:{Feature:Yve},exit:{Feature:Zve}};function b0(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function pv(n){return{point:{x:n.pageX,y:n.pageY}}}const eye=n=>e=>WR(e)&&n(e,pv(e));function Sg(n,e,t,r){return b0(n,e,eye(t),r)}const kF=(n,e)=>Math.abs(n-e);function tye(n,e){const t=kF(n.x,e.x),r=kF(n.y,e.y);return Math.sqrt(t**2+r**2)}class zV{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Jb(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=tye(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:v}=f,{timestamp:g}=ii;this.history.push({...v,timestamp:g});const{onStart:y,onMove:_}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xb(d,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Jb(f.type==="pointercancel"?this.lastMoveEventInfo:Xb(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),v&&v(f,y)},!WR(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=pv(e),a=Xb(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ii;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,Jb(a,this.history)),this.removeListeners=hv(Sg(this.contextWindow,"pointermove",this.handlePointerMove),Sg(this.contextWindow,"pointerup",this.handlePointerUp),Sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wu(this.updatePoint)}}function Xb(n,e){return e?{point:e(n.point)}:n}function OF(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jb({point:n},e){return{point:n,delta:OF(n,GV(e)),offset:OF(n,nye(e)),velocity:rye(e,.1)}}function nye(n){return n[0]}function GV(n){return n[n.length-1]}function rye(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=GV(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ml(e)));)t--;if(!r)return{x:0,y:0};const s=gl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const HV=1e-4,iye=1-HV,sye=1+HV,VV=.01,oye=0-VV,aye=0+VV;function Os(n){return n.max-n.min}function lye(n,e,t){return Math.abs(n-e)<=t}function FF(n,e,t,r=.5){n.origin=r,n.originPoint=er(e.min,e.max,n.origin),n.scale=Os(t)/Os(e),n.translate=er(t.min,t.max,n.origin)-n.originPoint,(n.scale>=iye&&n.scale<=sye||isNaN(n.scale))&&(n.scale=1),(n.translate>=oye&&n.translate<=aye||isNaN(n.translate))&&(n.translate=0)}function Ag(n,e,t,r){FF(n.x,e.x,t.x,r?r.originX:void 0),FF(n.y,e.y,t.y,r?r.originY:void 0)}function NF(n,e,t){n.min=t.min+e.min,n.max=n.min+Os(e)}function uye(n,e,t){NF(n.x,e.x,t.x),NF(n.y,e.y,t.y)}function UF(n,e,t){n.min=e.min-t.min,n.max=n.min+Os(e)}function bg(n,e,t){UF(n.x,e.x,t.x),UF(n.y,e.y,t.y)}function cye(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?er(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?er(t,n,r.max):Math.min(n,t)),n}function zF(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function fye(n,{top:e,left:t,bottom:r,right:i}){return{x:zF(n.x,t,i),y:zF(n.y,e,r)}}function GF(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function dye(n,e){return{x:GF(n.x,e.x),y:GF(n.y,e.y)}}function hye(n,e){let t=.5;const r=Os(n),i=Os(e);return i>r?t=Qh(e.min,e.max-r,n.min):r>i&&(t=Qh(n.min,n.max-i,e.min)),Il(0,1,t)}function pye(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const iT=.35;function mye(n=iT){return n===!1?n=0:n===!0&&(n=iT),{x:HF(n,"left","right"),y:HF(n,"top","bottom")}}function HF(n,e,t){return{min:VF(n,e),max:VF(n,t)}}function VF(n,e){return typeof n=="number"?n:n[e]||0}const WF=()=>({translate:0,scale:1,origin:0,originPoint:0}),lh=()=>({x:WF(),y:WF()}),jF=()=>({min:0,max:0}),gr=()=>({x:jF(),y:jF()});function Ys(n){return[n("x"),n("y")]}function WV({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function gye({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function vye(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Kb(n){return n===void 0||n===1}function sT({scale:n,scaleX:e,scaleY:t}){return!Kb(n)||!Kb(e)||!Kb(t)}function Fc(n){return sT(n)||jV(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function jV(n){return $F(n.x)||$F(n.y)}function $F(n){return n&&n!=="0%"}function Tx(n,e,t){const r=n-t,i=e*r;return t+i}function XF(n,e,t,r,i){return i!==void 0&&(n=Tx(n,i,r)),Tx(n,t,r)+e}function oT(n,e=0,t=1,r,i){n.min=XF(n.min,e,t,r,i),n.max=XF(n.max,e,t,r,i)}function $V(n,{x:e,y:t}){oT(n.x,e.translate,e.scale,e.originPoint),oT(n.y,t.translate,t.scale,t.originPoint)}const JF=.999999999999,KF=1.0000000000001;function yye(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ch(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$V(n,o)),r&&Fc(s.latestValues)&&ch(n,s.latestValues))}e.x<KF&&e.x>JF&&(e.x=1),e.y<KF&&e.y>JF&&(e.y=1)}function uh(n,e){n.min=n.min+e,n.max=n.max+e}function YF(n,e,t,r,i=.5){const s=er(n.min,n.max,i);oT(n,e,t,s,r)}function ch(n,e){YF(n.x,e.x,e.scaleX,e.scale,e.originX),YF(n.y,e.y,e.scaleY,e.scale,e.originY)}function XV(n,e){return WV(vye(n.getBoundingClientRect(),e))}function _ye(n,e,t){const r=XV(n,t),{scroll:i}=e;return i&&(uh(r.x,i.offset.x),uh(r.y,i.offset.y)),r}const JV=({current:n})=>n?n.ownerDocument.defaultView:null,xye=new WeakMap;class wye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pv(c).point)},s=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:v}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p0e(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ys(y=>{let _=this.getAxisMotionValue(y).get()||0;if(Aa.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[y];w&&(_=Os(w)*(parseFloat(_)/100))}}this.originPoint[y]=_}),v&&Fn.postRender(()=>v(c,f)),YC(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:v,onDrag:g}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=Sye(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(c,f)},a=(c,f)=>this.stop(c,f),l=()=>Ys(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zV(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:JV(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Fn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!R1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cye(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&oh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=fye(i.layoutBox,t):this.constraints=!1,this.elastic=mye(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ys(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pye(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!oh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_ye(r,i.root,this.visualElement.getTransformPagePoint());let o=dye(i.layout.layoutBox,s);if(t){const a=t(gye(o));this.hasMutatedConstraints=!!a,a&&(o=WV(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ys(c=>{if(!R1(c,t,this.currentDirection))return;let f=l[c]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return YC(this.visualElement,e),r.start(n3(e,r,0,t,this.visualElement,!1))}stopAnimation(){Ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ys(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ys(t=>{const{drag:r}=this.getProps();if(!R1(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-er(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!oh(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ys(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hye({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ys(o=>{if(!R1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(er(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;xye.set(this.visualElement,this);const e=this.visualElement.current,t=Sg(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();oh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fn.read(r);const o=b0(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ys(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=iT,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function R1(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Sye(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Aye extends nc{constructor(e){super(e),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new wye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const QF=n=>(e,t)=>{n&&Fn.postRender(()=>n(e,t))};class bye extends nc{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(e){this.session=new zV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QF(e),onStart:QF(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Fn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Sg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const f_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZF(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Bt.test(n))n=parseFloat(n);else return n;const t=ZF(n,e.target.x),r=ZF(n,e.target.y);return`${t}% ${r}%`}},Mye={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ju.parse(n);if(i.length>5)return r;const s=ju.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=er(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Eye extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Xge(Cye),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),f_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KV(n){const[e,t]=lge(),r=I.useContext(D9);return Ge.jsx(Eye,{...n,layoutGroup:r,switchLayoutGroup:I.useContext(U9),isPresent:e,safeToRemove:t})}const Cye={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:Mye};function Tye(n,e,t){const r=wi(n)?n:S0(n);return r.start(n3("",r,e,t)),r.animation}function Pye(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Rye=(n,e)=>n.depth-e.depth;class Iye{constructor(){this.children=[],this.isDirty=!1}add(e){jR(this.children,e),this.isDirty=!0}remove(e){$R(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rye),this.isDirty=!1,this.children.forEach(e)}}function Dye(n,e){const t=ba.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Wu(r),n(s-e))};return Fn.read(r,!0),()=>Wu(r)}const YV=["TopLeft","TopRight","BottomLeft","BottomRight"],Bye=YV.length,qF=n=>typeof n=="string"?parseFloat(n):n,eN=n=>typeof n=="number"||Bt.test(n);function Lye(n,e,t,r,i,s){i?(n.opacity=er(0,t.opacity!==void 0?t.opacity:1,kye(r)),n.opacityExit=er(e.opacity!==void 0?e.opacity:1,0,Oye(r))):s&&(n.opacity=er(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Bye;o++){const a=`border${YV[o]}Radius`;let l=tN(e,a),u=tN(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||eN(l)===eN(u)?(n[a]=Math.max(er(qF(l),qF(u),r),0),(Aa.test(u)||Aa.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=er(e.rotate||0,t.rotate||0,r))}function tN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const kye=QV(0,.5,mV),Oye=QV(.5,.95,Rs);function QV(n,e,t){return r=>r<n?0:r>e?1:t(Qh(n,e,r))}function nN(n,e){n.min=e.min,n.max=e.max}function Js(n,e){nN(n.x,e.x),nN(n.y,e.y)}function rN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function iN(n,e,t,r,i){return n-=e,n=Tx(n,1/t,r),i!==void 0&&(n=Tx(n,1/i,r)),n}function Fye(n,e=0,t=1,r=.5,i,s=n,o=n){if(Aa.test(e)&&(e=parseFloat(e),e=er(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=er(s.min,s.max,r);n===s&&(a-=e),n.min=iN(n.min,e,t,a,i),n.max=iN(n.max,e,t,a,i)}function sN(n,e,[t,r,i],s,o){Fye(n,e[t],e[r],e[i],e.scale,s,o)}const Nye=["x","scaleX","originX"],Uye=["y","scaleY","originY"];function oN(n,e,t,r){sN(n.x,e,Nye,t?t.x:void 0,r?r.x:void 0),sN(n.y,e,Uye,t?t.y:void 0,r?r.y:void 0)}function aN(n){return n.translate===0&&n.scale===1}function ZV(n){return aN(n.x)&&aN(n.y)}function lN(n,e){return n.min===e.min&&n.max===e.max}function zye(n,e){return lN(n.x,e.x)&&lN(n.y,e.y)}function uN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function qV(n,e){return uN(n.x,e.x)&&uN(n.y,e.y)}function cN(n){return Os(n.x)/Os(n.y)}function fN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Gye{constructor(){this.members=[]}add(e){jR(this.members,e),e.scheduleRender()}remove(e){if($R(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hye(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:v}=t;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Nc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Jm=typeof window<"u"&&window.MotionDebug!==void 0,Yb=["","X","Y","Z"],Vye={visibility:"hidden"},dN=1e3;let Wye=0;function Qb(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function eW(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lV(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Fn,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&eW(r)}function tW({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Wye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jm&&(Nc.totalNodes=Nc.resolvedTargetDeltas=Nc.recalculatedProjection=0),this.nodes.forEach(Xye),this.nodes.forEach(Zye),this.nodes.forEach(qye),this.nodes.forEach(Jye),Jm&&window.MotionDebug.record(Nc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Iye)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new XR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pye(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let f;const d=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Dye(d,250),f_.hasAnimatedSinceResize&&(f_.hasAnimatedSinceResize=!1,this.nodes.forEach(pN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||i1e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=c.getProps(),x=!this.targetLayout||!qV(this.targetLayout,v),w=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...GR(g,"layout"),onPlay:y,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||pN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e1e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hN);return}this.isUpdating||this.nodes.forEach(Yye),this.isUpdating=!1,this.nodes.forEach(Qye),this.nodes.forEach(jye),this.nodes.forEach($ye),this.clearAllSnapshots();const a=ba.now();ii.delta=Il(0,1e3/60,a-ii.timestamp),ii.timestamp=a,ii.isProcessing=!0,Hb.update.process(ii),Hb.preRender.process(ii),Hb.render.process(ii),ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kye),this.sharedNodes.forEach(t1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ZV(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Fc(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),s1e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return gr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(o1e))){const{scroll:c}=this.root;c&&(uh(l.x,c.offset.x),uh(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=gr();if(Js(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Js(l,o),uh(l.x,f.offset.x),uh(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=gr();Js(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ch(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Fc(c.latestValues)&&ch(l,c.latestValues)}return Fc(this.latestValues)&&ch(l,this.latestValues),l}removeTransform(o){const a=gr();Js(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Fc(u.latestValues))continue;sT(u.latestValues)&&u.updateSnapshot();const c=gr(),f=u.measurePageBox();Js(c,f),oN(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Fc(this.latestValues)&&oN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ii.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gr(),this.targetWithTransforms=gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),$V(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gr(),this.relativeTargetOrigin=gr(),bg(this.relativeTargetOrigin,this.target,p.target),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jm&&Nc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sT(this.parent.latestValues)||jV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ii.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Js(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;yye(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=gr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rN(this.prevProjectionDelta.x,this.projectionDelta.x),rN(this.prevProjectionDelta.y,this.projectionDelta.y)),Ag(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!fN(this.projectionDelta.x,this.prevProjectionDelta.x)||!fN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Jm&&Nc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lh(),this.projectionDelta=lh(),this.projectionDeltaWithTransform=lh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=lh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=gr(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,y=this.getStack(),_=!y||y.members.length<=1,x=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(r1e));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const b=A/1e3;mN(f.x,o.x,b),mN(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bg(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n1e(this.relativeTarget,this.relativeTargetOrigin,d,b),w&&zye(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=gr()),Js(w,this.relativeTarget)),g&&(this.animationValues=c,Lye(c,u,this.latestValues,b,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{f_.hasAnimatedSinceResize=!0,this.currentAnimation=Tye(0,dN,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&nW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||gr();const f=Os(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Os(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Js(a,l),ch(a,c),Ag(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gye),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Qb("z",o,u,this.animationValues);for(let c=0;c<Yb.length;c++)Qb(`rotate${Yb[c]}`,o,u,this.animationValues),Qb(`skew${Yb[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vye;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=u_(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=u_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fc(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Hye(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Ax){if(d[g]===void 0)continue;const{correct:y,applyTo:_}=Ax[g],x=u.transform==="none"?d[g]:y(d[g],f);if(_){const w=_.length;for(let A=0;A<w;A++)u[_[A]]=x}else u[g]=x}return this.options.layoutId&&(u.pointerEvents=f===this?u_(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hN),this.root.sharedNodes.clear()}}}function jye(n){n.updateLayout()}function $ye(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Ys(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=Os(d);d.min=r[f].min,d.max=d.min+p}):nW(s,t.layoutBox,r)&&Ys(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=Os(r[f]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=lh();Ag(a,r,t.layoutBox);const l=lh();o?Ag(l,n.applyTransform(i,!0),t.measuredBox):Ag(l,r,t.layoutBox);const u=!ZV(a);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const v=gr();bg(v,t.layoutBox,d.layoutBox);const g=gr();bg(g,r,p.layoutBox),qV(v,g)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Xye(n){Jm&&Nc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Jye(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Kye(n){n.clearSnapshot()}function hN(n){n.clearMeasurements()}function Yye(n){n.isLayoutDirty=!1}function Qye(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function pN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Zye(n){n.resolveTargetDelta()}function qye(n){n.calcProjection()}function e1e(n){n.resetSkewAndRotation()}function t1e(n){n.removeLeadSnapshot()}function mN(n,e,t){n.translate=er(e.translate,0,t),n.scale=er(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function gN(n,e,t,r){n.min=er(e.min,t.min,r),n.max=er(e.max,t.max,r)}function n1e(n,e,t,r){gN(n.x,e.x,t.x,r),gN(n.y,e.y,t.y,r)}function r1e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const i1e={duration:.45,ease:[.4,0,.1,1]},vN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),yN=vN("applewebkit/")&&!vN("chrome/")?Math.round:Rs;function _N(n){n.min=yN(n.min),n.max=yN(n.max)}function s1e(n){_N(n.x),_N(n.y)}function nW(n,e,t){return n==="position"||n==="preserve-aspect"&&!lye(cN(e),cN(t),.2)}function o1e(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const a1e=tW({attachResizeListener:(n,e)=>b0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zb={current:void 0},rW=tW({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zb.current){const n=new a1e({});n.mount(window),n.setOptions({layoutScroll:!0}),Zb.current=n}return Zb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),l1e={pan:{Feature:bye},drag:{Feature:Aye,ProjectionNode:rW,MeasureLayout:KV}};function xN(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Fn.postRender(()=>s(e,pv(e)))}class u1e extends nc{mount(){const{current:e}=this.node;e&&(this.unmount=u0e(e,(t,r)=>(xN(this.node,r,"Start"),i=>xN(this.node,i,"End"))))}unmount(){}}class c1e extends nc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hv(b0(this.node.current,"focus",()=>this.onFocus()),b0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wN(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Fn.postRender(()=>s(e,pv(e)))}class f1e extends nc{mount(){const{current:e}=this.node;e&&(this.unmount=h0e(e,(t,r)=>(wN(this.node,r,"Start"),(i,{success:s})=>wN(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aT=new WeakMap,qb=new WeakMap,d1e=n=>{const e=aT.get(n.target);e&&e(n)},h1e=n=>{n.forEach(d1e)};function p1e({root:n,...e}){const t=n||document;qb.has(t)||qb.set(t,{});const r=qb.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(h1e,{root:n,...e})),r[i]}function m1e(n,e,t){const r=p1e(e);return aT.set(n,t),r.observe(n),()=>{aT.delete(n),r.unobserve(n)}}const g1e={some:0,all:1};class v1e extends nc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:g1e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return m1e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(y1e(e,t))&&this.startObserver()}unmount(){}}function y1e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _1e={inView:{Feature:v1e},tap:{Feature:f1e},focus:{Feature:c1e},hover:{Feature:u1e}},x1e={layout:{ProjectionNode:rW,MeasureLayout:KV}},lT={current:null},iW={current:!1};function w1e(){if(iW.current=!0,!!ER)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>lT.current=n.matches;n.addListener(e),e()}else lT.current=!1}const S1e=[...PV,gi,ju],A1e=n=>S1e.find(TV(n)),SN=new WeakMap;function b1e(n,e,t){for(const r in e){const i=e[r],s=t[r];if(wi(i))n.addValue(r,i);else if(wi(s))n.addValue(r,S0(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,S0(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const AN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class M1e{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ba.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Fn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Gw(t),this.isVariantNode=F9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const v=d[p];l[p]!==void 0&&wi(v)&&v.set(l[p],!1)}}mount(e){this.current=e,SN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),iW.current||w1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SN.delete(this.current),this.projection&&this.projection.unmount(),Wu(this.notifyUpdate),Wu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kf.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zh){const t=Zh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<AN.length;r++){const i=AN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=b1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=S0(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(EV(i)||vV(i))?i=parseFloat(i):!A1e(i)&&ju.test(t)&&(i=AV(e,t)),this.setBaseTarget(e,wi(i)?i.get():i)),wi(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=BR(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!wi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new XR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sW extends M1e{constructor(){super(...arguments),this.KeyframeResolver=RV}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function E1e(n){return window.getComputedStyle(n)}class C1e extends sW{constructor(){super(...arguments),this.type="html",this.renderInstance=$9}readValueFromInstance(e,t){if(Kf.has(t)){const r=ZR(t);return r&&r.default||0}else{const r=E1e(e),i=(V9(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return XV(e,t)}build(e,t,r){OR(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return zR(e,t,r)}}class T1e extends sW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Kf.has(t)){const r=ZR(t);return r&&r.default||0}return t=X9.has(t)?t:RR(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Y9(e,t,r)}build(e,t,r){FR(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){J9(e,t,r,i)}mount(e){this.isSVGTag=UR(e.tagName),super.mount(e)}}const P1e=(n,e)=>DR(n)?new T1e(e):new C1e(e,{allowProjection:n!==I.Fragment}),R1e=n0e({...qve,..._1e,...l1e,...x1e},P1e),I1e=vge(R1e);var Zi=function(){return Zi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Zi.apply(this,arguments)};function Px(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Dn="-ms-",Mg="-moz-",gn="-webkit-",oW="comm",Ww="rule",r3="decl",D1e="@import",aW="@keyframes",B1e="@layer",lW=Math.abs,i3=String.fromCharCode,uT=Object.assign;function L1e(n,e){return jr(n,0)^45?(((e<<2^jr(n,0))<<2^jr(n,1))<<2^jr(n,2))<<2^jr(n,3):0}function uW(n){return n.trim()}function qa(n,e){return(n=e.exec(n))?n[0]:n}function Kt(n,e,t){return n.replace(e,t)}function d_(n,e,t){return n.indexOf(e,t)}function jr(n,e){return n.charCodeAt(e)|0}function ep(n,e,t){return n.slice(e,t)}function da(n){return n.length}function cW(n){return n.length}function Km(n,e){return e.push(n),n}function k1e(n,e){return n.map(e).join("")}function bN(n,e){return n.filter(function(t){return!qa(t,e)})}var jw=1,tp=1,fW=0,yo=0,Mr=0,Pp="";function $w(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:jw,column:tp,length:o,return:"",siblings:a}}function ru(n,e){return uT($w("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Fd(n){for(;n.root;)n=ru(n.root,{children:[n]});Km(n,n.siblings)}function O1e(){return Mr}function F1e(){return Mr=yo>0?jr(Pp,--yo):0,tp--,Mr===10&&(tp=1,jw--),Mr}function zo(){return Mr=yo<fW?jr(Pp,yo++):0,tp++,Mr===10&&(tp=1,jw++),Mr}function wf(){return jr(Pp,yo)}function h_(){return yo}function Xw(n,e){return ep(Pp,n,e)}function cT(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N1e(n){return jw=tp=1,fW=da(Pp=n),yo=0,[]}function U1e(n){return Pp="",n}function eM(n){return uW(Xw(yo-1,fT(n===91?n+2:n===40?n+1:n)))}function z1e(n){for(;(Mr=wf())&&Mr<33;)zo();return cT(n)>2||cT(Mr)>3?"":" "}function G1e(n,e){for(;--e&&zo()&&!(Mr<48||Mr>102||Mr>57&&Mr<65||Mr>70&&Mr<97););return Xw(n,h_()+(e<6&&wf()==32&&zo()==32))}function fT(n){for(;zo();)switch(Mr){case n:return yo;case 34:case 39:n!==34&&n!==39&&fT(Mr);break;case 40:n===41&&fT(n);break;case 92:zo();break}return yo}function H1e(n,e){for(;zo()&&n+Mr!==57;)if(n+Mr===84&&wf()===47)break;return"/*"+Xw(e,yo-1)+"*"+i3(n===47?n:zo())}function V1e(n){for(;!cT(wf());)zo();return Xw(n,yo)}function W1e(n){return U1e(p_("",null,null,null,[""],n=N1e(n),0,[0],n))}function p_(n,e,t,r,i,s,o,a,l){for(var u=0,c=0,f=o,d=0,p=0,v=0,g=1,y=1,_=1,x=0,w="",A=i,b=s,E=r,T=w;y;)switch(v=x,x=zo()){case 40:if(v!=108&&jr(T,f-1)==58){d_(T+=Kt(eM(x),"&","&\f"),"&\f",lW(u?a[u-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:T+=eM(x);break;case 9:case 10:case 13:case 32:T+=z1e(v);break;case 92:T+=G1e(h_()-1,7);continue;case 47:switch(wf()){case 42:case 47:Km(j1e(H1e(zo(),h_()),e,t,l),l);break;default:T+="/"}break;case 123*g:a[u++]=da(T)*_;case 125*g:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+c:_==-1&&(T=Kt(T,/\f/g,"")),p>0&&da(T)-f&&Km(p>32?EN(T+";",r,t,f-1,l):EN(Kt(T," ","")+";",r,t,f-2,l),l);break;case 59:T+=";";default:if(Km(E=MN(T,e,t,u,c,i,a,w,A=[],b=[],f,s),s),x===123)if(c===0)p_(T,e,E,E,A,s,f,a,b);else switch(d===99&&jr(T,3)===110?100:d){case 100:case 108:case 109:case 115:p_(n,E,E,r&&Km(MN(n,E,E,0,0,i,a,w,i,A=[],f,b),b),i,b,f,a,r?A:b);break;default:p_(T,E,E,E,[""],b,0,a,b)}}u=c=p=0,g=_=1,w=T="",f=o;break;case 58:f=1+da(T),p=v;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&F1e()==125)continue}switch(T+=i3(x),x*g){case 38:_=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(da(T)-1)*_,_=1;break;case 64:wf()===45&&(T+=eM(zo())),d=wf(),c=f=da(w=T+=V1e(h_())),x++;break;case 45:v===45&&da(T)==2&&(g=0)}}return s}function MN(n,e,t,r,i,s,o,a,l,u,c,f){for(var d=i-1,p=i===0?s:[""],v=cW(p),g=0,y=0,_=0;g<r;++g)for(var x=0,w=ep(n,d+1,d=lW(y=o[g])),A=n;x<v;++x)(A=uW(y>0?p[x]+" "+w:Kt(w,/&\f/g,p[x])))&&(l[_++]=A);return $w(n,e,t,i===0?Ww:a,l,u,c,f)}function j1e(n,e,t,r){return $w(n,e,t,oW,i3(O1e()),ep(n,2,-2),0,r)}function EN(n,e,t,r,i){return $w(n,e,t,r3,ep(n,0,r),ep(n,r+1,-1),r,i)}function dW(n,e,t){switch(L1e(n,e)){case 5103:return gn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gn+n+n;case 4789:return Mg+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return gn+n+Mg+n+Dn+n+n;case 5936:switch(jr(n,e+11)){case 114:return gn+n+Dn+Kt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return gn+n+Dn+Kt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return gn+n+Dn+Kt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return gn+n+Dn+n+n;case 6165:return gn+n+Dn+"flex-"+n+n;case 5187:return gn+n+Kt(n,/(\w+).+(:[^]+)/,gn+"box-$1$2"+Dn+"flex-$1$2")+n;case 5443:return gn+n+Dn+"flex-item-"+Kt(n,/flex-|-self/g,"")+(qa(n,/flex-|baseline/)?"":Dn+"grid-row-"+Kt(n,/flex-|-self/g,""))+n;case 4675:return gn+n+Dn+"flex-line-pack"+Kt(n,/align-content|flex-|-self/g,"")+n;case 5548:return gn+n+Dn+Kt(n,"shrink","negative")+n;case 5292:return gn+n+Dn+Kt(n,"basis","preferred-size")+n;case 6060:return gn+"box-"+Kt(n,"-grow","")+gn+n+Dn+Kt(n,"grow","positive")+n;case 4554:return gn+Kt(n,/([^-])(transform)/g,"$1"+gn+"$2")+n;case 6187:return Kt(Kt(Kt(n,/(zoom-|grab)/,gn+"$1"),/(image-set)/,gn+"$1"),n,"")+n;case 5495:case 3959:return Kt(n,/(image-set\([^]*)/,gn+"$1$`$1");case 4968:return Kt(Kt(n,/(.+:)(flex-)?(.*)/,gn+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gn+n+n;case 4200:if(!qa(n,/flex-|baseline/))return Dn+"grid-column-align"+ep(n,e)+n;break;case 2592:case 3360:return Dn+Kt(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,qa(r.props,/grid-\w+-end/)})?~d_(n+(t=t[e].value),"span",0)?n:Dn+Kt(n,"-start","")+n+Dn+"grid-row-span:"+(~d_(t,"span",0)?qa(t,/\d+/):+qa(t,/\d+/)-+qa(n,/\d+/))+";":Dn+Kt(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return qa(r.props,/grid-\w+-start/)})?n:Dn+Kt(Kt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Kt(n,/(.+)-inline(.+)/,gn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(da(n)-1-e>6)switch(jr(n,e+1)){case 109:if(jr(n,e+4)!==45)break;case 102:return Kt(n,/(.+:)(.+)-([^]+)/,"$1"+gn+"$2-$3$1"+Mg+(jr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~d_(n,"stretch",0)?dW(Kt(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Kt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Dn+i+":"+s+u+(o?Dn+i+"-span:"+(a?l:+l-+s)+u:"")+n});case 4949:if(jr(n,e+6)===121)return Kt(n,":",":"+gn)+n;break;case 6444:switch(jr(n,jr(n,14)===45?18:11)){case 120:return Kt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+gn+(jr(n,14)===45?"inline-":"")+"box$3$1"+gn+"$2$3$1"+Dn+"$2box$3")+n;case 100:return Kt(n,":",":"+Dn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(n,"scroll-","scroll-snap-")+n}return n}function Rx(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function $1e(n,e,t,r){switch(n.type){case B1e:if(n.children.length)break;case D1e:case r3:return n.return=n.return||n.value;case oW:return"";case aW:return n.return=n.value+"{"+Rx(n.children,r)+"}";case Ww:if(!da(n.value=n.props.join(",")))return""}return da(t=Rx(n.children,r))?n.return=n.value+"{"+t+"}":""}function X1e(n){var e=cW(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function J1e(n){return function(e){e.root||(e=e.return)&&n(e)}}function K1e(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case r3:n.return=dW(n.value,n.length,t);return;case aW:return Rx([ru(n,{value:Kt(n.value,"@","@"+gn)})],r);case Ww:if(n.length)return k1e(t=n.props,function(i){switch(qa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Fd(ru(n,{props:[Kt(i,/:(read-\w+)/,":"+Mg+"$1")]})),Fd(ru(n,{props:[i]})),uT(n,{props:bN(t,r)});break;case"::placeholder":Fd(ru(n,{props:[Kt(i,/:(plac\w+)/,":"+gn+"input-$1")]})),Fd(ru(n,{props:[Kt(i,/:(plac\w+)/,":"+Mg+"$1")]})),Fd(ru(n,{props:[Kt(i,/:(plac\w+)/,Dn+"input-$1")]})),Fd(ru(n,{props:[i]})),uT(n,{props:bN(t,r)});break}return""})}}var Y1e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ys={},np=typeof process<"u"&&ys!==void 0&&(ys.REACT_APP_SC_ATTR||ys.SC_ATTR)||"data-styled",hW="active",pW="data-styled-version",Jw="6.1.14",s3=`/*!sc*/
`,Ix=typeof window<"u"&&"HTMLElement"in window,Q1e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ys!==void 0&&ys.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ys.REACT_APP_SC_DISABLE_SPEEDY!==""?ys.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ys.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ys!==void 0&&ys.SC_DISABLE_SPEEDY!==void 0&&ys.SC_DISABLE_SPEEDY!==""&&ys.SC_DISABLE_SPEEDY!=="false"&&ys.SC_DISABLE_SPEEDY),Kw=Object.freeze([]),rp=Object.freeze({});function Z1e(n,e,t){return t===void 0&&(t=rp),n.theme!==t.theme&&n.theme||e||t.theme}var mW=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),q1e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,e_e=/(^-|-$)/g;function CN(n){return n.replace(q1e,"-").replace(e_e,"")}var t_e=/(a)(d)/gi,I1=52,TN=function(n){return String.fromCharCode(n+(n>25?39:97))};function dT(n){var e,t="";for(e=Math.abs(n);e>I1;e=e/I1|0)t=TN(e%I1)+t;return(TN(e%I1)+t).replace(t_e,"$1-$2")}var tM,gW=5381,fh=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},vW=function(n){return fh(gW,n)};function n_e(n){return dT(vW(n)>>>0)}function r_e(n){return n.displayName||n.name||"Component"}function nM(n){return typeof n=="string"&&!0}var yW=typeof Symbol=="function"&&Symbol.for,_W=yW?Symbol.for("react.memo"):60115,i_e=yW?Symbol.for("react.forward_ref"):60112,s_e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o_e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a_e=((tM={})[i_e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tM[_W]=xW,tM);function PN(n){return("type"in(e=n)&&e.type.$$typeof)===_W?xW:"$$typeof"in n?a_e[n.$$typeof]:s_e;var e}var l_e=Object.defineProperty,u_e=Object.getOwnPropertyNames,RN=Object.getOwnPropertySymbols,c_e=Object.getOwnPropertyDescriptor,f_e=Object.getPrototypeOf,IN=Object.prototype;function wW(n,e,t){if(typeof e!="string"){if(IN){var r=f_e(e);r&&r!==IN&&wW(n,r,t)}var i=u_e(e);RN&&(i=i.concat(RN(e)));for(var s=PN(n),o=PN(e),a=0;a<i.length;++a){var l=i[a];if(!(l in o_e||t&&t[l]||o&&l in o||s&&l in s)){var u=c_e(e,l);try{l_e(n,l,u)}catch{}}}}return n}function ip(n){return typeof n=="function"}function o3(n){return typeof n=="object"&&"styledComponentId"in n}function nf(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function DN(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function M0(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function hT(n,e,t){if(t===void 0&&(t=!1),!t&&!M0(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=hT(n[r],e[r]);else if(M0(e))for(var r in e)n[r]=hT(n[r],e[r]);return n}function a3(n,e){Object.defineProperty(n,"toString",{value:e})}function mv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var d_e=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw mv(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(s3);return t},n}(),m_=new Map,Dx=new Map,g_=1,D1=function(n){if(m_.has(n))return m_.get(n);for(;Dx.has(g_);)g_++;var e=g_++;return m_.set(n,e),Dx.set(e,n),e},h_e=function(n,e){g_=e+1,m_.set(n,e),Dx.set(e,n)},p_e="style[".concat(np,"][").concat(pW,'="').concat(Jw,'"]'),m_e=new RegExp("^".concat(np,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),g_e=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},v_e=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(s3),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(m_e);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(h_e(c,u),g_e(n,c,l[3]),n.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},BN=function(n){for(var e=document.querySelectorAll(p_e),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(np)!==hW&&(v_e(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function y_e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var SW=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(np,"]")));return l[l.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(np,hW),r.setAttribute(pW,Jw);var o=y_e();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},__e=function(){function n(e){this.element=SW(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw mv(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),x_e=function(){function n(e){this.element=SW(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),w_e=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),LN=Ix,S_e={isServer:!Ix,useCSSOMInjection:!Q1e},AW=function(){function n(e,t,r){e===void 0&&(e=rp),t===void 0&&(t={});var i=this;this.options=Zi(Zi({},S_e),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Ix&&LN&&(LN=!1,BN(this)),a3(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(f){var d=function(_){return Dx.get(_)}(f);if(d===void 0)return"continue";var p=s.names.get(d),v=o.getGroup(f);if(p===void 0||!p.size||v.length===0)return"continue";var g="".concat(np,".g").concat(f,'[id="').concat(d,'"]'),y="";p!==void 0&&p.forEach(function(_){_.length>0&&(y+="".concat(_,","))}),l+="".concat(v).concat(g,'{content:"').concat(y,'"}').concat(s3)},c=0;c<a;c++)u(c);return l}(i)})}return n.registerId=function(e){return D1(e)},n.prototype.rehydrate=function(){!this.server&&Ix&&BN(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Zi(Zi({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new w_e(i):r?new __e(i):new x_e(i)}(this.options),new d_e(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(D1(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(D1(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(D1(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),A_e=/&/g,b_e=/^\s*\/\/.*$/gm;function bW(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=bW(t.children,e)),t})}function M_e(n){var e,t,r,i=rp,s=i.options,o=s===void 0?rp:s,a=i.plugins,l=a===void 0?Kw:a,u=function(d,p,v){return v.startsWith(t)&&v.endsWith(t)&&v.replaceAll(t,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===Ww&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(A_e,t).replace(r,u))}),o.prefix&&c.push(K1e),c.push($1e);var f=function(d,p,v,g){p===void 0&&(p=""),v===void 0&&(v=""),g===void 0&&(g="&"),e=g,t=p,r=new RegExp("\\".concat(t,"\\b"),"g");var y=d.replace(b_e,""),_=W1e(v||p?"".concat(v," ").concat(p," { ").concat(y," }"):y);o.namespace&&(_=bW(_,o.namespace));var x=[];return Rx(_,X1e(c.concat(J1e(function(w){return x.push(w)})))),x};return f.hash=l.length?l.reduce(function(d,p){return p.name||mv(15),fh(d,p.name)},gW).toString():"",f}var E_e=new AW,pT=M_e(),MW=ue.createContext({shouldForwardProp:void 0,styleSheet:E_e,stylis:pT});MW.Consumer;ue.createContext(void 0);function kN(){return I.useContext(MW)}var C_e=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=pT);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,a3(this,function(){throw mv(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=pT),this.name+e.hash},n}(),T_e=function(n){return n>="A"&&n<="Z"};function ON(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;T_e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var EW=function(n){return n==null||n===!1||n===""},CW=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!EW(s)&&(Array.isArray(s)&&s.isCss||ip(s)?r.push("".concat(ON(i),":"),s,";"):M0(s)?r.push.apply(r,Px(Px(["".concat(i," {")],CW(s),!1),["}"],!1)):r.push("".concat(ON(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Y1e||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Sf(n,e,t,r){if(EW(n))return[];if(o3(n))return[".".concat(n.styledComponentId)];if(ip(n)){if(!ip(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Sf(i,e,t,r)}var s;return n instanceof C_e?t?(n.inject(t,r),[n.getName(r)]):[n]:M0(n)?CW(n):Array.isArray(n)?Array.prototype.concat.apply(Kw,n.map(function(o){return Sf(o,e,t,r)})):[n.toString()]}function P_e(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(ip(t)&&!o3(t))return!1}return!0}var R_e=vW(Jw),I_e=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&P_e(e),this.componentId=t,this.baseHash=fh(R_e,t),this.baseStyle=r,AW.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=nf(i,this.staticRulesId);else{var s=DN(Sf(this.rules,e,t,r)),o=dT(fh(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=nf(i,o),this.staticRulesId=o}else{for(var l=fh(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var d=DN(Sf(f,e,t,r));l=fh(l,d+c),u+=d}}if(u){var p=dT(l>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,r(u,".".concat(p),void 0,this.componentId)),i=nf(i,p)}}return i},n}(),TW=ue.createContext(void 0);TW.Consumer;var rM={};function D_e(n,e,t){var r=o3(n),i=n,s=!nM(n),o=e.attrs,a=o===void 0?Kw:o,l=e.componentId,u=l===void 0?function(A,b){var E=typeof A!="string"?"sc":CN(A);rM[E]=(rM[E]||0)+1;var T="".concat(E,"-").concat(n_e(Jw+E+rM[E]));return b?"".concat(b,"-").concat(T):T}(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?function(A){return nM(A)?"styled.".concat(A):"Styled(".concat(r_e(A),")")}(n):c,d=e.displayName&&e.componentId?"".concat(CN(e.displayName),"-").concat(e.componentId):e.componentId||u,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;v=function(A,b){return g(A,b)&&y(A,b)}}else v=g}var _=new I_e(t,d,r?i.componentStyle:void 0);function x(A,b){return function(E,T,M){var P=E.attrs,D=E.componentStyle,F=E.defaultProps,O=E.foldedComponentIds,U=E.styledComponentId,N=E.target,$=ue.useContext(TW),X=kN(),q=E.shouldForwardProp||X.shouldForwardProp,z=Z1e(T,$,F)||rp,j=function(te,Y,ce){for(var fe,Re=Zi(Zi({},Y),{className:void 0,theme:ce}),Ae=0;Ae<te.length;Ae+=1){var ye=ip(fe=te[Ae])?fe(Re):fe;for(var le in ye)Re[le]=le==="className"?nf(Re[le],ye[le]):le==="style"?Zi(Zi({},Re[le]),ye[le]):ye[le]}return Y.className&&(Re.className=nf(Re.className,Y.className)),Re}(P,T,z),H=j.as||N,V={};for(var G in j)j[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&j.theme===z||(G==="forwardedAs"?V.as=j.forwardedAs:q&&!q(G,H)||(V[G]=j[G]));var J=function(te,Y){var ce=kN(),fe=te.generateAndInjectStyles(Y,ce.styleSheet,ce.stylis);return fe}(D,j),re=nf(O,U);return J&&(re+=" "+J),j.className&&(re+=" "+j.className),V[nM(H)&&!mW.has(H)?"class":"className"]=re,M&&(V.ref=M),I.createElement(H,V)}(w,A,b)}x.displayName=f;var w=ue.forwardRef(x);return w.attrs=p,w.componentStyle=_,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?nf(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=d,w.target=r?i.target:n,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];for(var M=0,P=E;M<P.length;M++)hT(b,P[M],!0);return b}({},i.defaultProps,A):A}}),a3(w,function(){return".".concat(w.styledComponentId)}),s&&wW(w,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function FN(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var NN=function(n){return Object.assign(n,{isCss:!0})};function B_e(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(ip(n)||M0(n))return NN(Sf(FN(Kw,Px([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Sf(r):NN(Sf(FN(r,e)))}function mT(n,e,t){if(t===void 0&&(t=rp),!e)throw mv(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,B_e.apply(void 0,Px([i],s,!1)))};return r.attrs=function(i){return mT(n,e,Zi(Zi({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return mT(n,e,Zi(Zi({},t),i))},r}var PW=function(n){return mT(D_e,n)},RW=PW;mW.forEach(function(n){RW[n]=PW(n)});RW(I1e.div)`
  // ... existing styles ...
`;function L_e(){}function k_e(){const{progress:n}=Rte();return Ge.jsxs(Mte,{center:!0,children:[n.toFixed(0)," % loaded"]})}const km=I.memo(({children:n,url:e})=>Ge.jsx("group",{onClick:()=>window.open(e,"_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"},children:n})),IW=document.createElement("style");IW.textContent=`
  @keyframes rotatePhone {
    0% {
      transform: rotate(-90deg);
    }
    20% {
      transform: rotate(0deg);
    }
    80% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(-90deg);
    }
  }
`;document.head.appendChild(IW);const O_e=()=>Ge.jsx("div",{style:{fontSize:"48px",marginBottom:"30px",animation:"rotatePhone 2s infinite ease-in-out"},children:"📱"}),F_e=()=>Ge.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,textAlign:"center",margin:0,overflow:"hidden"},children:[Ge.jsx(O_e,{}),Ge.jsx("div",{style:{fontSize:"24px",marginBottom:"20px",padding:"20px"},children:"Proszę dostosować proporcje ekranu"}),Ge.jsx("div",{style:{fontSize:"16px",width:"90%",padding:"20px"},children:"Dla lepszego doświadczenia, zalecamy korzystanie z aplikacji w proporcji szerokości do wysokości minimum 3:2."})]}),N_e={width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",position:"fixed",top:0,left:0};function U_e({externalHover:n=!1}){var c;const{scene:e}=Ir("./models/euro.glb"),[t,r]=I.useState(!1),[i,s]=I.useState(!1),o=I.useRef();I.useEffect(()=>{const f=setTimeout(()=>{r(!0)},4150);return()=>clearTimeout(f)},[]);const{scale:a,position:l,rotation:u}=Vo({scale:t?.5:0,position:[-1.2,i||n?-.4+.2:-.4,2.5],rotation:[0,((c=o.current)==null?void 0:c.rotation.y)||0,i||n?Math.PI*.1:0],config:{tension:170,friction:26}});return Zu((f,d)=>{o.current&&(o.current.rotation.y+=d*.5)}),Ge.jsx(Wo.primitive,{ref:o,visible:t,object:e,scale:a,position:l,rotation:u,onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1)})}function z_e(){const{scene:n,animations:e}=Ir("./models/Fotowolt.glb"),[t,r]=I.useState(!1),i=I.useRef(),s=RP(e,n);console.log(n);const{positionX:o,positionY:a,positionZ:l,rotationY:u,scaleValue:c}=ec("Fotowolt",{positionX:{value:2.96,min:-1,max:4,step:.001},positionY:{value:-.36,min:-1,max:1,step:.001},positionZ:{value:2.62,min:0,max:4,step:.001},rotationY:{value:4.23,min:0,max:Math.PI*2,step:.001},scaleValue:{value:.3,min:0,max:1,step:.001}});I.useEffect(()=>{Object.keys(s.actions).forEach(p=>{s.actions[p].play()})},[s]),I.useEffect(()=>{const d=setTimeout(()=>{r(!0)},4450);return()=>clearTimeout(d)},[]);const{scale:f}=Vo({scale:t?c:0,config:{tension:170,friction:26}});return Ge.jsx(Wo.primitive,{ref:i,visible:t,object:n,scale:f,position:[o,a,l],"rotation-y":u})}const G_e=!1;function H_e(n){const[e,t]=I.useState(!0),[r,i]=I.useState(!1),[s,o]=I.useState([]),[a,l]=I.useState(!1),[u,c]=I.useState(!1),[f,d]=I.useState(!1),[p,v]=I.useState(!1),[g,y]=I.useState(!1),[_,x]=I.useState(!1),[w,A]=I.useState(!1),b=I.useCallback(E=>{E&&o(T=>[...T,E])},[]);return I.useEffect(()=>{(async()=>{try{await Promise.all([Ir.preload("./models/wodorowy_hub.glb"),Ir.preload("./models/wodorowy_tir.glb"),Ir.preload("./models/euro.glb"),Ir.preload("./models/Technologie.glb"),Ir.preload("./models/Auta.glb"),Ir.preload("./models/Hala.glb"),Ir.preload("./models/Fotowolt.glb")]),setTimeout(()=>{i(!0)},1500)}catch(T){console.error("Error loading assets:",T)}finally{setTimeout(()=>{t(!1)},2e3)}})()},[]),I.useEffect(()=>{const E=()=>{const M=window.innerWidth/window.innerHeight<1.5;x(M);const P=window.innerWidth<1024;A(P)};return E(),window.addEventListener("resize",E),window.addEventListener("orientationchange",E),()=>{window.removeEventListener("resize",E),window.removeEventListener("orientationchange",E)}},[]),_?Ge.jsx(F_e,{}):Ge.jsxs("div",{style:N_e,children:[Ge.jsx(DH,{hidden:!1}),!r&&Ge.jsx(L_e,{}),Ge.jsxs(mte,{shadows:!0,gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},camera:{position:[0,.5,6],far:50},style:{background:"#000000",width:"100%",height:"100%",display:"block"},dpr:[1,2],children:[Ge.jsx(yoe,{}),Ge.jsxs(I.Suspense,{fallback:Ge.jsx(k_e,{}),children:[G_e,Ge.jsx(Hoe,{preset:"night",backgroundBlurriness:.5,backgroundIntensity:.7,resolution:256}),Ge.jsxs(Bk,{speed:1.1,floatIntensity:1.1,floatingRange:[-.3,.3],rotationIntensity:.1,children:[Ge.jsx(I.Suspense,{fallback:null,children:Ge.jsx(Wpe,{count:1e3})}),Ge.jsx(nie,{global:!0,position:[0,-.5,0],rotation:[0,0,0],polar:[-.2,.2],azimuth:[-.2,.2],config:{mass:2,tension:400},snap:{mass:3,tension:200},"touch-action":"auto",children:Ge.jsxs(Bk,{speed:1.1,floatIntensity:1.1,floatingRange:[-.3,.3],rotationIntensity:.1,children:[Ge.jsx(I.Suspense,{fallback:null,children:Ge.jsx(oge,{})}),Ge.jsx(km,{url:"https://teamid.f.pl/finansowanie",children:Ge.jsx(U_e,{externalHover:f})}),Ge.jsx(Npe,{onClick:()=>window.open("https://hubid.org/","_blank","noopener,noreferrer"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="auto"}}),Ge.jsx(z_e,{}),Ge.jsx(km,{url:"https://teamid.f.pl/technologie",children:Ge.jsx(Upe,{externalHover:f})}),Ge.jsx(km,{url:"https://teamid.f.pl/technologie",children:Ge.jsx(zpe,{externalHover:p})}),Ge.jsx(km,{url:"https://hubid.org/",children:Ge.jsx(Gpe,{externalHover:g})}),Ge.jsx(km,{url:"https://teamid.f.pl/technologie",children:Ge.jsx(Hpe,{externalHover:u})}),Ge.jsx(Vpe,{castShadow:!0,position:[0,a?.5:0,0],externalHover:p}),Ge.jsx(jpe,{}),Ge.jsx(_1,{onClick:()=>window.open("https://teamid.f.pl/","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#61bc48",scale:8,finalX:-2,finalY:-.5,finalZ:1.5,finalRotationZ:Math.PI*-.5,position:[0,0,0],rotation:[0,-Math.PI/2,0],label:"Programy",link:"https://teamid.f.pl/",onAnimationFinish:b,textColor:"#ffffff",textFontSize:.16,textRotation:[0,0,0],textOffset:[-.7,-.2,1.5],onPointerEnter:()=>{l(!0),c(!0)},onPointerLeave:()=>{l(!1),c(!1)}}),Ge.jsx(_1,{onClick:()=>window.open("https://teamid.f.pl/finansowanie","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#f8b643",scale:8,finalX:-1.5,finalY:-.5,finalZ:1.5,finalRotationZ:Math.PI/2,position:[0,0,-.2],rotation:[0,Math.PI/2,0],label:"Finansowanie",link:"https://teamid.f.pl/finansowanie",onAnimationFinish:b,textColor:"#ffffff",textFontSize:.16,textRotation:[0,0,0],textOffset:[.7,-.3,1.5],onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1)}),Ge.jsx(_1,{onClick:()=>window.open("https://teamid.f.pl/technologie","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#2792d0",scale:8,finalX:1.5,finalY:-.5,finalZ:3,finalRotationZ:Math.PI*-.5,position:[0,0,-.2],rotation:[Math.PI,-Math.PI/2,0],label:"Technologie",link:"https://teamid.f.pl/technologie",onAnimationFinish:b,textColor:"#ffffff",textFontSize:.16,textRotation:[0,0,0],textOffset:[-.8,-.3,0],onPointerEnter:()=>v(!0),onPointerLeave:()=>v(!1)}),Ge.jsx(_1,{onClick:()=>window.open("https://hubid.org/","_blank","noopener,noreferrer"),reciveShadow:!0,color:"#0f9748",scale:8,finalX:2,finalY:-.5,finalZ:3,finalRotationZ:Math.PI*.5,position:[0,0,0],rotation:[Math.PI,Math.PI/2,0],label:"Green Hub PL",link:"https://hubid.org/",onAnimationFinish:b,textColor:"#ffffff",textFontSize:.16,textRotation:[0,0,0],textOffset:[.5,-.15,0],onPointerEnter:()=>y(!0),onPointerLeave:()=>y(!1)}),s&&s.length>0&&s.map((E,T)=>!E||!E.textOffset?null:Ge.jsx(hoe,{fontSize:E.textFontSize||.16,color:E.textColor||"#ffffff",font:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",position:[E.x+(E.textOffset[0]||0),E.y+(E.textOffset[1]||0),E.z+(E.textOffset[2]||0)],rotation:E.textRotation||[0,0,0],onPointerOver:M=>{jC.to(M.object.scale,{duration:.3,x:1.3,y:1.3,z:1.3}),document.body.style.cursor="pointer",E.label==="Programy"?(l(!0),c(!0)):E.label==="Finansowanie"?d(!0):E.label==="Technologie"?v(!0):E.label==="Green Hub PL"&&y(!0)},onPointerOut:M=>{jC.to(M.object.scale,{duration:.3,x:1,y:1,z:1}),document.body.style.cursor="auto",E.label==="Programy"?(l(!1),c(!1)):E.label==="Finansowanie"?d(!1):E.label==="Technologie"?v(!1):E.label==="Green Hub PL"&&y(!1)},onClick:()=>E.link&&window.open(E.link,"_blank","noopener,noreferrer"),anchorX:"center",anchorY:"middle",children:E.label||""},T))]})})]})]})]})]})}c2(document.getElementById("root")).render(Ge.jsx(H_e,{}));
//# sourceMappingURL=index-LMMdcWRq.js.map
